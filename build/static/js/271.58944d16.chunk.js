"use strict";(self.webpackChunkproperty_manage_system_web=self.webpackChunkproperty_manage_system_web||[]).push([[271,88],{68327:function(e,i,n){n.d(i,{c:function(){return xi}});var a=n(52642),r=n(80830),l=n(54333),s=n(39101),c=n(10098),t=n(22987),o=n(48096),m=n(57413),d=n(37128),u=n(38621),h=n(12025),p=n(52383),b=n(21226),x=n(88222),f=n(47555),v=n(38782),j=n(97038),N=n(563),g=n(41479),C=n(34948),S=n(32820),w=n(26652),P=n(69578),y=n(64539),k=n(61462),F=n(76986),_=n(10687),B=n(17412),I=n(81521),E=n(82546),U=n(57156),L=n(17055),T=n(31143),D=n(14467),z=n(24190),A=n(22655),Z=n(99540),M=n(58819),W=n(90014),R=n(1883),V=n(44631),$=n(19415),G=n(58675),J=n(3513),q=n(84620),H=n(69486),O=n(8301),X=n(95676),Y=n(17410),Q=n(20001),K=n(38533),ee=n(42562),ie=n(79041),ne=n(87857),ae=n(7476),re=n(41048),le=n(67577),se=n(18030),ce=n(31017),te=n(35425),oe=n(7600),me=n(82759),de=n(31493),ue=n(5885),he=n(4031),pe=n(38544),be=n(3078),xe=n(7022),fe=n(23359),ve=n(9594),je=n(48425),Ne=n(43594),ge=n(77437),Ce=n(49096),Se=n(73907),we=n(53666),Pe=n(79794),ye=n(77418),ke=n(56931),Fe=n(14799),_e=n(22414),Be=n(66619),Ie=n(19467),Ee=n(39228),Ue=n(17954),Le=n(63232),Te=n(48293),De=n(71976),ze=n(39277),Ae=n(28865),Ze=n(73130),Me=n(63578),We=n(17769),Re=n(511),Ve=n(85602),$e=n(79663),Ge=n(79143),Je=n(91250),qe=n(72282),He=n(99974),Oe=n(65487),Xe=n(39214),Ye=n(52312),Qe=n(74419),Ke=n(66460),ei=n(72337),ii=n(34708),ni=n(19261),ai=n(44430),ri=n(12419),li=n(75640),si=n(19033),ci=n(22800),ti=n(99946),oi=n(62412),mi=n(13721),di=n(71863),ui=n(43525),hi=n(15463),pi=n(66707),bi=n(87898),xi=Object.assign({},{cilAlignCenter:U.i,cilAlignLeft:L.n,cilAlignRight:T.e,cilApplicationsSettings:D.D,cilArrowRight:z.n,cilArrowTop:A.T,cilAsterisk:Z.B,cilBan:M.E,cilBasket:W.o,cilBell:R.$,cilBold:V.t,cilBookmark:$.$,cilCalculator:G.o,cilCalendar:J.J,cilCloudDownload:q.j,cilChartPie:H.M,cilCheck:O.J,cilChevronBottom:X.b,cilChevronLeft:Y.S,cilChevronRight:Q.z,cilChevronTop:K.V,cilCircle:ee.l,cilCheckCircle:ie._,cilCode:ne.I,cilCommentSquare:ae.S,cilCreditCard:re.W,cilCursor:le.t,cilCursorMove:se.q,cilDrop:ce.M,cilDollar:te.T,cilEnvelopeClosed:oe.W,cilEnvelopeLetter:me.v,cilEnvelopeOpen:de.m,cilEuro:ue.z,cilGlobeAlt:he.e,cilGrid:pe.x,cilFile:be.D,cilFullscreen:xe.L,cilFullscreenExit:fe.i,cilGraph:ve.o,cilHome:je.I,cilInbox:Ne.s,cilIndentDecrease:ge.t,cilIndentIncrease:Ce.q,cilInputPower:Se.g,cilItalic:we.U,cilJustifyCenter:Pe.h,cilJustifyLeft:ye.m,cilLaptop:ke.U,cilLayers:Fe.H,cilLightbulb:_e.O,cilList:Be.A,cilListNumbered:Ie.N,cilListRich:Ee.f,cilLocationPin:Ue.i,cilLockLocked:Le.U,cilMagnifyingGlass:Te.M,cilMap:De.T,cilMoon:ze.S,cilNotes:Ae.E,cilOptions:Ze.t,cilPaperclip:Me.y,cilPaperPlane:We.p,cilPencil:Re.l,cilPeople:Ve.g,cilPhone:$e.d,cilPrint:Ge.P,cilPuzzle:Je.Q,cilSave:qe.F,cilScrubber:He.Z,cilSettings:Oe.M,cilShare:Xe.a,cilShareAll:Ye.t,cilShareBoxed:Qe.n,cilShieldAlt:Ke.t,cilSpeech:ei.B,cilSpeedometer:ii.h,cilSpreadsheet:ni.o,cilStar:ai.m,cilSun:ri.O,cilTags:li.f,cilTask:si.W,cilTrash:ci.N,cilUnderline:ti.L,cilUser:oi.E,cilUserFemale:mi.Q,cilUserFollow:di.H,cilUserUnfollow:ui.z,cilX:hi.x,cilXCircle:pi.J,cilWarning:bi.D},{cifUs:k.E,cifBr:F.N,cifIn:_.J,cifFr:B.A,cifEs:I.z,cifPl:E.I},{cibSkype:a.F,cibFacebook:r.t,cibTwitter:l._,cibLinkedin:s.n,cibFlickr:c.r,cibTumblr:t.i,cibXing:o.n,cibGithub:m.G,cibStackoverflow:d.F,cibYoutube:u.N,cibDribbble:h.x,cibInstagram:p.d,cibPinterest:b.p,cibVk:x.o,cibYahoo:f.s,cibBehance:v.n,cibReddit:j.m,cibVimeo:N.R,cibCcMastercard:g.y,cibCcVisa:C.W,cibStripe:S.$,cibPaypal:w.G,cibGooglePay:P.S,cibCcAmex:y.I})},19246:function(e,i,n){n.d(i,{Wm:function(){return b},Jb:function(){return v},Ao:function(){return g},BX:function(){return S}});var a=n(72791),r=n(56994),l=n(42937),s=a.lazy((function(){return Promise.all([n.e(387),n.e(189)]).then(n.bind(n,28189))})),c=a.lazy((function(){return Promise.all([n.e(387),n.e(824)]).then(n.bind(n,21824))})),t=a.lazy((function(){return Promise.all([n.e(387),n.e(88)]).then(n.bind(n,99088))})),o=a.lazy((function(){return Promise.all([n.e(387),n.e(818)]).then(n.bind(n,45818))})),m=a.lazy((function(){return Promise.all([n.e(387),n.e(264)]).then(n.bind(n,12264))})),d=a.lazy((function(){return Promise.all([n.e(387),n.e(569),n.e(452)]).then(n.bind(n,9452))})),u=[{path:"/admin/",exact:!0,name:"Home"},{path:"/admin/users",exact:!0,name:"Users",component:s},{path:"/admin/users/new",exact:!0,name:"New User",component:t},{path:"/admin/users/:id",exact:!0,name:"User Details",component:c},{path:"/admin/edit/user/:id",exact:!0,name:"Edit User",component:t},{path:"/admin/file-upload",exact:!0,name:"FileUpload",component:a.lazy((function(){return Promise.all([n.e(569),n.e(342),n.e(243)]).then(n.bind(n,86243))}))},{path:"/admin/properties",exact:!0,name:"Properties",component:o},{path:"/admin/properties/new",exact:!0,name:"New Property",component:d},{path:"/admin/properties/:id",exact:!0,name:"Property Details",component:m},{path:"/admin/edit/property/:id",exact:!0,name:"Edit Property",component:d},{path:"/admin/properties/:id",exact:!0,name:"User Details",component:c}],h=n(80184),p=(l.Z,function(){return(0,h.jsx)(r.pG,{fixed:!1})}),b=a.memo(p),x=n(60364),f=n(15301),v=function(){var e=(0,x.useDispatch)(),i=(0,x.useSelector)((function(e){return e.admin.sidebarShow}));return(0,h.jsxs)(r.PO,{withSubheader:!0,children:[(0,h.jsx)(r.FP,{inHeader:!0,className:"ml-md-3 d-lg-none",onClick:function(){var n=!![!1,"responsive"].includes(i)||"responsive";e((0,f.YB)(n))}}),(0,h.jsx)(r.FP,{inHeader:!0,className:"ml-3 d-md-down-none",onClick:function(){var n=![!0,"responsive"].includes(i)&&"responsive";e((0,f.YB)(n))}}),(0,h.jsx)(r.qy,{className:"mx-auto d-lg-none",to:"/"}),(0,h.jsx)(r.g3,{className:"d-md-down-none mr-auto"}),(0,h.jsx)(r.g3,{className:"px-3",children:(0,h.jsx)(g,{})}),(0,h.jsx)(r.Mj,{className:"px-3 justify-content-between",children:(0,h.jsx)(r.s_,{className:"border-0 c-subheader-nav m-0 px-0 px-md-3",routes:u})})]})},j=n(16516),N=n(91523),g=function(){return(0,h.jsxs)(r.w5,{inNav:!0,className:"c-header-nav-items mx-2",direction:"down",children:[(0,h.jsx)(r.SQ,{className:"c-header-nav-link",caret:!1,children:(0,h.jsx)("div",{className:"c-avatar",children:(0,h.jsx)(r.sE,{src:"/assets/img/default-user.png",className:"c-avatar-img",style:{backgroundColor:"black"}})})}),(0,h.jsx)(r.$H,{className:"pt-0",placement:"bottom-end",children:(0,h.jsxs)(r.$f,{tag:N.rU,to:"/logout",children:[(0,h.jsx)(j.ZP,{name:"cil-lock-locked",className:"mfe-2"}),"Logout"]})})]})},C=function(){var e=(0,x.useDispatch)(),i=(0,x.useSelector)((function(e){return e.admin.sidebarShow}));return(0,h.jsxs)(r.z3,{show:i,onShowChange:function(i){return e((0,f.YB)(i))},children:[(0,h.jsxs)(r.Dl,{className:"d-md-down-none",to:"/",children:[(0,h.jsx)(r.sE,{className:"c-sidebar-brand-full",src:"/assets/img/logo-sm.png",height:35}),(0,h.jsx)(r.sE,{className:"c-sidebar-brand-minimized",src:"/assets/img/icon-white-small.png",height:35})]}),(0,h.jsx)(r.Xk,{children:(0,h.jsx)(r.gP,{items:[{_tag:"CSidebarNavTitle",_children:["Data"]},{_tag:"CSidebarNavItem",name:"Users",to:"/admin/users",icon:"cil-user"},{_tag:"CSidebarNavItem",name:"Properties",to:"/admin/properties",icon:"cil-home"},{_tag:"CSidebarNavTitle",_children:["Campaigns"]},{_tag:"CSidebarNavItem",name:"Email Campaigns",to:"/admin/email-campaigns",icon:"cil-home"},{_tag:"CSidebarNavItem",name:"Templates",to:"/admin/templates",icon:"cil-home"},{_tag:"CSidebarNavTitle",_children:["Marketing"]},{_tag:"CSidebarNavItem",name:"Coupons",to:"/admin/coupons",icon:"cil-user"},{_tag:"CSidebarNavItem",name:"Flyer",to:"/admin/flyers",icon:"cil-user"},{_tag:"CSidebarNavItem",name:"Promting Events",to:"/admin/events",icon:"cil-user"}],components:{CSidebarNavDivider:r.IE,CSidebarNavDropdown:r.Uu,CSidebarNavItem:r.g$,CSidebarNavTitle:r.Ig}})}),(0,h.jsx)(r.p_,{className:"c-d-md-down-none"})]})},S=a.memo(C)},99088:function(e,i,n){n.r(i);var a=n(29439),r=n(1413),l=n(56994),s=n(70456),c=n(72791),t=n(60364),o=n(64880),m=n(64064),d=n(15301),u=n(79318),h=n(14934),p=(n(19246),n(83309),n(68327),n(80184)),b=m.Ry().shape({mobileNumber:m.Rx().required("Mobile number is required"),firstName:m.Z_(),lastName:m.Z_(),password:m.Z_().min(6,"Password is  too Short!").max(16,"Password is too Long!"),role:m.Z_().required("Role is required")});i.default=function(e){var i=e.match,n=(0,t.useDispatch)(),m=(0,o.k6)(),x=(0,t.useSelector)((function(e){return e.admin.roles})),f=(0,t.useSelector)((function(e){return e.auth.me})),v=(0,s.TA)({initialValues:{id:i.params.id,mobileNumber:"",firstName:"",lastName:"",email:"",password:"",username:"",role:"",emailVerified:!0,mobileVerified:!0,createAt:"",blocked:!1,confirmed:!0,location:{}},validationSchema:b,onSubmit:function(e,a){var l=a.setSubmitting;if(l(!0),"PropertyManager"===f.role.name){var s=(0,r.Z)((0,r.Z)({},e),{},{tenant:f.tenant});n((0,d.h4)(s)).then((function(){i.params.id?m.push("/admin/users/".concat(i.params.id)):m.push("/admin/users")})).catch((function(){return l(!1)}))}else{var c=(0,r.Z)((0,r.Z)({},e),{},{tenant:f.tenant});n((0,d.JR)(c)).then((function(){i.params.id?m.push("/admin/users/".concat(i.params.id)):m.push("/admin/users")})).catch((function(){return l(!1)}))}}}),j=v.handleChange,N=v.handleBlur,g=v.handleSubmit,C=v.errors,S=v.touched,w=v.values,P=v.isValid,y=v.isSubmitting,k=v.resetForm,F=v.setValues,_=v.setFieldValue,B=v.setFieldTouched,I=(0,c.useState)(!0),E=(0,a.Z)(I,2);E[0],E[1];return(0,c.useEffect)((function(){i.params.id&&n((0,d.BT)(i.params.id)).then((function(e){var i=e.value;delete i.user_alert,F((0,r.Z)((0,r.Z)({},i),{},{role:i.role.id})),console.log("property ="+JSON.stringify(i.property))}))}),[n,f,i.params.id,F]),(0,c.useEffect)((function(){n((0,d.vd)())}),[n]),(0,p.jsxs)("main",{children:[(0,p.jsx)(h.Z,{}),(0,p.jsx)("div",{className:"content",children:(0,p.jsx)(l.rb,{children:(0,p.jsx)(l.b7,{md:12,children:(0,p.jsx)(l.lx,{onSubmit:g,children:(0,p.jsxs)(l.xH,{children:[(0,p.jsxs)(l.bn,{children:["User id: ",i.params.id]}),(0,p.jsxs)(l.sl,{children:[(0,p.jsx)(l.b7,{xs:"12",children:(0,p.jsxs)(l.We,{children:[(0,p.jsx)(l.cc,{htmlFor:"firstName",children:"First Name"}),(0,p.jsx)(l.C$,{id:"firstName",name:"firstName",onChange:j,onBlur:N,value:w.firstName,invalid:S.firstName&&C.firstName}),(0,p.jsx)(l.ev,{children:C.firstName})]})}),(0,p.jsx)(l.b7,{xs:"12",children:(0,p.jsxs)(l.We,{children:[(0,p.jsx)(l.cc,{htmlFor:"lastName",children:"Last Name"}),(0,p.jsx)(l.C$,{id:"lastName",name:"lastName",onChange:j,onBlur:N,value:w.lastName,invalid:S.lastName&&C.lastName}),(0,p.jsx)(l.ev,{children:C.lastName})]})}),(0,p.jsx)(l.b7,{xs:"12",children:(0,p.jsxs)(l.We,{children:[(0,p.jsx)(l.cc,{htmlFor:"username",children:"User Name"}),(0,p.jsx)(l.C$,{id:"username",name:"username",onChange:j,onBlur:N,value:w.username,invalid:S.username&&C.username}),(0,p.jsx)(l.ev,{children:C.username})]})}),(0,p.jsx)(l.b7,{xs:"12",children:(0,p.jsxs)(l.We,{children:[(0,p.jsx)(l.cc,{htmlFor:"mobileNumber",children:"Mobile Number"}),(0,p.jsx)(u.Z,{setFieldValue:_,setFieldTouched:B,placeholder:"Mobile Number",name:"mobileNumber",value:w.mobileNumber,invalid:S.mobileNumber&&C.mobileNumber}),(0,p.jsx)(l.ev,{children:C.mobileNumber})]})}),(0,p.jsx)(l.b7,{xs:"12",children:(0,p.jsxs)(l.We,{children:[(0,p.jsx)(l.cc,{htmlFor:"email",children:"Email"}),(0,p.jsx)(l.C$,{id:"email",name:"email",onChange:j,onBlur:N,value:w.email,invalid:S.email&&C.email}),(0,p.jsx)(l.ev,{children:C.email})]})}),(0,p.jsx)(l.b7,{xs:"12",children:(0,p.jsxs)(l.We,{children:[(0,p.jsx)(l.cc,{htmlFor:"role",children:"Role"}),(0,p.jsxs)(l.TD,{custom:!0,id:"role",name:"role",onChange:j,onBlur:N,value:w.role,invalid:S.role&&C.role,children:[(0,p.jsx)("option",{value:"",children:"Please select"}),x.map((function(e){return(0,p.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),(0,p.jsx)(l.ev,{children:C.role})]})}),(0,p.jsx)(l.b7,{xs:"12",children:(0,p.jsxs)(l.We,{children:[(0,p.jsx)(l.cc,{htmlFor:"password",children:"Password"}),(0,p.jsx)(l.C$,{id:"password",name:"password",onChange:j,onBlur:N,value:w.password,invalid:S.password&&C.password}),(0,p.jsx)(l.ev,{children:C.password})]})})]}),(0,p.jsxs)(l.Bt,{className:"text-right",children:[(0,p.jsx)(l.u5,{disabled:!P||y,type:"submit",size:"sm",color:"primary",children:y?(0,p.jsx)(l.LQ,{size:"sm"}):"Submit"})," ",(0,p.jsx)(l.u5,{type:"reset",size:"sm",color:"danger",onClick:function(){return k()},children:"Reset"})]})]})})})})})]})}},83309:function(){}}]);
//# sourceMappingURL=271.58944d16.chunk.js.map