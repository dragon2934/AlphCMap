/*! For license information please see 386.a34a6db4.chunk.js.LICENSE.txt */
(self.webpackChunkproperty_manage_system_web=self.webpackChunkproperty_manage_system_web||[]).push([[386],{76327:function(e,t,r){"use strict";r.r(t),r.d(t,{blue:function(){return P},cyan:function(){return S},geekblue:function(){return k},generate:function(){return p},gold:function(){return g},green:function(){return w},grey:function(){return A},lime:function(){return x},magenta:function(){return C},orange:function(){return _},presetDarkPalettes:function(){return v},presetPalettes:function(){return d},presetPrimaryColors:function(){return h},purple:function(){return E},red:function(){return m},volcano:function(){return y},yellow:function(){return b}});var n=r(73669),i=r(47763),a=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function o(e){var t=e.r,r=e.g,i=e.b,a=(0,n.py)(t,r,i);return{h:360*a.h,s:a.s,v:a.v}}function s(e){var t=e.r,r=e.g,i=e.b;return"#".concat((0,n.vq)(t,r,i,!1))}function l(e,t,r){var n=r/100;return{r:(t.r-e.r)*n+e.r,g:(t.g-e.g)*n+e.g,b:(t.b-e.b)*n+e.b}}function u(e,t,r){var n;return(n=Math.round(e.h)>=60&&Math.round(e.h)<=240?r?Math.round(e.h)-2*t:Math.round(e.h)+2*t:r?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?n+=360:n>=360&&(n-=360),n}function c(e,t,r){return 0===e.h&&0===e.s?e.s:((n=r?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(n=1),r&&5===t&&n>.1&&(n=.1),n<.06&&(n=.06),Number(n.toFixed(2)));var n}function f(e,t,r){var n;return(n=r?e.v+.05*t:e.v-.15*t)>1&&(n=1),Number(n.toFixed(2))}function p(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[],n=(0,i.uA)(e),p=5;p>0;p-=1){var h=o(n),d=s((0,i.uA)({h:u(h,p,!0),s:c(h,p,!0),v:f(h,p,!0)}));r.push(d)}r.push(s(n));for(var v=1;v<=4;v+=1){var m=o(n),y=s((0,i.uA)({h:u(m,v),s:c(m,v),v:f(m,v)}));r.push(y)}return"dark"===t.theme?a.map((function(e){var n=e.index,a=e.opacity;return s(l((0,i.uA)(t.backgroundColor||"#141414"),(0,i.uA)(r[n]),100*a))})):r}var h={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},d={},v={};Object.keys(h).forEach((function(e){d[e]=p(h[e]),d[e].primary=d[e][5],v[e]=p(h[e],{theme:"dark",backgroundColor:"#141414"}),v[e].primary=v[e][5]}));var m=d.red,y=d.volcano,g=d.gold,_=d.orange,b=d.yellow,x=d.lime,w=d.green,S=d.cyan,P=d.blue,k=d.geekblue,E=d.purple,C=d.magenta,A=d.grey},18605:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"}},38765:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"}},82288:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"}},51609:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"}},95702:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"}},52003:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"}},89097:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"}},71815:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"}},47902:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"}},94156:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"}},46152:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(n=r(28525))&&n.__esModule?n:{default:n};t.default=i,e.exports=i},31827:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(n=r(46955))&&n.__esModule?n:{default:n};t.default=i,e.exports=i},79175:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(n=r(51100))&&n.__esModule?n:{default:n};t.default=i,e.exports=i},70824:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(n=r(91096))&&n.__esModule?n:{default:n};t.default=i,e.exports=i},59242:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(n=r(3369))&&n.__esModule?n:{default:n};t.default=i,e.exports=i},49901:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(n=r(77751))&&n.__esModule?n:{default:n};t.default=i,e.exports=i},91412:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(n=r(17070))&&n.__esModule?n:{default:n};t.default=i,e.exports=i},60359:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(n=r(71719))&&n.__esModule?n:{default:n};t.default=i,e.exports=i},54340:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(n=r(74671))&&n.__esModule?n:{default:n};t.default=i,e.exports=i},78600:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(n=r(26618))&&n.__esModule?n:{default:n};t.default=i,e.exports=i},32225:function(e,t,r){"use strict";var n=r(64836),i=r(75263);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(42122)),o=n(r(27424)),s=n(r(38416)),l=n(r(70215)),u=i(r(72791)),c=n(r(81694)),f=n(r(24451)),p=n(r(80344)),h=r(63106),d=r(71673),v=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];(0,h.setTwoToneColor)("#1890ff");var m=u.forwardRef((function(e,t){var r,n=e.className,i=e.icon,h=e.spin,m=e.rotate,y=e.tabIndex,g=e.onClick,_=e.twoToneColor,b=(0,l.default)(e,v),x=u.useContext(f.default).prefixCls,w=void 0===x?"anticon":x,S=(0,c.default)(w,(r={},(0,s.default)(r,"".concat(w,"-").concat(i.name),!!i.name),(0,s.default)(r,"".concat(w,"-spin"),!!h||"loading"===i.name),r),n),P=y;void 0===P&&g&&(P=-1);var k=m?{msTransform:"rotate(".concat(m,"deg)"),transform:"rotate(".concat(m,"deg)")}:void 0,E=(0,d.normalizeTwoToneColors)(_),C=(0,o.default)(E,2),A=C[0],T=C[1];return u.createElement("span",(0,a.default)((0,a.default)({role:"img","aria-label":i.name},b),{},{ref:t,tabIndex:P,onClick:g,className:S}),u.createElement(p.default,{icon:i,primaryColor:A,secondaryColor:T,style:k}))}));m.displayName="AntdIcon",m.getTwoToneColor=h.getTwoToneColor,m.setTwoToneColor=h.setTwoToneColor;var y=m;t.default=y},24451:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,r(72791).createContext)({});t.default=n},80344:function(e,t,r){"use strict";var n=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(70215)),a=n(r(42122)),o=r(71673),s=["icon","className","onClick","style","primaryColor","secondaryColor"],l={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var u=function(e){var t=e.icon,r=e.className,n=e.onClick,u=e.style,c=e.primaryColor,f=e.secondaryColor,p=(0,i.default)(e,s),h=l;if(c&&(h={primaryColor:c,secondaryColor:f||(0,o.getSecondaryColor)(c)}),(0,o.useInsertStyles)(),(0,o.warning)((0,o.isIconDefinition)(t),"icon should be icon definiton, but got ".concat(t)),!(0,o.isIconDefinition)(t))return null;var d=t;return d&&"function"===typeof d.icon&&(d=(0,a.default)((0,a.default)({},d),{},{icon:d.icon(h.primaryColor,h.secondaryColor)})),(0,o.generate)(d.icon,"svg-".concat(d.name),(0,a.default)({className:r,onClick:n,style:u,"data-icon":d.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},p))};u.displayName="IconReact",u.getTwoToneColors=function(){return(0,a.default)({},l)},u.setTwoToneColors=function(e){var t=e.primaryColor,r=e.secondaryColor;l.primaryColor=t,l.secondaryColor=r||(0,o.getSecondaryColor)(t),l.calculated=!!r};var c=u;t.default=c},63106:function(e,t,r){"use strict";var n=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.setTwoToneColor=function(e){var t=(0,o.normalizeTwoToneColors)(e),r=(0,i.default)(t,2),n=r[0],s=r[1];return a.default.setTwoToneColors({primaryColor:n,secondaryColor:s})},t.getTwoToneColor=function(){var e=a.default.getTwoToneColors();if(!e.calculated)return e.primaryColor;return[e.primaryColor,e.secondaryColor]};var i=n(r(27424)),a=n(r(80344)),o=r(71673)},28525:function(e,t,r){"use strict";var n=r(75263),i=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(r(42122)),o=n(r(72791)),s=i(r(18605)),l=i(r(32225)),u=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};u.displayName="CheckCircleFilled";var c=o.forwardRef(u);t.default=c},46955:function(e,t,r){"use strict";var n=r(75263),i=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(r(42122)),o=n(r(72791)),s=i(r(38765)),l=i(r(32225)),u=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};u.displayName="CheckCircleOutlined";var c=o.forwardRef(u);t.default=c},51100:function(e,t,r){"use strict";var n=r(75263),i=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(r(42122)),o=n(r(72791)),s=i(r(82288)),l=i(r(32225)),u=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};u.displayName="CloseCircleFilled";var c=o.forwardRef(u);t.default=c},91096:function(e,t,r){"use strict";var n=r(75263),i=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(r(42122)),o=n(r(72791)),s=i(r(51609)),l=i(r(32225)),u=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};u.displayName="CloseCircleOutlined";var c=o.forwardRef(u);t.default=c},3369:function(e,t,r){"use strict";var n=r(75263),i=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(r(42122)),o=n(r(72791)),s=i(r(95702)),l=i(r(32225)),u=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};u.displayName="CloseOutlined";var c=o.forwardRef(u);t.default=c},77751:function(e,t,r){"use strict";var n=r(75263),i=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(r(42122)),o=n(r(72791)),s=i(r(52003)),l=i(r(32225)),u=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};u.displayName="ExclamationCircleFilled";var c=o.forwardRef(u);t.default=c},17070:function(e,t,r){"use strict";var n=r(75263),i=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(r(42122)),o=n(r(72791)),s=i(r(89097)),l=i(r(32225)),u=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};u.displayName="ExclamationCircleOutlined";var c=o.forwardRef(u);t.default=c},71719:function(e,t,r){"use strict";var n=r(75263),i=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(r(42122)),o=n(r(72791)),s=i(r(71815)),l=i(r(32225)),u=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};u.displayName="InfoCircleFilled";var c=o.forwardRef(u);t.default=c},74671:function(e,t,r){"use strict";var n=r(75263),i=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(r(42122)),o=n(r(72791)),s=i(r(47902)),l=i(r(32225)),u=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};u.displayName="InfoCircleOutlined";var c=o.forwardRef(u);t.default=c},26618:function(e,t,r){"use strict";var n=r(75263),i=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(r(42122)),o=n(r(72791)),s=i(r(94156)),l=i(r(32225)),u=function(e,t){return o.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:s.default}))};u.displayName="LoadingOutlined";var c=o.forwardRef(u);t.default=c},71673:function(e,t,r){"use strict";var n=r(75263),i=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.warning=function(e,t){(0,u.default)(e,"[@ant-design/icons] ".concat(t))},t.isIconDefinition=function(e){return"object"===(0,o.default)(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===(0,o.default)(e.icon)||"function"===typeof e.icon)},t.normalizeAttrs=p,t.generate=function e(t,r,n){if(!n)return l.default.createElement(t.tag,(0,a.default)({key:r},p(t.attrs)),(t.children||[]).map((function(n,i){return e(n,"".concat(r,"-").concat(t.tag,"-").concat(i))})));return l.default.createElement(t.tag,(0,a.default)((0,a.default)({key:r},p(t.attrs)),n),(t.children||[]).map((function(n,i){return e(n,"".concat(r,"-").concat(t.tag,"-").concat(i))})))},t.getSecondaryColor=function(e){return(0,s.generate)(e)[0]},t.normalizeTwoToneColors=function(e){if(!e)return[];return Array.isArray(e)?e:[e]},t.useInsertStyles=t.iconStyles=t.svgBaseProps=void 0;var a=i(r(42122)),o=i(r(18698)),s=r(76327),l=n(r(72791)),u=i(r(37973)),c=r(90343),f=i(r(24451));function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,r){var n=e[r];if("class"===r)t.className=n,delete t.class;else t[r]=n;return t}),{})}t.svgBaseProps={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"};var h="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n";t.iconStyles=h;t.useInsertStyles=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=(0,l.useContext)(f.default),r=t.csp;(0,l.useEffect)((function(){(0,c.updateCSS)(e,"@ant-design-icons",{prepend:!0,csp:r})}),[])}},16516:function(e,t,r){"use strict";r.d(t,{ZP:function(){return c}});var n=r(72791),i=r(81694),a=r.n(i);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}var s={},l=function(e,t){!s[t]&&process,0},u=function(e){var t=e.className,r=e.name,i=e.content,s=e.customClasses,u=e.size,c=e.src,f=e.title,p=e.use,h=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["className","name","content","customClasses","size","src","title","use"]),d=(0,n.useState)(0),v=d[0],m=d[1];(0,n.useMemo)((function(){return m(v+1)}),[r,JSON.stringify[i]]);var y=(0,n.useMemo)((function(){return r&&r.includes("-")?r.replace(/([-_][a-z0-9])/gi,(function(e){return e.toUpperCase()})).replace(/-/gi,""):r}),[v]),g=f?"<title>"+f+"</title>":"",_=(0,n.useMemo)((function(){return i||(r&&n.icons?n.icons[y]?n.icons[y]:l(0,y):void 0)}),[v]),b=(0,n.useMemo)((function(){return Array.isArray(_)?_[1]||_[0]:_}),[v]),x=Array.isArray(_)&&_.length>1?_[0]:"64 64",w=h.viewBox||"0 0 "+x,S=function(){var e=!u&&(h.width||h.height);return"custom"===u||e?"custom-size":u}(),P=a()("c-icon",S&&"c-icon-"+S,t),k=s||P;return n.createElement(n.Fragment,null,!c&&!p&&n.createElement("svg",o({},h,{xmlns:"http://www.w3.org/2000/svg",viewBox:w,className:k,role:"img",dangerouslySetInnerHTML:{__html:g+b}})),c&&!p&&n.createElement("img",o({},h,{className:t,src:c,role:"img"})),!c&&p&&n.createElement("svg",o({},h,{xmlns:"http://www.w3.org/2000/svg",className:k,role:"img"}),n.createElement("use",{href:p})))};u.propTypes={};var c=u},22655:function(e,t,r){"use strict";r.d(t,{T:function(){return n}});var n=["512 512","<polygon fill='var(--ci-primary-color, currentColor)' points='390.624 150.625 256 16 121.376 150.625 144.004 173.252 240.001 77.254 240.001 495.236 272.001 495.236 272.001 77.257 367.996 173.252 390.624 150.625' class='ci-primary'/>"]},58819:function(e,t,r){"use strict";r.d(t,{E:function(){return n}});var n=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M425.706,86.294A240,240,0,0,0,86.294,425.705,240,240,0,0,0,425.706,86.294ZM256,48A207.1,207.1,0,0,1,391.528,98.345L98.345,391.528A207.1,207.1,0,0,1,48,256C48,141.309,141.309,48,256,48Zm0,416a207.084,207.084,0,0,1-134.986-49.887l293.1-293.1A207.084,207.084,0,0,1,464,256C464,370.691,370.691,464,256,464Z' class='ci-primary'/>"]},56994:function(e,t,r){"use strict";r.d(t,{C_:function(){return z},fj:function(){return W},Sd:function(){return J},s_:function(){return K},u5:function(){return Z},xH:function(){return ne},sl:function(){return oe},Bt:function(){return pe},bn:function(){return ue},b7:function(){return gr},KB:function(){return jr},gP:function(){return Ie},x:function(){return Fn},w5:function(){return De},$f:function(){return Le},$H:function(){return Qt},SQ:function(){return tr},pG:function(){return Zn},lx:function(){return fr},We:function(){return wr},PO:function(){return Vn},qy:function(){return Yn},g3:function(){return Wn},sE:function(){return ve},C$:function(){return Cr},ev:function(){return hr},cc:function(){return br},h7:function(){return L},GZ:function(){return zr},Eb:function(){return Zr},n2:function(){return $r},U6:function(){return Qr},AQ:function(){return on},rb:function(){return Rr},TD:function(){return Tr},z3:function(){return Qn},Dl:function(){return ei},p_:function(){return _i},Xk:function(){return Ki},IE:function(){return ri},Uu:function(){return ci},g$:function(){return di},Ig:function(){return ii},LQ:function(){return nr},Mj:function(){return Kn},gr:function(){return jn},IA:function(){return zn},im:function(){return rn},FP:function(){return na}});var n=r(87462),i=r(63366),a=r(72791),o=r(63217),s=r.n(o),l=r(55635),u=r.n(l),c=function(e,t){for(var r={},n=0;n<t.length;n++)r[t[n]]=e[t[n]];return r},f=function(e,t){for(var r={},n=Object.keys(e),i=0;i<n.length;i++)!t.includes(n[i])&&(r[n[i]]=e[n[i]]);return r},p=["in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],h=[].concat(p,["baseClass","baseClassActive","tag"]),d=("undefined"===typeof window||!window.document||window.document.createElement,s().oneOfType([s().string,s().func,function(e,t,r){if(!(e[t]instanceof Element))return new Error("Invalid prop `"+t+"` supplied to `"+r+"`. Expected prop to be an instance of Element. Validation failed.")},s().shape({current:s().any})]),s().oneOfType([s().func,s().string,s().shape({$$typeof:s().symbol,render:s().func}),s().arrayOf(s().oneOfType([s().func,s().string,s().shape({$$typeof:s().symbol,render:s().func})]))]));var v=r(94578),m=r(54164),y=!1,g=a.createContext(null),_="unmounted",b="exited",x="entering",w="entered",S="exiting",P=function(e){function t(t,r){var n;n=e.call(this,t,r)||this;var i,a=r&&!r.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?a?(i=b,n.appearStatus=x):i=w:i=t.unmountOnExit||t.mountOnEnter?_:b,n.state={status:i},n.nextCallback=null,n}(0,v.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===_?{status:b}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==x&&r!==w&&(t=x):r!==x&&r!==w||(t=S)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!==typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===x){if(this.props.unmountOnExit||this.props.mountOnEnter){var r=this.props.nodeRef?this.props.nodeRef.current:m.findDOMNode(this);r&&function(e){e.scrollTop}(r)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===b&&this.setState({status:_})},r.performEnter=function(e){var t=this,r=this.props.enter,n=this.context?this.context.isMounting:e,i=this.props.nodeRef?[n]:[m.findDOMNode(this),n],a=i[0],o=i[1],s=this.getTimeouts(),l=n?s.appear:s.enter;!e&&!r||y?this.safeSetState({status:w},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:x},(function(){t.props.onEntering(a,o),t.onTransitionEnd(l,(function(){t.safeSetState({status:w},(function(){t.props.onEntered(a,o)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,r=this.getTimeouts(),n=this.props.nodeRef?void 0:m.findDOMNode(this);t&&!y?(this.props.onExit(n),this.safeSetState({status:S},(function(){e.props.onExiting(n),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:b},(function(){e.props.onExited(n)}))}))}))):this.safeSetState({status:b},(function(){e.props.onExited(n)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var r=this.props.nodeRef?this.props.nodeRef.current:m.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(r&&!n){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===_)return null;var t=this.props,r=t.children,n=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,i.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.createElement(g.Provider,{value:null},"function"===typeof r?r(e,n):a.cloneElement(a.Children.only(r),n))},t}(a.Component);function k(){}P.contextType=g,P.propTypes={},P.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:k,onEntering:k,onEntered:k,onExit:k,onExiting:k,onExited:k},P.UNMOUNTED=_,P.EXITED=b,P.ENTERING=x,P.ENTERED=w,P.EXITING=S;var E=P,C=function(e){var t=e.tag,r=e.className,o=e.children,s=e.innerRef,l=e.baseClass,h=e.baseClassActive,d=(0,i.Z)(e,["tag","className","children","innerRef","baseClass","baseClassActive"]),v=c(d,p),m=f(d,p),y="object"===typeof s?s:(0,a.useRef)();return"function"===typeof s&&s(y),a.createElement(E,(0,n.Z)({},v,{nodeRef:y}),(function(e){var i="entered"===e,s=u()(r,l,i&&h);return a.createElement(t,(0,n.Z)({className:s},m,{ref:y}),o)}))};C.propTypes={tag:d,children:s().oneOfType([s().arrayOf(s().node),s().node]),className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),baseClass:s().string,baseClassActive:s().string},C.defaultProps={tag:"div",baseClass:"fade",baseClassActive:"show",timeout:150,appear:!0,enter:!0,exit:!0,in:!0};var A=C,T=function(e){var t=e.children,r=e.className,o=e.buttonClass,s=e.innerRef,l=(0,i.Z)(e,["children","className","buttonClass","innerRef"]),c=u()(o,r);return a.createElement("button",(0,n.Z)({className:c,"aria-label":"Close"},l,{ref:s}),t||String.fromCharCode(215))};T.propTypes={children:s().node,className:s().oneOfType([s().string,s().array,s().object]),buttonClass:s().string,innerRef:s().oneOfType([s().object,s().func])},T.defaultProps={buttonClass:"close"};var O=T,M=function(e){var t,r=e.children,o=e.className,s=e.innerRef,l=e.onShowChange,c=e.closeButton,p=e.color,d=e.fade,v=e.show,m=(0,i.Z)(e,["children","className","innerRef","onShowChange","closeButton","color","fade","show"]),y=u()(o,"alert",((t={})["alert-"+p]=p,t["alert-dismissible"]=c,t)),g={baseClass:d?A.baseClass:"",timeout:d?A.timeout:0,unmountOnExit:!0},_=(0,a.useState)(v),b=_[0],x=_[1];(0,a.useEffect)((function(){x(v)}),[v]);var w=(0,a.useRef)();(0,a.useEffect)((function(){return l&&l(b),clearTimeout(w.current),"number"===typeof b&&b>0&&(w.current=setTimeout((function(){x(b-1)}),1e3)),function(){return clearTimeout(w.current)}}),[b]);var S=f(m,h);return a.createElement(A,(0,n.Z)({},g,{className:y,in:Boolean(b),role:"alert"},S,{innerRef:s}),r,c&&a.createElement(O,{onClick:function(){return x(!1)}}))};M.propTypes={children:s().node,className:s().oneOfType([s().string,s().object,s().array]),innerRef:s().oneOfType([s().object,s().func]),onShowChange:s().func,closeButton:s().bool,color:s().string,fade:s().bool,show:s().oneOfType([s().bool,s().number])},M.defaultProps={show:!0,fade:!0};var I=r(4942),F=r(91523);function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j=function(e){var t=e.className,r=e.innerRef,o=e.active,s=e.href,l=e.onClick,c=e.disabled,f=(0,i.Z)(e,["className","innerRef","active","href","onClick","disabled"]),p=f?f.to:null,h=function(e){(s||p)&&"#"!==s||e.preventDefault(),!c&&l&&l(e)},d=u()(o&&"active",c&&"disabled",t);return p?a.createElement(F.OL,(0,n.Z)({},f,{className:d,onClick:h,ref:r})):a.createElement("a",(0,n.Z)({href:s||"#",className:d,rel:"_blank"===f.target?"noopener norefferer":null},f,{onClick:h,ref:r}))};j.propTypes=D(D({innerRef:s().oneOfType([s().object,s().func]),active:s().bool,href:s().string,onClick:s().func,disabled:s().bool},F.OL.propTypes),{},{className:s().oneOfType([s().string,s().array,s().object]),to:s().oneOfType([s().object,s().string,s().func])});var L=j,N=function(e){var t,r,o=e.tag,s=e.className,l=e.innerRef,c=e.color,f=e.shape,p=(0,i.Z)(e,["tag","className","innerRef","color","shape"]),h=u()(s,"badge",((t={})["badge-"+c]=c,t["badge-"+f]=f,t)),d=p.to||p.href?L:o,v=((r={})["string"===typeof d?"ref":"innerRef"]=l,r);return a.createElement(d,(0,n.Z)({className:h},p,v))};N.propTypes={tag:d,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),color:s().string,shape:s().oneOf(["","pill"])},N.defaultProps={tag:"span"};var z=N,B=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=e.onClick,l=e.disabled,c=e.active,f=e.block,p=e.color,h=e.size,d=e.pressed,v=e.shape,m=e.variant,y=(0,i.Z)(e,["tag","className","innerRef","onClick","disabled","active","block","color","size","pressed","shape","variant"]),g=function(e){return!l&&s&&s(e)},_=y.to||y.href,b=u()(r,"btn",!(!m&&!p)&&"btn"+(m?"-"+m:"")+"-"+p,!!h&&"btn-"+h,!!f&&"btn-block",!!v&&"btn-"+v,!!d&&"btn-pressed",{active:c&&!_,disabled:l&&!_});return _?a.createElement(L,(0,n.Z)({},y,{active:c,disabled:l,className:b,onClick:g,innerRef:o})):a.createElement(t,(0,n.Z)({className:b,type:"button",disabled:l},y,{onClick:g,ref:o}))};B.propTypes={tag:d,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),active:s().bool,block:s().bool,shape:s().string,variant:s().oneOf(["","ghost","outline"]),color:s().string,disabled:s().bool,onClick:s().func,size:s().string,pressed:s().bool},B.defaultProps={tag:"button"};var Z=B,U=function(e){var t=e.className,r=e.innerRef,o=e.size,s=e.vertical,l=(0,i.Z)(e,["className","innerRef","size","vertical"]),c=u()(t,!!o&&"btn-group-"+o,s?"btn-group-vertical":"btn-group");return a.createElement("div",(0,n.Z)({className:c,role:"group"},l,{ref:r}))};U.propTypes={className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),size:s().oneOf(["","sm","lg"]),vertical:s().bool};var V=function(e){var t,r=e.className,o=e.innerRef,s=e.justify,l=(0,i.Z)(e,["className","innerRef","justify"]),c=u()(r,"btn-toolbar",((t={})["justify-content-"+s]=s,t));return a.createElement("div",(0,n.Z)({className:c,role:"toolbar","aria-label":"toolbar"},l,{ref:o}))};V.propTypes={className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),role:s().string,justify:s().oneOf(["","start","end","between","center"])};var G=function(e){var t=e.className,r=e.innerRef,o=(0,i.Z)(e,["className","innerRef"]),s=u()(t,"breadcrumb");return a.createElement("ol",(0,n.Z)({className:s},o,{ref:r}))};G.propTypes={children:s().node,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func])};var W=G,q=r(64880);function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var X=function(e){var t=e.className,r=e.innerRef,o=e.routes,s=(0,i.Z)(e,["className","innerRef","routes"]),l=null;if(o){var c=(0,q.TH)().pathname,f=function(e){var t=["/"];return"/"===e||e.split("/").reduce((function(e,r){var n=e+"/"+r;return t.push(n),n})),t}(c),p=f.map((function(e){return Y(Y({},o.find((function(t){return(0,q.LX)(e,{path:t.path,exact:t.exact})}))),{},{currPath:e})})).filter((function(e){return e&&e.name}));l=p.map((function(e){return function(e,t){var r=e.name,n=e.currPath;return n===t?a.createElement(J,{key:n,active:!0},r):a.createElement(J,{key:n},a.createElement(F.rU,{to:n},r))}(e,c)}))}var h=u()(t);return a.createElement(W,(0,n.Z)({className:h},s,{ref:r}),l)};X.propTypes={className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),routes:s().array};var K=X,$=function(e){var t=e.className,r=e.innerRef,o=e.active,s=(0,i.Z)(e,["className","innerRef","active"]),l=u()(t,!!o&&"active","breadcrumb-item");return a.createElement("li",(0,n.Z)({className:l,role:"presentation","aria-current":o?"page":void 0},s,{ref:r}))};$.propTypes={className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),active:s().bool};var J=$,Q=function(e){var t=e.className,r=e.innerRef,o=e.color,s=(0,i.Z)(e,["className","innerRef","color"]),l=u()("c-callout",o?"c-callout-"+o:null,t);return a.createElement("div",(0,n.Z)({className:l},s,{ref:r}))};Q.propTypes={className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),color:s().string};function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var te=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=e.color,l=e.textColor,c=e.borderColor,f=e.align,p=e.accentColor,h=(0,i.Z)(e,["tag","className","innerRef","color","textColor","borderColor","align","accentColor"]),d=u()(r,"card",!!f&&"text-"+f,!!l&&"text-"+l,!!s&&"bg-"+s,!!c&&"border-"+c,!!p&&"card-accent-"+p);return a.createElement(t,(0,n.Z)({className:d},h,{ref:o}))},re={align:s().oneOf(["","left","center","right"]),color:s().string,borderColor:s().string,textColor:s().string};te.propTypes=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({tag:d,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),accentColor:s().string},re),te.defaultProps={tag:"div"};var ne=te;function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var ae=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=e.color,l=e.textColor,c=e.borderColor,f=e.align,p=(0,i.Z)(e,["tag","className","innerRef","color","textColor","borderColor","align"]),h=u()(r,"card-body",!!f&&"text-"+f,!!l&&"text-"+l,!!s&&"bg-"+s,!!c&&"border-"+c);return a.createElement(t,(0,n.Z)({className:h},p,{ref:o}))};ae.propTypes=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({tag:d,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func])},re),ae.defaultProps={tag:"div"};var oe=ae;function se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var le=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=e.color,l=e.textColor,c=e.borderColor,f=e.align,p=(0,i.Z)(e,["tag","className","innerRef","color","textColor","borderColor","align"]),h=u()(r,"card-header",!!f&&"text-"+f,!!l&&"text-"+l,!!s&&"bg-"+s,!!c&&"border-"+c);return a.createElement(t,(0,n.Z)({className:h},p,{ref:o}))};le.propTypes=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?se(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({tag:d,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func])},re),le.defaultProps={tag:"header"};var ue=le;function ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var fe=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=e.color,l=e.textColor,c=e.borderColor,f=e.align,p=(0,i.Z)(e,["tag","className","innerRef","color","textColor","borderColor","align"]),h=u()(r,"card-footer",!!f&&"text-"+f,!!l&&"text-"+l,!!s&&"bg-"+s,!!c&&"border-"+c);return a.createElement(t,(0,n.Z)({className:h},p,{ref:o}))};fe.propTypes=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({tag:d,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func])},re),fe.defaultProps={tag:"footer"};var pe=fe,he=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=e.deck,l=e.columns,c=(0,i.Z)(e,["tag","className","innerRef","deck","columns"]),f=u()("card-"+(l?"columns":s?"deck":"group"),r);return a.createElement(t,(0,n.Z)({className:f},c,{ref:o}))};he.propTypes={tag:d,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),deck:s().bool,columns:s().bool},he.defaultProps={tag:"div"};var de=function(e){var t=e.className,r=e.innerRef,o=e.fluid,s=e.block,l=e.thumbnail,c=e.shape,f=e.align,p=e.src,h=e.width,d=e.height,v=e.placeholderColor,m=e.fluidGrow,y=(0,i.Z)(e,["className","innerRef","fluid","block","thumbnail","shape","align","src","width","height","placeholderColor","fluidGrow"]),g="center"===f?"mx-auto":"right"===f?"float-right":"left"===f?"float-left":"",_=u()(t,g,l&&"img-thumbnail",o||m&&"img-fluid",m&&"w-100",s&&"d-block",c);return p?a.createElement("img",(0,n.Z)({className:_,src:p,width:h,height:d},y,{ref:r})):a.createElement("svg",(0,n.Z)({className:_,width:h,height:d,style:{backgroundColor:v}},y,{ref:r}))};de.propTypes={tag:d,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),src:s().string,width:s().oneOfType([s().number,s().string]),height:s().oneOfType([s().number,s().string]),block:s().bool,fluid:s().bool,fluidGrow:s().bool,shape:s().string,thumbnail:s().bool,align:s().oneOf(["","left","right","center"]),placeholderColor:s().string},de.defaultProps={placeholderColor:"transparent"};var ve=de,me=function(e){var t=e.variant,r=(0,i.Z)(e,["variant"]),o="full"!==t?"-"+t:"";return a.createElement(ve,(0,n.Z)({},r,{className:["card-img"+o,r.className]}))};me.propTypes={variant:s().oneOf(["","top","bottom","full"])},me.defaultProps={variant:"full"};var ye=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=(0,i.Z)(e,["tag","className","innerRef"]),l=u()(r,"card-img-overlay");return a.createElement(t,(0,n.Z)({},s,{className:l,ref:o}))};ye.propTypes={tag:d,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func])},ye.defaultProps={tag:"div"};var ge=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=(0,i.Z)(e,["tag","className","innerRef"]),l=u()(r,"card-title");return a.createElement(t,(0,n.Z)({},s,{className:l,ref:o}))};ge.propTypes={tag:d,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func])},ge.defaultProps={tag:"h4"};var _e=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=(0,i.Z)(e,["tag","className","innerRef"]),l=u()(r,"card-subtitle");return a.createElement(t,(0,n.Z)({},s,{className:l,ref:o}))};_e.propTypes={tag:d,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func])},_e.defaultProps={tag:"h6"};var be=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=(0,i.Z)(e,["tag","className","innerRef"]),l=u()(r,"card-text");return a.createElement(t,(0,n.Z)({},s,{className:l,ref:o}))};be.propTypes={tag:d,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func])},be.defaultProps={tag:"p"};var xe=a.createContext({}),we=function(e){var t=e.className,r=e.innerRef,o=e.autoSlide,s=e.activeIndex,l=e.animate,c=e.onSlideChange,f=(0,i.Z)(e,["className","innerRef","autoSlide","activeIndex","animate","onSlideChange"]),p=(0,a.useState)([null,s]),h=p[0],d=p[1],v=(0,a.useState)(null),m=v[0],y=v[1],g=(0,a.useState)(),_=g[0],b=g[1];(0,a.useEffect)((function(){d([h[1],s])}),[s]);var x=(0,a.useRef)(),w=function(){S(),o&&(x.current=setTimeout((function(){return P()}),o))},S=function(){return clearTimeout(x.current)},P=function(){d([h[1],m===h[1]+1?0:h[1]+1,"next"])};(0,a.useEffect)((function(){return c&&c(h[1]),w(),function(){return S()}}),[h]);var k=u()("carousel",t);return a.createElement("div",(0,n.Z)({className:k,onMouseEnter:S,onMouseLeave:w},f,{ref:r}),a.createElement(xe.Provider,{value:{state:h,setState:d,animate:l,itemNumber:m,setItemNumber:y,animating:_,setAnimating:b}},e.children))};we.propTypes={className:s().oneOfType([s().string,s().array,s().object]),children:s().array,innerRef:s().oneOfType([s().object,s().func]),activeIndex:s().number,autoSlide:s().number,animate:s().bool,onSlideChange:s().func},we.defaultProps={activeIndex:0};var Se=function(e){var t=e.children,r=e.className,o=e.innerRef,s=(0,i.Z)(e,["children","className","innerRef"]),l=(0,a.useContext)(xe),c=l.animate,f=l.state,p=l.itemNumber,h=l.setItemNumber,d=l.animating,v=l.setAnimating,m="object"===typeof o?o:(0,a.useRef)();"function"===typeof o&&o(m);var y=(0,a.useState)(),g=y[0],_=y[1];(0,a.useEffect)((function(){var e;p||h(m.current.parentNode.children.length),_(f[1]===(e=m.current,Array.from(e.parentNode.children).indexOf(e)))}),[f]);if(!c||null===f[0]){var b=u()("carousel-item",g&&"active",r);return a.createElement("div",(0,n.Z)({className:b,ref:m},s),t)}return a.createElement(E,{timeout:600,in:g,onEnter:function(){v(!1)},onEntering:function(){m.current.offsetHeight;v(!0)},onExit:function(){v(!1)},onExiting:function(){v(!0)},onExited:function(){v(!1)},nodeRef:m},(function(e){var i=function(e){return e[2]?"next"===e[2]?"right":"left":e[1]>e[0]?"right":"left"}(f),o="entered"===e||"exiting"===e,l=("entering"===e||"exiting"===e)&&d&&("right"===i?"carousel-item-left":"carousel-item-right"),c="entering"===e&&("right"===i?"carousel-item-next":"carousel-item-prev"),p=u()("carousel-item",o&&"active",l,c,r);return a.createElement("div",(0,n.Z)({className:p,ref:m},s),t)}))};Se.propTypes={children:s().node,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func])};var Pe=function(e){var t=e.className,r=e.children,o=e.innerRef,s=e.direction,l=(0,i.Z)(e,["className","children","innerRef","direction"]),c=(0,a.useContext)(xe),f=c.state,p=c.setState,h=c.itemNumber,d=c.animating,v=u()("carousel-control-"+s,t);return a.createElement("a",(0,n.Z)({className:v},l,{onClick:function(){var e;d||(e="next"===s?h===f[1]+1?0:f[1]+1:0===f[1]?h-1:f[1]-1,p([f[1],e,s]))},ref:o}),r||a.createElement("span",{className:"carousel-control-"+s+"-icon","aria-label":s}))};Pe.propTypes={className:s().oneOfType([s().string,s().array,s().object]),children:s().node,innerRef:s().oneOfType([s().object,s().func]),direction:s().oneOf(["prev","next"]).isRequired};var ke=function(e){var t=e.className,r=e.innerRef,o=e.indicatorsClass,s=(0,i.Z)(e,["className","innerRef","indicatorsClass"]),l=(0,a.useContext)(xe),c=l.itemNumber,f=l.state,p=l.setState,h=l.animating,d=u()(o,t),v=Array.from({length:c},(function(e,t){return t})).map((function(e){return a.createElement("li",{key:"indicator"+e,onClick:function(){!h&&e!==f[1]&&p([f[1],e])},className:f[1]===e?"active":""})}));return a.createElement("ol",(0,n.Z)({className:d},s,{ref:r}),v)};ke.propTypes={className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),indicatorsClass:s().string},ke.defaultProps={indicatorsClass:"carousel-indicators"};var Ee=function(e){var t=e.className,r=e.innerRef,o=(0,i.Z)(e,["className","innerRef"]),s=u()("carousel-caption",t);return a.createElement("div",(0,n.Z)({className:s},o,{ref:r}))};Ee.propTypes={className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func])};var Ce=function(e){var t=e.className,r=e.innerRef,o=(0,i.Z)(e,["className","innerRef"]),s=u()("carousel-inner",t);return a.createElement("div",(0,n.Z)({className:s},o,{ref:r}))};Ce.propTypes={className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func])};function Ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Oe=function(e){var t=e.children,r=e.className,o=e.innerRef,s=e.show,l=e.navbar,c=(0,i.Z)(e,["children","className","innerRef","show","navbar"]),f=(0,a.useState)(),p=f[0],h=f[1],d="object"===typeof o?o:(0,a.useRef)();"function"===typeof o&&o(d);return a.createElement(E,{in:s,timeout:350,appear:!1,enter:!0,exit:!0,onEntering:function(){h(d.current.scrollHeight)},onEntered:function(){h(null)},onExit:function(){h(d.current.scrollHeight)},onExiting:function(){d.current.offsetHeight;h(0)},onExited:function(){h(null)},nodeRef:d},(function(e){var i,o="entering"===(i=e)?"collapsing":"entered"===i?"collapse show":"exiting"===i?"collapsing":"collapse",s=u()(r,o,l&&"navbar-collapse"),f=null===p?null:{height:p};return a.createElement("div",(0,n.Z)({},c,{style:Te(Te({},c.style),f),className:s,ref:d}),t)}))};Oe.propTypes={children:s().oneOfType([s().arrayOf(s().node),s().node]),className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),show:s().bool,navbar:s().bool};var Me=function(e){var t=e.items,r=e.components,o=void 0===r?{}:r,s=function e(t,r){var s=t._tag,l=t._children,u=(0,i.Z)(t,["_tag","_children"]),c=o[s]||s,f=l?l.map((function(t,r){return"object"===typeof t?e(t,r):t})):"";return a.createElement(c,(0,n.Z)({key:c+r},u),f)},l=(0,a.useMemo)((function(){return t&&t.map((function(e,t){return s(e,t)}))}),[JSON.stringify(t)]);return a.createElement(a.Fragment,null,l)};Me.propTypes={items:s().array.isRequired,components:s().object};var Ie=Me,Fe=a.createContext({}),Re=function(e){var t=e.className,r=e.tag,o=e.innerRef,s=e.inNav,l=(0,i.Z)(e,["className","tag","innerRef","inNav"]),c=(0,a.useState)(),f=c[0],p=c[1],h=(0,a.useState)(),d=h[0],v=h[1],m=(0,a.useState)(),y=m[0],g=m[1],_=(0,a.useState)(""),b=_[0],x=_[1],w=b.includes("top")?"dropup":b.includes("right")?"dropright":b.includes("left")?"dropleft":"dropdown",S=r||(s?"li":"div"),P=u()(t,w,{"nav-item":s,"btn-group":y,show:d});return a.createElement(Fe.Provider,{value:{isOpen:d,setIsOpen:v,reference:f,setReference:p,inNav:s,setSplit:g,setPlacement:x}},a.createElement(S,(0,n.Z)({className:P},l,{ref:o})))};Re.propTypes={tag:d,children:s().node,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),inNav:s().bool};var De=Re,je=function(e){var t,r=e.tag,o=e.className,s=e.innerRef,l=e.onClick,c=e.color,f=e.divider,p=e.header,h=e.active,d=e.disabled,v=(0,i.Z)(e,["tag","className","innerRef","onClick","color","divider","header","active","disabled"]),m=(0,a.useContext)(Fe).setIsOpen,y=!(p||f),g=y&&!d?null:-1,_=null===g?"menuitem":void 0,b=r||(y?L:"div"),x=((t={})["string"===typeof b?"ref":"innerRef"]=s,t),w=u()(o,"dropdown-"+(p?"header":f?"divider":"item"),{active:h},c&&"bg-"+c,d&&b!==L&&"disabled");return a.createElement(b,(0,n.Z)({className:w,tabIndex:g,role:_,disabled:d},v,{onClick:function(e){d||(l&&l(e),y&&m(!1))}},x))};je.propTypes={tag:d,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),color:s().string,divider:s().bool,header:s().bool,disabled:s().bool,onClick:s().func,active:s().bool};var Le=je;function Ne(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ze(e){return e instanceof Ne(e).Element||e instanceof Element}function Be(e){return e instanceof Ne(e).HTMLElement||e instanceof HTMLElement}function Ze(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Ne(e).ShadowRoot||e instanceof ShadowRoot)}var Ue=Math.max,Ve=Math.min,Ge=Math.round;function We(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function qe(){return!/^((?!chrome|android).)*safari/i.test(We())}function He(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!1);var n=e.getBoundingClientRect(),i=1,a=1;t&&Be(e)&&(i=e.offsetWidth>0&&Ge(n.width)/e.offsetWidth||1,a=e.offsetHeight>0&&Ge(n.height)/e.offsetHeight||1);var o=(ze(e)?Ne(e):window).visualViewport,s=!qe()&&r,l=(n.left+(s&&o?o.offsetLeft:0))/i,u=(n.top+(s&&o?o.offsetTop:0))/a,c=n.width/i,f=n.height/a;return{width:c,height:f,top:u,right:l+c,bottom:u+f,left:l,x:l,y:u}}function Ye(e){var t=Ne(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Xe(e){return e?(e.nodeName||"").toLowerCase():null}function Ke(e){return((ze(e)?e.ownerDocument:e.document)||window.document).documentElement}function $e(e){return He(Ke(e)).left+Ye(e).scrollLeft}function Je(e){return Ne(e).getComputedStyle(e)}function Qe(e){var t=Je(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function et(e,t,r){void 0===r&&(r=!1);var n=Be(t),i=Be(t)&&function(e){var t=e.getBoundingClientRect(),r=Ge(t.width)/e.offsetWidth||1,n=Ge(t.height)/e.offsetHeight||1;return 1!==r||1!==n}(t),a=Ke(t),o=He(e,i,r),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&(("body"!==Xe(t)||Qe(a))&&(s=function(e){return e!==Ne(e)&&Be(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Ye(e);var t}(t)),Be(t)?((l=He(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):a&&(l.x=$e(a))),{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function tt(e){var t=He(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function rt(e){return"html"===Xe(e)?e:e.assignedSlot||e.parentNode||(Ze(e)?e.host:null)||Ke(e)}function nt(e){return["html","body","#document"].indexOf(Xe(e))>=0?e.ownerDocument.body:Be(e)&&Qe(e)?e:nt(rt(e))}function it(e,t){var r;void 0===t&&(t=[]);var n=nt(e),i=n===(null==(r=e.ownerDocument)?void 0:r.body),a=Ne(n),o=i?[a].concat(a.visualViewport||[],Qe(n)?n:[]):n,s=t.concat(o);return i?s:s.concat(it(rt(o)))}function at(e){return["table","td","th"].indexOf(Xe(e))>=0}function ot(e){return Be(e)&&"fixed"!==Je(e).position?e.offsetParent:null}function st(e){for(var t=Ne(e),r=ot(e);r&&at(r)&&"static"===Je(r).position;)r=ot(r);return r&&("html"===Xe(r)||"body"===Xe(r)&&"static"===Je(r).position)?t:r||function(e){var t=/firefox/i.test(We());if(/Trident/i.test(We())&&Be(e)&&"fixed"===Je(e).position)return null;var r=rt(e);for(Ze(r)&&(r=r.host);Be(r)&&["html","body"].indexOf(Xe(r))<0;){var n=Je(r);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return r;r=r.parentNode}return null}(e)||t}var lt="top",ut="bottom",ct="right",ft="left",pt="auto",ht=[lt,ut,ct,ft],dt="start",vt="end",mt="viewport",yt="popper",gt=ht.reduce((function(e,t){return e.concat([t+"-"+dt,t+"-"+vt])}),[]),_t=[].concat(ht,[pt]).reduce((function(e,t){return e.concat([t,t+"-"+dt,t+"-"+vt])}),[]),bt=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function xt(e){var t=new Map,r=new Set,n=[];function i(e){r.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!r.has(e)){var n=t.get(e);n&&i(n)}})),n.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){r.has(e.name)||i(e)})),n}function wt(e){var t;return function(){return t||(t=new Promise((function(r){Promise.resolve().then((function(){t=void 0,r(e())}))}))),t}}var St={placement:"bottom",modifiers:[],strategy:"absolute"};function Pt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function kt(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,n=void 0===r?[]:r,i=t.defaultOptions,a=void 0===i?St:i;return function(e,t,r){void 0===r&&(r=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},St,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],s=!1,l={state:i,setOptions:function(r){var s="function"===typeof r?r(i.options):r;u(),i.options=Object.assign({},a,i.options,s),i.scrollParents={reference:ze(e)?it(e):e.contextElement?it(e.contextElement):[],popper:it(t)};var c=function(e){var t=xt(e);return bt.reduce((function(e,r){return e.concat(t.filter((function(e){return e.phase===r})))}),[])}(function(e){var t=e.reduce((function(e,t){var r=e[t.name];return e[t.name]=r?Object.assign({},r,t,{options:Object.assign({},r.options,t.options),data:Object.assign({},r.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(n,i.options.modifiers)));return i.orderedModifiers=c.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,r=e.options,n=void 0===r?{}:r,a=e.effect;if("function"===typeof a){var s=a({state:i,name:t,instance:l,options:n}),u=function(){};o.push(s||u)}})),l.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,r=e.popper;if(Pt(t,r)){i.rects={reference:et(t,st(r),"fixed"===i.options.strategy),popper:tt(r)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<i.orderedModifiers.length;n++)if(!0!==i.reset){var a=i.orderedModifiers[n],o=a.fn,u=a.options,c=void 0===u?{}:u,f=a.name;"function"===typeof o&&(i=o({state:i,options:c,name:f,instance:l})||i)}else i.reset=!1,n=-1}}},update:wt((function(){return new Promise((function(e){l.forceUpdate(),e(i)}))})),destroy:function(){u(),s=!0}};if(!Pt(e,t))return l;function u(){o.forEach((function(e){return e()})),o=[]}return l.setOptions(r).then((function(e){!s&&r.onFirstUpdate&&r.onFirstUpdate(e)})),l}}var Et={passive:!0};function Ct(e){return e.split("-")[0]}function At(e){return e.split("-")[1]}function Tt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ot(e){var t,r=e.reference,n=e.element,i=e.placement,a=i?Ct(i):null,o=i?At(i):null,s=r.x+r.width/2-n.width/2,l=r.y+r.height/2-n.height/2;switch(a){case lt:t={x:s,y:r.y-n.height};break;case ut:t={x:s,y:r.y+r.height};break;case ct:t={x:r.x+r.width,y:l};break;case ft:t={x:r.x-n.width,y:l};break;default:t={x:r.x,y:r.y}}var u=a?Tt(a):null;if(null!=u){var c="y"===u?"height":"width";switch(o){case dt:t[u]=t[u]-(r[c]/2-n[c]/2);break;case vt:t[u]=t[u]+(r[c]/2-n[c]/2)}}return t}var Mt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function It(e){var t,r=e.popper,n=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,f=e.isFixed,p=o.x,h=void 0===p?0:p,d=o.y,v=void 0===d?0:d,m="function"===typeof c?c({x:h,y:v}):{x:h,y:v};h=m.x,v=m.y;var y=o.hasOwnProperty("x"),g=o.hasOwnProperty("y"),_=ft,b=lt,x=window;if(u){var w=st(r),S="clientHeight",P="clientWidth";if(w===Ne(r)&&"static"!==Je(w=Ke(r)).position&&"absolute"===s&&(S="scrollHeight",P="scrollWidth"),i===lt||(i===ft||i===ct)&&a===vt)b=ut,v-=(f&&w===x&&x.visualViewport?x.visualViewport.height:w[S])-n.height,v*=l?1:-1;if(i===ft||(i===lt||i===ut)&&a===vt)_=ct,h-=(f&&w===x&&x.visualViewport?x.visualViewport.width:w[P])-n.width,h*=l?1:-1}var k,E=Object.assign({position:s},u&&Mt),C=!0===c?function(e){var t=e.x,r=e.y,n=window.devicePixelRatio||1;return{x:Ge(t*n)/n||0,y:Ge(r*n)/n||0}}({x:h,y:v}):{x:h,y:v};return h=C.x,v=C.y,l?Object.assign({},E,((k={})[b]=g?"0":"",k[_]=y?"0":"",k.transform=(x.devicePixelRatio||1)<=1?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",k)):Object.assign({},E,((t={})[b]=g?v+"px":"",t[_]=y?h+"px":"",t.transform="",t))}var Ft={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var r=t.styles[e]||{},n=t.attributes[e]||{},i=t.elements[e];Be(i)&&Xe(i)&&(Object.assign(i.style,r),Object.keys(n).forEach((function(e){var t=n[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:r[e]).reduce((function(e,t){return e[t]="",e}),{});Be(n)&&Xe(n)&&(Object.assign(n.style,a),Object.keys(i).forEach((function(e){n.removeAttribute(e)})))}))}},requires:["computeStyles"]};var Rt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,r=e.options,n=e.name,i=r.offset,a=void 0===i?[0,0]:i,o=_t.reduce((function(e,r){return e[r]=function(e,t,r){var n=Ct(e),i=[ft,lt].indexOf(n)>=0?-1:1,a="function"===typeof r?r(Object.assign({},t,{placement:e})):r,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[ft,ct].indexOf(n)>=0?{x:s,y:o}:{x:o,y:s}}(r,t.rects,a),e}),{}),s=o[t.placement],l=s.x,u=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=o}},Dt={left:"right",right:"left",bottom:"top",top:"bottom"};function jt(e){return e.replace(/left|right|bottom|top/g,(function(e){return Dt[e]}))}var Lt={start:"end",end:"start"};function Nt(e){return e.replace(/start|end/g,(function(e){return Lt[e]}))}function zt(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&Ze(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Bt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Zt(e,t,r){return t===mt?Bt(function(e,t){var r=Ne(e),n=Ke(e),i=r.visualViewport,a=n.clientWidth,o=n.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;var u=qe();(u||!u&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s+$e(e),y:l}}(e,r)):ze(t)?function(e,t){var r=He(e,!1,"fixed"===t);return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}(t,r):Bt(function(e){var t,r=Ke(e),n=Ye(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=Ue(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Ue(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+$e(e),l=-n.scrollTop;return"rtl"===Je(i||r).direction&&(s+=Ue(r.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:l}}(Ke(e)))}function Ut(e,t,r,n){var i="clippingParents"===t?function(e){var t=it(rt(e)),r=["absolute","fixed"].indexOf(Je(e).position)>=0&&Be(e)?st(e):e;return ze(r)?t.filter((function(e){return ze(e)&&zt(e,r)&&"body"!==Xe(e)})):[]}(e):[].concat(t),a=[].concat(i,[r]),o=a[0],s=a.reduce((function(t,r){var i=Zt(e,r,n);return t.top=Ue(i.top,t.top),t.right=Ve(i.right,t.right),t.bottom=Ve(i.bottom,t.bottom),t.left=Ue(i.left,t.left),t}),Zt(e,o,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Vt(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Gt(e,t){return t.reduce((function(t,r){return t[r]=e,t}),{})}function Wt(e,t){void 0===t&&(t={});var r=t,n=r.placement,i=void 0===n?e.placement:n,a=r.strategy,o=void 0===a?e.strategy:a,s=r.boundary,l=void 0===s?"clippingParents":s,u=r.rootBoundary,c=void 0===u?mt:u,f=r.elementContext,p=void 0===f?yt:f,h=r.altBoundary,d=void 0!==h&&h,v=r.padding,m=void 0===v?0:v,y=Vt("number"!==typeof m?m:Gt(m,ht)),g=p===yt?"reference":yt,_=e.rects.popper,b=e.elements[d?g:p],x=Ut(ze(b)?b:b.contextElement||Ke(e.elements.popper),l,c,o),w=He(e.elements.reference),S=Ot({reference:w,element:_,strategy:"absolute",placement:i}),P=Bt(Object.assign({},_,S)),k=p===yt?P:w,E={top:x.top-k.top+y.top,bottom:k.bottom-x.bottom+y.bottom,left:x.left-k.left+y.left,right:k.right-x.right+y.right},C=e.modifiersData.offset;if(p===yt&&C){var A=C[i];Object.keys(E).forEach((function(e){var t=[ct,ut].indexOf(e)>=0?1:-1,r=[lt,ut].indexOf(e)>=0?"y":"x";E[e]+=A[r]*t}))}return E}function qt(e,t,r){return Ue(e,Ve(t,r))}var Ht={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,a=void 0===i||i,o=r.altAxis,s=void 0!==o&&o,l=r.boundary,u=r.rootBoundary,c=r.altBoundary,f=r.padding,p=r.tether,h=void 0===p||p,d=r.tetherOffset,v=void 0===d?0:d,m=Wt(t,{boundary:l,rootBoundary:u,padding:f,altBoundary:c}),y=Ct(t.placement),g=At(t.placement),_=!g,b=Tt(y),x="x"===b?"y":"x",w=t.modifiersData.popperOffsets,S=t.rects.reference,P=t.rects.popper,k="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,E="number"===typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),C=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,A={x:0,y:0};if(w){if(a){var T,O="y"===b?lt:ft,M="y"===b?ut:ct,I="y"===b?"height":"width",F=w[b],R=F+m[O],D=F-m[M],j=h?-P[I]/2:0,L=g===dt?S[I]:P[I],N=g===dt?-P[I]:-S[I],z=t.elements.arrow,B=h&&z?tt(z):{width:0,height:0},Z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},U=Z[O],V=Z[M],G=qt(0,S[I],B[I]),W=_?S[I]/2-j-G-U-E.mainAxis:L-G-U-E.mainAxis,q=_?-S[I]/2+j+G+V+E.mainAxis:N+G+V+E.mainAxis,H=t.elements.arrow&&st(t.elements.arrow),Y=H?"y"===b?H.clientTop||0:H.clientLeft||0:0,X=null!=(T=null==C?void 0:C[b])?T:0,K=F+q-X,$=qt(h?Ve(R,F+W-X-Y):R,F,h?Ue(D,K):D);w[b]=$,A[b]=$-F}if(s){var J,Q="x"===b?lt:ft,ee="x"===b?ut:ct,te=w[x],re="y"===x?"height":"width",ne=te+m[Q],ie=te-m[ee],ae=-1!==[lt,ft].indexOf(y),oe=null!=(J=null==C?void 0:C[x])?J:0,se=ae?ne:te-S[re]-P[re]-oe+E.altAxis,le=ae?te+S[re]+P[re]-oe-E.altAxis:ie,ue=h&&ae?function(e,t,r){var n=qt(e,t,r);return n>r?r:n}(se,te,le):qt(h?se:ne,te,h?le:ie);w[x]=ue,A[x]=ue-te}t.modifiersData[n]=A}},requiresIfExists:["offset"]};var Yt={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,r=e.state,n=e.name,i=e.options,a=r.elements.arrow,o=r.modifiersData.popperOffsets,s=Ct(r.placement),l=Tt(s),u=[ft,ct].indexOf(s)>=0?"height":"width";if(a&&o){var c=function(e,t){return Vt("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Gt(e,ht))}(i.padding,r),f=tt(a),p="y"===l?lt:ft,h="y"===l?ut:ct,d=r.rects.reference[u]+r.rects.reference[l]-o[l]-r.rects.popper[u],v=o[l]-r.rects.reference[l],m=st(a),y=m?"y"===l?m.clientHeight||0:m.clientWidth||0:0,g=d/2-v/2,_=c[p],b=y-f[u]-c[h],x=y/2-f[u]/2+g,w=qt(_,x,b),S=l;r.modifiersData[n]=((t={})[S]=w,t.centerOffset=w-x,t)}},effect:function(e){var t=e.state,r=e.options.element,n=void 0===r?"[data-popper-arrow]":r;null!=n&&("string"!==typeof n||(n=t.elements.popper.querySelector(n)))&&zt(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xt(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function Kt(e){return[lt,ct,ut,ft].some((function(t){return e[t]>=0}))}var $t=kt({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,a=void 0===i||i,o=n.resize,s=void 0===o||o,l=Ne(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach((function(e){e.addEventListener("scroll",r.update,Et)})),s&&l.addEventListener("resize",r.update,Et),function(){a&&u.forEach((function(e){e.removeEventListener("scroll",r.update,Et)})),s&&l.removeEventListener("resize",r.update,Et)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,r=e.name;t.modifiersData[r]=Ot({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=void 0===n||n,a=r.adaptive,o=void 0===a||a,s=r.roundOffsets,l=void 0===s||s,u={placement:Ct(t.placement),variation:At(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,It(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,It(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Ft,Rt,{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,a=void 0===i||i,o=r.altAxis,s=void 0===o||o,l=r.fallbackPlacements,u=r.padding,c=r.boundary,f=r.rootBoundary,p=r.altBoundary,h=r.flipVariations,d=void 0===h||h,v=r.allowedAutoPlacements,m=t.options.placement,y=Ct(m),g=l||(y===m||!d?[jt(m)]:function(e){if(Ct(e)===pt)return[];var t=jt(e);return[Nt(e),t,Nt(t)]}(m)),_=[m].concat(g).reduce((function(e,r){return e.concat(Ct(r)===pt?function(e,t){void 0===t&&(t={});var r=t,n=r.placement,i=r.boundary,a=r.rootBoundary,o=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,u=void 0===l?_t:l,c=At(n),f=c?s?gt:gt.filter((function(e){return At(e)===c})):ht,p=f.filter((function(e){return u.indexOf(e)>=0}));0===p.length&&(p=f);var h=p.reduce((function(t,r){return t[r]=Wt(e,{placement:r,boundary:i,rootBoundary:a,padding:o})[Ct(r)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}(t,{placement:r,boundary:c,rootBoundary:f,padding:u,flipVariations:d,allowedAutoPlacements:v}):r)}),[]),b=t.rects.reference,x=t.rects.popper,w=new Map,S=!0,P=_[0],k=0;k<_.length;k++){var E=_[k],C=Ct(E),A=At(E)===dt,T=[lt,ut].indexOf(C)>=0,O=T?"width":"height",M=Wt(t,{placement:E,boundary:c,rootBoundary:f,altBoundary:p,padding:u}),I=T?A?ct:ft:A?ut:lt;b[O]>x[O]&&(I=jt(I));var F=jt(I),R=[];if(a&&R.push(M[C]<=0),s&&R.push(M[I]<=0,M[F]<=0),R.every((function(e){return e}))){P=E,S=!1;break}w.set(E,R)}if(S)for(var D=function(e){var t=_.find((function(t){var r=w.get(t);if(r)return r.slice(0,e).every((function(e){return e}))}));if(t)return P=t,"break"},j=d?3:1;j>0;j--){if("break"===D(j))break}t.placement!==P&&(t.modifiersData[n]._skip=!0,t.placement=P,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},Ht,Yt,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=Wt(t,{elementContext:"reference"}),s=Wt(t,{altBoundary:!0}),l=Xt(o,n),u=Xt(s,i,a),c=Kt(l),f=Kt(u);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}}]}),Jt=function(e){var t=e.className,r=e.show,o=e.placement,s=e.modifiers,l=e.innerRef,c=(0,i.Z)(e,["className","show","placement","modifiers","innerRef"]),f=(0,a.useContext)(Fe),p=f.reference,h=f.isOpen,d=f.setIsOpen,v=f.setPlacement,m=(0,a.useState)(null),y=m[0],g=m[1],_=(0,a.useState)(null),b=_[0],x=_[1];l&&l(y),(0,a.useEffect)((function(){d(r),v(o)}),[r,o]);var w=u()(t,"dropdown-menu",{show:h});(0,a.useLayoutEffect)((function(){if(p)return x($t(p,y,{placement:o,modifiers:s||[]})),function(){b&&b.destroy()}}),[h]);var S=function(e){[p,y].every((function(t){return!t.contains(e.target)}))&&d(!1)},P=function(e){return"27"==e.keyCode&&d(!1)};return(0,a.useEffect)((function(){return h&&(document.addEventListener("click",S),document.addEventListener("keydown",P)),function(){document.removeEventListener("click",S),document.removeEventListener("keydown",P)}}),[h]),a.createElement("div",(0,n.Z)({className:w,ref:g,role:"menu","aria-hidden":!h},c))};Jt.propTypes={children:s().node.isRequired,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),modifiers:s().array,show:s().bool,placement:s().oneOf(["","top-end","top","top-start","bottom-end","bottom","bottom-start","right-start","right","right-end","left-start","left","left-end"])},Jt.defaultProps={placement:"bottom-start"};var Qt=Jt,er=function(e){var t,r=e.className,o=e.innerRef,s=e.onClick,l=e.caret,c=e.split,f=e.tag,p=(0,i.Z)(e,["className","innerRef","onClick","caret","split","tag"]),h=(0,a.useContext)(Fe),d=h.reference,v=h.setReference,m=h.isOpen,y=h.setIsOpen,g=h.inNav,_=h.setSplit;o&&o(d),(0,a.useEffect)((function(){_(c)}));var b=f||(g?L:Z),x=u()(r,{"dropdown-toggle":l&&!c,"nav-link":g}),w=((t={onClick:function(t){e.disabled||(s&&s(t),y(!m))},"aria-expanded":m?"true":"false","aria-haspopup":"true","aria-label":"Dropdown toggle"})[f&&"string"===typeof f?"ref":"innerRef"]=v,t.role=b===Z?null:"button",t);return c?a.createElement(a.Fragment,null,a.createElement(Z,p,e.children),a.createElement(Z,(0,n.Z)({className:"dropdown-toggle dropdown-toggle-split"},w,p),"")):a.createElement(b,(0,n.Z)({className:x},w,p))};er.propTypes={tag:d,children:s().node,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),caret:s().bool,onClick:s().func,split:s().bool,disabled:s().bool},er.defaultProps={caret:!0};var tr=er,rr=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=e.grow,l=e.size,c=e.color,f=(0,i.Z)(e,["tag","className","innerRef","grow","size","color"]),p=s?"grow":"border",h=u()("spinner-"+p,l&&"spinner-"+p+"-"+l,c&&"text-"+c,r);return a.createElement(t,(0,n.Z)({className:h,"aria-hidden":"false","aria-label":"Loading",role:"status"},f,{ref:o}))};rr.propTypes={tag:d,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),grow:s().bool,size:s().string,color:s().string},rr.defaultProps={tag:"div"};var nr=rr;function ir(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ir(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var or=function(e){var t=e.className,r=e.children,o=e.innerRef,s=e.boundaries,l=e.opacity,c=(0,i.Z)(e,["className","children","innerRef","boundaries","opacity"]),f=(0,a.useState)({}),p=f[0],h=f[1],d=(0,a.createRef)(null);o&&o(d);var v=function(){if(!d||!d.current||!s)return{};var e=d.current.parentElement,t=e.getBoundingClientRect(),r={};return s.forEach((function(n){var i=n.sides,a=n.query,o=e.querySelector(a);if(o&&i){var s=o.getBoundingClientRect();i.forEach((function(e){var n=Math.abs(s[e]-t[e]);r[e]=n+"px"}))}})),r};(0,a.useEffect)((function(){h(v())}),[JSON.stringify(v())]);var m=u()(t),y=ar({top:0,left:0,right:0,bottom:0},p),g=ar(ar({},y),{},{position:"absolute",backgroundColor:"rgb(255,255,255,"+l+")"});return a.createElement("div",(0,n.Z)({className:m,style:g},c,{ref:d}),r||a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translateX(-50%) translateY(-50%)"}},a.createElement(nr,{grow:!0,size:"lg",color:"primary"})))};or.propTypes={children:s().node,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),boundaries:s().array,opacity:s().number},or.defaultProps={opacity:.4};var sr=or,lr=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=e.ratio,l=(0,i.Z)(e,["tag","className","innerRef","ratio"]),c=u()(r,"embed-responsive","embed-responsive-"+s);return a.createElement(t,(0,n.Z)({className:c},l,{ref:o}))};lr.propTypes={tag:d,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),ratio:s().oneOf(["21by9","16by9","4by3","1by1"])},lr.defaultProps={tag:"div",ratio:"16by9"};var ur=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=(0,i.Z)(e,["tag","className","innerRef"]),l=u()(r,"embed-responsive-item");return a.createElement(t,(0,n.Z)({className:l},s,{ref:o}))};ur.propTypes={tag:d,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),type:s().oneOf(["iframe","embed","video","object","img"])},ur.defaultProps={tag:"iframe"};var cr=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=e.inline,l=e.wasValidated,c=(0,i.Z)(e,["tag","className","innerRef","inline","wasValidated"]),f=u()(r,!!s&&"form-inline",!!l&&"was-validated");return a.createElement(t,(0,n.Z)({},c,{className:f,ref:o}))};cr.propTypes={tag:d,children:s().node,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),inline:s().bool,wasValidated:s().bool},cr.defaultProps={tag:"form"};var fr=cr,pr=function(e){var t=e.className,r=e.innerRef,o=e.valid,s=e.tooltip,l=(0,i.Z)(e,["className","innerRef","valid","tooltip"]),c=s?"tooltip":"feedback",f=u()(o?"valid-"+c:"invalid-"+c,t);return a.createElement("div",(0,n.Z)({className:f},l,{ref:r}))};pr.propTypes={children:s().node,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),valid:s().bool,tooltip:s().bool};var hr=function(e){return a.createElement(pr,(0,n.Z)({},e,{valid:!1}))},dr=s().oneOfType([s().number,s().string]),vr=s().oneOfType([s().bool,s().number,s().string,s().shape({size:s().oneOfType([s().bool,s().number,s().string]),order:dr,offset:dr})]),mr=function(e,t,r){return!0===r||""===r?e?"col":"col-"+t:"auto"===r?e?"col-auto":"col-"+t+"-auto":e?"col-"+r:"col-"+t+"-"+r},yr=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=e.widths,l=(0,i.Z)(e,["tag","className","innerRef","widths"]),c=[];s.forEach((function(t,r){var n=e[t];if(delete l[t],n||""===n){var i=!r;if("object"===typeof n){var a,o=i?"-":"-"+t+"-",s=mr(i,t,n.size);c.push(u()(((a={})[s]=n.size||""===n.size,a["order"+o+n.order]=n.order||0===n.order,a["offset"+o+n.offset]=n.offset||0===n.offset,a)))}else{var f=mr(i,t,n);c.push(f)}}})),c.length||c.push("col");var f=u()(r,c);return a.createElement(t,(0,n.Z)({},l,{className:f,ref:o}))};yr.propTypes={tag:d,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),xs:vr,sm:vr,md:vr,lg:vr,xl:vr,xxl:vr,widths:s().array},yr.defaultProps={tag:"div",widths:["xs","sm","md","lg","xl","xxl"]};var gr=yr,_r=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=e.hidden,l=e.variant,c=e.col,f=(0,i.Z)(e,["tag","className","innerRef","hidden","variant","col"]),p=u()(s&&"sr-only","custom-checkbox"===l&&"custom-control-label","checkbox"===l&&"form-check-label","custom-file"===l&&"custom-file-label",c&&"col-form-label",c&&"string"===typeof c&&"col-form-label-"+c,r),h=c?gr:t,d=c&&{tag:t};return a.createElement(h,(0,n.Z)({className:p},d,f,{ref:o}))};_r.propTypes={tag:d,children:s().node,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),hidden:s().bool,variant:s().oneOf(["custom-file","checkbox","custom-checkbox"]),col:s().oneOfType([s().string,s().bool])},_r.defaultProps={tag:"label"};var br=_r,xr=function(e){var t=e.className,r=e.innerRef,o=e.row,s=e.disabled,l=e.variant,c=e.inline,f=(0,i.Z)(e,["className","innerRef","row","disabled","variant","inline"]),p=l&&l.includes("custom")?"custom-control":"form-check",h=u()(o&&"row",!l&&"form-group",l&&p,"custom-radio"===l&&"custom-radio","custom-checkbox"===l&&"custom-checkbox",l&&c&&p+"-inline",l&&s&&"disabled",t);return a.createElement("div",(0,n.Z)({className:h},f,{ref:r}))};xr.propTypes={children:s().node,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),row:s().bool,variant:s().oneOf(["checkbox","custom-checkbox","custom-radio"]),inline:s().bool,disabled:s().bool};var wr=xr,Sr=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=e.color,l=(0,i.Z)(e,["tag","className","innerRef","color"]),c=u()("form-text",s&&"text-"+s,r);return a.createElement(t,(0,n.Z)({className:c},l,{ref:o}))};Sr.propTypes={tag:d,children:s().node,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),color:s().string},Sr.defaultProps={tag:"small",color:"muted"};function Pr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Er={className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),valid:s().bool,invalid:s().bool},Cr=function(e){var t=e.className,r=e.innerRef,o=e.type,s=e.valid,l=e.invalid,c=e.plaintext,f=e.size,p=e.sizeHtml,h=(0,i.Z)(e,["className","innerRef","type","valid","invalid","plaintext","size","sizeHtml"]),d=u()(c?"form-control-plaintext":"form-control",f&&"form-control-"+f,l&&"is-invalid",s&&"is-valid",t);return a.createElement("input",(0,n.Z)({className:d,type:o},h,{size:p,ref:r}))};Cr.propTypes=kr(kr({},Er),{},{plaintext:s().bool,type:s().string,size:s().string,sizeHtml:s().oneOfType([s().string,s().number])}),Cr.defaultProps={type:"text"};kr(kr({},Er),{},{plaintext:s().bool,size:s().string});kr(kr({},Er),{},{custom:s().bool});var Ar=function(e){var t=e.className,r=e.innerRef,o=e.valid,s=e.invalid,l=e.custom,c=(0,i.Z)(e,["className","innerRef","valid","invalid","custom"]),f=u()(l?"custom-control-input":"form-check-input",s&&"is-invalid",o&&"is-valid",t);return a.createElement("input",(0,n.Z)({className:f,type:"checkbox"},c,{ref:r}))};Ar.propTypes=kr(kr({},Er),{},{custom:s().bool});var Tr=function(e){var t=e.className,r=e.innerRef,o=e.valid,s=e.invalid,l=e.size,c=e.sizeHtml,f=e.custom,p=(0,i.Z)(e,["className","innerRef","valid","invalid","size","sizeHtml","custom"]),h=f?"custom-select":"form-control",d=u()(h,l&&h+"-"+l,s&&"is-invalid",o&&"is-valid",t);return a.createElement("select",(0,n.Z)({className:d},p,{size:c,ref:r}))};Tr.propTypes=kr(kr({},Er),{},{size:s().string,sizeHtml:s().oneOfType([s().string,s().number])});var Or=function(e){var t=e.className,r=e.innerRef,o=e.size,s=(0,i.Z)(e,["className","innerRef","size"]),l=u()("input-group",o&&"input-group-"+o,t);return a.createElement("div",(0,n.Z)({className:l},s,{ref:r}))};Or.propTypes={className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),size:s().string};var Mr=function(e){var t=e.children,r=e.className,o=e.innerRef,s=e.prepend,l=(0,i.Z)(e,["children","className","innerRef","prepend"]),c=u()("input-group-"+(s?"prepend":"append"),r);return a.createElement("div",(0,n.Z)({className:c},l,{ref:o}),t)};Mr.propTypes={children:s().node,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),prepend:s().bool};var Ir=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=(0,i.Z)(e,["tag","className","innerRef"]),l=u()("input-group-text",r);return a.createElement(t,(0,n.Z)({className:l},s,{ref:o}))};Ir.propTypes={tag:d,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func])},Ir.defaultProps={tag:"div"};var Fr=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=e.gutters,l=e.form,c=e.alignHorizontal,f=e.alignVertical,p=(0,i.Z)(e,["tag","className","innerRef","gutters","form","alignHorizontal","alignVertical"]),h=u()(r,s?null:"no-gutters",c?"justify-content-"+c:null,f?"align-"+f:null,l?"form-row":"row");return a.createElement(t,(0,n.Z)({className:h},p,{ref:o}))};Fr.propTypes={tag:d,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),gutters:s().bool,form:s().bool,alignHorizontal:s().string,alignVertical:s().string},Fr.defaultProps={tag:"div",gutters:!0};var Rr=Fr,Dr=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=e.fluid,l=(0,i.Z)(e,["tag","className","innerRef","fluid"]),c=u()(r,s?"container-fluid":"container");return a.createElement(t,(0,n.Z)({},l,{className:c,ref:o}))};Dr.propTypes={tag:d,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),fluid:s().bool},Dr.defaultProps={tag:"div"};var jr=Dr,Lr=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=e.fluid,l=(0,i.Z)(e,["tag","className","innerRef","fluid"]),c=u()(r,"jumbotron",!!s&&"jumbotron-fluid");return a.createElement(t,(0,n.Z)({},l,{className:c,ref:o}))};Lr.propTypes={tag:d,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),fluid:s().bool},Lr.defaultProps={tag:"div"};var Nr=function(e){var t,r=e.tag,o=e.className,s=e.innerRef,l=e.horizontal,c=e.flush,f=e.accent,p=(0,i.Z)(e,["tag","className","innerRef","horizontal","flush","accent"]),h=u()(o,"list-group",((t={})["list-group-horizontal-"+l]=l,t["list-group-flush"]=c,t["list-group-accent"]=f,t));return a.createElement(r,(0,n.Z)({className:h,role:"list-items"},p,{ref:s}))};Nr.propTypes={tag:d,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),flush:s().bool,horizontal:s().string,accent:s().bool},Nr.defaultProps={tag:"ul"};var zr=Nr,Br=function(e){var t,r=e.tag,o=e.className,s=e.innerRef,l=e.active,c=e.disabled,f=e.action,p=e.color,h=e.accent,d=(0,i.Z)(e,["tag","className","innerRef","active","disabled","action","color","accent"]),v=u()(o,"list-group-item",((t={"list-group-item-action":f||d.href||d.to||"button"==r,active:l,disabled:c})["list-group-item-"+p]=p,t["list-group-item-accent-"+h]=h,t));return e.href||e.to?a.createElement(L,(0,n.Z)({},d,{className:v,innerRef:s})):a.createElement(r,(0,n.Z)({},d,{className:v,ref:s}))};Br.propTypes={tag:d,className:s().any,innerRef:s().oneOfType([s().object,s().func]),active:s().bool,disabled:s().bool,color:s().string,accent:s().string,action:s().bool},Br.defaultProps={tag:"li"};var Zr=Br,Ur=function(e){var t=e.className,r=e.innerRef,o=(0,i.Z)(e,["className","innerRef"]),s=u()("media",t);return a.createElement("div",(0,n.Z)({className:s},o,{ref:r}))};Ur.propTypes={className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func])};var Vr=function(e){var t=e.className,r=e.innerRef,o=(0,i.Z)(e,["className","innerRef"]),s=u()("media-body",t);return a.createElement("div",(0,n.Z)({className:s},o,{ref:r}))};Vr.propTypes={className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func])};var Gr=a.createContext({}),Wr=function(e){var t,r,o,s=e.innerRef,l=e.show,c=e.centered,f=e.size,p=e.color,h=e.borderColor,d=e.fade,v=e.backdrop,m=e.closeOnBackdrop,y=e.onOpened,g=e.onClosed,_=e.addContentClass,b=e.onClose,x=e.className,w=e.scrollable,S=(0,i.Z)(e,["innerRef","show","centered","size","color","borderColor","fade","backdrop","closeOnBackdrop","onOpened","onClosed","addContentClass","onClose","className","scrollable"]),P=(0,a.useState)(!1),k=P[0],C=P[1],A=(0,a.useState)(!1),T=A[0],O=A[1];(0,a.useEffect)((function(){C(l)}),[l]);var M=function(e){return"27"==e.keyCode&&I()};(0,a.useEffect)((function(){return k&&document.addEventListener("keydown",M),function(){return document.removeEventListener("keydown",M)}}),[k]);var I=function(){b&&b(),C(!1)},F=u()("modal overflow-auto fade",((t={})["modal-"+p]=p,t),x),R=u()("modal-dialog",((r={"modal-dialog-scrollable":w,"modal-dialog-centered":c})["modal-"+f]=f,r)),D=u()("modal-content",((o={})["border-"+h]=h,o),_),j=u()({"modal-backdrop":!0,fade:d,show:k||d}),L=(0,a.useRef)(null);return a.createElement("div",{onClick:function(e){return e.target.dataset.modal&&m&&I()}},a.createElement(E,{in:Boolean(k),onEntered:function(){O(document.querySelector(":focus")),L.current.focus(),y&&y()},onExited:function(){T&&T.focus(),g&&g()},timeout:d?150:0,nodeRef:L},(function(t){var r,i="entering"===(r=t)?"d-block":"entered"===r?"show d-block":"exiting"===r?"d-block":"",o=u()(F,i);return a.createElement("div",{tabIndex:"-1",role:"dialog",className:o,"data-modal":!0,ref:L},a.createElement("div",{className:R,role:"document"},a.createElement("div",(0,n.Z)({},S,{className:D,ref:s}),a.createElement(Gr.Provider,{value:{close:I}},e.children))))})),v&&k&&a.createElement("div",{className:j}))};Wr.propTypes={children:s().node,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),show:s().bool,centered:s().bool,size:s().oneOf(["","sm","lg","xl"]),backdrop:s().bool,color:s().string,borderColor:s().string,onOpened:s().func,onClosed:s().func,fade:s().bool,closeOnBackdrop:s().bool,onClose:s().func,addContentClass:s().string,scrollable:s().bool},Wr.defaultProps={backdrop:!0,fade:!0,closeOnBackdrop:!0};var qr=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=(0,i.Z)(e,["tag","className","innerRef"]),l=u()(r,"modal-body");return a.createElement(t,(0,n.Z)({className:l},s,{ref:o}))};qr.propTypes={tag:d,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func])},qr.defaultProps={tag:"div"};var Hr=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=e.closeButton,l=(0,i.Z)(e,["tag","className","innerRef","closeButton"]),c=(0,a.useContext)(Gr).close,f=u()(r,"modal-header");return a.createElement(t,(0,n.Z)({className:f},l,{ref:o}),e.children,s&&a.createElement(O,{onClick:c}))};Hr.propTypes={tag:d,children:s().node,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),closeButton:s().bool},Hr.defaultProps={tag:"header"};var Yr=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=(0,i.Z)(e,["tag","className","innerRef"]),l=u()(r,"modal-footer");return a.createElement(t,(0,n.Z)({className:l},s,{ref:o}))};Yr.propTypes={tag:d,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func])},Yr.defaultProps={tag:"footer"};var Xr=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=(0,i.Z)(e,["tag","className","innerRef"]),l=u()("modal-title",r);return a.createElement(t,(0,n.Z)({className:l},s,{ref:o}))};Xr.propTypes={tag:d,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func])},Xr.defaultProps={tag:"h5"};var Kr=function(e){var t,r=e.tag,o=e.className,s=e.innerRef,l=e.variant,c=e.vertical,f=e.justified,p=e.fill,h=e.inCard,d=(0,i.Z)(e,["tag","className","innerRef","variant","vertical","justified","fill","inCard"]),v="flex"+(!0===c?"":"-"+c)+"-column",m=u()("nav",c&&v,((t={})["nav-"+l]=l,t["nav-justified"]=f,t["nav-fill"]=p,t["card-header-"+l]=h&&l,t),o);return a.createElement(r,(0,n.Z)({className:m},d,{ref:s}))};Kr.propTypes={tag:d,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),variant:s().oneOf(["","tabs","pills"]),vertical:s().oneOfType([s().bool,s().string]),justified:s().bool,fill:s().bool,inCard:s().bool},Kr.defaultProps={tag:"ul"};var $r=Kr,Jr=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=(0,i.Z)(e,["tag","className","innerRef"]),l=u()("nav-item",r);return a.createElement(t,(0,n.Z)({className:l},s,{ref:o}))};Jr.propTypes={tag:d,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func])},Jr.defaultProps={tag:"li"};var Qr=Jr,en=a.createContext(),tn=function(e){var t=e.children,r=e.activeTab,n=e.onActiveTabChange,i=(0,a.useState)(0),o=i[0],s=i[1];(0,a.useEffect)((function(){void 0!==r&&s(r)}),[r]);return a.createElement(a.Fragment,null,a.createElement(en.Provider,{value:{active:o,setActiveTab:function(e){n&&n(e),s(e)}}},t))};tn.propTypes={children:s().node,activeTab:s().oneOfType([s().string,s().number]),onActiveTabChange:s().func};var rn=tn,nn=function(e){var t=e.current,r=t.parentElement.childNodes.length>1;return t.dataset.tab||function(e){return Array.from(e.parentNode.children).indexOf(e)}(r?t:t.parentElement)},an=function(e){var t=e.innerRef,r=e.className,o=e.onClick,s=(0,i.Z)(e,["innerRef","className","onClick"]),l=(0,a.useContext)(en),u=(l||{}).active,c=(0,a.createRef)();t&&t(c);var f=(0,a.useState)(),p=f[0],h=f[1];(0,a.useEffect)((function(){"undefined"!==typeof u&&h(nn(c)===u)}),[u]);return a.createElement(L,(0,n.Z)({active:p},s,{innerRef:c,onClick:function(e){o&&o(e),l&&l.setActiveTab(nn(c))},className:["nav-link",r]}))};an.propTypes={className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().func,s().object]),onClick:s().func};var on=an,sn=function(e){var t,r=e.tag,o=e.className,s=e.innerRef,l=(0,i.Z)(e,["tag","className","innerRef"]),c=u()(o),f=l.to||l.href?L:r,p=((t={})["string"===typeof f?"ref":"innerRef"]=s,t);return a.createElement(f,(0,n.Z)({className:c},l,p))};sn.propTypes={tag:d,children:s().node,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func])},sn.defaultProps={tag:"div"};var ln=sn,un=function(e){var t,r=e.tag,o=e.className,s=e.innerRef,l=e.expandable,c=e.light,f=e.fixed,p=e.sticky,h=e.color,d=(0,i.Z)(e,["tag","className","innerRef","expandable","light","fixed","sticky","color"]),v=u()("navbar",o,c?"navbar-light":"navbar-dark",((t={})["navbar-expand"+(!0===l?"":"-"+l)]=l,t["bg-"+h]=h,t["fixed-"+f]=f,t["sticky-top"]=p,t));return a.createElement(r,(0,n.Z)({className:v},d,{ref:s}))};un.propTypes={tag:d,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),light:s().bool,color:s().string,fixed:s().oneOf(["","top","bottom"]),sticky:s().bool,expandable:s().oneOfType([s().bool,s().string])},un.defaultProps={tag:"nav"};var cn=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=(0,i.Z)(e,["tag","className","innerRef"]),l=u()("navbar-nav",r);return a.createElement(t,(0,n.Z)({className:l},s,{ref:o}))};cn.propTypes={tag:d,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func])},cn.defaultProps={tag:"ul"};var fn=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=(0,i.Z)(e,["tag","className","innerRef"]),l=u()("navbar-text",r);return a.createElement(t,(0,n.Z)({className:l},s,{ref:o}))};fn.propTypes={tag:d,children:s().node,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func])},fn.defaultProps={tag:"div"};var pn=function(e){var t=e.className,r=e.innerRef,o=e.addListClass,s=e.activePage,l=e.size,c=e.firstButton,f=e.previousButton,p=e.nextButton,h=e.lastButton,d=e.dots,v=e.arrows,m=e.doubleArrows,y=e.limit,g=e.pages,_=e.align,b=e.onActivePageChange,x=(0,i.Z)(e,["className","innerRef","addListClass","activePage","size","firstButton","previousButton","nextButton","lastButton","dots","arrows","doubleArrows","limit","pages","align","onActivePageChange"]);(0,a.useEffect)((function(){g<s&&b(g,!0)}),[g]);var w=u()("pagination",l&&"pagination-"+l,"justify-content-"+_,o),S=u()("page-item",1===s&&"disabled"),P=u()("page-item",s===g&&"disabled"),k=d&&y>4&&y<g,E=Math.floor((y-1)/2),C=Math.ceil((y-1)/2),A=k&&s>E+1,T=k&&s<g-C,O=y-T-A,M=s+C,I=M>=g?g:M-T,F=g<O?g:O,R=s-E<=1?Array.from({length:F},(function(e,t){return t+1})):Array.from({length:F},(function(e,t){return I-t})).reverse(),D=function(e){e!==s&&b(e)};return a.createElement("nav",(0,n.Z)({className:t,"aria-label":"pagination"},x,{ref:r}),a.createElement("ul",{className:w},m&&a.createElement("li",{className:S},a.createElement(L,{className:"page-link",onClick:function(){return D(1)},"aria-label":"Go to first page","aria-disabled":1===s,disabled:1===s},c)),v&&a.createElement("li",{className:S},a.createElement(L,{className:"page-link",onClick:function(){return D(s-1)},"aria-label":"Go to previous page","aria-disabled":1===s,disabled:1===s},f)),A&&a.createElement("li",{role:"separator",className:"page-item disabled"},a.createElement("span",{className:"page-link"},"\u2026")),R.map((function(e){return a.createElement("li",{className:(s===e?"active":"")+" page-item",key:e},a.createElement(L,{className:"page-link",onClick:function(t){return D(e)},"aria-label":s===e?"Current page "+e:"Go to page "+e},e))})),T&&a.createElement("li",{role:"separator",className:"page-item disabled"},a.createElement("span",{className:"page-link"},"\u2026")),v&&a.createElement("li",{className:P},a.createElement(L,{className:"page-link",onClick:function(){return D(s+1)},"aria-label":"Go to next page","aria-disabled":s===g,disabled:s===g},p)),m&&a.createElement("li",{className:P},a.createElement(L,{className:"page-link",onClick:function(){return D(g)},"aria-label":"Go to last page","aria-disabled":s===g,disabled:s===g},h))))};pn.propTypes={className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),activePage:s().number,dots:s().bool,arrows:s().bool,doubleArrows:s().bool,firstButton:s().oneOfType([s().node,s().string]),previousButton:s().oneOfType([s().node,s().string]),nextButton:s().oneOfType([s().node,s().string]),lastButton:s().oneOfType([s().node,s().string]),size:s().oneOf(["","sm","lg"]),align:s().oneOf(["start","center","end"]),addListClass:s().string,limit:s().number,pages:s().number,onActivePageChange:s().func.isRequired},pn.defaultProps={activePage:1,dots:!0,arrows:!0,doubleArrows:!0,limit:5,firstButton:a.createElement(a.Fragment,null,"\xab"),previousButton:a.createElement(a.Fragment,null,"\u2039"),nextButton:a.createElement(a.Fragment,null,"\u203a"),lastButton:a.createElement(a.Fragment,null,"\xbb"),align:"start",pages:10};var hn=pn;function dn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dn(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var mn=function(e){var t=vn(vn({},(0,a.useContext)(gn).inheritedProps),e),r=t.children,o=t.className,s=t.innerRef,l=t.color,c=t.striped,f=t.animated,p=t.precision,h=t.showPercentage,d=t.showValue,v=t.max,m=t.value,y=(0,i.Z)(t,["children","className","innerRef","color","striped","animated","precision","showPercentage","showValue","max","value"]),g=u()("progress-bar",f&&"progress-bar-animated",(c||f)&&"progress-bar-striped",l&&"bg-"+l,o),_=Number(m).toFixed(p),b=Number(m/v*100).toFixed(p)+"%";return a.createElement("div",(0,n.Z)({className:g,style:{width:m/v*100+"%"},role:"progressbar","aria-valuenow":m,"aria-valuemin":"0","aria-valuemax":v},y,{ref:s}),h?b:d?_:r)};mn.propTypes={children:s().node,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),value:s().number,max:s().number,animated:s().bool,striped:s().bool,color:s().string,precision:s().number,showPercentage:s().bool,showValue:s().bool};var yn=mn,gn=a.createContext({}),_n=function(e){var t=e.children,r=e.className,o=e.innerRef,s=e.size,l=e.color,c=e.striped,f=e.animated,p=e.precision,h=e.showPercentage,d=e.showValue,v=e.max,m=e.value,y=(0,i.Z)(e,["children","className","innerRef","size","color","striped","animated","precision","showPercentage","showValue","max","value"]),g={color:l,striped:c,animated:f,precision:p,showPercentage:h,showValue:d,max:v,value:m},_=u()("progress",s&&"progress-"+s,r);return a.createElement("div",(0,n.Z)({className:_},y,{ref:o}),a.createElement(gn.Provider,{value:{inheritedProps:g}},t||a.createElement(yn,null)))};_n.propTypes={children:s().node,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),size:s().string,value:s().oneOfType([s().string,s().number]),max:s().oneOfType([s().string,s().number]),animated:s().bool,striped:s().bool,color:s().string,precision:s().number,showPercentage:s().bool,showValue:s().bool},_n.defaultProps={value:0,max:100,precision:0};var bn=_n,xn=function(e){var t=e.className,r=e.innerRef,o=e.size,s=e.color,l=e.labelOn,c=e.labelOff,f=e.variant,p=e.shape,h=(0,i.Z)(e,["className","innerRef","size","color","labelOn","labelOff","variant","shape"]),d=u()("c-switch form-check-label",(l||c)&&"c-switch-label",o&&"c-switch-"+o,p&&"c-switch-"+p,s&&"c-switch"+(f?"-"+f:"")+"-"+s,t),v=u()("c-switch-input","c-form-check-input");return a.createElement("label",{className:d},a.createElement("input",(0,n.Z)({className:v,type:"checkbox"},h,{ref:r})),a.createElement("span",{className:"c-switch-slider","data-checked":l,"data-unchecked":c}))};xn.propTypes={className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),size:s().oneOf(["","lg","sm"]),shape:s().oneOf(["","pill","square"]),variant:s().oneOf(["","3d","opposite","outline"]),color:s().string,labelOn:s().string,labelOff:s().string};var wn=r(16516),Sn=["512 512","<polygon fill='var(--ci-primary-color, currentColor)' points='40 16 40 53.828 109.024 136 150.815 136 76.896 48 459.51 48 304 242.388 304 401.373 241.373 464 240 464 240 368 208 368 208 496 254.627 496 336 414.627 336 253.612 496 53.612 496 16 40 16' class='ci-primary'/><polygon fill='var(--ci-primary-color, currentColor)' points='166.403 248.225 226.864 187.763 204.237 165.135 143.775 225.597 83.313 165.135 60.687 187.763 121.148 248.225 60.687 308.687 83.313 331.314 143.775 270.852 204.237 331.314 226.864 308.687 166.403 248.225' class='ci-primary'/>"],Pn=r(22655),kn=r(58819),En="CDataTable_transparent__A2U+-",Cn="CDataTable_icon-transition__3jEV8",An="CDataTable_arrow-position__NzoQn",Tn="CDataTable_rotate-icon__jbzcU";function On(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?On(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):On(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var In=function(e){var t,r=e.innerRef,i=e.overTableSlot,o=e.columnHeaderSlot,s=e.sortingIconSlot,l=e.columnFilterSlot,c=e.noItemsViewSlot,f=e.noItemsView,p=e.captionSlot,h=e.footerSlot,d=e.underTableSlot,v=e.theadTopSlot,m=e.loadingSlot,y=e.scopedSlots,g=e.loading,_=e.fields,b=e.pagination,x=e.activePage,w=e.itemsPerPage,S=e.items,P=e.sorter,k=e.header,E=e.clickableRows,C=e.columnFilter,A=e.tableFilterValue,T=e.tableFilter,O=e.cleaner,M=e.addTableClasses,I=e.size,F=e.dark,R=e.striped,D=e.hover,j=e.border,L=e.outlined,N=e.responsive,z=e.footer,B=e.itemsPerPageSelect,Z=e.sorterValue,U=e.columnFilterValue,V=e.onRowClick,G=e.onSorterValueChange,W=e.onPaginationChange,q=e.onColumnFilterChange,H=e.onPagesChange,Y=e.onTableFilterChange,X=e.onPageChange,K=e.onFilteredItemsChange,$=(0,a.useRef)({firstRun:!0,columnFiltered:0,changeItems:0}).current,J=(0,a.useState)(w),Q=J[0],ee=J[1],te=(0,a.useState)(Z||{}),re=te[0],ne=te[1],ie=(0,a.useState)(A),ae=ie[0],oe=ie[1],se=(0,a.useState)(U||{}),le=se[0],ue=se[1],ce=(0,a.useState)(x||1),fe=ce[0],pe=ce[1],he=(0,a.useState)(S||[]),de=he[0],ve=he[1],me=function(e,t,r){var n=[];return e._cellClasses&&e._cellClasses[t]&&n.push(e._cellClasses[t]),_&&_[r]._classes&&n.push(_[r]._classes),n},ye=function(e){return e.replace(/[-_.]/g," ").replace(/ +/g," ").replace(/([a-z0-9])([A-Z])/g,"$1 $2").split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")},ge=function(e){return _&&_[e]._classes&&_[e]._classes},_e=function(e){var t=Oe.includes(Te[e]);return P&&(!_||!1!==_[e].sorter)&&t},be=function(e){var t={verticalAlign:"middle",overflow:"hidden"};return _e(e)&&(t.cursor="pointer"),_&&_[e]&&_[e]._style?Mn(Mn({},t),_[e]._style):t},xe=function(e){var t=re.asc?"asc":"desc";return Te[e]===re.column?t:0},we=function(e){var t=xe(e);return["position-absolute",Cn,An,!t&&En,"desc"===t&&Tn]},Se=function(e,t,r,n){void 0===n&&(n=!1),V&&V(e,t,Ee(r,n),r)};(0,a.useEffect)((function(){G&&G(re)}),[JSON.stringify(re)]);var Pe=function(e,t,r){var n,i=C&&!0===C.lazy;if(!(i&&"input"===r||!i&&"change"===r)){var a=Mn(Mn({},le),{},((n={})[""+e]=t,n));ue(a)}};(0,a.useEffect)((function(){q&&q(le)}),[JSON.stringify(le)]);var ke=function(e,t){var r=T&&!0===T.lazy;r&&"input"===t||!r&&"change"===t||oe(e)};(0,a.useEffect)((function(){Y&&Y(ae)}),[ae]);var Ee=function(e,t){if(t)return"details";var r=Array.from(e.target.closest("tr").children),n=r.filter((function(t){return t.contains(e.target)}))[0];return Te[r.indexOf(n)]},Ce=function(){oe(""),ue({}),ne({column:"",asc:!0})},Ae=Object.keys(de[0]||{}).filter((function(e){return"_"!==e.charAt(0)})),Te=_?_.map((function(e){return e.key||e})):Ae,Oe=Te.filter((function(e){return Ae.includes(e)}));(0,a.useMemo)((function(){$.columnFiltered++}),[JSON.stringify(C),JSON.stringify(le),Oe.join(""),$.changeItems]);var Me=(0,a.useMemo)((function(){var e=de;return C&&C.external||Object.entries(le).forEach((function(t){var r=t[0],n=t[1],i=String(n).toLowerCase();i&&Oe.includes(r)&&(e=e.filter((function(e){return String(e[r]).toLowerCase().includes(i)})))})),e}),[$.columnFiltered]),Ie=(0,a.useMemo)((function(){var e=Me;if(!ae||T&&T.external)return e;var t=ae.toLowerCase();return e=e.filter((function(e){return!!Oe.find((function(r){return n=e[r],String(n).toLowerCase().includes(t);var n}))}))}),[$.columnFiltered,ae,JSON.stringify(T)]),Fe=(0,a.useMemo)((function(){var e=re.column;if(!e||!Oe.includes(e)||P&&P.external)return Ie;var t=re.asc?1:-1;return Ie.slice().sort((function(r,n){var i=r[e],a=n[e],o="number"===typeof i?i:String(i).toLowerCase(),s="number"===typeof a?a:String(a).toLowerCase();return o>s?1*t:s>o?-1*t:0}))}),[JSON.stringify(Ie),JSON.stringify(re),JSON.stringify(P)]);(0,a.useEffect)((function(){!$.firstRun&&K&&K(Fe)}),[JSON.stringify(Fe)]);var Re=["table",(t={},t["table-"+I]=I,t["table-dark"]=F,t["table-striped"]=R,t["table-hover"]=D,t["table-bordered"]=j,t.border=L,t),M],De=(0,a.useMemo)((function(){return _?_.map((function(e){return void 0!==e.label?e.label:ye(e.key||e)})):Te.map((function(e){return ye(e)}))}),[_,Te]),je=P&&"position-relative pr-4",Le=Te.length,Ne=Math.ceil(Fe.length/Q)||1;(0,a.useMemo)((function(){!$.firstRun&&H&&H(Ne)}),[Ne]);var ze=(0,a.useMemo)((function(){var e=b?fe:x;return!$.firstRun&&X&&X(e),e}),[fe,x,b]),Be=(ze-1)*Q||0,Ze=Fe.slice(Be,Be+Q),Ue=ze?Ze:Fe,Ve={label:T&&T.label||"Filter:",placeholder:T&&T.placeholder||"type string..."},Ge={label:B&&B.label||"Items per page:",values:B&&B.values||[5,10,20,50]},We=function(){var e=f||{};return de.length?e.noResults||"No filtering results":e.noItems||"No items"}(),qe=ae||re.column||Object.values(le).join(""),He={content:Sn,className:"mfs-2 "+(qe?"text-danger":"transparent"),role:qe?"button":null,tabIndex:qe?0:null};(0,a.useMemo)((function(){return ee(w)}),[w]),(0,a.useMemo)((function(){return ne(Mn({},Z))}),[Z]),(0,a.useMemo)((function(){return oe(A)}),[A]),(0,a.useMemo)((function(){return ue(Mn({},U))}),[U]),(0,a.useMemo)((function(){!S||$.firstRun||S.length===de.length&&JSON.stringify(S)===JSON.stringify(de)||(ve(S),$.changeItems++)})),$.firstRun=!1;var Ye="object"===typeof b?b:null,Xe=a.createElement("tr",null,De.map((function(e,t){return a.createElement("th",{onClick:function(){!function(e,t){if(_e(t)){var r=re,n=r.column===e;P&&P.resetable?r.column=n&&!1===r.asc?null:e:r.column=e,r.asc=!(n&&r.asc),ne(Mn({},r))}}(Te[t],t)},className:u()([ge(t),je]),style:be(t),key:t},o[""+Te[t]]||a.createElement("div",{className:"d-inline"},e),_e(t)&&(s&&s(xe(t),we(t))||a.createElement(wn.ZP,{customClasses:u()(we(t)),width:18,content:Pn.T})))})));return a.createElement(a.Fragment,null,a.createElement("div",{ref:r},(B||T||O)&&a.createElement("div",{className:"row my-2 mx-0"},(T||O)&&a.createElement("div",{className:"col-sm-6 form-inline p-0 c-datatable-filter"},T&&a.createElement(a.Fragment,null,a.createElement("label",{className:"mfe-2"},Ve.label),a.createElement("input",{className:"form-control",type:"text",placeholder:Ve.placeholder,onInput:function(e){ke(e.target.value,"input")},onChange:function(e){ke(e.target.value,"change")},value:ae||"","aria-label":"table filter input"})),O&&("function"===typeof O?O(Ce,qe,He):a.createElement(wn.ZP,(0,n.Z)({},He,{onClick:Ce,onKeyUp:function(e){"Enter"===e.key&&Ce()}})))),B&&a.createElement("div",{className:"col-sm-6 p-0 "+(T||O?"":"offset-sm-6")},a.createElement("div",{className:"form-inline justify-content-sm-end c-datatable-items-per-page"},a.createElement("label",{className:"mfe-2"},Ge.label),a.createElement("select",{className:"form-control",onChange:function(e){W&&W(Number(e.target.value)),!B.external&&ee(Number(e.target.value))},"aria-label":"changes number of visible items",value:Q},Ge.values.map((function(e,t){return a.createElement("option",{val:e,key:t},e)}))))))),i,a.createElement("div",{className:"position-relative "+(N&&"table-responsive")},a.createElement("table",{className:u()(Re)},a.createElement("thead",null,v,k&&Xe,C&&a.createElement("tr",{className:"table-sm"},Te.map((function(e,t){return a.createElement("th",{className:u()(ge(t)),key:t},l[""+Te[t]]||(!_||!1!==_[t].filter)&&a.createElement("input",{className:"form-control form-control-sm",onInput:function(t){Pe(e,t.target.value,"input")},onChange:function(t){Pe(e,t.target.value,"change")},value:le[e]||"","aria-label":"column name: '"+e+"' filter input"}))})))),a.createElement("tbody",{style:E&&{cursor:"pointer"}},Ue.map((function(e,t){return a.createElement(a.Fragment,{key:t},a.createElement("tr",{className:u()(e._classes),tabIndex:E&&0,onClick:function(r){Se(e,t+Be,r)}},Te.map((function(r,n){return y[r]&&a.cloneElement(y[r](e,t+Be),{key:n})||a.createElement("td",{className:u()(me(e,r,n)),key:n},String(e[r]))}))),y.details&&a.createElement("tr",{onClick:function(r){Se(e,t+Be,r,!0)},className:"p-0",style:{border:"none !important"},key:"details"+t},a.createElement("td",{colSpan:Le,className:"p-0",style:{border:"none !important"}},y.details(e,t+Be))))})),!Ue.length&&a.createElement("tr",null,a.createElement("td",{colSpan:Le},c||a.createElement("div",{className:"text-center my-5"},a.createElement("h2",null,We+" ",a.createElement(wn.ZP,{width:"30",name:"cilBan",content:kn.E,className:"text-danger mb-2"})))))),z&&Ue.length>0&&a.createElement("tfoot",null,Xe),h,p),g&&(m||a.createElement(sr,{boundaries:[{sides:["top"],query:"td"},{sides:["bottom"],query:"tbody"}]}))),d,b&&a.createElement(hn,(0,n.Z)({style:{display:Ne>1?"inline":"none"},onActivePageChange:function(e){pe(e)},pages:Ne,activePage:fe},Ye)))};In.propTypes={innerRef:s().oneOfType([s().object,s().func]),overTableSlot:s().node,columnHeaderSlot:s().object,sortingIconSlot:s().func,columnFilterSlot:s().object,noItemsViewSlot:s().node,noItemsView:s().object,captionSlot:s().node,footerSlot:s().node,underTableSlot:s().node,scopedSlots:s().object,theadTopSlot:s().node,loadingSlot:s().node,loading:s().bool,fields:s().array,pagination:s().oneOfType([s().bool,s().object]),activePage:s().number,itemsPerPage:s().number,items:s().array,sorter:s().oneOfType([s().bool,s().object]),clickableRows:s().bool,columnFilter:s().oneOfType([s().bool,s().object]),tableFilterValue:s().string,tableFilter:s().oneOfType([s().bool,s().object]),cleaner:s().oneOfType([s().bool,s().func]),addTableClasses:s().oneOfType([s().string,s().array,s().object]),size:s().string,dark:s().bool,striped:s().bool,hover:s().bool,border:s().bool,outlined:s().bool,responsive:s().bool,footer:s().bool,itemsPerPageSelect:s().oneOfType([s().bool,s().object]),sorterValue:s().object,columnFilterValue:s().object,header:s().bool,onRowClick:s().func,onSorterValueChange:s().func,onPaginationChange:s().func,onColumnFilterChange:s().func,onPagesChange:s().func,onTableFilterChange:s().func,onPageChange:s().func,onFilteredItemsChange:s().func},In.defaultProps={itemsPerPage:10,responsive:!0,columnHeaderSlot:{},columnFilterSlot:{},scopedSlots:{},sorterValue:{},header:!0};var Fn=In,Rn=a.createContext(),Dn=function(e){var t=e.className,r=e.innerRef,o=e.fade,s=(0,i.Z)(e,["className","innerRef","fade"]),l=u()("tab-content",t);return a.createElement(Rn.Provider,{value:o},a.createElement("div",(0,n.Z)({className:l},s,{ref:r})))};Dn.propTypes={className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),fade:s().bool},Dn.defaultProps={fade:!0};var jn=Dn,Ln=function(e){return e.current.dataset.tab||(t=e.current,Array.from(t.parentNode.children).indexOf(t));var t},Nn=function(e){var t=e.className,r=e.innerRef,o=e.active,s=(0,i.Z)(e,["className","innerRef","active"]),l=(0,a.useContext)(en)||{},c=l.active,p=l.setActiveTab,d=(0,a.useContext)(Rn),v="object"===typeof r?r:(0,a.useRef)();"function"===typeof r&&r(v);var m=(0,a.useState)(),y=m[0],g=m[1];(0,a.useEffect)((function(){g(c===Ln(v))}),[c]),(0,a.useEffect)((function(){void 0!==o&&(p?p(o&&Ln(v)):g(o))}),[o]);var _=u()("tab-pane",{active:y},t),b=f(s,h);return a.createElement(A,(0,n.Z)({in:y,baseClass:d?"fade":"",className:_},b,{innerRef:v}))};Nn.propTypes={className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().func,s().object]),active:s().bool};var zn=Nn,Bn=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=e.fixed,l=(0,i.Z)(e,["tag","className","innerRef","fixed"]),c=u()("c-footer",s?"c-footer-fixed":null,r);return a.createElement(t,(0,n.Z)({className:c},l,{ref:o}))};Bn.propTypes={tag:s().oneOfType([s().func,s().string]),children:s().node,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),fixed:s().bool},Bn.defaultProps={tag:"footer",fixed:!1};var Zn=Bn,Un=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=e.fixed,l=e.colorScheme,c=e.withSubheader,f=(0,i.Z)(e,["tag","className","innerRef","fixed","colorScheme","withSubheader"]),p=u()(r,"c-header",l?"c-header-"+l:null,s?"c-header-fixed":null,c?"c-header-with-subheader":null);return a.createElement(t,(0,n.Z)({className:p},f,{ref:o}))};Un.propTypes={tag:s().oneOfType([s().func,s().string]),className:s().oneOfType([s().string,s().array,s().object]),children:s().node,innerRef:s().oneOfType([s().object,s().func]),fixed:s().bool,withSubheader:s().bool,colorScheme:s().string},Un.defaultProps={tag:"header",fixed:!0,colorScheme:"light"};var Vn=Un,Gn=function(e){var t=e.className,r=e.innerRef,o=(0,i.Z)(e,["className","innerRef"]),s=u()(t,"c-header-nav");return a.createElement("ul",(0,n.Z)({className:s},o,{ref:r}))};Gn.propTypes={className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func])};var Wn=Gn,qn=function(e){var t=e.className,r=e.innerRef,o=(0,i.Z)(e,["className","innerRef"]),s=u()(t,"c-header-nav-item");return a.createElement("li",(0,n.Z)({className:s},o,{ref:r}))};qn.propTypes={className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func])};var Hn=function(e){var t=e.className,r=e.innerRef,o=(0,i.Z)(e,["className","innerRef"]),s=u()(t,"c-header-nav-link");return a.createElement(L,(0,n.Z)({className:s},o,{innerRef:r}))};Hn.propTypes={className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func])};var Yn=function(e){return a.createElement(ln,(0,n.Z)({},e,{className:["c-header-brand",e.className]}))},Xn=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=(0,i.Z)(e,["tag","className","innerRef"]),l=u()("c-subheader",r);return a.createElement(t,(0,n.Z)({className:l},s,{ref:o}))};Xn.propTypes={tag:d,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func])},Xn.defaultProps={tag:"div"};var Kn=Xn,$n=a.createContext({}),Jn=function(e){var t=e.children,r=e.className,o=e.innerRef,s=e.breakpoint,l=e.show,c=e.fixed,f=e.unfoldable,p=e.minimize,h=e.size,d=e.hideOnMobileClick,v=e.aside,m=e.colorScheme,y=e.overlaid,g=e.dropdownMode,_=e.onShowChange,b=e.onMinimizeChange,x=(0,i.Z)(e,["children","className","innerRef","breakpoint","show","fixed","unfoldable","minimize","size","hideOnMobileClick","aside","colorScheme","overlaid","dropdownMode","onShowChange","onMinimizeChange"]),w=(0,a.useState)(Math.random().toString(36).substr(2))[0],S=(0,a.useState)(l),P=S[0],k=S[1],E=(0,a.useState)(),C=E[0],A=E[1],T=(0,a.useRef)({}).current,O=(0,a.useState)(p),M=O[0],I=O[1];(0,a.useMemo)((function(){I(p)}),[p]);(0,a.useMemo)((function(){k(l)}),[l]),(0,a.useEffect)((function(){return!0===P?D():j(),function(){return j()}}),[P]);var F=function(e){document.getElementById(w+"backdrop")&&!T.current.contains(e.target)&&L()},R=function(e){e.key.includes("Esc")&&N()&&L()},D=function(){var e=document.createElement("div");y?document.addEventListener("click",F):e.addEventListener("click",L),document.addEventListener("keydown",R),e.className="c-sidebar-backdrop c-show",e.id=w+"backdrop",document.body.appendChild(e)},j=function(){var e=document.getElementById(w+"backdrop");e&&(document.removeEventListener("click",F),e.removeEventListener("click",L),document.removeEventListener("keydown",R),document.body.removeChild(e))},L=function(){"function"===typeof _?_(!y&&"responsive"):k(!y&&"responsive")},N=function(){return Boolean(getComputedStyle(T.current).getPropertyValue("--is-mobile"))||y},z=s&&"responsive"===P,B=u()("c-sidebar",m&&"c-sidebar-"+m,!0===P&&"c-sidebar-show",z&&"c-sidebar-"+s+"-show",c&&!y&&"c-sidebar-fixed",v&&"c-sidebar-right",M&&!f&&"c-sidebar-minimized",M&&f&&"c-sidebar-unfoldable",y&&"c-sidebar-overlaid",h&&"c-sidebar-"+h,r);return a.createElement($n.Provider,{value:{dropdownMode:g,scrollbarExist:!M||f,toggleMinimize:function(){I(!M),b&&b(M)},openDropdown:C,setOpenDropdown:A}},a.createElement("div",(0,n.Z)({className:B},x,{ref:function(e){T.current=e,o&&o(e)},onClick:function(e){String(e.target.className).includes("c-sidebar-nav-link")&&d&&N()&&L()}}),t))};Jn.propTypes={children:s().node,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),fixed:s().bool,unfoldable:s().bool,overlaid:s().bool,breakpoint:s().oneOf([!1,"","sm","md","lg","xl","xxl"]),minimize:s().bool,show:s().oneOf(["",!0,!1,"responsive"]),size:s().oneOf(["","sm","lg","xl"]),hideOnMobileClick:s().bool,aside:s().bool,colorScheme:s().string,dropdownMode:s().oneOf(["","openActive","close","closeInactive","noAction"]),onShowChange:s().func,onMinimizeChange:s().func},Jn.defaultProps={fixed:!0,breakpoint:"lg",show:"responsive",hideOnMobileClick:!0,colorScheme:"dark"};var Qn=Jn,ei=function(e){return a.createElement(ln,(0,n.Z)({},e,{className:["c-sidebar-brand",e.className]}))},ti=function(e){var t=e.className,r=e.innerRef,o=(0,i.Z)(e,["className","innerRef"]),s=u()("c-sidebar-nav-divider",t);return a.createElement("li",(0,n.Z)({className:s},o,{ref:r}))};ti.propTypes={className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func])};var ri=ti,ni=function(e){var t=e.className,r=e.innerRef,o=(0,i.Z)(e,["className","innerRef"]),s=u()("c-sidebar-nav-title",t);return a.createElement("li",(0,n.Z)({className:s},o,{ref:r}))};ni.propTypes={className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func])};var ii=ni;function ai(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ai(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ai(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var si=a.createContext({}),li=function(e){if("object"===typeof e){var t,r=e.size?"className":"customClasses";return oi(oi({},e),{},((t={})[""+r]=e.customClasses||"c-sidebar-nav-icon "+e.className,t))}return{customClasses:"c-sidebar-nav-icon",name:e}},ui=function(e){var t=e.children,r=e.className,o=e.innerRef,s=e.icon,l=e.fontIcon,c=e.name,f=e.show,p=e.route,h=(0,i.Z)(e,["children","className","innerRef","icon","fontIcon","name","show","route"]),d=(0,a.createRef)();o&&o(d);var v=(0,a.useContext)($n),m=v.dropdownMode,y=v.openDropdown,g=v.setOpenDropdown,_=(0,a.useState)(f),b=_[0],x=_[1];(0,a.useEffect)((function(){x(f)}),[f]),(0,a.useEffect)((function(){!m&&(!y||!d.current.contains(y))&&x(!1)}),[y]);var w="";try{w=(0,q.TH)().pathname}catch(k){console.warn(k)}(0,a.useEffect)((function(){"close"===m?x(!1):"closeInactive"===m&&p?x(w.includes(p)):m&&"noAction"===m||b||!p||x(w.includes(p))}),[w]);var S=u()("c-sidebar-nav-dropdown",b&&"c-show",r),P=u()("c-sidebar-nav-icon",l);return a.createElement("li",(0,n.Z)({className:S},h,{ref:d}),a.createElement("a",{className:"c-sidebar-nav-dropdown-toggle",tabIndex:"0",onClick:function(){!m&&g(b?d.current.parentNode.closest(".c-sidebar-nav-dropdown"):d.current),x(!b)},"aria-label":"menu dropdown"},s&&((0,a.isValidElement)(s)?s:a.createElement(wn.ZP,li(s))),l&&a.createElement("i",{className:P}),c),a.createElement("ul",{className:"c-sidebar-nav-dropdown-items"},a.createElement(si.Provider,{value:{isOpen:b}},t)))};ui.propTypes={className:s().oneOfType([s().string,s().array,s().object]),children:s().node,innerRef:s().oneOfType([s().object,s().func]),name:s().oneOfType([s().string,s().object]),icon:s().oneOfType([s().object,s().string]),fontIcon:s().string,show:s().bool,route:s().string};var ci=ui;function fi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fi(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var hi=function(e){var t=e.children,r=e.className,o=e.innerRef,s=e.name,l=e.icon,c=e.fontIcon,f=e.badge,p=e.addLinkClass,h=e.label,d=e.color,v=(0,i.Z)(e,["children","className","innerRef","name","icon","fontIcon","badge","addLinkClass","label","color"]),m=(0,a.useContext)(si).isOpen,y=u()("c-sidebar-nav-item",r),g=u()(h?"c-sidebar-nav-label":"c-sidebar-nav-link",d&&"c-sidebar-nav-link-"+d,p),_=v.to&&{exact:!0,activeClassName:"c-active"};return a.createElement("li",{className:y,ref:o},t||a.createElement(L,(0,n.Z)({className:g},_,v,{tabIndex:!1===m?-1:0}),l&&((0,a.isValidElement)(l)?l:a.createElement(wn.ZP,li(l))),c&&a.createElement("i",{className:"c-sidebar-nav-icon "+c}),s,f&&a.createElement(z,pi(pi({},f),{},{text:null}),f.text)))};hi.propTypes={children:s().node,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().func,s().object]),icon:s().oneOfType([s().string,s().object]),fontIcon:s().string,badge:s().object,addLinkClass:s().string,label:s().bool,name:s().oneOfType([s().string,s().object]),color:s().string};var di=hi,vi=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=(0,i.Z)(e,["tag","className","innerRef"]),l=u()("c-sidebar-footer",r);return a.createElement(t,(0,n.Z)({className:l},s,{ref:o}))};vi.propTypes={tag:s().oneOfType([s().func,s().string]),className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func])},vi.defaultProps={tag:"div"};var mi=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=(0,i.Z)(e,["tag","className","innerRef"]),l=u()("c-sidebar-form",r);return a.createElement(t,(0,n.Z)({className:l},s,{ref:o}))};mi.propTypes={tag:s().oneOfType([s().func,s().string]),className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func])},mi.defaultProps={tag:"div"};var yi=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=(0,i.Z)(e,["tag","className","innerRef"]),l=u()("c-sidebar-header",r);return a.createElement(t,(0,n.Z)({className:l},s,{ref:o}))};yi.propTypes={tag:s().oneOfType([s().func,s().string]),className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func])},yi.defaultProps={tag:"div"};var gi=function(e){var t=e.className,r=e.innerRef,o=(0,i.Z)(e,["className","innerRef"]),s=(0,a.useContext)($n).toggleMinimize,l=u()("c-sidebar-minimizer",t);return a.createElement("button",(0,n.Z)({className:l,type:"button"},o,{onClick:s,ref:r}))};gi.propTypes={className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func])};var _i=gi;function bi(e){return getComputedStyle(e)}function xi(e,t){for(var r in t){var n=t[r];"number"===typeof n&&(n+="px"),e.style[r]=n}return e}function wi(e){var t=document.createElement("div");return t.className=e,t}var Si="undefined"!==typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function Pi(e,t){if(!Si)throw new Error("No element matching method supported");return Si.call(e,t)}function ki(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function Ei(e,t){return Array.prototype.filter.call(e.children,(function(e){return Pi(e,t)}))}var Ci="ps",Ai="ps__rtl",Ti={thumb:function(e){return"ps__thumb-"+e},rail:function(e){return"ps__rail-"+e},consuming:"ps__child--consume"},Oi={focus:"ps--focus",clicking:"ps--clicking",active:function(e){return"ps--active-"+e},scrolling:function(e){return"ps--scrolling-"+e}},Mi={x:null,y:null};function Ii(e,t){var r=e.element.classList,n=Oi.scrolling(t);r.contains(n)?clearTimeout(Mi[t]):r.add(n)}function Fi(e,t){Mi[t]=setTimeout((function(){return e.isAlive&&e.element.classList.remove(Oi.scrolling(t))}),e.settings.scrollingThreshold)}var Ri=function(e){this.element=e,this.handlers={}},Di={isEmpty:{configurable:!0}};Ri.prototype.bind=function(e,t){"undefined"===typeof this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)},Ri.prototype.unbind=function(e,t){var r=this;this.handlers[e]=this.handlers[e].filter((function(n){return!(!t||n===t)||(r.element.removeEventListener(e,n,!1),!1)}))},Ri.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)},Di.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every((function(t){return 0===e.handlers[t].length}))},Object.defineProperties(Ri.prototype,Di);var ji=function(){this.eventElements=[]};function Li(e){if("function"===typeof window.CustomEvent)return new CustomEvent(e);var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,void 0),t}function Ni(e,t,r,n,i){var a;if(void 0===n&&(n=!0),void 0===i&&(i=!1),"top"===t)a=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==t)throw new Error("A proper axis should be provided");a=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(e,t,r,n,i){var a=r[0],o=r[1],s=r[2],l=r[3],u=r[4],c=r[5];void 0===n&&(n=!0);void 0===i&&(i=!1);var f=e.element;e.reach[l]=null,f[s]<1&&(e.reach[l]="start");f[s]>e[a]-e[o]-1&&(e.reach[l]="end");t&&(f.dispatchEvent(Li("ps-scroll-"+l)),t<0?f.dispatchEvent(Li("ps-scroll-"+u)):t>0&&f.dispatchEvent(Li("ps-scroll-"+c)),n&&function(e,t){Ii(e,t),Fi(e,t)}(e,l));e.reach[l]&&(t||i)&&f.dispatchEvent(Li("ps-"+l+"-reach-"+e.reach[l]))}(e,r,a,n,i)}function zi(e){return parseInt(e,10)||0}ji.prototype.eventElement=function(e){var t=this.eventElements.filter((function(t){return t.element===e}))[0];return t||(t=new Ri(e),this.eventElements.push(t)),t},ji.prototype.bind=function(e,t,r){this.eventElement(e).bind(t,r)},ji.prototype.unbind=function(e,t,r){var n=this.eventElement(e);n.unbind(t,r),n.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(n),1)},ji.prototype.unbindAll=function(){this.eventElements.forEach((function(e){return e.unbindAll()})),this.eventElements=[]},ji.prototype.once=function(e,t,r){var n=this.eventElement(e);n.bind(t,(function e(i){n.unbind(t,e),r(i)}))};var Bi={isWebKit:"undefined"!==typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!==typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!==typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!==typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function Zi(e){var t=e.element,r=Math.floor(t.scrollTop),n=t.getBoundingClientRect();e.containerWidth=Math.round(n.width),e.containerHeight=Math.round(n.height),e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight,t.contains(e.scrollbarXRail)||(Ei(t,Ti.rail("x")).forEach((function(e){return ki(e)})),t.appendChild(e.scrollbarXRail)),t.contains(e.scrollbarYRail)||(Ei(t,Ti.rail("y")).forEach((function(e){return ki(e)})),t.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=Ui(e,zi(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=zi((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=Ui(e,zi(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=zi(r*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),function(e,t){var r={width:t.railXWidth},n=Math.floor(e.scrollTop);t.isRtl?r.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:r.left=e.scrollLeft;t.isScrollbarXUsingBottom?r.bottom=t.scrollbarXBottom-n:r.top=t.scrollbarXTop+n;xi(t.scrollbarXRail,r);var i={top:n,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?i.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth-9:i.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?i.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:i.left=t.scrollbarYLeft+e.scrollLeft;xi(t.scrollbarYRail,i),xi(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),xi(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}(t,e),e.scrollbarXActive?t.classList.add(Oi.active("x")):(t.classList.remove(Oi.active("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,t.scrollLeft=!0===e.isRtl?e.contentWidth:0),e.scrollbarYActive?t.classList.add(Oi.active("y")):(t.classList.remove(Oi.active("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,t.scrollTop=0)}function Ui(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function Vi(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=e.element,p=null,h=null,d=null;function v(t){t.touches&&t.touches[0]&&(t[i]=t.touches[0].pageY),f[l]=p+d*(t[i]-h),Ii(e,u),Zi(e),t.stopPropagation(),t.type.startsWith("touch")&&t.changedTouches.length>1&&t.preventDefault()}function m(){Fi(e,u),e[c].classList.remove(Oi.clicking),e.event.unbind(e.ownerDocument,"mousemove",v)}function y(t,o){p=f[l],o&&t.touches&&(t[i]=t.touches[0].pageY),h=t[i],d=(e[n]-e[r])/(e[a]-e[s]),o?e.event.bind(e.ownerDocument,"touchmove",v):(e.event.bind(e.ownerDocument,"mousemove",v),e.event.once(e.ownerDocument,"mouseup",m),t.preventDefault()),e[c].classList.add(Oi.clicking),t.stopPropagation()}e.event.bind(e[o],"mousedown",(function(e){y(e)})),e.event.bind(e[o],"touchstart",(function(e){y(e,!0)}))}var Gi={"click-rail":function(e){e.element,e.event.bind(e.scrollbarY,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarYRail,"mousedown",(function(t){var r=t.pageY-window.pageYOffset-e.scrollbarYRail.getBoundingClientRect().top>e.scrollbarYTop?1:-1;e.element.scrollTop+=r*e.containerHeight,Zi(e),t.stopPropagation()})),e.event.bind(e.scrollbarX,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarXRail,"mousedown",(function(t){var r=t.pageX-window.pageXOffset-e.scrollbarXRail.getBoundingClientRect().left>e.scrollbarXLeft?1:-1;e.element.scrollLeft+=r*e.containerWidth,Zi(e),t.stopPropagation()}))},"drag-thumb":function(e){Vi(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),Vi(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(e){var t=e.element;e.event.bind(e.ownerDocument,"keydown",(function(r){if(!(r.isDefaultPrevented&&r.isDefaultPrevented()||r.defaultPrevented)&&(Pi(t,":hover")||Pi(e.scrollbarX,":focus")||Pi(e.scrollbarY,":focus"))){var n,i=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(i){if("IFRAME"===i.tagName)i=i.contentDocument.activeElement;else for(;i.shadowRoot;)i=i.shadowRoot.activeElement;if(Pi(n=i,"input,[contenteditable]")||Pi(n,"select,[contenteditable]")||Pi(n,"textarea,[contenteditable]")||Pi(n,"button,[contenteditable]"))return}var a=0,o=0;switch(r.which){case 37:a=r.metaKey?-e.contentWidth:r.altKey?-e.containerWidth:-30;break;case 38:o=r.metaKey?e.contentHeight:r.altKey?e.containerHeight:30;break;case 39:a=r.metaKey?e.contentWidth:r.altKey?e.containerWidth:30;break;case 40:o=r.metaKey?-e.contentHeight:r.altKey?-e.containerHeight:-30;break;case 32:o=r.shiftKey?e.containerHeight:-e.containerHeight;break;case 33:o=e.containerHeight;break;case 34:o=-e.containerHeight;break;case 36:o=e.contentHeight;break;case 35:o=-e.contentHeight;break;default:return}e.settings.suppressScrollX&&0!==a||e.settings.suppressScrollY&&0!==o||(t.scrollTop-=o,t.scrollLeft+=a,Zi(e),function(r,n){var i=Math.floor(t.scrollTop);if(0===r){if(!e.scrollbarYActive)return!1;if(0===i&&n>0||i>=e.contentHeight-e.containerHeight&&n<0)return!e.settings.wheelPropagation}var a=t.scrollLeft;if(0===n){if(!e.scrollbarXActive)return!1;if(0===a&&r<0||a>=e.contentWidth-e.containerWidth&&r>0)return!e.settings.wheelPropagation}return!0}(a,o)&&r.preventDefault())}}))},wheel:function(e){var t=e.element;function r(r){var n=function(e){var t=e.deltaX,r=-1*e.deltaY;return"undefined"!==typeof t&&"undefined"!==typeof r||(t=-1*e.wheelDeltaX/6,r=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,r*=10),t!==t&&r!==r&&(t=0,r=e.wheelDelta),e.shiftKey?[-r,-t]:[t,r]}(r),i=n[0],a=n[1];if(!function(e,r,n){if(!Bi.isWebKit&&t.querySelector("select:focus"))return!0;if(!t.contains(e))return!1;for(var i=e;i&&i!==t;){if(i.classList.contains(Ti.consuming))return!0;var a=bi(i);if(n&&a.overflowY.match(/(scroll|auto)/)){var o=i.scrollHeight-i.clientHeight;if(o>0&&(i.scrollTop>0&&n<0||i.scrollTop<o&&n>0))return!0}if(r&&a.overflowX.match(/(scroll|auto)/)){var s=i.scrollWidth-i.clientWidth;if(s>0&&(i.scrollLeft>0&&r<0||i.scrollLeft<s&&r>0))return!0}i=i.parentNode}return!1}(r.target,i,a)){var o=!1;e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(a?t.scrollTop-=a*e.settings.wheelSpeed:t.scrollTop+=i*e.settings.wheelSpeed,o=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(i?t.scrollLeft+=i*e.settings.wheelSpeed:t.scrollLeft-=a*e.settings.wheelSpeed,o=!0):(t.scrollTop-=a*e.settings.wheelSpeed,t.scrollLeft+=i*e.settings.wheelSpeed),Zi(e),o=o||function(r,n){var i=Math.floor(t.scrollTop),a=0===t.scrollTop,o=i+t.offsetHeight===t.scrollHeight,s=0===t.scrollLeft,l=t.scrollLeft+t.offsetWidth===t.scrollWidth;return!(Math.abs(n)>Math.abs(r)?a||o:s||l)||!e.settings.wheelPropagation}(i,a),o&&!r.ctrlKey&&(r.stopPropagation(),r.preventDefault())}}"undefined"!==typeof window.onwheel?e.event.bind(t,"wheel",r):"undefined"!==typeof window.onmousewheel&&e.event.bind(t,"mousewheel",r)},touch:function(e){if(Bi.supportsTouch||Bi.supportsIePointer){var t=e.element,r={},n=0,i={},a=null;Bi.supportsTouch?(e.event.bind(t,"touchstart",u),e.event.bind(t,"touchmove",c),e.event.bind(t,"touchend",f)):Bi.supportsIePointer&&(window.PointerEvent?(e.event.bind(t,"pointerdown",u),e.event.bind(t,"pointermove",c),e.event.bind(t,"pointerup",f)):window.MSPointerEvent&&(e.event.bind(t,"MSPointerDown",u),e.event.bind(t,"MSPointerMove",c),e.event.bind(t,"MSPointerUp",f)))}function o(r,n){t.scrollTop-=n,t.scrollLeft-=r,Zi(e)}function s(e){return e.targetTouches?e.targetTouches[0]:e}function l(e){return(!e.pointerType||"pen"!==e.pointerType||0!==e.buttons)&&(!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))}function u(e){if(l(e)){var t=s(e);r.pageX=t.pageX,r.pageY=t.pageY,n=(new Date).getTime(),null!==a&&clearInterval(a)}}function c(a){if(l(a)){var u=s(a),c={pageX:u.pageX,pageY:u.pageY},f=c.pageX-r.pageX,p=c.pageY-r.pageY;if(function(e,r,n){if(!t.contains(e))return!1;for(var i=e;i&&i!==t;){if(i.classList.contains(Ti.consuming))return!0;var a=bi(i);if(n&&a.overflowY.match(/(scroll|auto)/)){var o=i.scrollHeight-i.clientHeight;if(o>0&&(i.scrollTop>0&&n<0||i.scrollTop<o&&n>0))return!0}if(r&&a.overflowX.match(/(scroll|auto)/)){var s=i.scrollWidth-i.clientWidth;if(s>0&&(i.scrollLeft>0&&r<0||i.scrollLeft<s&&r>0))return!0}i=i.parentNode}return!1}(a.target,f,p))return;o(f,p),r=c;var h=(new Date).getTime(),d=h-n;d>0&&(i.x=f/d,i.y=p/d,n=h),function(r,n){var i=Math.floor(t.scrollTop),a=t.scrollLeft,o=Math.abs(r),s=Math.abs(n);if(s>o){if(n<0&&i===e.contentHeight-e.containerHeight||n>0&&0===i)return 0===window.scrollY&&n>0&&Bi.isChrome}else if(o>s&&(r<0&&a===e.contentWidth-e.containerWidth||r>0&&0===a))return!0;return!0}(f,p)&&a.preventDefault()}}function f(){e.settings.swipeEasing&&(clearInterval(a),a=setInterval((function(){e.isInitialized?clearInterval(a):i.x||i.y?Math.abs(i.x)<.01&&Math.abs(i.y)<.01?clearInterval(a):e.element?(o(30*i.x,30*i.y),i.x*=.8,i.y*=.8):clearInterval(a):clearInterval(a)}),10))}}},Wi=function(e,t){var r=this;if(void 0===t&&(t={}),"string"===typeof e&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var n in this.element=e,e.classList.add(Ci),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},t)this.settings[n]=t[n];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var i=function(){return e.classList.add(Oi.focus)},a=function(){return e.classList.remove(Oi.focus)};this.isRtl="rtl"===bi(e).direction,!0===this.isRtl&&e.classList.add(Ai),this.isNegativeScroll=function(){var t,r=e.scrollLeft;return e.scrollLeft=-1,t=e.scrollLeft<0,e.scrollLeft=r,t}(),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new ji,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=wi(Ti.rail("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=wi(Ti.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",i),this.event.bind(this.scrollbarX,"blur",a),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var o=bi(this.scrollbarXRail);this.scrollbarXBottom=parseInt(o.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=zi(o.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=zi(o.borderLeftWidth)+zi(o.borderRightWidth),xi(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=zi(o.marginLeft)+zi(o.marginRight),xi(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=wi(Ti.rail("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=wi(Ti.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",i),this.event.bind(this.scrollbarY,"blur",a),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var s=bi(this.scrollbarYRail);this.scrollbarYRight=parseInt(s.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=zi(s.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(e){var t=bi(e);return zi(t.width)+zi(t.paddingLeft)+zi(t.paddingRight)+zi(t.borderLeftWidth)+zi(t.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=zi(s.borderTopWidth)+zi(s.borderBottomWidth),xi(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=zi(s.marginTop)+zi(s.marginBottom),xi(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(e){return Gi[e](r)})),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",(function(e){return r.onScroll(e)})),Zi(this)};Wi.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,xi(this.scrollbarXRail,{display:"block"}),xi(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=zi(bi(this.scrollbarXRail).marginLeft)+zi(bi(this.scrollbarXRail).marginRight),this.railYMarginHeight=zi(bi(this.scrollbarYRail).marginTop)+zi(bi(this.scrollbarYRail).marginBottom),xi(this.scrollbarXRail,{display:"none"}),xi(this.scrollbarYRail,{display:"none"}),Zi(this),Ni(this,"top",0,!1,!0),Ni(this,"left",0,!1,!0),xi(this.scrollbarXRail,{display:""}),xi(this.scrollbarYRail,{display:""}))},Wi.prototype.onScroll=function(e){this.isAlive&&(Zi(this),Ni(this,"top",this.element.scrollTop-this.lastScrollTop),Ni(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},Wi.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),ki(this.scrollbarX),ki(this.scrollbarY),ki(this.scrollbarXRail),ki(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},Wi.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(e){return!e.match(/^ps([-_].+|)$/)})).join(" ")};var qi=Wi,Hi=function(e){var t=e.tag,r=e.className,o=e.innerRef,s=e.settings,l=e.switcher,c=(0,i.Z)(e,["tag","className","innerRef","settings","switcher"]),f=(0,a.useState)(),p=f[0],h=f[1],d=(0,a.createRef)();o&&o(d),(0,a.useEffect)((function(){l?v():y()}),[l]),(0,a.useEffect)((function(){return y()}),[]);var v=function(){p||m()},m=function(){h(new qi(d.current,s))},y=function(){p&&(p.destroy(),h(null))};return a.createElement(t,(0,n.Z)({className:u()(r),style:{position:"relative"}},c,{ref:d}))};Hi.propTypes={tag:s().oneOfType([s().func,s().string]),className:s().oneOfType([s().string,s().array,s().object]),settings:s().object,switcher:s().bool,innerRef:s().oneOfType([s().object,s().func])},Hi.defaultProps={tag:"div"};var Yi=Hi,Xi=function(e){var t=e.className,r=e.innerRef,o=(0,i.Z)(e,["className","innerRef"]),s=(0,a.useContext)($n).scrollbarExist,l=u()("c-sidebar-nav","h-100",t),c="rtl"===getComputedStyle(document.querySelector("html")).direction;return a.createElement(Yi,(0,n.Z)({settings:{suppressScrollX:!c},className:l,innerRef:r,switcher:s,tag:"ul"},o))};Xi.propTypes={className:s().oneOfType([s().string,s().array,s().object]),children:s().node,innerRef:s().oneOfType([s().object,s().func])};var Ki=Xi,$i=a.createContext({}),Ji=function(e){var t,r=e.className,o=e.children,s=e.innerRef,l=e.show,c=e.autohide,p=e.fade,d=e.color,v=e.onStateChange,m=(0,i.Z)(e,["className","children","innerRef","show","autohide","fade","color","onStateChange"]),y=(0,a.useState)(l),g=y[0],_=y[1],b=(0,a.useRef)();(0,a.useEffect)((function(){_(l)}),[l]),(0,a.useEffect)((function(){return function(){return clearTimeout(b.current)}}),[]),(0,a.useEffect)((function(){!0===g&&c&&x(),v&&v(g)}),[g]);var x=function(){clearTimeout(b.current),b.current=setTimeout((function(){w()}),c)},w=function(){if(!p)return _(!1);_("hiding"),clearTimeout(b.current),b.current=setTimeout((function(){_(!1)}),2e3)},S=u()(((t={toast:!0})["toast-"+d]=!!d,t),r),P=u()(p&&("hiding"===g?"toast-fade-slow":"toast-fade")),k=f(m,h);return a.createElement($i.Provider,{value:{close:function(){if(!p)return _(!1);_("closing"),clearTimeout(b.current),b.current=setTimeout((function(){_(!1)}),500)}}},g&&a.createElement(A,(0,n.Z)({className:S,role:"alert","aria-live":"assertive","aria-atomic":"true",in:!0===g,onMouseOver:function(){"closing"!==g&&(!0!==g&&_(!0),clearTimeout(b.current))},onMouseOut:function(){c&&"closing"!==g&&x()},baseClass:P,innerRef:s},k),o))};Ji.propTypes={className:s().oneOfType([s().string,s().array,s().object]),children:s().node,innerRef:s().oneOfType([s().func,s().object]),show:s().bool,autohide:s().oneOfType([s().number,s().bool]),fade:s().bool,color:s().string,onStateChange:s().func},Ji.defaultProps={fade:!0};var Qi=function(e){var t=e.className,r=e.children,o=e.innerRef,s=e.closeButton,l=(0,i.Z)(e,["className","children","innerRef","closeButton"]),c=(0,a.useContext)($i).close,f=u()("toast-header",t);return a.createElement("div",(0,n.Z)({className:f},l,{ref:o}),r,s&&a.createElement(O,{className:"mfs-auto",onClick:c}))};Qi.propTypes={className:s().oneOfType([s().string,s().array,s().object]),children:s().node,innerRef:s().oneOfType([s().func,s().object]),closeButton:s().bool},Qi.defaultProps={closeButton:!0};var ea=function(e){var t=e.className,r=e.innerRef,o=(0,i.Z)(e,["className","innerRef"]),s=u()("toast-body",t);return a.createElement("div",(0,n.Z)({className:s},o,{ref:r}))};ea.propTypes={className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().func,s().object])};var ta=function(e){var t=e.className,r=e.innerRef,o=e.position,s=(0,i.Z)(e,["className","innerRef","position"]),l=u()("toaster",o&&"static"!==o&&"toaster-"+o,t);return a.createElement("div",(0,n.Z)({className:l},s,{ref:r}))};ta.propTypes={className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().func,s().object]),position:s().oneOf(["","static","top-right","top-left","top-center","top-full","bottom-right","bottom-left","bottom-center","bottom-full"])},ta.defaultProps={position:"top-right"};var ra=function(e){var t=e.tag,r=e.children,o=e.className,s=e.innerRef,l=e.inHeader,c=e.inNavbar,f=(0,i.Z)(e,["tag","children","className","innerRef","inHeader","inNavbar"]),p="button"===t?{type:"button"}:null,h=c?"navbar":l?"c-header":null,d=h?h+"-toggler":"",v=h?d+"-icon":"",m=u()(d,o);return a.createElement(t,(0,n.Z)({className:m},p,f,{ref:s}),r||a.createElement("span",{className:v}))};ra.propTypes={tag:d,children:s().node,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().func,s().object]),inHeader:s().bool,inNavbar:s().bool},ra.defaultProps={tag:"button"};var na=ra,ia="tippy-content",aa="tippy-backdrop",oa="tippy-arrow",sa="tippy-svg-arrow",la={passive:!0,capture:!0},ua=function(){return document.body};function ca(e,t,r){if(Array.isArray(e)){var n=e[t];return null==n?Array.isArray(r)?r[t]:r:n}return e}function fa(e,t){var r={}.toString.call(e);return 0===r.indexOf("[object")&&r.indexOf(t+"]")>-1}function pa(e,t){return"function"===typeof e?e.apply(void 0,t):e}function ha(e,t){return 0===t?e:function(n){clearTimeout(r),r=setTimeout((function(){e(n)}),t)};var r}function da(e){return[].concat(e)}function va(e,t){-1===e.indexOf(t)&&e.push(t)}function ma(e){return e.split("-")[0]}function ya(e){return[].slice.call(e)}function ga(e){return Object.keys(e).reduce((function(t,r){return void 0!==e[r]&&(t[r]=e[r]),t}),{})}function _a(){return document.createElement("div")}function ba(e){return["Element","Fragment"].some((function(t){return fa(e,t)}))}function xa(e){return fa(e,"MouseEvent")}function wa(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function Sa(e){return ba(e)?[e]:function(e){return fa(e,"NodeList")}(e)?ya(e):Array.isArray(e)?e:ya(document.querySelectorAll(e))}function Pa(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function ka(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function Ea(e){var t,r=da(e)[0];return null!=r&&null!=(t=r.ownerDocument)&&t.body?r.ownerDocument:document}function Ca(e,t,r){var n=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[n](t,r)}))}function Aa(e,t){for(var r=t;r;){var n;if(e.contains(r))return!0;r=null==r.getRootNode||null==(n=r.getRootNode())?void 0:n.host}return!1}var Ta={isTouch:!1},Oa=0;function Ma(){Ta.isTouch||(Ta.isTouch=!0,window.performance&&document.addEventListener("mousemove",Ia))}function Ia(){var e=performance.now();e-Oa<20&&(Ta.isTouch=!1,document.removeEventListener("mousemove",Ia)),Oa=e}function Fa(){var e=document.activeElement;if(wa(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var Ra=!!("undefined"!==typeof window&&"undefined"!==typeof document)&&!!window.msCrypto;var Da={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},ja=Object.assign({appendTo:ua,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Da,{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),La=Object.keys(ja);function Na(e){var t=(e.plugins||[]).reduce((function(t,r){var n,i=r.name,a=r.defaultValue;i&&(t[i]=void 0!==e[i]?e[i]:null!=(n=ja[i])?n:a);return t}),{});return Object.assign({},e,t)}function za(e,t){var r=Object.assign({},t,{content:pa(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(Na(Object.assign({},ja,{plugins:t}))):La).reduce((function(t,r){var n=(e.getAttribute("data-tippy-"+r)||"").trim();if(!n)return t;if("content"===r)t[r]=n;else try{t[r]=JSON.parse(n)}catch(i){t[r]=n}return t}),{})}(e,t.plugins));return r.aria=Object.assign({},ja.aria,r.aria),r.aria={expanded:"auto"===r.aria.expanded?t.interactive:r.aria.expanded,content:"auto"===r.aria.content?t.interactive?null:"describedby":r.aria.content},r}function Ba(e,t){e.innerHTML=t}function Za(e){var t=_a();return!0===e?t.className=oa:(t.className=sa,ba(e)?t.appendChild(e):Ba(t,e)),t}function Ua(e,t){ba(t.content)?(Ba(e,""),e.appendChild(t.content)):"function"!==typeof t.content&&(t.allowHTML?Ba(e,t.content):e.textContent=t.content)}function Va(e){var t=e.firstElementChild,r=ya(t.children);return{box:t,content:r.find((function(e){return e.classList.contains(ia)})),arrow:r.find((function(e){return e.classList.contains(oa)||e.classList.contains(sa)})),backdrop:r.find((function(e){return e.classList.contains(aa)}))}}function Ga(e){var t=_a(),r=_a();r.className="tippy-box",r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1");var n=_a();function i(r,n){var i=Va(t),a=i.box,o=i.content,s=i.arrow;n.theme?a.setAttribute("data-theme",n.theme):a.removeAttribute("data-theme"),"string"===typeof n.animation?a.setAttribute("data-animation",n.animation):a.removeAttribute("data-animation"),n.inertia?a.setAttribute("data-inertia",""):a.removeAttribute("data-inertia"),a.style.maxWidth="number"===typeof n.maxWidth?n.maxWidth+"px":n.maxWidth,n.role?a.setAttribute("role",n.role):a.removeAttribute("role"),r.content===n.content&&r.allowHTML===n.allowHTML||Ua(o,e.props),n.arrow?s?r.arrow!==n.arrow&&(a.removeChild(s),a.appendChild(Za(n.arrow))):a.appendChild(Za(n.arrow)):s&&a.removeChild(s)}return n.className=ia,n.setAttribute("data-state","hidden"),Ua(n,e.props),t.appendChild(r),r.appendChild(n),i(e.props,e.props),{popper:t,onUpdate:i}}Ga.$$tippy=!0;var Wa=1,qa=[],Ha=[];function Ya(e,t){var r,n,i,a,o,s,l,u,c=za(e,Object.assign({},ja,Na(ga(t)))),f=!1,p=!1,h=!1,d=!1,v=[],m=ha(H,c.interactiveDebounce),y=Wa++,g=(u=c.plugins).filter((function(e,t){return u.indexOf(e)===t})),_={id:y,reference:e,popper:_a(),popperInstance:null,props:c,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:g,clearDelayTimeouts:function(){clearTimeout(r),clearTimeout(n),cancelAnimationFrame(i)},setProps:function(t){0;if(_.state.isDestroyed)return;F("onBeforeUpdate",[_,t]),W();var r=_.props,n=za(e,Object.assign({},r,ga(t),{ignoreAttributes:!0}));_.props=n,G(),r.interactiveDebounce!==n.interactiveDebounce&&(j(),m=ha(H,n.interactiveDebounce));r.triggerTarget&&!n.triggerTarget?da(r.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):n.triggerTarget&&e.removeAttribute("aria-expanded");D(),I(),w&&w(r,n);_.popperInstance&&($(),Q().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})));F("onAfterUpdate",[_,t])},setContent:function(e){_.setProps({content:e})},show:function(){0;var e=_.state.isVisible,t=_.state.isDestroyed,r=!_.state.isEnabled,n=Ta.isTouch&&!_.props.touch,i=ca(_.props.duration,0,ja.duration);if(e||t||r||n)return;if(A().hasAttribute("disabled"))return;if(F("onShow",[_],!1),!1===_.props.onShow(_))return;_.state.isVisible=!0,C()&&(x.style.visibility="visible");I(),B(),_.state.isMounted||(x.style.transition="none");if(C()){var a=O(),o=a.box,l=a.content;Pa([o,l],0)}s=function(){var e;if(_.state.isVisible&&!d){if(d=!0,x.offsetHeight,x.style.transition=_.props.moveTransition,C()&&_.props.animation){var t=O(),r=t.box,n=t.content;Pa([r,n],i),ka([r,n],"visible")}R(),D(),va(Ha,_),null==(e=_.popperInstance)||e.forceUpdate(),F("onMount",[_]),_.props.animation&&C()&&function(e,t){U(e,t)}(i,(function(){_.state.isShown=!0,F("onShown",[_])}))}},function(){var e,t=_.props.appendTo,r=A();e=_.props.interactive&&t===ua||"parent"===t?r.parentNode:pa(t,[r]);e.contains(x)||e.appendChild(x);_.state.isMounted=!0,$(),!1}()},hide:function(){0;var e=!_.state.isVisible,t=_.state.isDestroyed,r=!_.state.isEnabled,n=ca(_.props.duration,1,ja.duration);if(e||t||r)return;if(F("onHide",[_],!1),!1===_.props.onHide(_))return;_.state.isVisible=!1,_.state.isShown=!1,d=!1,f=!1,C()&&(x.style.visibility="hidden");if(j(),Z(),I(!0),C()){var i=O(),a=i.box,o=i.content;_.props.animation&&(Pa([a,o],n),ka([a,o],"hidden"))}R(),D(),_.props.animation?C()&&function(e,t){U(e,(function(){!_.state.isVisible&&x.parentNode&&x.parentNode.contains(x)&&t()}))}(n,_.unmount):_.unmount()},hideWithInteractivity:function(e){0;T().addEventListener("mousemove",m),va(qa,m),m(e)},enable:function(){_.state.isEnabled=!0},disable:function(){_.hide(),_.state.isEnabled=!1},unmount:function(){0;_.state.isVisible&&_.hide();if(!_.state.isMounted)return;J(),Q().forEach((function(e){e._tippy.unmount()})),x.parentNode&&x.parentNode.removeChild(x);Ha=Ha.filter((function(e){return e!==_})),_.state.isMounted=!1,F("onHidden",[_])},destroy:function(){0;if(_.state.isDestroyed)return;_.clearDelayTimeouts(),_.unmount(),W(),delete e._tippy,_.state.isDestroyed=!0,F("onDestroy",[_])}};if(!c.render)return _;var b=c.render(_),x=b.popper,w=b.onUpdate;x.setAttribute("data-tippy-root",""),x.id="tippy-"+_.id,_.popper=x,e._tippy=_,x._tippy=_;var S=g.map((function(e){return e.fn(_)})),P=e.hasAttribute("aria-expanded");return G(),D(),I(),F("onCreate",[_]),c.showOnCreate&&ee(),x.addEventListener("mouseenter",(function(){_.props.interactive&&_.state.isVisible&&_.clearDelayTimeouts()})),x.addEventListener("mouseleave",(function(){_.props.interactive&&_.props.trigger.indexOf("mouseenter")>=0&&T().addEventListener("mousemove",m)})),_;function k(){var e=_.props.touch;return Array.isArray(e)?e:[e,0]}function E(){return"hold"===k()[0]}function C(){var e;return!(null==(e=_.props.render)||!e.$$tippy)}function A(){return l||e}function T(){var e=A().parentNode;return e?Ea(e):document}function O(){return Va(x)}function M(e){return _.state.isMounted&&!_.state.isVisible||Ta.isTouch||a&&"focus"===a.type?0:ca(_.props.delay,e?0:1,ja.delay)}function I(e){void 0===e&&(e=!1),x.style.pointerEvents=_.props.interactive&&!e?"":"none",x.style.zIndex=""+_.props.zIndex}function F(e,t,r){var n;(void 0===r&&(r=!0),S.forEach((function(r){r[e]&&r[e].apply(r,t)})),r)&&(n=_.props)[e].apply(n,t)}function R(){var t=_.props.aria;if(t.content){var r="aria-"+t.content,n=x.id;da(_.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(r);if(_.state.isVisible)e.setAttribute(r,t?t+" "+n:n);else{var i=t&&t.replace(n,"").trim();i?e.setAttribute(r,i):e.removeAttribute(r)}}))}}function D(){!P&&_.props.aria.expanded&&da(_.props.triggerTarget||e).forEach((function(e){_.props.interactive?e.setAttribute("aria-expanded",_.state.isVisible&&e===A()?"true":"false"):e.removeAttribute("aria-expanded")}))}function j(){T().removeEventListener("mousemove",m),qa=qa.filter((function(e){return e!==m}))}function L(t){if(!Ta.isTouch||!h&&"mousedown"!==t.type){var r=t.composedPath&&t.composedPath()[0]||t.target;if(!_.props.interactive||!Aa(x,r)){if(da(_.props.triggerTarget||e).some((function(e){return Aa(e,r)}))){if(Ta.isTouch)return;if(_.state.isVisible&&_.props.trigger.indexOf("click")>=0)return}else F("onClickOutside",[_,t]);!0===_.props.hideOnClick&&(_.clearDelayTimeouts(),_.hide(),p=!0,setTimeout((function(){p=!1})),_.state.isMounted||Z())}}}function N(){h=!0}function z(){h=!1}function B(){var e=T();e.addEventListener("mousedown",L,!0),e.addEventListener("touchend",L,la),e.addEventListener("touchstart",z,la),e.addEventListener("touchmove",N,la)}function Z(){var e=T();e.removeEventListener("mousedown",L,!0),e.removeEventListener("touchend",L,la),e.removeEventListener("touchstart",z,la),e.removeEventListener("touchmove",N,la)}function U(e,t){var r=O().box;function n(e){e.target===r&&(Ca(r,"remove",n),t())}if(0===e)return t();Ca(r,"remove",o),Ca(r,"add",n),o=n}function V(t,r,n){void 0===n&&(n=!1),da(_.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,r,n),v.push({node:e,eventType:t,handler:r,options:n})}))}function G(){var e;E()&&(V("touchstart",q,{passive:!0}),V("touchend",Y,{passive:!0})),(e=_.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(V(e,q),e){case"mouseenter":V("mouseleave",Y);break;case"focus":V(Ra?"focusout":"blur",X);break;case"focusin":V("focusout",X)}}))}function W(){v.forEach((function(e){var t=e.node,r=e.eventType,n=e.handler,i=e.options;t.removeEventListener(r,n,i)})),v=[]}function q(e){var t,r=!1;if(_.state.isEnabled&&!K(e)&&!p){var n="focus"===(null==(t=a)?void 0:t.type);a=e,l=e.currentTarget,D(),!_.state.isVisible&&xa(e)&&qa.forEach((function(t){return t(e)})),"click"===e.type&&(_.props.trigger.indexOf("mouseenter")<0||f)&&!1!==_.props.hideOnClick&&_.state.isVisible?r=!0:ee(e),"click"===e.type&&(f=!r),r&&!n&&te(e)}}function H(e){var t=e.target,r=A().contains(t)||x.contains(t);if("mousemove"!==e.type||!r){var n=Q().concat(x).map((function(e){var t,r=null==(t=e._tippy.popperInstance)?void 0:t.state;return r?{popperRect:e.getBoundingClientRect(),popperState:r,props:c}:null})).filter(Boolean);(function(e,t){var r=t.clientX,n=t.clientY;return e.every((function(e){var t=e.popperRect,i=e.popperState,a=e.props.interactiveBorder,o=ma(i.placement),s=i.modifiersData.offset;if(!s)return!0;var l="bottom"===o?s.top.y:0,u="top"===o?s.bottom.y:0,c="right"===o?s.left.x:0,f="left"===o?s.right.x:0,p=t.top-n+l>a,h=n-t.bottom-u>a,d=t.left-r+c>a,v=r-t.right-f>a;return p||h||d||v}))})(n,e)&&(j(),te(e))}}function Y(e){K(e)||_.props.trigger.indexOf("click")>=0&&f||(_.props.interactive?_.hideWithInteractivity(e):te(e))}function X(e){_.props.trigger.indexOf("focusin")<0&&e.target!==A()||_.props.interactive&&e.relatedTarget&&x.contains(e.relatedTarget)||te(e)}function K(e){return!!Ta.isTouch&&E()!==e.type.indexOf("touch")>=0}function $(){J();var t=_.props,r=t.popperOptions,n=t.placement,i=t.offset,a=t.getReferenceClientRect,o=t.moveTransition,l=C()?Va(x).arrow:null,u=a?{getBoundingClientRect:a,contextElement:a.contextElement||A()}:e,c={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(C()){var r=O().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?r.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?r.setAttribute("data-"+e,""):r.removeAttribute("data-"+e)})),t.attributes.popper={}}}},f=[{name:"offset",options:{offset:i}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!o}},c];C()&&l&&f.push({name:"arrow",options:{element:l,padding:3}}),f.push.apply(f,(null==r?void 0:r.modifiers)||[]),_.popperInstance=$t(u,x,Object.assign({},r,{placement:n,onFirstUpdate:s,modifiers:f}))}function J(){_.popperInstance&&(_.popperInstance.destroy(),_.popperInstance=null)}function Q(){return ya(x.querySelectorAll("[data-tippy-root]"))}function ee(e){_.clearDelayTimeouts(),e&&F("onTrigger",[_,e]),B();var t=M(!0),n=k(),i=n[0],a=n[1];Ta.isTouch&&"hold"===i&&a&&(t=a),t?r=setTimeout((function(){_.show()}),t):_.show()}function te(e){if(_.clearDelayTimeouts(),F("onUntrigger",[_,e]),_.state.isVisible){if(!(_.props.trigger.indexOf("mouseenter")>=0&&_.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&f)){var t=M(!1);t?n=setTimeout((function(){_.state.isVisible&&_.hide()}),t):i=requestAnimationFrame((function(){_.hide()}))}}else Z()}}function Xa(e,t){void 0===t&&(t={});var r=ja.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",Ma,la),window.addEventListener("blur",Fa);var n=Object.assign({},t,{plugins:r}),i=Sa(e).reduce((function(e,t){var r=t&&Ya(t,n);return r&&e.push(r),e}),[]);return ba(e)?i[0]:i}Xa.defaultProps=ja,Xa.setDefaultProps=function(e){Object.keys(e).forEach((function(t){ja[t]=e[t]}))},Xa.currentInput=Ta;Object.assign({},Ft,{effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow)}});Xa.setDefaultProps({render:Ga});var Ka=Xa,$a=r(58340);function Ja(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Qa=function(e){var t=e.children,r=e.content,n=e.interactive,i=e.placement,o=e.trigger,s=e.advancedOptions,l=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ja(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ja(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({allowHTML:!0,content:(0,a.useCallback)((function(){return"string"===typeof r?r:(0,$a.renderToString)(r)}),[r]),interactive:n,placement:i,trigger:o},s),u=(0,a.useState)(Math.random().toString(36).substr(2))[0],c=(0,a.useRef)();return(0,a.useEffect)((function(){c.current&&c.current.setProps(l)})),(0,a.useEffect)((function(){var e=document.querySelector('[data-tooltip="'+u+'"]');return c.current=Ka(e,l),function(){return c.current.destroy()}}),[u]),a.createElement(a.Fragment,null,a.cloneElement(t,{"data-tooltip":u}))};Qa.propTypes={children:s().node,content:s().oneOfType([s().string,s().node]),interactive:s().bool,placement:s().oneOf(["","top-end","top","top-start","bottom-end","bottom","bottom-start","right-start","right","right-end","left-start","left","left-end"]),trigger:s().string,advancedOptions:s().object},Qa.defaultProps={content:"",interactive:!1,placement:"top",trigger:"mouseenter focus",advancedOptions:{}};var eo=Qa;function to(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ro(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?to(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):to(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var no=function(e){var t=e.header,r=e.children,o=e.content,s=(0,i.Z)(e,["header","children","content"]),l=(0,a.useCallback)(function(e,t){return'<h3 class="popover-header">H</h3><div class="popover-body">C</div>'.replace("H",(0,$a.renderToString)(t)).replace("C",(0,$a.renderToString)(e))}(o,t),[o,t]),u=ro(ro({},s&&s.advancedOptions||{}),{},{theme:"cpopover"}),c=ro(ro({},s),{},{advancedOptions:u});return a.createElement(eo,(0,n.Z)({content:l},c),r)};no.propTypes={children:s().node,content:s().oneOfType([s().string,s().node]),header:s().oneOfType([s().string,s().node])};var io=function(e){var t=e.children,r=e.className,o=e.header,s=e.text,l=e.footer,c=e.color,f=e.value,p=e.inverse,h=(0,i.Z)(e,["children","className","header","text","footer","color","value","inverse"]),d=u()("card",p?[c&&"bg-"+c,"text-white"]:"",r);return a.createElement("div",(0,n.Z)({className:d},h),a.createElement("div",{className:"card-body"},o&&a.createElement("div",{className:"h4 m-0"},o),s&&a.createElement("div",null,s),t||a.createElement(bn,{color:p?"":c,value:f,className:"progress-xs my-3 mb-0 "+(p?"progress-white":"")}),l&&a.createElement("small",{className:"text-muted"},l)))};io.propTypes={children:s().node,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),header:s().string,text:s().string,footer:s().string,color:s().string,value:s().number,inverse:s().bool},io.defaultProps={value:25};var ao=function(e){var t=e.className,r=e.children,o=e.header,s=e.text,l=e.iconPadding,c=e.color,f=e.footerSlot,p=(0,i.Z)(e,["className","children","header","text","iconPadding","color","footerSlot"]),h=u()("card",c,t);return a.createElement("div",(0,n.Z)({className:h},p),a.createElement("div",{className:"card-body d-flex align-items-center "+(l?"p-3":"p-0")},a.createElement("div",{className:"mr-3 text-white bg-"+c+" "+(l?"p-3":"p-4")},r),a.createElement("div",null,o&&a.createElement("div",{className:"text-value text-"+c},o),s&&a.createElement("div",{className:"text-muted text-uppercase font-weight-bold small"},s))),f)};ao.propTypes={children:s().node,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),header:s().string,text:s().string,iconPadding:s().bool,color:s().string,footerSlot:s().node},ao.defaultProps={iconPadding:!0};var oo=function(e){var t=e.children,r=e.className,o=e.color,s=e.rightHeader,l=e.rightFooter,c=e.leftHeader,f=e.leftFooter,p=e.addHeaderClasses,h=e.bodySlot,d=(0,i.Z)(e,["children","className","color","rightHeader","rightFooter","leftHeader","leftFooter","addHeaderClasses","bodySlot"]),v=u()("card-header content-center text-white p-0",o&&"bg-"+o,p);return a.createElement("div",(0,n.Z)({className:"card "+r},d),a.createElement("div",{className:v},t),h||a.createElement("div",{className:"card-body row text-center"},a.createElement("div",{className:"col"},s&&a.createElement("div",{className:"text-value-lg"},s),l&&a.createElement("div",{className:"text-uppercase text-muted small"},l)),a.createElement("div",{className:"c-vr"}),a.createElement("div",{className:"col"},c&&a.createElement("div",{className:"text-value-lg"},c),f&&a.createElement("div",{className:"text-uppercase text-muted small"},f))))};oo.propTypes={children:s().node,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),color:s().string,rightHeader:s().string,rightFooter:s().string,leftHeader:s().string,leftFooter:s().string,addHeaderClasses:s().oneOfType([s().string,s().array,s().object]),bodySlot:s().node};var so=function(e){var t=e.children,r=e.className,o=e.header,s=e.text,l=e.value,c=e.color,f=e.inverse,p=e.progressSlot,h=(0,i.Z)(e,["children","className","header","text","value","color","inverse","progressSlot"]),d=u()("card",f?[c&&"bg-"+c,"text-white"]:"",r);return a.createElement("div",(0,n.Z)({className:d},h),a.createElement("div",{className:"card-body"},t&&a.createElement("div",{className:"h1 text-muted text-right mb-4"},t),o&&a.createElement("div",{className:"h4 m-0"},o),s&&a.createElement("small",{className:"text-muted text-uppercase font-weight-bold"},s),p||a.createElement(bn,{color:f?"":c,value:l,className:"progress-xs my-3 mb-0 "+(f?"progress-white":"")})))};so.propTypes={children:s().node,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),header:s().string,text:s().string,color:s().string,value:s().number,inverse:s().bool,progressSlot:s().node},so.defaultProps={value:25};var lo=function(e){var t=e.children,r=e.className,o=e.header,s=e.color,l=e.footerSlot,c=e.text,f=(0,i.Z)(e,["children","className","header","color","footerSlot","text"]),p=u()("card text-white",s&&"bg-"+s,r);return a.createElement("div",(0,n.Z)({className:p},f),a.createElement("div",{className:"card-body pb-0 d-flex justify-content-between"},a.createElement("div",null,o&&a.createElement("div",{className:"text-value-lg"},o),c&&a.createElement("div",null,c)),t),l)};lo.propTypes={children:s().node,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),header:s().string,color:s().string,footerSlot:s().node,text:s().string};var uo=function(e){var t=e.children,r=e.className,o=e.header,s=e.text,l=(0,i.Z)(e,["children","className","header","text"]),c=u()("card",r);return a.createElement("div",(0,n.Z)({className:c},l),a.createElement("div",{className:"card-body text-center"},o&&a.createElement("div",{className:"text-muted small text-uppercase font-weight-bold"},o),s&&a.createElement("div",{className:"h2 py-3"},s),t))};uo.propTypes={children:s().node,className:s().oneOfType([s().string,s().array,s().object]),innerRef:s().oneOfType([s().object,s().func]),header:s().string,text:s().string}},55635:function(e,t){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)&&r.length){var o=i.apply(null,r);o&&e.push(o)}else if("object"===a)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},85937:function(e,t,r){"use strict";var n=r(42580);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,a,o){if(o!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return r.PropTypes=r,r}},63217:function(e,t,r){e.exports=r(85937)()},42580:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},73669:function(e,t,r){"use strict";r.d(t,{GC:function(){return p},T6:function(){return d},VD:function(){return v},WE:function(){return u},Wl:function(){return h},Yt:function(){return m},lC:function(){return a},py:function(){return l},rW:function(){return i},s:function(){return f},ve:function(){return s},vq:function(){return c}});var n=r(59521);function i(e,t,r){return{r:255*(0,n.sh)(e,255),g:255*(0,n.sh)(t,255),b:255*(0,n.sh)(r,255)}}function a(e,t,r){e=(0,n.sh)(e,255),t=(0,n.sh)(t,255),r=(0,n.sh)(r,255);var i=Math.max(e,t,r),a=Math.min(e,t,r),o=0,s=0,l=(i+a)/2;if(i===a)s=0,o=0;else{var u=i-a;switch(s=l>.5?u/(2-i-a):u/(i+a),i){case e:o=(t-r)/u+(t<r?6:0);break;case t:o=(r-e)/u+2;break;case r:o=(e-t)/u+4}o/=6}return{h:o,s:s,l:l}}function o(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*r*(t-e):r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function s(e,t,r){var i,a,s;if(e=(0,n.sh)(e,360),t=(0,n.sh)(t,100),r=(0,n.sh)(r,100),0===t)a=r,s=r,i=r;else{var l=r<.5?r*(1+t):r+t-r*t,u=2*r-l;i=o(u,l,e+1/3),a=o(u,l,e),s=o(u,l,e-1/3)}return{r:255*i,g:255*a,b:255*s}}function l(e,t,r){e=(0,n.sh)(e,255),t=(0,n.sh)(t,255),r=(0,n.sh)(r,255);var i=Math.max(e,t,r),a=Math.min(e,t,r),o=0,s=i,l=i-a,u=0===i?0:l/i;if(i===a)o=0;else{switch(i){case e:o=(t-r)/l+(t<r?6:0);break;case t:o=(r-e)/l+2;break;case r:o=(e-t)/l+4}o/=6}return{h:o,s:u,v:s}}function u(e,t,r){e=6*(0,n.sh)(e,360),t=(0,n.sh)(t,100),r=(0,n.sh)(r,100);var i=Math.floor(e),a=e-i,o=r*(1-t),s=r*(1-a*t),l=r*(1-(1-a)*t),u=i%6;return{r:255*[r,s,o,o,l,r][u],g:255*[l,r,r,s,o,o][u],b:255*[o,o,l,r,r,s][u]}}function c(e,t,r,i){var a=[(0,n.FZ)(Math.round(e).toString(16)),(0,n.FZ)(Math.round(t).toString(16)),(0,n.FZ)(Math.round(r).toString(16))];return i&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function f(e,t,r,i,a){var o=[(0,n.FZ)(Math.round(e).toString(16)),(0,n.FZ)(Math.round(t).toString(16)),(0,n.FZ)(Math.round(r).toString(16)),(0,n.FZ)(h(i))];return a&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function p(e,t,r,i){return[(0,n.FZ)(h(i)),(0,n.FZ)(Math.round(e).toString(16)),(0,n.FZ)(Math.round(t).toString(16)),(0,n.FZ)(Math.round(r).toString(16))].join("")}function h(e){return Math.round(255*parseFloat(e)).toString(16)}function d(e){return v(e)/255}function v(e){return parseInt(e,16)}function m(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}},47586:function(e,t,r){"use strict";r.d(t,{R:function(){return n}});var n={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},47763:function(e,t,r){"use strict";r.d(t,{ky:function(){return p},uA:function(){return o},uz:function(){return f}});var n=r(73669),i=r(47586),a=r(59521);function o(e){var t={r:0,g:0,b:0},r=1,i=null,o=null,s=null,l=!1,u=!1;return"string"===typeof e&&(e=f(e)),"object"===typeof e&&(p(e.r)&&p(e.g)&&p(e.b)?(t=(0,n.rW)(e.r,e.g,e.b),l=!0,u="%"===String(e.r).substr(-1)?"prgb":"rgb"):p(e.h)&&p(e.s)&&p(e.v)?(i=(0,a.JX)(e.s),o=(0,a.JX)(e.v),t=(0,n.WE)(e.h,i,o),l=!0,u="hsv"):p(e.h)&&p(e.s)&&p(e.l)&&(i=(0,a.JX)(e.s),s=(0,a.JX)(e.l),t=(0,n.ve)(e.h,i,s),l=!0,u="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(r=e.a)),r=(0,a.Yq)(r),{ok:l,format:e.format||u,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}var s="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),l="[\\s|\\(]+(".concat(s,")[,|\\s]+(").concat(s,")[,|\\s]+(").concat(s,")\\s*\\)?"),u="[\\s|\\(]+(".concat(s,")[,|\\s]+(").concat(s,")[,|\\s]+(").concat(s,")[,|\\s]+(").concat(s,")\\s*\\)?"),c={CSS_UNIT:new RegExp(s),rgb:new RegExp("rgb"+l),rgba:new RegExp("rgba"+u),hsl:new RegExp("hsl"+l),hsla:new RegExp("hsla"+u),hsv:new RegExp("hsv"+l),hsva:new RegExp("hsva"+u),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function f(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(i.R[e])e=i.R[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var r=c.rgb.exec(e);return r?{r:r[1],g:r[2],b:r[3]}:(r=c.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=c.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=c.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=c.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=c.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=c.hex8.exec(e))?{r:(0,n.VD)(r[1]),g:(0,n.VD)(r[2]),b:(0,n.VD)(r[3]),a:(0,n.T6)(r[4]),format:t?"name":"hex8"}:(r=c.hex6.exec(e))?{r:(0,n.VD)(r[1]),g:(0,n.VD)(r[2]),b:(0,n.VD)(r[3]),format:t?"name":"hex"}:(r=c.hex4.exec(e))?{r:(0,n.VD)(r[1]+r[1]),g:(0,n.VD)(r[2]+r[2]),b:(0,n.VD)(r[3]+r[3]),a:(0,n.T6)(r[4]+r[4]),format:t?"name":"hex8"}:!!(r=c.hex3.exec(e))&&{r:(0,n.VD)(r[1]+r[1]),g:(0,n.VD)(r[2]+r[2]),b:(0,n.VD)(r[3]+r[3]),format:t?"name":"hex"}}function p(e){return Boolean(c.CSS_UNIT.exec(String(e)))}},79134:function(e,t,r){"use strict";r.r(t),r.d(t,{TinyColor:function(){return s},bounds:function(){return _},convertDecimalToHex:function(){return n.Wl},convertHexToDecimal:function(){return n.T6},default:function(){return b},fromRatio:function(){return h},hslToRgb:function(){return n.ve},hsvToRgb:function(){return n.WE},inputToRGB:function(){return a.uA},isReadable:function(){return c},isValidCSSUnit:function(){return a.ky},legacyRandom:function(){return d},mostReadable:function(){return f},names:function(){return i.R},numberInputToObject:function(){return n.Yt},parseIntFromHex:function(){return n.VD},random:function(){return v},readability:function(){return u},rgbToHex:function(){return n.vq},rgbToHsl:function(){return n.lC},rgbToHsv:function(){return n.py},rgbToRgb:function(){return n.rW},rgbaToArgbHex:function(){return n.GC},rgbaToHex:function(){return n.s},stringInputToObject:function(){return a.uz},tinycolor:function(){return l},toMsFilter:function(){return p}});var n=r(73669),i=r(47586),a=r(47763),o=r(59521),s=function(){function e(t,r){var i;if(void 0===t&&(t=""),void 0===r&&(r={}),t instanceof e)return t;"number"===typeof t&&(t=(0,n.Yt)(t)),this.originalInput=t;var o=(0,a.uA)(t);this.originalInput=t,this.r=o.r,this.g=o.g,this.b=o.b,this.a=o.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(i=r.format)&&void 0!==i?i:o.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=o.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,r=e.g/255,n=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=(0,o.Yq)(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.toHsv=function(){var e=(0,n.py)(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=(0,n.py)(this.r,this.g,this.b),t=Math.round(360*e.h),r=Math.round(100*e.s),i=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(t,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=(0,n.lC)(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=(0,n.lC)(this.r,this.g,this.b),t=Math.round(360*e.h),r=Math.round(100*e.s),i=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(t,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),(0,n.vq)(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),(0,n.s)(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),r=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(r,")"):"rgba(".concat(e,", ").concat(t,", ").concat(r,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*(0,o.sh)(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*(0,o.sh)(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+(0,n.vq)(this.r,this.g,this.b,!1),t=0,r=Object.entries(i.R);t<r.length;t++){var a=r[t],o=a[0];if(e===a[1])return o}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var r=!1,n=this.a<1&&this.a>=0;return t||!n||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex4"===e&&(r=this.toHex8String(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var r=this.toHsl();return r.l+=t/100,r.l=(0,o.V2)(r.l),new e(r)},e.prototype.brighten=function(t){void 0===t&&(t=10);var r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(-t/100*255))),r.g=Math.max(0,Math.min(255,r.g-Math.round(-t/100*255))),r.b=Math.max(0,Math.min(255,r.b-Math.round(-t/100*255))),new e(r)},e.prototype.darken=function(t){void 0===t&&(t=10);var r=this.toHsl();return r.l-=t/100,r.l=(0,o.V2)(r.l),new e(r)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var r=this.toHsl();return r.s-=t/100,r.s=(0,o.V2)(r.s),new e(r)},e.prototype.saturate=function(t){void 0===t&&(t=10);var r=this.toHsl();return r.s+=t/100,r.s=(0,o.V2)(r.s),new e(r)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var r=this.toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,new e(r)},e.prototype.mix=function(t,r){void 0===r&&(r=50);var n=this.toRgb(),i=new e(t).toRgb(),a=r/100;return new e({r:(i.r-n.r)*a+n.r,g:(i.g-n.g)*a+n.g,b:(i.b-n.b)*a+n.b,a:(i.a-n.a)*a+n.a})},e.prototype.analogous=function(t,r){void 0===t&&(t=6),void 0===r&&(r=30);var n=this.toHsl(),i=360/r,a=[this];for(n.h=(n.h-(i*t>>1)+720)%360;--t;)n.h=(n.h+i)%360,a.push(new e(n));return a},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var r=this.toHsv(),n=r.h,i=r.s,a=r.v,o=[],s=1/t;t--;)o.push(new e({h:n,s:i,v:a})),a=(a+s)%1;return o},e.prototype.splitcomplement=function(){var t=this.toHsl(),r=t.h;return[this,new e({h:(r+72)%360,s:t.s,l:t.l}),new e({h:(r+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var r=this.toRgb(),n=new e(t).toRgb();return new e({r:n.r+(r.r-n.r)*r.a,g:n.g+(r.g-n.g)*r.a,b:n.b+(r.b-n.b)*r.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var r=this.toHsl(),n=r.h,i=[this],a=360/t,o=1;o<t;o++)i.push(new e({h:(n+o*a)%360,s:r.s,l:r.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function l(e,t){return void 0===e&&(e=""),void 0===t&&(t={}),new s(e,t)}function u(e,t){var r=new s(e),n=new s(t);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)}function c(e,t,r){var n,i;void 0===r&&(r={level:"AA",size:"small"});var a=u(e,t);switch((null!==(n=r.level)&&void 0!==n?n:"AA")+(null!==(i=r.size)&&void 0!==i?i:"small")){case"AAsmall":case"AAAlarge":return a>=4.5;case"AAlarge":return a>=3;case"AAAsmall":return a>=7;default:return!1}}function f(e,t,r){void 0===r&&(r={includeFallbackColors:!1,level:"AA",size:"small"});for(var n=null,i=0,a=r.includeFallbackColors,o=r.level,l=r.size,p=0,h=t;p<h.length;p++){var d=h[p],v=u(e,d);v>i&&(i=v,n=new s(d))}return c(e,n,{level:o,size:l})||!a?n:(r.includeFallbackColors=!1,f(e,["#fff","#000"],r))}function p(e,t){var r=new s(e),i="#"+(0,n.GC)(r.r,r.g,r.b,r.a),a=i,o=r.gradientType?"GradientType = 1, ":"";if(t){var l=new s(t);a="#"+(0,n.GC)(l.r,l.g,l.b,l.a)}return"progid:DXImageTransform.Microsoft.gradient(".concat(o,"startColorstr=").concat(i,",endColorstr=").concat(a,")")}function h(e,t){var r={r:(0,o.JX)(e.r),g:(0,o.JX)(e.g),b:(0,o.JX)(e.b)};return void 0!==e.a&&(r.a=Number(e.a)),new s(r,t)}function d(){return new s({r:Math.random(),g:Math.random(),b:Math.random()})}function v(e){if(void 0===e&&(e={}),void 0!==e.count&&null!==e.count){var t=e.count,r=[];for(e.count=void 0;t>r.length;)e.count=null,e.seed&&(e.seed+=1),r.push(v(e));return e.count=t,r}var n=function(e,t){var r=y(function(e){var t=parseInt(e,10);if(!Number.isNaN(t)&&t<360&&t>0)return[t,t];if("string"===typeof e){var r=_.find((function(t){return t.name===e}));if(r){var n=g(r);if(n.hueRange)return n.hueRange}var i=new s(e);if(i.isValid){var a=i.toHsv().h;return[a,a]}}return[0,360]}(e),t);r<0&&(r=360+r);return r}(e.hue,e.seed),i=function(e,t){if("monochrome"===t.hue)return 0;if("random"===t.luminosity)return y([0,100],t.seed);var r=m(e).saturationRange,n=r[0],i=r[1];switch(t.luminosity){case"bright":n=55;break;case"dark":n=i-10;break;case"light":i=55}return y([n,i],t.seed)}(n,e),a=function(e,t,r){var n=function(e,t){for(var r=m(e).lowerBounds,n=0;n<r.length-1;n++){var i=r[n][0],a=r[n][1],o=r[n+1][0],s=r[n+1][1];if(t>=i&&t<=o){var l=(s-a)/(o-i);return l*t+(a-l*i)}}return 0}(e,t),i=100;switch(r.luminosity){case"dark":i=n+20;break;case"light":n=(i+n)/2;break;case"random":n=0,i=100}return y([n,i],r.seed)}(n,i,e),o={h:n,s:i,v:a};return void 0!==e.alpha&&(o.a=e.alpha),new s(o)}function m(e){e>=334&&e<=360&&(e-=360);for(var t=0,r=_;t<r.length;t++){var n=g(r[t]);if(n.hueRange&&e>=n.hueRange[0]&&e<=n.hueRange[1])return n}throw Error("Color not found")}function y(e,t){if(void 0===t)return Math.floor(e[0]+Math.random()*(e[1]+1-e[0]));var r=e[1]||1,n=e[0]||0,i=(t=(9301*t+49297)%233280)/233280;return Math.floor(n+i*(r-n))}function g(e){var t=e.lowerBounds[0][0],r=e.lowerBounds[e.lowerBounds.length-1][0],n=e.lowerBounds[e.lowerBounds.length-1][1],i=e.lowerBounds[0][1];return{name:e.name,hueRange:e.hueRange,lowerBounds:e.lowerBounds,saturationRange:[t,r],brightnessRange:[n,i]}}var _=[{name:"monochrome",hueRange:null,lowerBounds:[[0,0],[100,0]]},{name:"red",hueRange:[-26,18],lowerBounds:[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]},{name:"orange",hueRange:[19,46],lowerBounds:[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]},{name:"yellow",hueRange:[47,62],lowerBounds:[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]},{name:"green",hueRange:[63,178],lowerBounds:[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]},{name:"blue",hueRange:[179,257],lowerBounds:[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]},{name:"purple",hueRange:[258,282],lowerBounds:[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]},{name:"pink",hueRange:[283,334],lowerBounds:[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]}],b=l},59521:function(e,t,r){"use strict";function n(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var r=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function i(e){return Math.min(1,Math.max(0,e))}function a(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function o(e){return e<=1?"".concat(100*Number(e),"%"):e}function s(e){return 1===e.length?"0"+e:String(e)}r.d(t,{FZ:function(){return s},JX:function(){return o},V2:function(){return i},Yq:function(){return a},sh:function(){return n}})},28540:function(e,t,r){"use strict";t.__esModule=!0;var n=r(72791),i=(o(n),o(r(52007))),a=o(r(74566));o(r(42391));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=1073741823;function f(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(r,n){e=r,t.forEach((function(t){return t(e,n)}))}}}t.default=function(e,t){var r,o,p="__create-react-context-"+(0,a.default)()+"__",h=function(e){function r(){var t,n;s(this,r);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=n=l(this,e.call.apply(e,[this].concat(a))),n.emitter=f(n.props.value),l(n,t)}return u(r,e),r.prototype.getChildContext=function(){var e;return(e={})[p]=this.emitter,e},r.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var r=this.props.value,n=e.value,i=void 0;((a=r)===(o=n)?0!==a||1/a===1/o:a!==a&&o!==o)?i=0:(i="function"===typeof t?t(r,n):c,0!==(i|=0)&&this.emitter.set(e.value,i))}var a,o},r.prototype.render=function(){return this.props.children},r}(n.Component);h.childContextTypes=((r={})[p]=i.default.object.isRequired,r);var d=function(t){function r(){var e,n;s(this,r);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=n=l(this,t.call.apply(t,[this].concat(a))),n.state={value:n.getValue()},n.onUpdate=function(e,t){0!==((0|n.observedBits)&t)&&n.setState({value:n.getValue()})},l(n,e)}return u(r,t),r.prototype.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?c:t},r.prototype.componentDidMount=function(){this.context[p]&&this.context[p].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?c:e},r.prototype.componentWillUnmount=function(){this.context[p]&&this.context[p].off(this.onUpdate)},r.prototype.getValue=function(){return this.context[p]?this.context[p].get():e},r.prototype.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},r}(n.Component);return d.contextTypes=((o={})[p]=i.default.object,o),{Provider:h,Consumer:d}},e.exports=t.default},54535:function(e,t,r){"use strict";t.__esModule=!0;var n=a(r(72791)),i=a(r(28540));function a(e){return e&&e.__esModule?e:{default:e}}t.default=n.default.createContext||i.default,e.exports=t.default},8656:function(e,t,r){"use strict";var n=r(75263).default;Object.defineProperty(t,"__esModule",{value:!0}),t.cloneElement=function(e,t){return o(e,e,t)},t.isFragment=function(e){return e&&a(e)&&e.type===i.Fragment},t.isValidElement=void 0,t.replaceElement=o;var i=n(r(72791)),a=i.isValidElement;function o(e,t,r){return a(e)?i.cloneElement(e,"function"===typeof r?r(e.props||{}):r):t}t.isValidElement=a},61809:function(e,t,r){"use strict";var n=r(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.getMergedStatus=void 0,t.getStatusClassNames=function(e,t,r){var n;return(0,a.default)((n={},(0,i.default)(n,"".concat(e,"-status-success"),"success"===t),(0,i.default)(n,"".concat(e,"-status-warning"),"warning"===t),(0,i.default)(n,"".concat(e,"-status-error"),"error"===t),(0,i.default)(n,"".concat(e,"-status-validating"),"validating"===t),(0,i.default)(n,"".concat(e,"-has-feedback"),r),n))};var i=n(r(38416)),a=n(r(81694));(0,r(61243).tuple)("warning","error","");t.getMergedStatus=function(e,t){return t||e}},61243:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tupleNum=t.tuple=void 0;t.tuple=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t};t.tupleNum=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t}},12317:function(e,t,r){"use strict";var n=r(75263).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.noop=a,Object.defineProperty(t,"resetWarned",{enumerable:!0,get:function(){return i.resetWarned}});var i=n(r(37973));function a(){}var o=a;t.default=o},64430:function(e,t,r){"use strict";var n=r(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(60291)).default;t.default=i},69741:function(e,t,r){"use strict";var n=r(75263).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DisabledContextProvider=void 0;var i=n(r(72791)),a=i.createContext(!1);t.DisabledContextProvider=function(e){var t=e.children,r=e.disabled,n=i.useContext(a);return i.createElement(a.Provider,{value:r||n},t)};var o=a;t.default=o},13694:function(e,t,r){"use strict";var n=r(75263).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SizeContextProvider=void 0;var i=n(r(72791)),a=i.createContext(void 0);t.SizeContextProvider=function(e){var t=e.children,r=e.size;return i.createElement(a.Consumer,null,(function(e){return i.createElement(a.Provider,{value:r||e},t)}))};var o=a;t.default=o},14516:function(e,t,r){"use strict";var n=r(75263).default,i=r(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigContext=t.ConfigConsumer=void 0,t.withConfigConsumer=function(e){return function(t){var r=t.constructor;r&&r.displayName||t.name;return function(r){return o.createElement(l,null,(function(n){var i=e.prefixCls,s=(0,n.getPrefixCls)(i,r.prefixCls);return o.createElement(t,(0,a.default)({},n,r,{prefixCls:s}))}))}}};var a=i(r(10434)),o=n(r(72791)),s=o.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")}});t.ConfigContext=s;var l=s.Consumer;t.ConfigConsumer=l},67661:function(e,t,r){"use strict";var n=r(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.getStyle=u,t.registerTheme=function(e,t){var r=u(e,t);(0,o.default)()&&(0,s.updateCSS)(r,"".concat(l,"-dynamic-theme"))};var i=r(76327),a=r(79134),o=n(r(28342)),s=r(90343),l=(n(r(12317)),"-ant-".concat(Date.now(),"-").concat(Math.random()));function u(e,t){var r={},n=function(e,t){var r=e.clone();return(r=(null===t||void 0===t?void 0:t(r))||r).toRgbString()},o=function(e,t){var o=new a.TinyColor(e),s=(0,i.generate)(o.toRgbString());r["".concat(t,"-color")]=n(o),r["".concat(t,"-color-disabled")]=s[1],r["".concat(t,"-color-hover")]=s[4],r["".concat(t,"-color-active")]=s[6],r["".concat(t,"-color-outline")]=o.clone().setAlpha(.2).toRgbString(),r["".concat(t,"-color-deprecated-bg")]=s[0],r["".concat(t,"-color-deprecated-border")]=s[2]};if(t.primaryColor){o(t.primaryColor,"primary");var s=new a.TinyColor(t.primaryColor),l=(0,i.generate)(s.toRgbString());l.forEach((function(e,t){r["primary-".concat(t+1)]=e})),r["primary-color-deprecated-l-35"]=n(s,(function(e){return e.lighten(35)})),r["primary-color-deprecated-l-20"]=n(s,(function(e){return e.lighten(20)})),r["primary-color-deprecated-t-20"]=n(s,(function(e){return e.tint(20)})),r["primary-color-deprecated-t-50"]=n(s,(function(e){return e.tint(50)})),r["primary-color-deprecated-f-12"]=n(s,(function(e){return e.setAlpha(.12*e.getAlpha())}));var u=new a.TinyColor(l[0]);r["primary-color-active-deprecated-f-30"]=n(u,(function(e){return e.setAlpha(.3*e.getAlpha())})),r["primary-color-active-deprecated-d-02"]=n(u,(function(e){return e.darken(2)}))}t.successColor&&o(t.successColor,"success"),t.warningColor&&o(t.warningColor,"warning"),t.errorColor&&o(t.errorColor,"error"),t.infoColor&&o(t.infoColor,"info");var c=Object.keys(r).map((function(t){return"--".concat(e,"-").concat(t,": ").concat(r[t],";")}));return"\n  :root {\n    ".concat(c.join("\n"),"\n  }\n  ").trim()}},55049:function(e,t,r){"use strict";var n=r(75263).default,i=r(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ConfigConsumer",{enumerable:!0,get:function(){return v.ConfigConsumer}}),Object.defineProperty(t,"ConfigContext",{enumerable:!0,get:function(){return v.ConfigContext}}),t.globalConfig=t.defaultPrefixCls=t.defaultIconPrefixCls=t.default=t.configConsumerProps=void 0;var a=i(r(10434)),o=i(r(24451)),s=r(54460),l=i(r(48844)),u=n(r(72791)),c=n(r(64122)),f=i(r(18490)),p=i(r(63282)),h=i(r(41691)),d=i(r(87073)),v=r(14516),m=r(67661),y=r(69741),g=n(r(13694));t.configConsumerProps=["getTargetContainer","getPopupContainer","rootPrefixCls","getPrefixCls","renderEmpty","csp","autoInsertSpaceInButton","locale","pageHeader"];var _=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","pagination","form"];t.defaultPrefixCls="ant";var b,x,w="anticon";function S(){return b||"ant"}function P(){return x||w}t.defaultIconPrefixCls=w;t.globalConfig=function(){return{getPrefixCls:function(e,t){return t||(e?"".concat(S(),"-").concat(e):S())},getIconPrefixCls:P,getRootPrefixCls:function(e,t){return e||(b||(t&&t.includes("-")?t.replace(/^(.*)-[^-]*$/,"$1"):S()))}}};var k=function(e){var t,r,n=e.children,i=e.csp,f=e.autoInsertSpaceInButton,h=e.form,d=e.locale,m=e.componentSize,b=e.direction,x=e.space,w=e.virtual,S=e.dropdownMatchSelectWidth,P=e.legacyLocale,k=e.parentContext,E=e.iconPrefixCls,C=e.componentDisabled,A=u.useCallback((function(t,r){var n=e.prefixCls;if(r)return r;var i=n||k.getPrefixCls("");return t?"".concat(i,"-").concat(t):i}),[k.getPrefixCls,e.prefixCls]),T=(0,a.default)((0,a.default)({},k),{csp:i,autoInsertSpaceInButton:f,locale:d||P,direction:b,space:x,virtual:w,dropdownMatchSelectWidth:S,getPrefixCls:A});_.forEach((function(t){var r=e[t];r&&(T[t]=r)}));var O=(0,l.default)((function(){return T}),T,(function(e,t){var r=Object.keys(e),n=Object.keys(t);return r.length!==n.length||r.some((function(r){return e[r]!==t[r]}))})),M=u.useMemo((function(){return{prefixCls:E,csp:i}}),[E,i]),I=n,F={};return d&&(F=(null===(t=d.Form)||void 0===t?void 0:t.defaultValidateMessages)||(null===(r=p.default.Form)||void 0===r?void 0:r.defaultValidateMessages)||{}),h&&h.validateMessages&&(F=(0,a.default)((0,a.default)({},F),h.validateMessages)),Object.keys(F).length>0&&(I=u.createElement(s.FormProvider,{validateMessages:F},n)),d&&(I=u.createElement(c.default,{locale:d,_ANT_MARK__:c.ANT_MARK},I)),(E||i)&&(I=u.createElement(o.default.Provider,{value:M},I)),m&&(I=u.createElement(g.SizeContextProvider,{size:m},I)),void 0!==C&&(I=u.createElement(y.DisabledContextProvider,{disabled:C},I)),u.createElement(v.ConfigContext.Provider,{value:O},I)},E=function(e){return u.useEffect((function(){e.direction&&(h.default.config({rtl:"rtl"===e.direction}),d.default.config({rtl:"rtl"===e.direction}))}),[e.direction]),u.createElement(f.default,null,(function(t,r,n){return u.createElement(v.ConfigConsumer,null,(function(t){return u.createElement(k,(0,a.default)({parentContext:t,legacyLocale:n},e))}))}))};E.ConfigContext=v.ConfigContext,E.SizeContext=g.default,E.config=function(e){var t=e.prefixCls,r=e.iconPrefixCls,n=e.theme;void 0!==t&&(b=t),void 0!==r&&(x=r),n&&(0,m.registerTheme)(S(),n)};var C=E;t.default=C},60291:function(e,t,r){"use strict";var n=r(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(10434)),a=n(r(37657)),o=n(r(72644)),s={lang:(0,i.default)({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},a.default),timePickerLocale:(0,i.default)({},o.default)};t.default=s},71162:function(e,t,r){"use strict";var n=r(75263).default,i=r(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.NoStyleItemContext=t.NoFormStyle=t.FormProvider=t.FormItemPrefixContext=t.FormItemInputContext=t.FormContext=void 0;var a=i(r(10434)),o=r(54460),s=i(r(94671)),l=n(r(72791)),u=l.createContext({labelAlign:"right",vertical:!1,itemRef:function(){}});t.FormContext=u;var c=l.createContext(null);t.NoStyleItemContext=c;t.FormProvider=function(e){var t=(0,s.default)(e,["prefixCls"]);return l.createElement(o.FormProvider,(0,a.default)({},t))};var f=l.createContext({prefixCls:""});t.FormItemPrefixContext=f;var p=l.createContext({});t.FormItemInputContext=p;t.NoFormStyle=function(e){var t=e.children,r=e.status,n=e.override,i=(0,l.useContext)(p),o=(0,l.useMemo)((function(){var e=(0,a.default)({},i);return n&&delete e.isFormItemInput,r&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e}),[r,n,i]);return l.createElement(p.Provider,{value:o},t)}},51925:function(e,t,r){"use strict";var n=r(75263).default,i=r(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(r(38416)),o=i(r(56690)),s=i(r(89728)),l=i(r(61655)),u=i(r(26389)),c=i(r(79175)),f=i(r(81694)),p=n(r(72791)),h=r(71162),d=r(8656),v=r(61809),m=(0,r(61243).tuple)("text","input");var y=function(e){(0,l.default)(r,e);var t=(0,u.default)(r);function r(){return(0,o.default)(this,r),t.apply(this,arguments)}return(0,s.default)(r,[{key:"renderClearIcon",value:function(e){var t,r=this.props,n=r.value,i=r.disabled,o=r.readOnly,s=r.handleReset,l=r.suffix,u=!i&&!o&&n,h="".concat(e,"-clear-icon");return p.createElement(c.default,{onClick:s,onMouseDown:function(e){return e.preventDefault()},className:(0,f.default)((t={},(0,a.default)(t,"".concat(h,"-hidden"),!u),(0,a.default)(t,"".concat(h,"-has-suffix"),!!l),t),h),role:"button"})}},{key:"renderTextAreaWithClearIcon",value:function(e,t,r){var n,i=this.props,o=i.value,s=i.allowClear,l=i.className,u=i.style,c=i.direction,h=i.bordered,m=i.hidden,y=i.status,g=r.status,_=r.hasFeedback;if(!s)return(0,d.cloneElement)(t,{value:o});var b,x=(0,f.default)("".concat(e,"-affix-wrapper"),"".concat(e,"-affix-wrapper-textarea-with-clear-btn"),(0,v.getStatusClassNames)("".concat(e,"-affix-wrapper"),(0,v.getMergedStatus)(g,y),_),(n={},(0,a.default)(n,"".concat(e,"-affix-wrapper-rtl"),"rtl"===c),(0,a.default)(n,"".concat(e,"-affix-wrapper-borderless"),!h),(0,a.default)(n,"".concat(l),!((b=this.props).addonBefore||b.addonAfter)&&l),n));return p.createElement("span",{className:x,style:u,hidden:m},(0,d.cloneElement)(t,{style:null,value:o}),this.renderClearIcon(e))}},{key:"render",value:function(){var e=this;return p.createElement(h.FormItemInputContext.Consumer,null,(function(t){var r=e.props,n=r.prefixCls,i=r.inputType,a=r.element;if(i===m[0])return e.renderTextAreaWithClearIcon(n,a,t)}))}}]),r}(p.Component),g=y;t.default=g},76456:function(e,t,r){"use strict";var n=r(75263).default,i=r(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.fixControlledValue=function(e){if("undefined"===typeof e||null===e)return"";return String(e)},t.resolveOnChange=function(e,t,r,n){if(!r)return;var i=t;if("click"===t.type){var a=e.cloneNode(!0);return i=Object.create(t,{target:{value:a},currentTarget:{value:a}}),a.value="",void r(i)}if(void 0!==n)return i=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=n,void r(i);r(i)},t.triggerFocus=function(e,t){if(!e)return;e.focus(t);var r=(t||{}).cursor;if(r){var n=e.value.length;switch(r){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(n,n);break;default:e.setSelectionRange(0,n)}}};var a=i(r(38416)),o=i(r(10434)),s=i(r(18698)),l=i(r(79175)),u=i(r(81694)),c=i(r(31516)),f=r(80306),p=n(r(72791)),h=r(55049),d=i(r(69741)),v=i(r(13694)),m=r(71162),y=r(11199),g=r(61809),_=(i(r(12317)),i(r(91868))),b=r(32257),x=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};var w=(0,p.forwardRef)((function(e,t){var r,n,i,w=e.prefixCls,S=e.bordered,P=void 0===S||S,k=e.status,E=e.size,C=e.disabled,A=e.onBlur,T=e.onFocus,O=e.suffix,M=e.allowClear,I=e.addonAfter,F=e.addonBefore,R=e.className,D=e.onChange,j=x(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","onChange"]),L=p.default.useContext(h.ConfigContext),N=L.getPrefixCls,z=L.direction,B=L.input,Z=N("input",w),U=(0,p.useRef)(null),V=(0,y.useCompactItemContext)(Z,z),G=V.compactSize,W=V.compactItemClassnames,q=p.default.useContext(v.default),H=G||E||q,Y=p.default.useContext(d.default),X=null!==C&&void 0!==C?C:Y,K=(0,p.useContext)(m.FormItemInputContext),$=K.status,J=K.hasFeedback,Q=K.feedbackIcon,ee=(0,g.getMergedStatus)($,k),te=(0,b.hasPrefixSuffix)(e)||!!J,re=(0,p.useRef)(te);(0,p.useEffect)((function(){te&&re.current,re.current=te}),[te]);var ne,ie=(0,_.default)(U,!0),ae=(J||O)&&p.default.createElement(p.default.Fragment,null,O,J&&Q);return"object"===(0,s.default)(M)&&(null===M||void 0===M?void 0:M.clearIcon)?ne=M:M&&(ne={clearIcon:p.default.createElement(l.default,null)}),p.default.createElement(c.default,(0,o.default)({ref:(0,f.composeRef)(t,U),prefixCls:Z,autoComplete:null===B||void 0===B?void 0:B.autoComplete},j,{disabled:X||void 0,onBlur:function(e){ie(),null===A||void 0===A||A(e)},onFocus:function(e){ie(),null===T||void 0===T||T(e)},suffix:ae,allowClear:ne,className:(0,u.default)(R,W),onChange:function(e){ie(),null===D||void 0===D||D(e)},addonAfter:I&&p.default.createElement(y.NoCompactStyle,null,p.default.createElement(m.NoFormStyle,{override:!0,status:!0},I)),addonBefore:F&&p.default.createElement(y.NoCompactStyle,null,p.default.createElement(m.NoFormStyle,{override:!0,status:!0},F)),inputClassName:(0,u.default)((r={},(0,a.default)(r,"".concat(Z,"-sm"),"small"===H),(0,a.default)(r,"".concat(Z,"-lg"),"large"===H),(0,a.default)(r,"".concat(Z,"-rtl"),"rtl"===z),(0,a.default)(r,"".concat(Z,"-borderless"),!P),r),!te&&(0,g.getStatusClassNames)(Z,ee)),affixWrapperClassName:(0,u.default)((n={},(0,a.default)(n,"".concat(Z,"-affix-wrapper-sm"),"small"===H),(0,a.default)(n,"".concat(Z,"-affix-wrapper-lg"),"large"===H),(0,a.default)(n,"".concat(Z,"-affix-wrapper-rtl"),"rtl"===z),(0,a.default)(n,"".concat(Z,"-affix-wrapper-borderless"),!P),n),(0,g.getStatusClassNames)("".concat(Z,"-affix-wrapper"),ee,J)),wrapperClassName:(0,u.default)((0,a.default)({},"".concat(Z,"-group-rtl"),"rtl"===z)),groupClassName:(0,u.default)((i={},(0,a.default)(i,"".concat(Z,"-group-wrapper-sm"),"small"===H),(0,a.default)(i,"".concat(Z,"-group-wrapper-lg"),"large"===H),(0,a.default)(i,"".concat(Z,"-group-wrapper-rtl"),"rtl"===z),i),(0,g.getStatusClassNames)("".concat(Z,"-group-wrapper"),ee,J))}))}));t.default=w},66023:function(e,t,r){"use strict";var n=r(75263).default,i=r(64836).default;t.Z=void 0;var a=i(r(18698)),o=i(r(38416)),s=i(r(10434)),l=i(r(27424)),u=i(r(861)),c=i(r(81694)),f=i(r(41390)),p=i(r(92097)),h=i(r(94671)),d=n(r(72791)),v=r(55049),m=i(r(69741)),y=i(r(13694)),g=r(71162),_=r(61809),b=i(r(51925)),x=r(76456),w=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};function S(e,t){return(0,u.default)(e||"").slice(0,t).join("")}function P(e,t,r,n){var i=r;return e?i=S(r,n):(0,u.default)(t||"").length<r.length&&(0,u.default)(r||"").length>n&&(i=t),i}var k=d.forwardRef((function(e,t){var r,n=e.prefixCls,i=e.bordered,k=void 0===i||i,E=e.showCount,C=void 0!==E&&E,A=e.maxLength,T=e.className,O=e.style,M=e.size,I=e.disabled,F=e.onCompositionStart,R=e.onCompositionEnd,D=e.onChange,j=e.status,L=w(e,["prefixCls","bordered","showCount","maxLength","className","style","size","disabled","onCompositionStart","onCompositionEnd","onChange","status"]),N=d.useContext(v.ConfigContext),z=N.getPrefixCls,B=N.direction,Z=d.useContext(y.default),U=d.useContext(m.default),V=null!==I&&void 0!==I?I:U,G=d.useContext(g.FormItemInputContext),W=G.status,q=G.hasFeedback,H=G.isFormItemInput,Y=G.feedbackIcon,X=(0,_.getMergedStatus)(W,j),K=d.useRef(null),$=d.useRef(null),J=d.useState(!1),Q=(0,l.default)(J,2),ee=Q[0],te=Q[1],re=d.useRef(),ne=d.useRef(0),ie=(0,p.default)(L.defaultValue,{value:L.value}),ae=(0,l.default)(ie,2),oe=ae[0],se=ae[1],le=L.hidden,ue=function(e,t){void 0===L.value&&(se(e),null===t||void 0===t||t())},ce=Number(A)>0,fe=z("input",n);d.useImperativeHandle(t,(function(){var e;return{resizableTextArea:null===(e=K.current)||void 0===e?void 0:e.resizableTextArea,focus:function(e){var t,r;(0,x.triggerFocus)(null===(r=null===(t=K.current)||void 0===t?void 0:t.resizableTextArea)||void 0===r?void 0:r.textArea,e)},blur:function(){var e;return null===(e=K.current)||void 0===e?void 0:e.blur()}}}));var pe=d.createElement(f.default,(0,s.default)({},(0,h.default)(L,["allowClear"]),{disabled:V,className:(0,c.default)((r={},(0,o.default)(r,"".concat(fe,"-borderless"),!k),(0,o.default)(r,T,T&&!C),(0,o.default)(r,"".concat(fe,"-sm"),"small"===Z||"small"===M),(0,o.default)(r,"".concat(fe,"-lg"),"large"===Z||"large"===M),r),(0,_.getStatusClassNames)(fe,X)),style:C?{resize:null===O||void 0===O?void 0:O.resize}:O,prefixCls:fe,onCompositionStart:function(e){te(!0),re.current=oe,ne.current=e.currentTarget.selectionStart,null===F||void 0===F||F(e)},onChange:function(e){var t=e.target.value;!ee&&ce&&(t=P(e.target.selectionStart>=A+1||e.target.selectionStart===t.length||!e.target.selectionStart,oe,t,A));ue(t),(0,x.resolveOnChange)(e.currentTarget,e,D,t)},onCompositionEnd:function(e){var t;te(!1);var r=e.currentTarget.value;ce&&(r=P(ne.current>=A+1||ne.current===(null===(t=re.current)||void 0===t?void 0:t.length),re.current,r,A));r!==oe&&(ue(r),(0,x.resolveOnChange)(e.currentTarget,e,D,r)),null===R||void 0===R||R(e)},ref:K})),he=(0,x.fixControlledValue)(oe);ee||!ce||null!==L.value&&void 0!==L.value||(he=S(he,A));var de=d.createElement(b.default,(0,s.default)({disabled:V},L,{prefixCls:fe,direction:B,inputType:"text",value:he,element:pe,handleReset:function(e){var t,r,n;ue(""),null===(t=K.current)||void 0===t||t.focus(),(0,x.resolveOnChange)(null===(n=null===(r=K.current)||void 0===r?void 0:r.resizableTextArea)||void 0===n?void 0:n.textArea,e,D)},ref:$,bordered:k,status:j,style:C?void 0:O}));if(C||q){var ve,me=(0,u.default)(he).length,ye="";return ye="object"===(0,a.default)(C)?C.formatter({value:he,count:me,maxLength:A}):"".concat(me).concat(ce?" / ".concat(A):""),d.createElement("div",{hidden:le,className:(0,c.default)("".concat(fe,"-textarea"),(ve={},(0,o.default)(ve,"".concat(fe,"-textarea-rtl"),"rtl"===B),(0,o.default)(ve,"".concat(fe,"-textarea-show-count"),C),(0,o.default)(ve,"".concat(fe,"-textarea-in-form-item"),H),ve),(0,_.getStatusClassNames)("".concat(fe,"-textarea"),X,q),T),style:O,"data-count":ye},de,q&&d.createElement("span",{className:"".concat(fe,"-textarea-suffix")},Y))}return de}));t.Z=k},91868:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=(0,n.useRef)([]),i=function(){r.current.push(window.setTimeout((function(){var t,r,n,i;(null===(t=e.current)||void 0===t?void 0:t.input)&&"password"===(null===(r=e.current)||void 0===r?void 0:r.input.getAttribute("type"))&&(null===(n=e.current)||void 0===n?void 0:n.input.hasAttribute("value"))&&(null===(i=e.current)||void 0===i||i.input.removeAttribute("value"))})))};return(0,n.useEffect)((function(){return t&&i(),function(){return r.current.forEach((function(e){return window.clearTimeout(e)}))}}),[]),i};var n=r(72791)},32257:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasPrefixSuffix=function(e){return!!(e.prefix||e.suffix||e.allowClear)}},18490:function(e,t,r){"use strict";var n=r(75263).default,i=r(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useLocaleReceiver=t.default=void 0;var a=i(r(10434)),o=n(r(72791)),s=i(r(43658)),l=i(r(38990)),u=function(e){var t=e.componentName,r=void 0===t?"global":t,n=e.defaultLocale,i=e.children,u=o.useContext(s.default);return i(o.useMemo((function(){var e,t=n||l.default[r],i=null!==(e=null===u||void 0===u?void 0:u[r])&&void 0!==e?e:{};return(0,a.default)((0,a.default)({},t instanceof Function?t():t),i||{})}),[r,n,u]),o.useMemo((function(){var e=u&&u.locale;return u&&u.exist&&!e?l.default.locale:e}),[u]),u)};t.default=u;t.useLocaleReceiver=function(e,t){var r=o.useContext(s.default);return[o.useMemo((function(){var n,i=t||l.default[e],o=null!==(n=null===r||void 0===r?void 0:r[e])&&void 0!==n?n:{};return(0,a.default)((0,a.default)({},"function"===typeof i?i():i),o||{})}),[e,t,r])]}},43658:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,r(72791).createContext)(void 0);t.default=n},38990:function(e,t,r){"use strict";var n=r(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(63282)).default;t.default=i},64122:function(e,t,r){"use strict";var n=r(75263).default,i=r(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ANT_MARK=void 0;var a=i(r(10434)),o=n(r(72791)),s=(i(r(12317)),r(4514)),l=i(r(43658));t.ANT_MARK="internalMark";var u=function(e){var t=e.locale,r=void 0===t?{}:t,n=e.children;e._ANT_MARK__;o.useEffect((function(){return(0,s.changeConfirmLocale)(r&&r.Modal),function(){(0,s.changeConfirmLocale)()}}),[r]);var i=o.useMemo((function(){return(0,a.default)((0,a.default)({},r),{exist:!0})}),[r]);return o.createElement(l.default.Provider,{value:i},n)};t.default=u},63282:function(e,t,r){"use strict";var n=r(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(66293)),a=n(r(64430)),o=n(r(60291)),s=n(r(72644)),l="${label} is not a valid ${type}",u={locale:"en",Pagination:i.default,DatePicker:o.default,TimePicker:s.default,Calendar:a.default,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:l,method:l,array:l,object:l,number:l,date:l,boolean:l,integer:l,float:l,regexp:l,email:l,url:l,hex:l},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}};t.default=u},77046:function(e,t,r){"use strict";var n=r(75263).default,i=r(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(){var r,n,i=null,f={add:function(e,t){null===i||void 0===i||i.component.add(e,t)}},p=(0,s.default)(f),h=(0,o.default)(p,2),d=h[0],v=h[1];var m=l.useRef({});return m.current.open=function(o){var s=o.prefixCls,l=r("message",s),c=r(),f=o.key||(0,u.getKeyThenIncreaseKey)(),p=new Promise((function(r){var s=function(){return"function"===typeof o.onClose&&o.onClose(),r(!0)};e((0,a.default)((0,a.default)({},o),{prefixCls:l,rootPrefixCls:c,getPopupContainer:n}),(function(e){var r=e.prefixCls,n=e.instance;i=n,d(t((0,a.default)((0,a.default)({},o),{key:f,onClose:s}),r))}))})),h=function(){i&&i.removeNotice(f)};return h.then=function(e,t){return p.then(e,t)},h.promise=p,h},u.typeList.forEach((function(e){return(0,u.attachTypeApi)(m.current,e)})),[m.current,l.createElement(c.ConfigConsumer,{key:"holder"},(function(e){return r=e.getPrefixCls,n=e.getPopupContainer,v}))]}};var a=i(r(10434)),o=i(r(27424)),s=i(r(5400)),l=n(r(72791)),u=r(41691),c=r(55049)},41691:function(e,t,r){"use strict";var n=r(75263).default,i=r(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.attachTypeApi=F,t.getInstance=t.default=void 0,t.getKeyThenIncreaseKey=C,t.typeList=void 0;var a,o,s,l,u=i(r(10434)),c=i(r(38416)),f=i(r(46152)),p=i(r(79175)),h=i(r(49901)),d=i(r(60359)),v=i(r(78600)),m=i(r(81694)),y=i(r(6302)),g=n(r(72791)),_=n(r(55049)),b=i(r(77046)),x=3,w=1,S="",P="move-up",k=!1,E=!1;function C(){return w++}function A(e,t){var r=e.prefixCls,n=e.getPopupContainer,i=(0,_.globalConfig)(),u=i.getPrefixCls,c=i.getRootPrefixCls,f=i.getIconPrefixCls,p=u("message",r||S),h=c(e.rootPrefixCls,p),d=f();if(a)t({prefixCls:p,rootPrefixCls:h,iconPrefixCls:d,instance:a});else{var v={prefixCls:p,transitionName:k?P:"".concat(h,"-").concat(P),style:{top:o},getContainer:s||n,maxCount:l};y.default.newInstance(v,(function(e){a?t({prefixCls:p,rootPrefixCls:h,iconPrefixCls:d,instance:a}):(a=e,t({prefixCls:p,rootPrefixCls:h,iconPrefixCls:d,instance:e}))}))}}var T={info:d.default,success:f.default,error:p.default,warning:h.default,loading:v.default},O=Object.keys(T);function M(e,t,r){var n,i=void 0!==e.duration?e.duration:x,a=T[e.type],o=(0,m.default)("".concat(t,"-custom-content"),(n={},(0,c.default)(n,"".concat(t,"-").concat(e.type),e.type),(0,c.default)(n,"".concat(t,"-rtl"),!0===E),n));return{key:e.key,duration:i,style:e.style||{},className:e.className,content:g.createElement(_.default,{iconPrefixCls:r},g.createElement("div",{className:o},e.icon||a&&g.createElement(a,null),g.createElement("span",null,e.content))),onClose:e.onClose,onClick:e.onClick}}t.typeList=O;var I={open:function(e){var t=e.key||C(),r=new Promise((function(r){var n=function(){return"function"===typeof e.onClose&&e.onClose(),r(!0)};A(e,(function(r){var i=r.prefixCls,a=r.iconPrefixCls;r.instance.notice(M((0,u.default)((0,u.default)({},e),{key:t,onClose:n}),i,a))}))})),n=function(){a&&a.removeNotice(t)};return n.then=function(e,t){return r.then(e,t)},n.promise=r,n},config:function(e){void 0!==e.top&&(o=e.top,a=null),void 0!==e.duration&&(x=e.duration),void 0!==e.prefixCls&&(S=e.prefixCls),void 0!==e.getContainer&&(s=e.getContainer,a=null),void 0!==e.transitionName&&(P=e.transitionName,a=null,k=!0),void 0!==e.maxCount&&(l=e.maxCount,a=null),void 0!==e.rtl&&(E=e.rtl)},destroy:function(e){if(a)if(e){(0,a.removeNotice)(e)}else{var t=a.destroy;t(),a=null}}};function F(e,t){e[t]=function(r,n,i){return function(e){return"[object Object]"===Object.prototype.toString.call(e)&&!!e.content}(r)?e.open((0,u.default)((0,u.default)({},r),{type:t})):("function"===typeof n&&(i=n,n=void 0),e.open({content:r,duration:n,type:t,onClose:i}))}}O.forEach((function(e){return F(I,e)})),I.warn=I.warning,I.useMessage=(0,b.default)(A,M);t.getInstance=function(){return null};var R=I;t.default=R},4514:function(e,t,r){"use strict";var n=r(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.changeConfirmLocale=function(e){o=e?(0,i.default)((0,i.default)({},o),e):(0,i.default)({},a.default.Modal)},t.getConfirmLocale=function(){return o};var i=n(r(10434)),a=n(r(63282)),o=(0,i.default)({},a.default.Modal)},62700:function(e,t,r){"use strict";var n=r(75263).default,i=r(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(){var r,n=null,i={add:function(e,t){null===n||void 0===n||n.component.add(e,t)}},c=(0,s.default)(i),f=(0,o.default)(c,2),p=f[0],h=f[1];var d=l.useRef({});return d.current.open=function(i){var o=i.prefixCls,s=r("notification",o);e((0,a.default)((0,a.default)({},i),{prefixCls:s}),(function(e){var r=e.prefixCls,a=e.instance;n=a,p(t(i,r))}))},["success","info","warning","error"].forEach((function(e){d.current[e]=function(t){return d.current.open((0,a.default)((0,a.default)({},t),{type:e}))}})),[d.current,l.createElement(u.ConfigConsumer,{key:"holder"},(function(e){return r=e.getPrefixCls,h}))]}};var a=i(r(10434)),o=i(r(27424)),s=i(r(5400)),l=n(r(72791)),u=r(55049)},87073:function(e,t,r){"use strict";var n=r(75263).default,i=r(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.getInstance=t.default=void 0;var a,o,s,l=i(r(17061)),u=i(r(10434)),c=i(r(38416)),f=i(r(31827)),p=i(r(70824)),h=i(r(59242)),d=i(r(91412)),v=i(r(54340)),m=i(r(81694)),y=i(r(6302)),g=n(r(72791)),_=n(r(55049)),b=i(r(62700)),x=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{l(n.next(e))}catch(t){a(t)}}function s(e){try{l(n.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))},w={},S=4.5,P=24,k=24,E="",C="topRight",A=!1;function T(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k;switch(e){case"top":t={left:"50%",transform:"translateX(-50%)",right:"auto",top:r,bottom:"auto"};break;case"topLeft":t={left:0,top:r,bottom:"auto"};break;case"topRight":t={right:0,top:r,bottom:"auto"};break;case"bottom":t={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:n};break;case"bottomLeft":t={left:0,top:"auto",bottom:n};break;default:t={right:0,top:"auto",bottom:n}}return t}function O(e,t){var r=e.placement,n=void 0===r?C:r,i=e.top,o=e.bottom,l=e.getContainer,u=void 0===l?a:l,f=e.prefixCls,p=(0,_.globalConfig)(),h=p.getPrefixCls,d=p.getIconPrefixCls,v=h("notification",f||E),g=d(),b="".concat(v,"-").concat(n),x=w[b];if(x)Promise.resolve(x).then((function(e){t({prefixCls:"".concat(v,"-notice"),iconPrefixCls:g,instance:e})}));else{var S=(0,m.default)("".concat(v,"-").concat(n),(0,c.default)({},"".concat(v,"-rtl"),!0===A));w[b]=new Promise((function(e){y.default.newInstance({prefixCls:v,className:S,style:T(n,i,o),getContainer:u,maxCount:s},(function(r){e(r),t({prefixCls:"".concat(v,"-notice"),iconPrefixCls:g,instance:r})}))}))}}var M={success:f.default,info:v.default,error:p.default,warning:d.default};function I(e,t,r){var n=e.duration,i=e.icon,a=e.type,s=e.description,l=e.message,u=e.btn,f=e.onClose,p=e.onClick,d=e.key,v=e.style,y=e.className,b=e.closeIcon,x=void 0===b?o:b,w=e.props,P=void 0===n?S:n,k=null;i?k=g.createElement("span",{className:"".concat(t,"-icon")},e.icon):a&&(k=g.createElement(M[a]||null,{className:"".concat(t,"-icon ").concat(t,"-icon-").concat(a)}));var E=g.createElement("span",{className:"".concat(t,"-close-x")},x||g.createElement(h.default,{className:"".concat(t,"-close-icon")})),C=!s&&k?g.createElement("span",{className:"".concat(t,"-message-single-line-auto-margin")}):null;return{content:g.createElement(_.default,{iconPrefixCls:r},g.createElement("div",{className:k?"".concat(t,"-with-icon"):"",role:"alert"},k,g.createElement("div",{className:"".concat(t,"-message")},C,l),g.createElement("div",{className:"".concat(t,"-description")},s),u?g.createElement("span",{className:"".concat(t,"-btn")},u):null)),duration:P,closable:!0,closeIcon:E,onClose:f,onClick:p,key:d,style:v||{},className:(0,m.default)(y,(0,c.default)({},"".concat(t,"-").concat(a),!!a)),props:w}}var F={open:function(e){O(e,(function(t){var r=t.prefixCls,n=t.iconPrefixCls;t.instance.notice(I(e,r,n))}))},close:function(e){Object.keys(w).forEach((function(t){return Promise.resolve(w[t]).then((function(t){t.removeNotice(e)}))}))},config:function(e){var t=e.duration,r=e.placement,n=e.bottom,i=e.top,l=e.getContainer,u=e.closeIcon,c=e.prefixCls;void 0!==c&&(E=c),void 0!==t&&(S=t),void 0!==r?C=r:e.rtl&&(C="topLeft"),void 0!==n&&(k=n),void 0!==i&&(P=i),void 0!==l&&(a=l),void 0!==u&&(o=u),void 0!==e.rtl&&(A=e.rtl),void 0!==e.maxCount&&(s=e.maxCount)},destroy:function(){Object.keys(w).forEach((function(e){Promise.resolve(w[e]).then((function(e){e.destroy()})),delete w[e]}))}};["success","info","warning","error"].forEach((function(e){F[e]=function(t){return F.open((0,u.default)((0,u.default)({},t),{type:e}))}})),F.warn=F.warning,F.useNotification=(0,b.default)(O,I);t.getInstance=function(e){return x(void 0,void 0,void 0,(0,l.default)().mark((function e(){return(0,l.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})))};var R=F;t.default=R},11199:function(e,t,r){"use strict";var n=r(75263).default,i=r(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useCompactItemContext=t.default=t.SpaceCompactItemContext=t.NoCompactStyle=void 0;var a=i(r(10434)),o=i(r(38416)),s=i(r(81694)),l=i(r(93465)),u=n(r(72791)),c=r(55049),f=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},p=u.createContext(null);t.SpaceCompactItemContext=p;t.useCompactItemContext=function(e,t){var r=u.useContext(p),n=u.useMemo((function(){var n;if(!r)return"";var i=r.compactDirection,a=r.isFirstItem,l=r.isLastItem,u="vertical"===i?"-vertical-":"-";return(0,s.default)((n={},(0,o.default)(n,"".concat(e,"-compact").concat(u,"item"),!0),(0,o.default)(n,"".concat(e,"-compact").concat(u,"first-item"),a),(0,o.default)(n,"".concat(e,"-compact").concat(u,"last-item"),l),(0,o.default)(n,"".concat(e,"-compact").concat(u,"item-rtl"),"rtl"===t),n))}),[e,t,r]);return{compactSize:null===r||void 0===r?void 0:r.compactSize,compactDirection:null===r||void 0===r?void 0:r.compactDirection,compactItemClassnames:n}};t.NoCompactStyle=function(e){var t=e.children;return u.createElement(p.Provider,{value:null},t)};var h=function(e){var t=e.children,r=f(e,["children"]);return u.createElement(p.Provider,{value:r},t)},d=function(e){var t,r=u.useContext(c.ConfigContext),n=r.getPrefixCls,i=r.direction,d=e.size,v=void 0===d?"middle":d,m=e.direction,y=e.block,g=e.prefixCls,_=e.className,b=e.children,x=f(e,["size","direction","block","prefixCls","className","children"]),w=n("space-compact",g),S=(0,s.default)(w,(t={},(0,o.default)(t,"".concat(w,"-rtl"),"rtl"===i),(0,o.default)(t,"".concat(w,"-block"),y),(0,o.default)(t,"".concat(w,"-vertical"),"vertical"===m),t),_),P=u.useContext(p),k=(0,l.default)(b),E=u.useMemo((function(){return k.map((function(e,t){var r=e&&e.key||"".concat(w,"-item-").concat(t);return u.createElement(h,{key:r,compactSize:v,compactDirection:m,isFirstItem:0===t&&(!P||(null===P||void 0===P?void 0:P.isFirstItem)),isLastItem:t===k.length-1&&(!P||(null===P||void 0===P?void 0:P.isLastItem))},e)}))}),[v,k,P]);return 0===k.length?null:u.createElement("div",(0,a.default)({className:S},x),E)};t.default=d},72644:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={placeholder:"Select time",rangePlaceholder:["Start time","End time"]};t.default=r},44037:function(e,t,r){"use strict";var n=r(52506),i=r(19722),a=i(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"===typeof r&&a(e,".prototype.")>-1?i(r):r}},19722:function(e,t,r){"use strict";var n=r(33350),i=r(52506),a=i("%Function.prototype.apply%"),o=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||n.call(o,a),l=i("%Object.getOwnPropertyDescriptor%",!0),u=i("%Object.defineProperty%",!0),c=i("%Math.max%");if(u)try{u({},"a",{value:1})}catch(p){u=null}e.exports=function(e){var t=s(n,o,arguments);if(l&&u){var r=l(t,"length");r.configurable&&u(t,"length",{value:1+c(0,e.length-(arguments.length-1))})}return t};var f=function(){return s(n,a,arguments)};u?u(e.exports,"apply",{value:f}):e.exports.apply=f},74383:function(e){var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};e.exports=t},72358:function(e){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var r=[],n=0;n<e.length;n+=3)for(var i=e[n]<<16|e[n+1]<<8|e[n+2],a=0;a<4;a++)8*n+6*a<=8*e.length?r.push(t.charAt(i>>>6*(3-a)&63)):r.push("=");return r.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var r=[],n=0,i=0;n<e.length;i=++n%4)0!=i&&r.push((t.indexOf(e.charAt(n-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(n))>>>6-2*i);return r}};e.exports=r}()},24058:function(e,t,r){var n=r(24892),i=r(65450),a=r(33454),o=r(41146),s=r(83535),l=r(92833),u=Date.prototype.getTime;function c(e,t,r){var h=r||{};return!!(h.strict?a(e,t):e===t)||(!e||!t||"object"!==typeof e&&"object"!==typeof t?h.strict?a(e,t):e==t:function(e,t,r){var a,h;if(typeof e!==typeof t)return!1;if(f(e)||f(t))return!1;if(e.prototype!==t.prototype)return!1;if(i(e)!==i(t))return!1;var d=o(e),v=o(t);if(d!==v)return!1;if(d||v)return e.source===t.source&&s(e)===s(t);if(l(e)&&l(t))return u.call(e)===u.call(t);var m=p(e),y=p(t);if(m!==y)return!1;if(m||y){if(e.length!==t.length)return!1;for(a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}if(typeof e!==typeof t)return!1;try{var g=n(e),_=n(t)}catch(b){return!1}if(g.length!==_.length)return!1;for(g.sort(),_.sort(),a=g.length-1;a>=0;a--)if(g[a]!=_[a])return!1;for(a=g.length-1;a>=0;a--)if(!c(e[h=g[a]],t[h],r))return!1;return!0}(e,t,h))}function f(e){return null===e||void 0===e}function p(e){return!(!e||"object"!==typeof e||"number"!==typeof e.length)&&("function"===typeof e.copy&&"function"===typeof e.slice&&!(e.length>0&&"number"!==typeof e[0]))}e.exports=c},49948:function(e){"use strict";var t=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===r}(e)}(e)};var r="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(e,t){return!1!==t.clone&&t.isMergeableObject(e)?l((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function i(e,t,r){return e.concat(t).map((function(e){return n(e,r)}))}function a(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function o(e,t){try{return t in e}catch(r){return!1}}function s(e,t,r){var i={};return r.isMergeableObject(e)&&a(e).forEach((function(t){i[t]=n(e[t],r)})),a(t).forEach((function(a){(function(e,t){return o(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,a)||(o(e,a)&&r.isMergeableObject(t[a])?i[a]=function(e,t){if(!t.customMerge)return l;var r=t.customMerge(e);return"function"===typeof r?r:l}(a,r)(e[a],t[a],r):i[a]=n(t[a],r))})),i}function l(e,r,a){(a=a||{}).arrayMerge=a.arrayMerge||i,a.isMergeableObject=a.isMergeableObject||t,a.cloneUnlessOtherwiseSpecified=n;var o=Array.isArray(r);return o===Array.isArray(e)?o?a.arrayMerge(e,r,a):s(e,r,a):n(r,a)}l.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return l(e,r,t)}),{})};var u=l;e.exports=u},9396:function(e,t,r){"use strict";var n=r(24892),i="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),a=Object.prototype.toString,o=Array.prototype.concat,s=Object.defineProperty,l=r(84510)(),u=s&&l,c=function(e,t,r,n){var i;(!(t in e)||"function"===typeof(i=n)&&"[object Function]"===a.call(i)&&n())&&(u?s(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)},f=function(e,t){var r=arguments.length>2?arguments[2]:{},a=n(t);i&&(a=o.call(a,Object.getOwnPropertySymbols(t)));for(var s=0;s<a.length;s+=1)c(e,a[s],t[a[s]],r[a[s]])};f.supportsDescriptors=!!u,e.exports=f},88354:function(e,t,r){"use strict";var n=r(64836);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var i=n(r(13812));e.exports=t.default},13812:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},2910:function(e){"use strict";function t(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,r){e.classList?e.classList.remove(r):"string"===typeof e.className?e.className=t(e.className,r):e.setAttribute("class",t(e.className&&e.className.baseVal||"",r))}},70456:function(e,t,r){"use strict";r.d(t,{TA:function(){return J}});var n=r(72791),i=r(63457),a=r.n(i),o=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===s}(e)}(e)};var s="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function l(e,t){return!1!==t.clone&&t.isMergeableObject(e)?c((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function u(e,t,r){return e.concat(t).map((function(e){return l(e,r)}))}function c(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||u,r.isMergeableObject=r.isMergeableObject||o;var n=Array.isArray(t);return n===Array.isArray(e)?n?r.arrayMerge(e,t,r):function(e,t,r){var n={};return r.isMergeableObject(e)&&Object.keys(e).forEach((function(t){n[t]=l(e[t],r)})),Object.keys(t).forEach((function(i){r.isMergeableObject(t[i])&&e[i]?n[i]=c(e[i],t[i],r):n[i]=l(t[i],r)})),n}(e,t,r):l(t,r)}c.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return c(e,r,t)}),{})};var f=c,p=r(85275),h=r(68846),d=r(98809),v=Function.prototype,m=Object.prototype,y=v.toString,g=m.hasOwnProperty,_=y.call(Object);var b=function(e){if(!(0,d.Z)(e)||"[object Object]"!=(0,p.Z)(e))return!1;var t=(0,h.Z)(e);if(null===t)return!0;var r=g.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&y.call(r)==_},x=r(36402);var w=function(e){return(0,x.Z)(e,4)},S=r(26754),P=r(14278),k=r(18567),E=r(72305),C=r(11998),A=r(55884),T=r(38686);var O=function(e){return(0,k.Z)(e)?(0,S.Z)(e,A.Z):(0,E.Z)(e)?[e]:(0,P.Z)((0,C.Z)((0,T.Z)(e)))},M=r(15501);r(62110);var I=function(e){return(0,x.Z)(e,5)};function F(){return F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F.apply(this,arguments)}function R(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function D(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var L=function(e){return Array.isArray(e)&&0===e.length},N=function(e){return"function"===typeof e},z=function(e){return null!==e&&"object"===typeof e},B=function(e){return String(Math.floor(Number(e)))===e},Z=function(e){return"[object String]"===Object.prototype.toString.call(e)},U=function(e){return 0===n.Children.count(e)},V=function(e){return z(e)&&N(e.then)};function G(e,t,r,n){void 0===n&&(n=0);for(var i=O(t);e&&n<i.length;)e=e[i[n++]];return void 0===e?r:e}function W(e,t,r){for(var n=w(e),i=n,a=0,o=O(t);a<o.length-1;a++){var s=o[a],l=G(e,o.slice(0,a+1));if(l&&(z(l)||Array.isArray(l)))i=i[s]=w(l);else{var u=o[a+1];i=i[s]=B(u)&&Number(u)>=0?[]:{}}}return(0===a?e:i)[o[a]]===r?e:(void 0===r?delete i[o[a]]:i[o[a]]=r,0===a&&void 0===r&&delete n[o[a]],n)}function q(e,t,r,n){void 0===r&&(r=new WeakMap),void 0===n&&(n={});for(var i=0,a=Object.keys(e);i<a.length;i++){var o=a[i],s=e[o];z(s)?r.get(s)||(r.set(s,!0),n[o]=Array.isArray(s)?[]:{},q(s,t,r,n[o])):n[o]=t}return n}var H=(0,n.createContext)(void 0);H.displayName="FormikContext";H.Provider,H.Consumer;function Y(){var e=(0,n.useContext)(H);return e||(0,M.Z)(!1),e}function X(e,t){switch(t.type){case"SET_VALUES":return F({},e,{values:t.payload});case"SET_TOUCHED":return F({},e,{touched:t.payload});case"SET_ERRORS":return a()(e.errors,t.payload)?e:F({},e,{errors:t.payload});case"SET_STATUS":return F({},e,{status:t.payload});case"SET_ISSUBMITTING":return F({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return F({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return F({},e,{values:W(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return F({},e,{touched:W(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return F({},e,{errors:W(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return F({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return F({},e,{touched:q(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return F({},e,{isSubmitting:!1});default:return e}}var K={},$={};function J(e){var t=e.validateOnChange,r=void 0===t||t,i=e.validateOnBlur,o=void 0===i||i,s=e.validateOnMount,l=void 0!==s&&s,u=e.isInitialValid,c=e.enableReinitialize,p=void 0!==c&&c,h=e.onSubmit,d=D(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),v=F({validateOnChange:r,validateOnBlur:o,validateOnMount:l,onSubmit:h},d),m=(0,n.useRef)(v.initialValues),y=(0,n.useRef)(v.initialErrors||K),g=(0,n.useRef)(v.initialTouched||$),_=(0,n.useRef)(v.initialStatus),b=(0,n.useRef)(!1),x=(0,n.useRef)({});(0,n.useEffect)((function(){return b.current=!0,function(){b.current=!1}}),[]);var w=(0,n.useReducer)(X,{values:v.initialValues,errors:v.initialErrors||K,touched:v.initialTouched||$,status:v.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),S=w[0],P=w[1],k=(0,n.useCallback)((function(e,t){return new Promise((function(r,n){var i=v.validate(e,t);null==i?r(K):V(i)?i.then((function(e){r(e||K)}),(function(e){n(e)})):r(i)}))}),[v.validate]),E=(0,n.useCallback)((function(e,t){var r=v.validationSchema,n=N(r)?r(t):r,i=t&&n.validateAt?n.validateAt(t,e):function(e,t,r,n){void 0===r&&(r=!1);void 0===n&&(n={});var i=Q(e);return t[r?"validateSync":"validate"](i,{abortEarly:!1,context:n})}(e,n);return new Promise((function(e,t){i.then((function(){e(K)}),(function(r){"ValidationError"===r.name?e(function(e){var t={};if(e.inner){if(0===e.inner.length)return W(t,e.path,e.message);var r=e.inner,n=Array.isArray(r),i=0;for(r=n?r:r[Symbol.iterator]();;){var a;if(n){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}var o=a;G(t,o.path)||(t=W(t,o.path,o.message))}}return t}(r)):t(r)}))}))}),[v.validationSchema]),C=(0,n.useCallback)((function(e,t){return new Promise((function(r){return r(x.current[e].validate(t))}))}),[]),A=(0,n.useCallback)((function(e){var t=Object.keys(x.current).filter((function(e){return N(x.current[e].validate)})),r=t.length>0?t.map((function(t){return C(t,G(e,t))})):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(r).then((function(e){return e.reduce((function(e,r,n){return"DO_NOT_DELETE_YOU_WILL_BE_FIRED"===r||r&&(e=W(e,t[n],r)),e}),{})}))}),[C]),T=(0,n.useCallback)((function(e){return Promise.all([A(e),v.validationSchema?E(e):{},v.validate?k(e):{}]).then((function(e){var t=e[0],r=e[1],n=e[2];return f.all([t,r,n],{arrayMerge:ee})}))}),[v.validate,v.validationSchema,A,k,E]),O=re((function(e){return void 0===e&&(e=S.values),P({type:"SET_ISVALIDATING",payload:!0}),T(e).then((function(e){return b.current&&(P({type:"SET_ISVALIDATING",payload:!1}),P({type:"SET_ERRORS",payload:e})),e}))}));(0,n.useEffect)((function(){l&&!0===b.current&&a()(m.current,v.initialValues)&&O(m.current)}),[l,O]);var M=(0,n.useCallback)((function(e){var t=e&&e.values?e.values:m.current,r=e&&e.errors?e.errors:y.current?y.current:v.initialErrors||{},n=e&&e.touched?e.touched:g.current?g.current:v.initialTouched||{},i=e&&e.status?e.status:_.current?_.current:v.initialStatus;m.current=t,y.current=r,g.current=n,_.current=i;var a=function(){P({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:r,touched:n,status:i,values:t,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&"number"===typeof e.submitCount?e.submitCount:0}})};if(v.onReset){var o=v.onReset(S.values,ce);V(o)?o.then(a):a()}else a()}),[v.initialErrors,v.initialStatus,v.initialTouched]);(0,n.useEffect)((function(){!0!==b.current||a()(m.current,v.initialValues)||(p&&(m.current=v.initialValues,M()),l&&O(m.current))}),[p,v.initialValues,M,l,O]),(0,n.useEffect)((function(){p&&!0===b.current&&!a()(y.current,v.initialErrors)&&(y.current=v.initialErrors||K,P({type:"SET_ERRORS",payload:v.initialErrors||K}))}),[p,v.initialErrors]),(0,n.useEffect)((function(){p&&!0===b.current&&!a()(g.current,v.initialTouched)&&(g.current=v.initialTouched||$,P({type:"SET_TOUCHED",payload:v.initialTouched||$}))}),[p,v.initialTouched]),(0,n.useEffect)((function(){p&&!0===b.current&&!a()(_.current,v.initialStatus)&&(_.current=v.initialStatus,P({type:"SET_STATUS",payload:v.initialStatus}))}),[p,v.initialStatus,v.initialTouched]);var I=re((function(e){if(x.current[e]&&N(x.current[e].validate)){var t=G(S.values,e),r=x.current[e].validate(t);return V(r)?(P({type:"SET_ISVALIDATING",payload:!0}),r.then((function(e){return e})).then((function(t){P({type:"SET_FIELD_ERROR",payload:{field:e,value:t}}),P({type:"SET_ISVALIDATING",payload:!1})}))):(P({type:"SET_FIELD_ERROR",payload:{field:e,value:r}}),Promise.resolve(r))}return v.validationSchema?(P({type:"SET_ISVALIDATING",payload:!0}),E(S.values,e).then((function(e){return e})).then((function(t){P({type:"SET_FIELD_ERROR",payload:{field:e,value:t[e]}}),P({type:"SET_ISVALIDATING",payload:!1})}))):Promise.resolve()})),R=(0,n.useCallback)((function(e,t){var r=t.validate;x.current[e]={validate:r}}),[]),j=(0,n.useCallback)((function(e){delete x.current[e]}),[]),L=re((function(e,t){return P({type:"SET_TOUCHED",payload:e}),(void 0===t?o:t)?O(S.values):Promise.resolve()})),B=(0,n.useCallback)((function(e){P({type:"SET_ERRORS",payload:e})}),[]),U=re((function(e,t){var n=N(e)?e(S.values):e;return P({type:"SET_VALUES",payload:n}),(void 0===t?r:t)?O(n):Promise.resolve()})),q=(0,n.useCallback)((function(e,t){P({type:"SET_FIELD_ERROR",payload:{field:e,value:t}})}),[]),H=re((function(e,t,n){return P({type:"SET_FIELD_VALUE",payload:{field:e,value:t}}),(void 0===n?r:n)?O(W(S.values,e,t)):Promise.resolve()})),Y=(0,n.useCallback)((function(e,t){var r,n=t,i=e;if(!Z(e)){e.persist&&e.persist();var a=e.target?e.target:e.currentTarget,o=a.type,s=a.name,l=a.id,u=a.value,c=a.checked,f=(a.outerHTML,a.options),p=a.multiple;n=t||(s||l),i=/number|range/.test(o)?(r=parseFloat(u),isNaN(r)?"":r):/checkbox/.test(o)?function(e,t,r){if("boolean"===typeof e)return Boolean(t);var n=[],i=!1,a=-1;if(Array.isArray(e))n=e,i=(a=e.indexOf(r))>=0;else if(!r||"true"==r||"false"==r)return Boolean(t);if(t&&r&&!i)return n.concat(r);if(!i)return n;return n.slice(0,a).concat(n.slice(a+1))}(G(S.values,n),c,u):f&&p?function(e){return Array.from(e).filter((function(e){return e.selected})).map((function(e){return e.value}))}(f):u}n&&H(n,i)}),[H,S.values]),J=re((function(e){if(Z(e))return function(t){return Y(t,e)};Y(e)})),te=re((function(e,t,r){return void 0===t&&(t=!0),P({type:"SET_FIELD_TOUCHED",payload:{field:e,value:t}}),(void 0===r?o:r)?O(S.values):Promise.resolve()})),ne=(0,n.useCallback)((function(e,t){e.persist&&e.persist();var r=e.target,n=r.name,i=r.id,a=(r.outerHTML,t||(n||i));te(a,!0)}),[te]),ie=re((function(e){if(Z(e))return function(t){return ne(t,e)};ne(e)})),ae=(0,n.useCallback)((function(e){N(e)?P({type:"SET_FORMIK_STATE",payload:e}):P({type:"SET_FORMIK_STATE",payload:function(){return e}})}),[]),oe=(0,n.useCallback)((function(e){P({type:"SET_STATUS",payload:e})}),[]),se=(0,n.useCallback)((function(e){P({type:"SET_ISSUBMITTING",payload:e})}),[]),le=re((function(){return P({type:"SUBMIT_ATTEMPT"}),O().then((function(e){var t=e instanceof Error;if(!t&&0===Object.keys(e).length){var r;try{if(void 0===(r=fe()))return}catch(n){throw n}return Promise.resolve(r).then((function(e){return b.current&&P({type:"SUBMIT_SUCCESS"}),e})).catch((function(e){if(b.current)throw P({type:"SUBMIT_FAILURE"}),e}))}if(b.current&&(P({type:"SUBMIT_FAILURE"}),t))throw e}))})),ue=re((function(e){e&&e.preventDefault&&N(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&N(e.stopPropagation)&&e.stopPropagation(),le().catch((function(e){console.warn("Warning: An unhandled error was caught from submitForm()",e)}))})),ce={resetForm:M,validateForm:O,validateField:I,setErrors:B,setFieldError:q,setFieldTouched:te,setFieldValue:H,setStatus:oe,setSubmitting:se,setTouched:L,setValues:U,setFormikState:ae,submitForm:le},fe=re((function(){return h(S.values,ce)})),pe=re((function(e){e&&e.preventDefault&&N(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&N(e.stopPropagation)&&e.stopPropagation(),M()})),he=(0,n.useCallback)((function(e){return{value:G(S.values,e),error:G(S.errors,e),touched:!!G(S.touched,e),initialValue:G(m.current,e),initialTouched:!!G(g.current,e),initialError:G(y.current,e)}}),[S.errors,S.touched,S.values]),de=(0,n.useCallback)((function(e){return{setValue:function(t,r){return H(e,t,r)},setTouched:function(t,r){return te(e,t,r)},setError:function(t){return q(e,t)}}}),[H,te,q]),ve=(0,n.useCallback)((function(e){var t=z(e),r=t?e.name:e,n=G(S.values,r),i={name:r,value:n,onChange:J,onBlur:ie};if(t){var a=e.type,o=e.value,s=e.as,l=e.multiple;"checkbox"===a?void 0===o?i.checked=!!n:(i.checked=!(!Array.isArray(n)||!~n.indexOf(o)),i.value=o):"radio"===a?(i.checked=n===o,i.value=o):"select"===s&&l&&(i.value=i.value||[],i.multiple=!0)}return i}),[ie,J,S.values]),me=(0,n.useMemo)((function(){return!a()(m.current,S.values)}),[m.current,S.values]),ye=(0,n.useMemo)((function(){return"undefined"!==typeof u?me?S.errors&&0===Object.keys(S.errors).length:!1!==u&&N(u)?u(v):u:S.errors&&0===Object.keys(S.errors).length}),[u,me,S.errors,v]);return F({},S,{initialValues:m.current,initialErrors:y.current,initialTouched:g.current,initialStatus:_.current,handleBlur:ie,handleChange:J,handleReset:pe,handleSubmit:ue,resetForm:M,setErrors:B,setFormikState:ae,setFieldTouched:te,setFieldValue:H,setFieldError:q,setStatus:oe,setSubmitting:se,setTouched:L,setValues:U,submitForm:le,validateForm:O,validateField:I,isValid:ye,dirty:me,unregisterField:j,registerField:R,getFieldProps:ve,getFieldMeta:he,getFieldHelpers:de,validateOnBlur:o,validateOnChange:r,validateOnMount:l})}function Q(e){var t=Array.isArray(e)?[]:{};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=String(r);!0===Array.isArray(e[n])?t[n]=e[n].map((function(e){return!0===Array.isArray(e)||b(e)?Q(e):""!==e?e:void 0})):b(e[n])?t[n]=Q(e[n]):t[n]=""!==e[n]?e[n]:void 0}return t}function ee(e,t,r){var n=e.slice();return t.forEach((function(t,i){if("undefined"===typeof n[i]){var a=!1!==r.clone&&r.isMergeableObject(t);n[i]=a?f(Array.isArray(t)?[]:{},t,r):t}else r.isMergeableObject(t)?n[i]=f(e[i],t,r):-1===e.indexOf(t)&&n.push(t)})),n}var te="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?n.useLayoutEffect:n.useEffect;function re(e){var t=(0,n.useRef)(e);return te((function(){t.current=e})),(0,n.useCallback)((function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.current.apply(void 0,r)}),[])}(0,n.forwardRef)((function(e,t){var r=e.action,i=D(e,["action"]),a=null!=r?r:"#",o=Y(),s=o.handleReset,l=o.handleSubmit;return(0,n.createElement)("form",Object.assign({onSubmit:l,ref:t,onReset:s,action:a},i))})).displayName="Form";var ne=function(e,t,r){var n=ie(e);return n.splice(t,0,r),n},ie=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map((function(e){return parseInt(e)})).reduce((function(e,t){return t>e?t:e}),0);return Array.from(F({},e,{length:t+1}))}return[]},ae=function(e){function t(t){var r;return(r=e.call(this,t)||this).updateArrayField=function(e,t,n){var i=r.props,a=i.name;(0,i.formik.setFormikState)((function(r){var i="function"===typeof n?n:e,o="function"===typeof t?t:e,s=W(r.values,a,e(G(r.values,a))),l=n?i(G(r.errors,a)):void 0,u=t?o(G(r.touched,a)):void 0;return L(l)&&(l=void 0),L(u)&&(u=void 0),F({},r,{values:s,errors:n?W(r.errors,a,l):r.errors,touched:t?W(r.touched,a,u):r.touched})}))},r.push=function(e){return r.updateArrayField((function(t){return[].concat(ie(t),[I(e)])}),!1,!1)},r.handlePush=function(e){return function(){return r.push(e)}},r.swap=function(e,t){return r.updateArrayField((function(r){return function(e,t,r){var n=ie(e),i=n[t];return n[t]=n[r],n[r]=i,n}(r,e,t)}),!0,!0)},r.handleSwap=function(e,t){return function(){return r.swap(e,t)}},r.move=function(e,t){return r.updateArrayField((function(r){return function(e,t,r){var n=ie(e),i=n[t];return n.splice(t,1),n.splice(r,0,i),n}(r,e,t)}),!0,!0)},r.handleMove=function(e,t){return function(){return r.move(e,t)}},r.insert=function(e,t){return r.updateArrayField((function(r){return ne(r,e,t)}),(function(t){return ne(t,e,null)}),(function(t){return ne(t,e,null)}))},r.handleInsert=function(e,t){return function(){return r.insert(e,t)}},r.replace=function(e,t){return r.updateArrayField((function(r){return function(e,t,r){var n=ie(e);return n[t]=r,n}(r,e,t)}),!1,!1)},r.handleReplace=function(e,t){return function(){return r.replace(e,t)}},r.unshift=function(e){var t=-1;return r.updateArrayField((function(r){var n=r?[e].concat(r):[e];return t<0&&(t=n.length),n}),(function(e){var r=e?[null].concat(e):[null];return t<0&&(t=r.length),r}),(function(e){var r=e?[null].concat(e):[null];return t<0&&(t=r.length),r})),t},r.handleUnshift=function(e){return function(){return r.unshift(e)}},r.handleRemove=function(e){return function(){return r.remove(e)}},r.handlePop=function(){return function(){return r.pop()}},r.remove=r.remove.bind(j(r)),r.pop=r.pop.bind(j(r)),r}R(t,e);var r=t.prototype;return r.componentDidUpdate=function(e){this.props.validateOnChange&&this.props.formik.validateOnChange&&!a()(G(e.formik.values,e.name),G(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},r.remove=function(e){var t;return this.updateArrayField((function(r){var n=r?ie(r):[];return t||(t=n[e]),N(n.splice)&&n.splice(e,1),n}),!0,!0),t},r.pop=function(){var e;return this.updateArrayField((function(t){var r=t;return e||(e=r&&r.pop&&r.pop()),r}),!0,!0),e},r.render=function(){var e={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},t=this.props,r=t.component,i=t.render,a=t.children,o=t.name,s=F({},e,{form:D(t.formik,["validate","validationSchema"]),name:o});return r?(0,n.createElement)(r,s):i?i(s):a?"function"===typeof a?a(s):U(a)?null:n.Children.only(a):null},t}(n.Component);ae.defaultProps={validateOnChange:!0};n.Component,n.Component},63457:function(e){"use strict";var t=Array.isArray,r=Object.keys,n=Object.prototype.hasOwnProperty,i="undefined"!==typeof Element;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){var s,l,u,c=t(e),f=t(o);if(c&&f){if((l=e.length)!=o.length)return!1;for(s=l;0!==s--;)if(!a(e[s],o[s]))return!1;return!0}if(c!=f)return!1;var p=e instanceof Date,h=o instanceof Date;if(p!=h)return!1;if(p&&h)return e.getTime()==o.getTime();var d=e instanceof RegExp,v=o instanceof RegExp;if(d!=v)return!1;if(d&&v)return e.toString()==o.toString();var m=r(e);if((l=m.length)!==r(o).length)return!1;for(s=l;0!==s--;)if(!n.call(o,m[s]))return!1;if(i&&e instanceof Element&&o instanceof Element)return e===o;for(s=l;0!==s--;)if(("_owner"!==(u=m[s])||!e.$$typeof)&&!a(e[u],o[u]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||-2146828260===r.number)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}}},30222:function(e){"use strict";var t="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString,i="[object Function]";e.exports=function(e){var a=this;if("function"!==typeof a||n.call(a)!==i)throw new TypeError(t+a);for(var o,s=r.call(arguments,1),l=function(){if(this instanceof o){var t=a.apply(this,s.concat(r.call(arguments)));return Object(t)===t?t:this}return a.apply(e,s.concat(r.call(arguments)))},u=Math.max(0,a.length-s.length),c=[],f=0;f<u;f++)c.push("$"+f);if(o=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(l),a.prototype){var p=function(){};p.prototype=a.prototype,o.prototype=new p,p.prototype=null}return o}},33350:function(e,t,r){"use strict";var n=r(30222);e.exports=Function.prototype.bind||n},64583:function(e){"use strict";var t=function(){return"string"===typeof function(){}.name},r=Object.getOwnPropertyDescriptor;if(r)try{r([],"length")}catch(i){r=null}t.functionsHaveConfigurableNames=function(){if(!t()||!r)return!1;var e=r((function(){}),"name");return!!e&&!!e.configurable};var n=Function.prototype.bind;t.boundFunctionsHaveNames=function(){return t()&&"function"===typeof n&&""!==function(){}.bind().name},e.exports=t},52506:function(e,t,r){"use strict";var n,i=SyntaxError,a=Function,o=TypeError,s=function(e){try{return a('"use strict"; return ('+e+").constructor;")()}catch(t){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(T){l=null}var u=function(){throw new o},c=l?function(){try{return u}catch(e){try{return l(arguments,"callee").get}catch(t){return u}}}():u,f=r(80697)(),p=Object.getPrototypeOf||function(e){return e.__proto__},h={},d="undefined"===typeof Uint8Array?n:p(Uint8Array),v={"%AggregateError%":"undefined"===typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":f?p([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"===typeof Atomics?n:Atomics,"%BigInt%":"undefined"===typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":h,"%Int8Array%":"undefined"===typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?p(p([][Symbol.iterator]())):n,"%JSON%":"object"===typeof JSON?JSON:n,"%Map%":"undefined"===typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&f?p((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?n:Promise,"%Proxy%":"undefined"===typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&f?p((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?p(""[Symbol.iterator]()):n,"%Symbol%":f?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":c,"%TypedArray%":d,"%TypeError%":o,"%Uint8Array%":"undefined"===typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?n:WeakSet},m=function e(t){var r;if("%AsyncFunction%"===t)r=s("async function () {}");else if("%GeneratorFunction%"===t)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=s("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(r=p(i.prototype))}return v[t]=r,r},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},g=r(33350),_=r(58316),b=g.call(Function.call,Array.prototype.concat),x=g.call(Function.apply,Array.prototype.splice),w=g.call(Function.call,String.prototype.replace),S=g.call(Function.call,String.prototype.slice),P=g.call(Function.call,RegExp.prototype.exec),k=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,E=/\\(\\)?/g,C=function(e){var t=S(e,0,1),r=S(e,-1);if("%"===t&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return w(e,k,(function(e,t,r,i){n[n.length]=r?w(i,E,"$1"):t||e})),n},A=function(e,t){var r,n=e;if(_(y,n)&&(n="%"+(r=y[n])[0]+"%"),_(v,n)){var a=v[n];if(a===h&&(a=m(n)),"undefined"===typeof a&&!t)throw new o("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:a}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new o('"allowMissing" argument must be a boolean');if(null===P(/^%?[^%]*%?$/,e))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=C(e),n=r.length>0?r[0]:"",a=A("%"+n+"%",t),s=a.name,u=a.value,c=!1,f=a.alias;f&&(n=f[0],x(r,b([0,1],f)));for(var p=1,h=!0;p<r.length;p+=1){var d=r[p],m=S(d,0,1),y=S(d,-1);if(('"'===m||"'"===m||"`"===m||'"'===y||"'"===y||"`"===y)&&m!==y)throw new i("property names with quotes must have matching quotes");if("constructor"!==d&&h||(c=!0),_(v,s="%"+(n+="."+d)+"%"))u=v[s];else if(null!=u){if(!(d in u)){if(!t)throw new o("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&p+1>=r.length){var g=l(u,d);u=(h=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:u[d]}else h=_(u,d),u=u[d];h&&!c&&(v[s]=u)}}return u}},74566:function(e,t,r){"use strict";var n="__global_unique_id__";e.exports=function(){return r.g[n]=(r.g[n]||0)+1}},84510:function(e,t,r){"use strict";var n=r(52506)("%Object.defineProperty%",!0),i=function(){if(n)try{return n({},"a",{value:1}),!0}catch(e){return!1}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},80697:function(e,t,r){"use strict";var n="undefined"!==typeof Symbol&&Symbol,i=r(63297);e.exports=function(){return"function"===typeof n&&("function"===typeof Symbol&&("symbol"===typeof n("foo")&&("symbol"===typeof Symbol("bar")&&i())))}},63297:function(e){"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},4707:function(e,t,r){"use strict";var n=r(63297);e.exports=function(){return n()&&!!Symbol.toStringTag}},58316:function(e,t,r){"use strict";var n=r(33350);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},65450:function(e,t,r){"use strict";var n=r(4707)(),i=r(44037)("Object.prototype.toString"),a=function(e){return!(n&&e&&"object"===typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},o=function(e){return!!a(e)||null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},s=function(){return a(arguments)}();a.isLegacyArguments=o,e.exports=s?a:o},25586:function(e){function t(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},92833:function(e,t,r){"use strict";var n=Date.prototype.getDay,i=Object.prototype.toString,a=r(4707)();e.exports=function(e){return"object"===typeof e&&null!==e&&(a?function(e){try{return n.call(e),!0}catch(t){return!1}}(e):"[object Date]"===i.call(e))}},41146:function(e,t,r){"use strict";var n,i,a,o,s=r(44037),l=r(4707)();if(l){n=s("Object.prototype.hasOwnProperty"),i=s("RegExp.prototype.exec"),a={};var u=function(){throw a};o={toString:u,valueOf:u},"symbol"===typeof Symbol.toPrimitive&&(o[Symbol.toPrimitive]=u)}var c=s("Object.prototype.toString"),f=Object.getOwnPropertyDescriptor;e.exports=l?function(e){if(!e||"object"!==typeof e)return!1;var t=f(e,"lastIndex");if(!(t&&n(t,"value")))return!1;try{i(e,o)}catch(r){return r===a}}:function(e){return!(!e||"object"!==typeof e&&"function"!==typeof e)&&"[object RegExp]"===c(e)}},15102:function(e){function t(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function r(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,n,i){var a=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");"function"===typeof n&&(i=n,n={}),n=n||{},i=i||function(){},o.type=n.type||"text/javascript",o.charset=n.charset||"utf8",o.async=!("async"in n)||!!n.async,o.src=e,n.attrs&&function(e,t){for(var r in t)e.setAttribute(r,t[r])}(o,n.attrs),n.text&&(o.text=""+n.text),("onload"in o?t:r)(o,i),o.onload||t(o,i),a.appendChild(o)}},5483:function(e){e.exports=function(){"use strict";var e,t,r;function n(n,i){if(e)if(t){var a="var sharedChunk = {}; ("+e+")(sharedChunk); ("+t+")(sharedChunk);",o={};e(o),r=i(o),"undefined"!==typeof window&&(r.workerUrl=window.URL.createObjectURL(new Blob([a],{type:"text/javascript"})))}else t=i;else e=i}return n(["exports"],(function(e){function t(e,t){return e(t={exports:{}},t.exports),t.exports}var r=n;function n(e,t,r,n){this.cx=3*e,this.bx=3*(r-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(n-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=n,this.p2x=r,this.p2y=n}n.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},n.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},n.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},n.prototype.solveCurveX=function(e,t){var r,n,i,a,o;for(void 0===t&&(t=1e-6),i=e,o=0;o<8;o++){if(a=this.sampleCurveX(i)-e,Math.abs(a)<t)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=a/s}if((i=e)<(r=0))return r;if(i>(n=1))return n;for(;r<n;){if(a=this.sampleCurveX(i),Math.abs(a-e)<t)return i;e>a?r=i:n=i,i=.5*(n-r)+r}return i},n.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var i=a;function a(e,t){this.x=e,this.y=t}a.prototype={clone:function(){return new a(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,r=e.y-this.y;return t*t+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),r=Math.sin(e),n=r*this.x+t*this.y;return this.x=t*this.x-r*this.y,this.y=n,this},_rotateAround:function(e,t){var r=Math.cos(e),n=Math.sin(e),i=t.y+n*(this.x-t.x)+r*(this.y-t.y);return this.x=t.x+r*(this.x-t.x)-n*(this.y-t.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},a.convert=function(e){return e instanceof a?e:Array.isArray(e)?new a(e[0],e[1]):e};var o="undefined"!=typeof self?self:{},s=Math.pow(2,53)-1;function l(e,t,n,i){var a=new r(e,t,n,i);return function(e){return a.solve(e)}}var u=l(.25,.1,.25,1);function c(e,t,r){return Math.min(r,Math.max(t,e))}function f(e,t,r){var n=r-t,i=((e-t)%n+n)%n+t;return i===t?r:i}function p(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];for(var n=0,i=t;n<i.length;n+=1){var a=i[n];for(var o in a)e[o]=a[o]}return e}var h=1;function d(){return h++}function v(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function m(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function y(e,t){e.forEach((function(e){t[e]&&(t[e]=t[e].bind(t))}))}function g(e,t){return-1!==e.indexOf(t,e.length-t.length)}function _(e,t,r){var n={};for(var i in e)n[i]=t.call(r||this,e[i],i,e);return n}function b(e,t,r){var n={};for(var i in e)t.call(r||this,e[i],i,e)&&(n[i]=e[i]);return n}function x(e){return Array.isArray(e)?e.map(x):"object"==typeof e&&e?_(e,x):e}var w={};function S(e){w[e]||("undefined"!=typeof console&&console.warn(e),w[e]=!0)}function P(e,t,r){return(r.y-e.y)*(t.x-e.x)>(t.y-e.y)*(r.x-e.x)}function k(e){for(var t=0,r=0,n=e.length,i=n-1,a=void 0,o=void 0;r<n;i=r++)t+=((o=e[i]).x-(a=e[r]).x)*(a.y+o.y);return t}function E(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function C(e){var t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(e,r,n,i){var a=n||i;return t[r]=!a||a.toLowerCase(),""})),t["max-age"]){var r=parseInt(t["max-age"],10);isNaN(r)?delete t["max-age"]:t["max-age"]=r}return t}var A=null;function T(e){if(null==A){var t=e.navigator?e.navigator.userAgent:null;A=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return A}function O(e){try{var t=o[e];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch(e){return!1}}var M,I,F,R,D=o.performance&&o.performance.now?o.performance.now.bind(o.performance):Date.now.bind(Date),j=o.requestAnimationFrame||o.mozRequestAnimationFrame||o.webkitRequestAnimationFrame||o.msRequestAnimationFrame,L=o.cancelAnimationFrame||o.mozCancelAnimationFrame||o.webkitCancelAnimationFrame||o.msCancelAnimationFrame,N={now:D,frame:function(e){var t=j(e);return{cancel:function(){return L(t)}}},getImageData:function(e,t){void 0===t&&(t=0);var r=o.document.createElement("canvas"),n=r.getContext("2d");if(!n)throw new Error("failed to create canvas 2d context");return r.width=e.width,r.height=e.height,n.drawImage(e,0,0,e.width,e.height),n.getImageData(-t,-t,e.width+2*t,e.height+2*t)},resolveURL:function(e){return M||(M=o.document.createElement("a")),M.href=e,M.href},hardwareConcurrency:o.navigator&&o.navigator.hardwareConcurrency||4,get devicePixelRatio(){return o.devicePixelRatio},get prefersReducedMotion(){return!!o.matchMedia&&(null==I&&(I=o.matchMedia("(prefers-reduced-motion: reduce)")),I.matches)}},z={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},B={supported:!1,testSupport:function(e){!Z&&R&&(U?V(e):F=e)}},Z=!1,U=!1;function V(e){var t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,R),e.isContextLost())return;B.supported=!0}catch(e){}e.deleteTexture(t),Z=!0}o.document&&((R=o.document.createElement("img")).onload=function(){F&&V(F),F=null,U=!0},R.onerror=function(){Z=!0,F=null},R.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var G="01",W=function(e,t){this._transformRequestFn=e,this._customAccessToken=t,this._createSkuToken()};function q(e){return 0===e.indexOf("mapbox:")}W.prototype._createSkuToken=function(){var e=function(){for(var e="",t=0;t<10;t++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",G,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt},W.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},W.prototype.transformRequest=function(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}},W.prototype.normalizeStyleURL=function(e,t){if(!q(e))return e;var r=K(e);return r.path="/styles/v1"+r.path,this._makeAPIURL(r,this._customAccessToken||t)},W.prototype.normalizeGlyphsURL=function(e,t){if(!q(e))return e;var r=K(e);return r.path="/fonts/v1"+r.path,this._makeAPIURL(r,this._customAccessToken||t)},W.prototype.normalizeSourceURL=function(e,t){if(!q(e))return e;var r=K(e);return r.path="/v4/"+r.authority+".json",r.params.push("secure"),this._makeAPIURL(r,this._customAccessToken||t)},W.prototype.normalizeSpriteURL=function(e,t,r,n){var i=K(e);return q(e)?(i.path="/styles/v1"+i.path+"/sprite"+t+r,this._makeAPIURL(i,this._customAccessToken||n)):(i.path+=""+t+r,$(i))},W.prototype.normalizeTileURL=function(e,t){if(this._isSkuTokenExpired()&&this._createSkuToken(),e&&!q(e))return e;var r=K(e);r.path=r.path.replace(/(\.(png|jpg)\d*)(?=$)/,(N.devicePixelRatio>=2||512===t?"@2x":"")+(B.supported?".webp":"$1")),r.path=r.path.replace(/^.+\/v4\//,"/"),r.path="/v4"+r.path;var n=this._customAccessToken||function(e){for(var t=0,r=e;t<r.length;t+=1){var n=r[t].match(/^access_token=(.*)$/);if(n)return n[1]}return null}(r.params)||z.ACCESS_TOKEN;return z.REQUIRE_ACCESS_TOKEN&&n&&this._skuToken&&r.params.push("sku="+this._skuToken),this._makeAPIURL(r,n)},W.prototype.canonicalizeTileURL=function(e,t){var r=K(e);if(!r.path.match(/(^\/v4\/)/)||!r.path.match(/\.[\w]+$/))return e;var n="mapbox://tiles/";n+=r.path.replace("/v4/","");var i=r.params;return t&&(i=i.filter((function(e){return!e.match(/^access_token=/)}))),i.length&&(n+="?"+i.join("&")),n},W.prototype.canonicalizeTileset=function(e,t){for(var r=!!t&&q(t),n=[],i=0,a=e.tiles||[];i<a.length;i+=1){var o=a[i];Y(o)?n.push(this.canonicalizeTileURL(o,r)):n.push(o)}return n},W.prototype._makeAPIURL=function(e,t){var r="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",n=K(z.API_URL);if(e.protocol=n.protocol,e.authority=n.authority,"http"===e.protocol){var i=e.params.indexOf("secure");i>=0&&e.params.splice(i,1)}if("/"!==n.path&&(e.path=""+n.path+e.path),!z.REQUIRE_ACCESS_TOKEN)return $(e);if(!(t=t||z.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+r);if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+r);return e.params=e.params.filter((function(e){return-1===e.indexOf("access_token")})),e.params.push("access_token="+t),$(e)};var H=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Y(e){return H.test(e)}var X=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function K(e){var t=e.match(X);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function $(e){var t=e.params.length?"?"+e.params.join("&"):"";return e.protocol+"://"+e.authority+e.path+t}function J(e){if(!e)return null;var t=e.split(".");if(!t||3!==t.length)return null;try{return JSON.parse(decodeURIComponent(o.atob(t[1]).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(e){return null}}var Q=function(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};Q.prototype.getStorageKey=function(e){var t,r=J(z.ACCESS_TOKEN);return t=r&&r.u?o.btoa(encodeURIComponent(r.u).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(Number("0x"+t))}))):z.ACCESS_TOKEN||"",e?"mapbox.eventData."+e+":"+t:"mapbox.eventData:"+t},Q.prototype.fetchEventData=function(){var e=O("localStorage"),t=this.getStorageKey(),r=this.getStorageKey("uuid");if(e)try{var n=o.localStorage.getItem(t);n&&(this.eventData=JSON.parse(n));var i=o.localStorage.getItem(r);i&&(this.anonId=i)}catch(e){S("Unable to read from LocalStorage")}},Q.prototype.saveEventData=function(){var e=O("localStorage"),t=this.getStorageKey(),r=this.getStorageKey("uuid");if(e)try{o.localStorage.setItem(r,this.anonId),Object.keys(this.eventData).length>=1&&o.localStorage.setItem(t,JSON.stringify(this.eventData))}catch(e){S("Unable to write to LocalStorage")}},Q.prototype.processRequests=function(e){},Q.prototype.postEvent=function(e,t,r,n){var i=this;if(z.EVENTS_URL){var a=K(z.EVENTS_URL);a.params.push("access_token="+(n||z.ACCESS_TOKEN||""));var o={event:this.type,created:new Date(e).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.13.2",skuId:G,userId:this.anonId},s=t?p(o,t):o,l={url:$(a),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=xe(l,(function(e){i.pendingRequest=null,r(e),i.saveEventData(),i.processRequests(n)}))}},Q.prototype.queueRequest=function(e,t){this.queue.push(e),this.processRequests(t)};var ee,te,re=function(e){function t(){e.call(this,"map.load"),this.success={},this.skuToken=""}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.postMapLoadEvent=function(e,t,r,n){this.skuToken=r,(z.EVENTS_URL&&n||z.ACCESS_TOKEN&&Array.isArray(e)&&e.some((function(e){return q(e)||Y(e)})))&&this.queueRequest({id:t,timestamp:Date.now()},n)},t.prototype.processRequests=function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){var r=this.queue.shift(),n=r.id,i=r.timestamp;n&&this.success[n]||(this.anonId||this.fetchEventData(),m(this.anonId)||(this.anonId=v()),this.postEvent(i,{skuToken:this.skuToken},(function(e){e||n&&(t.success[n]=!0)}),e))}},t}(Q),ne=new(function(e){function t(t){e.call(this,"appUserTurnstile"),this._customAccessToken=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.postTurnstileEvent=function(e,t){z.EVENTS_URL&&z.ACCESS_TOKEN&&Array.isArray(e)&&e.some((function(e){return q(e)||Y(e)}))&&this.queueRequest(Date.now(),t)},t.prototype.processRequests=function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var r=J(z.ACCESS_TOKEN),n=r?r.u:z.ACCESS_TOKEN,i=n!==this.eventData.tokenU;m(this.anonId)||(this.anonId=v(),i=!0);var a=this.queue.shift();if(this.eventData.lastSuccess){var o=new Date(this.eventData.lastSuccess),s=new Date(a),l=(a-this.eventData.lastSuccess)/864e5;i=i||l>=1||l<-1||o.getDate()!==s.getDate()}else i=!0;if(!i)return this.processRequests();this.postEvent(a,{"enabled.telemetry":!1},(function(e){e||(t.eventData.lastSuccess=a,t.eventData.tokenU=n)}),e)}},t}(Q)),ie=ne.postTurnstileEvent.bind(ne),ae=new re,oe=ae.postMapLoadEvent.bind(ae),se=500,le=50;function ue(){o.caches&&!ee&&(ee=o.caches.open("mapbox-tiles"))}function ce(e){var t=e.indexOf("?");return t<0?e:e.slice(0,t)}var fe,pe=1/0;function he(){return null==fe&&(fe=o.OffscreenCanvas&&new o.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof o.createImageBitmap),fe}var de={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(de);var ve,me,ye=function(e){function t(t,r,n){401===r&&Y(n)&&(t+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),e.call(this,t),this.status=r,this.url=n,this.name=this.constructor.name,this.message=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},t}(Error),ge=E()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===o.location.protocol?o.parent:o).location.href},_e=function(e,t){if(!(/^file:/.test(r=e.url)||/^file:/.test(ge())&&!/^\w+:/.test(r))){if(o.fetch&&o.Request&&o.AbortController&&o.Request.prototype.hasOwnProperty("signal"))return function(e,t){var r,n=new o.AbortController,i=new o.Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:ge(),signal:n.signal}),a=!1,s=!1,l=(r=i.url).indexOf("sku=")>0&&Y(r);"json"===e.type&&i.headers.set("Accept","application/json");var u=function(r,n,a){if(!s){if(r&&"SecurityError"!==r.message&&S(r),n&&a)return c(n);var u=Date.now();o.fetch(i).then((function(r){if(r.ok){var n=l?r.clone():null;return c(r,n,u)}return t(new ye(r.statusText,r.status,e.url))})).catch((function(e){20!==e.code&&t(new Error(e.message))}))}},c=function(r,n,l){("arrayBuffer"===e.type?r.arrayBuffer():"json"===e.type?r.json():r.text()).then((function(e){s||(n&&l&&function(e,t,r){if(ue(),ee){var n={status:t.status,statusText:t.statusText,headers:new o.Headers};t.headers.forEach((function(e,t){return n.headers.set(t,e)}));var i=C(t.headers.get("Cache-Control")||"");i["no-store"]||(i["max-age"]&&n.headers.set("Expires",new Date(r+1e3*i["max-age"]).toUTCString()),new Date(n.headers.get("Expires")).getTime()-r<42e4||function(e,t){if(void 0===te)try{new Response(new ReadableStream),te=!0}catch(e){te=!1}te?t(e.body):e.blob().then(t)}(t,(function(t){var r=new o.Response(t,n);ue(),ee&&ee.then((function(t){return t.put(ce(e.url),r)})).catch((function(e){return S(e.message)}))})))}}(i,n,l),a=!0,t(null,e,r.headers.get("Cache-Control"),r.headers.get("Expires")))})).catch((function(e){s||t(new Error(e.message))}))};return l?function(e,t){if(ue(),!ee)return t(null);var r=ce(e.url);ee.then((function(e){e.match(r).then((function(n){var i=function(e){if(!e)return!1;var t=new Date(e.headers.get("Expires")||0),r=C(e.headers.get("Cache-Control")||"");return t>Date.now()&&!r["no-cache"]}(n);e.delete(r),i&&e.put(r,n.clone()),t(null,n,i)})).catch(t)})).catch(t)}(i,u):u(null,null),{cancel:function(){s=!0,a||n.abort()}}}(e,t);if(E()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t,void 0,!0)}var r;return function(e,t){var r=new o.XMLHttpRequest;for(var n in r.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(r.responseType="arraybuffer"),e.headers)r.setRequestHeader(n,e.headers[n]);return"json"===e.type&&(r.responseType="text",r.setRequestHeader("Accept","application/json")),r.withCredentials="include"===e.credentials,r.onerror=function(){t(new Error(r.statusText))},r.onload=function(){if((r.status>=200&&r.status<300||0===r.status)&&null!==r.response){var n=r.response;if("json"===e.type)try{n=JSON.parse(r.response)}catch(e){return t(e)}t(null,n,r.getResponseHeader("Cache-Control"),r.getResponseHeader("Expires"))}else t(new ye(r.statusText,r.status,e.url))},r.send(e.body),{cancel:function(){return r.abort()}}}(e,t)},be=function(e,t){return _e(p(e,{type:"arrayBuffer"}),t)},xe=function(e,t){return _e(p(e,{method:"POST"}),t)},we="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";ve=[],me=0;var Se=function e(t,r){if(B.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),me>=z.MAX_PARALLEL_IMAGE_REQUESTS){var n={requestParameters:t,callback:r,cancelled:!1,cancel:function(){this.cancelled=!0}};return ve.push(n),n}me++;var i=!1,a=function(){if(!i)for(i=!0,me--;ve.length&&me<z.MAX_PARALLEL_IMAGE_REQUESTS;){var t=ve.shift();t.cancelled||(t.cancel=e(t.requestParameters,t.callback).cancel)}},s=be(t,(function(e,t,n,i){a(),e?r(e):t&&(he()?function(e,t){var r=new o.Blob([new Uint8Array(e)],{type:"image/png"});o.createImageBitmap(r).then((function(e){t(null,e)})).catch((function(e){t(new Error("Could not load image because of "+e.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))}))}(t,r):function(e,t,r,n){var i=new o.Image,a=o.URL;i.onload=function(){t(null,i),a.revokeObjectURL(i.src),i.onload=null,o.requestAnimationFrame((function(){i.src=we}))},i.onerror=function(){return t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var s=new o.Blob([new Uint8Array(e)],{type:"image/png"});i.cacheControl=r,i.expires=n,i.src=e.byteLength?a.createObjectURL(s):we}(t,r,n,i))}));return{cancel:function(){s.cancel(),a()}}};function Pe(e,t,r){r[e]&&-1!==r[e].indexOf(t)||(r[e]=r[e]||[],r[e].push(t))}function ke(e,t,r){if(r&&r[e]){var n=r[e].indexOf(t);-1!==n&&r[e].splice(n,1)}}var Ee=function(e,t){void 0===t&&(t={}),p(this,t),this.type=e},Ce=function(e){function t(t,r){void 0===r&&(r={}),e.call(this,"error",p({error:t},r))}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Ee),Ae=function(){};Ae.prototype.on=function(e,t){return this._listeners=this._listeners||{},Pe(e,t,this._listeners),this},Ae.prototype.off=function(e,t){return ke(e,t,this._listeners),ke(e,t,this._oneTimeListeners),this},Ae.prototype.once=function(e,t){return this._oneTimeListeners=this._oneTimeListeners||{},Pe(e,t,this._oneTimeListeners),this},Ae.prototype.fire=function(e,t){"string"==typeof e&&(e=new Ee(e,t||{}));var r=e.type;if(this.listens(r)){e.target=this;for(var n=0,i=this._listeners&&this._listeners[r]?this._listeners[r].slice():[];n<i.length;n+=1)i[n].call(this,e);for(var a=0,o=this._oneTimeListeners&&this._oneTimeListeners[r]?this._oneTimeListeners[r].slice():[];a<o.length;a+=1){var s=o[a];ke(r,s,this._oneTimeListeners),s.call(this,e)}var l=this._eventedParent;l&&(p(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),l.fire(e))}else e instanceof Ce&&console.error(e.error);return this},Ae.prototype.listens=function(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)},Ae.prototype.setEventedParent=function(e,t){return this._eventedParent=e,this._eventedParentData=t,this};var Te={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},Oe=function(e,t,r,n){this.message=(e?e+": ":"")+r,n&&(this.identifier=n),null!=t&&t.__line__&&(this.line=t.__line__)};function Me(e){var t=e.value;return t?[new Oe(e.key,t,"constants have been deprecated as of v8")]:[]}function Ie(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];for(var n=0,i=t;n<i.length;n+=1){var a=i[n];for(var o in a)e[o]=a[o]}return e}function Fe(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function Re(e){if(Array.isArray(e))return e.map(Re);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){var t={};for(var r in e)t[r]=Re(e[r]);return t}return Fe(e)}var De=function(e){function t(t,r){e.call(this,r),this.message=r,this.key=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Error),je=function(e,t){void 0===t&&(t=[]),this.parent=e,this.bindings={};for(var r=0,n=t;r<n.length;r+=1){var i=n[r];this.bindings[i[0]]=i[1]}};je.prototype.concat=function(e){return new je(this,e)},je.prototype.get=function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")},je.prototype.has=function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)};var Le={kind:"null"},Ne={kind:"number"},ze={kind:"string"},Be={kind:"boolean"},Ze={kind:"color"},Ue={kind:"object"},Ve={kind:"value"},Ge={kind:"collator"},We={kind:"formatted"},qe={kind:"resolvedImage"};function He(e,t){return{kind:"array",itemType:e,N:t}}function Ye(e){if("array"===e.kind){var t=Ye(e.itemType);return"number"==typeof e.N?"array<"+t+", "+e.N+">":"value"===e.itemType.kind?"array":"array<"+t+">"}return e.kind}var Xe=[Le,Ne,ze,Be,Ze,We,Ue,He(Ve),qe];function Ke(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!Ke(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(var r=0,n=Xe;r<n.length;r+=1)if(!Ke(n[r],t))return null}return"Expected "+Ye(e)+" but found "+Ye(t)+" instead."}function $e(e,t){return t.some((function(t){return t.kind===e.kind}))}function Je(e,t){return t.some((function(t){return"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e}))}var Qe=t((function(e,t){var r={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(e){return(e=Math.round(e))<0?0:e>255?255:e}function i(e){return n("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function a(e){return(t="%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))<0?0:t>1?1:t;var t}function o(e,t,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?e+(t-e)*r*6:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}try{t.parseCSSColor=function(e){var t,s=e.replace(/ /g,"").toLowerCase();if(s in r)return r[s].slice();if("#"===s[0])return 4===s.length?(t=parseInt(s.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===s.length&&(t=parseInt(s.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var l=s.indexOf("("),u=s.indexOf(")");if(-1!==l&&u+1===s.length){var c=s.substr(0,l),f=s.substr(l+1,u-(l+1)).split(","),p=1;switch(c){case"rgba":if(4!==f.length)return null;p=a(f.pop());case"rgb":return 3!==f.length?null:[i(f[0]),i(f[1]),i(f[2]),p];case"hsla":if(4!==f.length)return null;p=a(f.pop());case"hsl":if(3!==f.length)return null;var h=(parseFloat(f[0])%360+360)%360/360,d=a(f[1]),v=a(f[2]),m=v<=.5?v*(d+1):v+d-v*d,y=2*v-m;return[n(255*o(y,m,h+1/3)),n(255*o(y,m,h)),n(255*o(y,m,h-1/3)),p];default:return null}}return null}}catch(e){}})).parseCSSColor,et=function(e,t,r,n){void 0===n&&(n=1),this.r=e,this.g=t,this.b=r,this.a=n};et.parse=function(e){if(e){if(e instanceof et)return e;if("string"==typeof e){var t=Qe(e);if(t)return new et(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}}},et.prototype.toString=function(){var e=this.toArray(),t=e[1],r=e[2],n=e[3];return"rgba("+Math.round(e[0])+","+Math.round(t)+","+Math.round(r)+","+n+")"},et.prototype.toArray=function(){var e=this.a;return 0===e?[0,0,0,0]:[255*this.r/e,255*this.g/e,255*this.b/e,e]},et.black=new et(0,0,0,1),et.white=new et(1,1,1,1),et.transparent=new et(0,0,0,0),et.red=new et(1,0,0,1);var tt=function(e,t,r){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};tt.prototype.compare=function(e,t){return this.collator.compare(e,t)},tt.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var rt=function(e,t,r,n,i){this.text=e,this.image=t,this.scale=r,this.fontStack=n,this.textColor=i},nt=function(e){this.sections=e};nt.fromString=function(e){return new nt([new rt(e,null,null,null,null)])},nt.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some((function(e){return 0!==e.text.length||e.image&&0!==e.image.name.length}))},nt.factory=function(e){return e instanceof nt?e:nt.fromString(e)},nt.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map((function(e){return e.text})).join("")},nt.prototype.serialize=function(){for(var e=["format"],t=0,r=this.sections;t<r.length;t+=1){var n=r[t];if(n.image)e.push(["image",n.image.name]);else{e.push(n.text);var i={};n.fontStack&&(i["text-font"]=["literal",n.fontStack.split(",")]),n.scale&&(i["font-scale"]=n.scale),n.textColor&&(i["text-color"]=["rgba"].concat(n.textColor.toArray())),e.push(i)}}return e};var it=function(e){this.name=e.name,this.available=e.available};function at(e,t,r,n){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof r&&r>=0&&r<=255?void 0===n||"number"==typeof n&&n>=0&&n<=1?null:"Invalid rgba value ["+[e,t,r,n].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof n?[e,t,r,n]:[e,t,r]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function ot(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof et)return!0;if(e instanceof tt)return!0;if(e instanceof nt)return!0;if(e instanceof it)return!0;if(Array.isArray(e)){for(var t=0,r=e;t<r.length;t+=1)if(!ot(r[t]))return!1;return!0}if("object"==typeof e){for(var n in e)if(!ot(e[n]))return!1;return!0}return!1}function st(e){if(null===e)return Le;if("string"==typeof e)return ze;if("boolean"==typeof e)return Be;if("number"==typeof e)return Ne;if(e instanceof et)return Ze;if(e instanceof tt)return Ge;if(e instanceof nt)return We;if(e instanceof it)return qe;if(Array.isArray(e)){for(var t,r=e.length,n=0,i=e;n<i.length;n+=1){var a=st(i[n]);if(t){if(t===a)continue;t=Ve;break}t=a}return He(t||Ve,r)}return Ue}function lt(e){var t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof et||e instanceof nt||e instanceof it?e.toString():JSON.stringify(e)}it.prototype.toString=function(){return this.name},it.fromString=function(e){return e?new it({name:e,available:!1}):null},it.prototype.serialize=function(){return["image",this.name]};var ut=function(e,t){this.type=e,this.value=t};ut.parse=function(e,t){if(2!==e.length)return t.error("'literal' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(!ot(e[1]))return t.error("invalid value");var r=e[1],n=st(r),i=t.expectedType;return"array"!==n.kind||0!==n.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(n=i),new ut(n,r)},ut.prototype.evaluate=function(){return this.value},ut.prototype.eachChild=function(){},ut.prototype.outputDefined=function(){return!0},ut.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof et?["rgba"].concat(this.value.toArray()):this.value instanceof nt?this.value.serialize():this.value};var ct=function(e){this.name="ExpressionEvaluationError",this.message=e};ct.prototype.toJSON=function(){return this.message};var ft={string:ze,number:Ne,boolean:Be,object:Ue},pt=function(e,t){this.type=e,this.args=t};pt.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r,n=1,i=e[0];if("array"===i){var a,o;if(e.length>2){var s=e[1];if("string"!=typeof s||!(s in ft)||"object"===s)return t.error('The item type argument of "array" must be one of string, number, boolean',1);a=ft[s],n++}else a=Ve;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);o=e[2],n++}r=He(a,o)}else r=ft[i];for(var l=[];n<e.length;n++){var u=t.parse(e[n],n,Ve);if(!u)return null;l.push(u)}return new pt(r,l)},pt.prototype.evaluate=function(e){for(var t=0;t<this.args.length;t++){var r=this.args[t].evaluate(e);if(!Ke(this.type,st(r)))return r;if(t===this.args.length-1)throw new ct("Expected value to be of type "+Ye(this.type)+", but found "+Ye(st(r))+" instead.")}return null},pt.prototype.eachChild=function(e){this.args.forEach(e)},pt.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},pt.prototype.serialize=function(){var e=this.type,t=[e.kind];if("array"===e.kind){var r=e.itemType;if("string"===r.kind||"number"===r.kind||"boolean"===r.kind){t.push(r.kind);var n=e.N;("number"==typeof n||this.args.length>1)&&t.push(n)}}return t.concat(this.args.map((function(e){return e.serialize()})))};var ht=function(e){this.type=We,this.sections=e};ht.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r=e[1];if(!Array.isArray(r)&&"object"==typeof r)return t.error("First argument must be an image or text section.");for(var n=[],i=!1,a=1;a<=e.length-1;++a){var o=e[a];if(i&&"object"==typeof o&&!Array.isArray(o)){i=!1;var s=null;if(o["font-scale"]&&!(s=t.parse(o["font-scale"],1,Ne)))return null;var l=null;if(o["text-font"]&&!(l=t.parse(o["text-font"],1,He(ze))))return null;var u=null;if(o["text-color"]&&!(u=t.parse(o["text-color"],1,Ze)))return null;var c=n[n.length-1];c.scale=s,c.font=l,c.textColor=u}else{var f=t.parse(e[a],1,Ve);if(!f)return null;var p=f.type.kind;if("string"!==p&&"value"!==p&&"null"!==p&&"resolvedImage"!==p)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,n.push({content:f,scale:null,font:null,textColor:null})}}return new ht(n)},ht.prototype.evaluate=function(e){return new nt(this.sections.map((function(t){var r=t.content.evaluate(e);return st(r)===qe?new rt("",r,null,null,null):new rt(lt(r),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))},ht.prototype.eachChild=function(e){for(var t=0,r=this.sections;t<r.length;t+=1){var n=r[t];e(n.content),n.scale&&e(n.scale),n.font&&e(n.font),n.textColor&&e(n.textColor)}},ht.prototype.outputDefined=function(){return!1},ht.prototype.serialize=function(){for(var e=["format"],t=0,r=this.sections;t<r.length;t+=1){var n=r[t];e.push(n.content.serialize());var i={};n.scale&&(i["font-scale"]=n.scale.serialize()),n.font&&(i["text-font"]=n.font.serialize()),n.textColor&&(i["text-color"]=n.textColor.serialize()),e.push(i)}return e};var dt=function(e){this.type=qe,this.input=e};dt.parse=function(e,t){if(2!==e.length)return t.error("Expected two arguments.");var r=t.parse(e[1],1,ze);return r?new dt(r):t.error("No image name provided.")},dt.prototype.evaluate=function(e){var t=this.input.evaluate(e),r=it.fromString(t);return r&&e.availableImages&&(r.available=e.availableImages.indexOf(t)>-1),r},dt.prototype.eachChild=function(e){e(this.input)},dt.prototype.outputDefined=function(){return!1},dt.prototype.serialize=function(){return["image",this.input.serialize()]};var vt={"to-boolean":Be,"to-color":Ze,"to-number":Ne,"to-string":ze},mt=function(e,t){this.type=e,this.args=t};mt.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r=e[0];if(("to-boolean"===r||"to-string"===r)&&2!==e.length)return t.error("Expected one argument.");for(var n=vt[r],i=[],a=1;a<e.length;a++){var o=t.parse(e[a],a,Ve);if(!o)return null;i.push(o)}return new mt(n,i)},mt.prototype.evaluate=function(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){for(var t,r,n=0,i=this.args;n<i.length;n+=1){if(r=null,(t=i[n].evaluate(e))instanceof et)return t;if("string"==typeof t){var a=e.parseColor(t);if(a)return a}else if(Array.isArray(t)&&!(r=t.length<3||t.length>4?"Invalid rbga value "+JSON.stringify(t)+": expected an array containing either three or four numeric values.":at(t[0],t[1],t[2],t[3])))return new et(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new ct(r||"Could not parse color from value '"+("string"==typeof t?t:String(JSON.stringify(t)))+"'")}if("number"===this.type.kind){for(var o=null,s=0,l=this.args;s<l.length;s+=1){if(null===(o=l[s].evaluate(e)))return 0;var u=Number(o);if(!isNaN(u))return u}throw new ct("Could not convert "+JSON.stringify(o)+" to number.")}return"formatted"===this.type.kind?nt.fromString(lt(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?it.fromString(lt(this.args[0].evaluate(e))):lt(this.args[0].evaluate(e))},mt.prototype.eachChild=function(e){this.args.forEach(e)},mt.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},mt.prototype.serialize=function(){if("formatted"===this.type.kind)return new ht([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new dt(this.args[0]).serialize();var e=["to-"+this.type.kind];return this.eachChild((function(t){e.push(t.serialize())})),e};var yt=["Unknown","Point","LineString","Polygon"],gt=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};gt.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},gt.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?yt[this.feature.type]:this.feature.type:null},gt.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},gt.prototype.canonicalID=function(){return this.canonical},gt.prototype.properties=function(){return this.feature&&this.feature.properties||{}},gt.prototype.parseColor=function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=et.parse(e)),t};var _t=function(e,t,r,n){this.name=e,this.type=t,this._evaluate=r,this.args=n};_t.prototype.evaluate=function(e){return this._evaluate(e,this.args)},_t.prototype.eachChild=function(e){this.args.forEach(e)},_t.prototype.outputDefined=function(){return!1},_t.prototype.serialize=function(){return[this.name].concat(this.args.map((function(e){return e.serialize()})))},_t.parse=function(e,t){var r,n=e[0],i=_t.definitions[n];if(!i)return t.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0);for(var a=Array.isArray(i)?i[0]:i.type,o=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=o.filter((function(t){var r=t[0];return!Array.isArray(r)||r.length===e.length-1})),l=null,u=0,c=s;u<c.length;u+=1){var f=c[u],p=f[0],h=f[1];l=new Zt(t.registry,t.path,null,t.scope);for(var d=[],v=!1,m=1;m<e.length;m++){var y=e[m],g=Array.isArray(p)?p[m-1]:p.type,_=l.parse(y,1+d.length,g);if(!_){v=!0;break}d.push(_)}if(!v)if(Array.isArray(p)&&p.length!==d.length)l.error("Expected "+p.length+" arguments, but found "+d.length+" instead.");else{for(var b=0;b<d.length;b++){var x=Array.isArray(p)?p[b]:p.type,w=d[b];l.concat(b+1).checkSubtype(x,w.type)}if(0===l.errors.length)return new _t(n,a,h,d)}}if(1===s.length)(r=t.errors).push.apply(r,l.errors);else{for(var S=(s.length?s:o).map((function(e){var t;return t=e[0],Array.isArray(t)?"("+t.map(Ye).join(", ")+")":"("+Ye(t.type)+"...)"})).join(" | "),P=[],k=1;k<e.length;k++){var E=t.parse(e[k],1+P.length);if(!E)return null;P.push(Ye(E.type))}t.error("Expected arguments of type "+S+", but found ("+P.join(", ")+") instead.")}return null},_t.register=function(e,t){for(var r in _t.definitions=t,t)e[r]=_t};var bt=function(e,t,r){this.type=Ge,this.locale=r,this.caseSensitive=e,this.diacriticSensitive=t};function xt(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function wt(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function St(e,t){var r=(180+e[0])/360,n=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,i=Math.pow(2,t.z);return[Math.round(r*i*8192),Math.round(n*i*8192)]}function Pt(e,t,r){return t[1]>e[1]!=r[1]>e[1]&&e[0]<(r[0]-t[0])*(e[1]-t[1])/(r[1]-t[1])+t[0]}function kt(e,t){for(var r,n,i,a,o,s,l,u=!1,c=0,f=t.length;c<f;c++)for(var p=t[c],h=0,d=p.length;h<d-1;h++){if((a=(r=e)[0]-(n=p[h])[0])*(l=r[1]-(i=p[h+1])[1])-(s=r[0]-i[0])*(o=r[1]-n[1])==0&&a*s<=0&&o*l<=0)return!1;Pt(e,p[h],p[h+1])&&(u=!u)}return u}function Et(e,t){for(var r=0;r<t.length;r++)if(kt(e,t[r]))return!0;return!1}function Ct(e,t,r,n){var i=n[0]-r[0],a=n[1]-r[1],o=(e[0]-r[0])*a-i*(e[1]-r[1]),s=(t[0]-r[0])*a-i*(t[1]-r[1]);return o>0&&s<0||o<0&&s>0}function At(e,t,r){for(var n=0,i=r;n<i.length;n+=1)for(var a=i[n],o=0;o<a.length-1;++o)if(0!=(f=[(c=a[o+1])[0]-(u=a[o])[0],c[1]-u[1]])[0]*(p=[(l=t)[0]-(s=e)[0],l[1]-s[1]])[1]-f[1]*p[0]&&Ct(s,l,u,c)&&Ct(u,c,s,l))return!0;var s,l,u,c,f,p;return!1}function Tt(e,t){for(var r=0;r<e.length;++r)if(!kt(e[r],t))return!1;for(var n=0;n<e.length-1;++n)if(At(e[n],e[n+1],t))return!1;return!0}function Ot(e,t){for(var r=0;r<t.length;r++)if(Tt(e,t[r]))return!0;return!1}function Mt(e,t,r){for(var n=[],i=0;i<e.length;i++){for(var a=[],o=0;o<e[i].length;o++){var s=St(e[i][o],r);xt(t,s),a.push(s)}n.push(a)}return n}function It(e,t,r){for(var n=[],i=0;i<e.length;i++){var a=Mt(e[i],t,r);n.push(a)}return n}function Ft(e,t,r,n){if(e[0]<r[0]||e[0]>r[2]){var i=.5*n,a=e[0]-r[0]>i?-n:r[0]-e[0]>i?n:0;0===a&&(a=e[0]-r[2]>i?-n:r[2]-e[0]>i?n:0),e[0]+=a}xt(t,e)}function Rt(e,t,r,n){for(var i=8192*Math.pow(2,n.z),a=[8192*n.x,8192*n.y],o=[],s=0,l=e;s<l.length;s+=1)for(var u=0,c=l[s];u<c.length;u+=1){var f=c[u],p=[f.x+a[0],f.y+a[1]];Ft(p,t,r,i),o.push(p)}return o}function Dt(e,t,r,n){for(var i,a=8192*Math.pow(2,n.z),o=[8192*n.x,8192*n.y],s=[],l=0,u=e;l<u.length;l+=1){for(var c=[],f=0,p=u[l];f<p.length;f+=1){var h=p[f],d=[h.x+o[0],h.y+o[1]];xt(t,d),c.push(d)}s.push(c)}if(t[2]-t[0]<=a/2){(i=t)[0]=i[1]=1/0,i[2]=i[3]=-1/0;for(var v=0,m=s;v<m.length;v+=1)for(var y=0,g=m[v];y<g.length;y+=1)Ft(g[y],t,r,a)}return s}bt.parse=function(e,t){if(2!==e.length)return t.error("Expected one argument.");var r=e[1];if("object"!=typeof r||Array.isArray(r))return t.error("Collator options argument must be an object.");var n=t.parse(void 0!==r["case-sensitive"]&&r["case-sensitive"],1,Be);if(!n)return null;var i=t.parse(void 0!==r["diacritic-sensitive"]&&r["diacritic-sensitive"],1,Be);if(!i)return null;var a=null;return r.locale&&!(a=t.parse(r.locale,1,ze))?null:new bt(n,i,a)},bt.prototype.evaluate=function(e){return new tt(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)},bt.prototype.eachChild=function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)},bt.prototype.outputDefined=function(){return!1},bt.prototype.serialize=function(){var e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]};var jt=function(e,t){this.type=Be,this.geojson=e,this.geometries=t};function Lt(e){if(e instanceof _t){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof jt)return!1;var t=!0;return e.eachChild((function(e){t&&!Lt(e)&&(t=!1)})),t}function Nt(e){if(e instanceof _t&&"feature-state"===e.name)return!1;var t=!0;return e.eachChild((function(e){t&&!Nt(e)&&(t=!1)})),t}function zt(e,t){if(e instanceof _t&&t.indexOf(e.name)>=0)return!1;var r=!0;return e.eachChild((function(e){r&&!zt(e,t)&&(r=!1)})),r}jt.parse=function(e,t){if(2!==e.length)return t.error("'within' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(ot(e[1])){var r=e[1];if("FeatureCollection"===r.type)for(var n=0;n<r.features.length;++n){var i=r.features[n].geometry.type;if("Polygon"===i||"MultiPolygon"===i)return new jt(r,r.features[n].geometry)}else if("Feature"===r.type){var a=r.geometry.type;if("Polygon"===a||"MultiPolygon"===a)return new jt(r,r.geometry)}else if("Polygon"===r.type||"MultiPolygon"===r.type)return new jt(r,r)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")},jt.prototype.evaluate=function(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){var r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){var a=Mt(t.coordinates,n,i),o=Rt(e.geometry(),r,n,i);if(!wt(r,n))return!1;for(var s=0,l=o;s<l.length;s+=1)if(!kt(l[s],a))return!1}if("MultiPolygon"===t.type){var u=It(t.coordinates,n,i),c=Rt(e.geometry(),r,n,i);if(!wt(r,n))return!1;for(var f=0,p=c;f<p.length;f+=1)if(!Et(p[f],u))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){var r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){var a=Mt(t.coordinates,n,i),o=Dt(e.geometry(),r,n,i);if(!wt(r,n))return!1;for(var s=0,l=o;s<l.length;s+=1)if(!Tt(l[s],a))return!1}if("MultiPolygon"===t.type){var u=It(t.coordinates,n,i),c=Dt(e.geometry(),r,n,i);if(!wt(r,n))return!1;for(var f=0,p=c;f<p.length;f+=1)if(!Ot(p[f],u))return!1}return!0}(e,this.geometries)}return!1},jt.prototype.eachChild=function(){},jt.prototype.outputDefined=function(){return!0},jt.prototype.serialize=function(){return["within",this.geojson]};var Bt=function(e,t){this.type=t.type,this.name=e,this.boundExpression=t};Bt.parse=function(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");var r=e[1];return t.scope.has(r)?new Bt(r,t.scope.get(r)):t.error('Unknown variable "'+r+'". Make sure "'+r+'" has been bound in an enclosing "let" expression before using it.',1)},Bt.prototype.evaluate=function(e){return this.boundExpression.evaluate(e)},Bt.prototype.eachChild=function(){},Bt.prototype.outputDefined=function(){return!1},Bt.prototype.serialize=function(){return["var",this.name]};var Zt=function(e,t,r,n,i){void 0===t&&(t=[]),void 0===n&&(n=new je),void 0===i&&(i=[]),this.registry=e,this.path=t,this.key=t.map((function(e){return"["+e+"]"})).join(""),this.scope=n,this.errors=i,this.expectedType=r};function Ut(e,t){for(var r,n=e.length-1,i=0,a=n,o=0;i<=a;)if((r=e[o=Math.floor((i+a)/2)])<=t){if(o===n||t<e[o+1])return o;i=o+1}else{if(!(r>t))throw new ct("Input is not a number.");a=o-1}return 0}Zt.prototype.parse=function(e,t,r,n,i){return void 0===i&&(i={}),t?this.concat(t,r,n)._parse(e,i):this._parse(e,i)},Zt.prototype._parse=function(e,t){function r(e,t,r){return"assert"===r?new pt(t,[e]):"coerce"===r?new mt(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var n=e[0];if("string"!=typeof n)return this.error("Expression name must be a string, but found "+typeof n+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var i=this.registry[n];if(i){var a=i.parse(e,this);if(!a)return null;if(this.expectedType){var o=this.expectedType,s=a.type;if("string"!==o.kind&&"number"!==o.kind&&"boolean"!==o.kind&&"object"!==o.kind&&"array"!==o.kind||"value"!==s.kind)if("color"!==o.kind&&"formatted"!==o.kind&&"resolvedImage"!==o.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(o,s))return null}else a=r(a,o,t.typeAnnotation||"coerce");else a=r(a,o,t.typeAnnotation||"assert")}if(!(a instanceof ut)&&"resolvedImage"!==a.type.kind&&function e(t){if(t instanceof Bt)return e(t.boundExpression);if(t instanceof _t&&"error"===t.name)return!1;if(t instanceof bt)return!1;if(t instanceof jt)return!1;var r=t instanceof mt||t instanceof pt,n=!0;return t.eachChild((function(t){n=r?n&&e(t):n&&t instanceof ut})),!!n&&Lt(t)&&zt(t,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(a)){var l=new gt;try{a=new ut(a.type,a.evaluate(l))}catch(e){return this.error(e.message),null}}return a}return this.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof e+" instead.")},Zt.prototype.concat=function(e,t,r){var n="number"==typeof e?this.path.concat(e):this.path,i=r?this.scope.concat(r):this.scope;return new Zt(this.registry,n,t||null,i,this.errors)},Zt.prototype.error=function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];var n=""+this.key+t.map((function(e){return"["+e+"]"})).join("");this.errors.push(new De(n,e))},Zt.prototype.checkSubtype=function(e,t){var r=Ke(e,t);return r&&this.error(r),r};var Vt=function(e,t,r){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(var n=0,i=r;n<i.length;n+=1){var a=i[n],o=a[1];this.labels.push(a[0]),this.outputs.push(o)}};function Gt(e,t,r){return e*(1-r)+t*r}Vt.parse=function(e,t){if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");var r=t.parse(e[1],1,Ne);if(!r)return null;var n=[],i=null;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);for(var a=1;a<e.length;a+=2){var o=1===a?-1/0:e[a],s=e[a+1],l=a,u=a+1;if("number"!=typeof o)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',l);if(n.length&&n[n.length-1][0]>=o)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',l);var c=t.parse(s,u,i);if(!c)return null;i=i||c.type,n.push([o,c])}return new Vt(i,r,n)},Vt.prototype.evaluate=function(e){var t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);var n=this.input.evaluate(e);if(n<=t[0])return r[0].evaluate(e);var i=t.length;return n>=t[i-1]?r[i-1].evaluate(e):r[Ut(t,n)].evaluate(e)},Vt.prototype.eachChild=function(e){e(this.input);for(var t=0,r=this.outputs;t<r.length;t+=1)e(r[t])},Vt.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))},Vt.prototype.serialize=function(){for(var e=["step",this.input.serialize()],t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e};var Wt=Object.freeze({__proto__:null,number:Gt,color:function(e,t,r){return new et(Gt(e.r,t.r,r),Gt(e.g,t.g,r),Gt(e.b,t.b,r),Gt(e.a,t.a,r))},array:function(e,t,r){return e.map((function(e,n){return Gt(e,t[n],r)}))}}),qt=6/29*3*(6/29),Ht=Math.PI/180,Yt=180/Math.PI;function Xt(e){return e>.008856451679035631?Math.pow(e,1/3):e/qt+4/29}function Kt(e){return e>6/29?e*e*e:qt*(e-4/29)}function $t(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Jt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Qt(e){var t=Jt(e.r),r=Jt(e.g),n=Jt(e.b),i=Xt((.4124564*t+.3575761*r+.1804375*n)/.95047),a=Xt((.2126729*t+.7151522*r+.072175*n)/1);return{l:116*a-16,a:500*(i-a),b:200*(a-Xt((.0193339*t+.119192*r+.9503041*n)/1.08883)),alpha:e.a}}function er(e){var t=(e.l+16)/116,r=isNaN(e.a)?t:t+e.a/500,n=isNaN(e.b)?t:t-e.b/200;return t=1*Kt(t),r=.95047*Kt(r),n=1.08883*Kt(n),new et($t(3.2404542*r-1.5371385*t-.4985314*n),$t(-.969266*r+1.8760108*t+.041556*n),$t(.0556434*r-.2040259*t+1.0572252*n),e.alpha)}function tr(e,t,r){var n=t-e;return e+r*(n>180||n<-180?n-360*Math.round(n/360):n)}var rr={forward:Qt,reverse:er,interpolate:function(e,t,r){return{l:Gt(e.l,t.l,r),a:Gt(e.a,t.a,r),b:Gt(e.b,t.b,r),alpha:Gt(e.alpha,t.alpha,r)}}},nr={forward:function(e){var t=Qt(e),r=t.l,n=t.a,i=t.b,a=Math.atan2(i,n)*Yt;return{h:a<0?a+360:a,c:Math.sqrt(n*n+i*i),l:r,alpha:e.a}},reverse:function(e){var t=e.h*Ht,r=e.c;return er({l:e.l,a:Math.cos(t)*r,b:Math.sin(t)*r,alpha:e.alpha})},interpolate:function(e,t,r){return{h:tr(e.h,t.h,r),c:Gt(e.c,t.c,r),l:Gt(e.l,t.l,r),alpha:Gt(e.alpha,t.alpha,r)}}},ir=Object.freeze({__proto__:null,lab:rr,hcl:nr}),ar=function(e,t,r,n,i){this.type=e,this.operator=t,this.interpolation=r,this.input=n,this.labels=[],this.outputs=[];for(var a=0,o=i;a<o.length;a+=1){var s=o[a],l=s[1];this.labels.push(s[0]),this.outputs.push(l)}};function or(e,t,r,n){var i=n-r,a=e-r;return 0===i?0:1===t?a/i:(Math.pow(t,a)-1)/(Math.pow(t,i)-1)}ar.interpolationFactor=function(e,t,n,i){var a=0;if("exponential"===e.name)a=or(t,e.base,n,i);else if("linear"===e.name)a=or(t,1,n,i);else if("cubic-bezier"===e.name){var o=e.controlPoints;a=new r(o[0],o[1],o[2],o[3]).solve(or(t,1,n,i))}return a},ar.parse=function(e,t){var r=e[0],n=e[1],i=e[2],a=e.slice(3);if(!Array.isArray(n)||0===n.length)return t.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){var o=n[1];if("number"!=typeof o)return t.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:o}}else{if("cubic-bezier"!==n[0])return t.error("Unknown interpolation type "+String(n[0]),1,0);var s=n.slice(1);if(4!==s.length||s.some((function(e){return"number"!=typeof e||e<0||e>1})))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:s}}if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(i=t.parse(i,2,Ne)))return null;var l=[],u=null;"interpolate-hcl"===r||"interpolate-lab"===r?u=Ze:t.expectedType&&"value"!==t.expectedType.kind&&(u=t.expectedType);for(var c=0;c<a.length;c+=2){var f=a[c],p=a[c+1],h=c+3,d=c+4;if("number"!=typeof f)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',h);if(l.length&&l[l.length-1][0]>=f)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',h);var v=t.parse(p,d,u);if(!v)return null;u=u||v.type,l.push([f,v])}return"number"===u.kind||"color"===u.kind||"array"===u.kind&&"number"===u.itemType.kind&&"number"==typeof u.N?new ar(u,r,n,i,l):t.error("Type "+Ye(u)+" is not interpolatable.")},ar.prototype.evaluate=function(e){var t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);var n=this.input.evaluate(e);if(n<=t[0])return r[0].evaluate(e);var i=t.length;if(n>=t[i-1])return r[i-1].evaluate(e);var a=Ut(t,n),o=ar.interpolationFactor(this.interpolation,n,t[a],t[a+1]),s=r[a].evaluate(e),l=r[a+1].evaluate(e);return"interpolate"===this.operator?Wt[this.type.kind.toLowerCase()](s,l,o):"interpolate-hcl"===this.operator?nr.reverse(nr.interpolate(nr.forward(s),nr.forward(l),o)):rr.reverse(rr.interpolate(rr.forward(s),rr.forward(l),o))},ar.prototype.eachChild=function(e){e(this.input);for(var t=0,r=this.outputs;t<r.length;t+=1)e(r[t])},ar.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))},ar.prototype.serialize=function(){var e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var t=[this.operator,e,this.input.serialize()],r=0;r<this.labels.length;r++)t.push(this.labels[r],this.outputs[r].serialize());return t};var sr=function(e,t){this.type=e,this.args=t};sr.parse=function(e,t){if(e.length<2)return t.error("Expectected at least one argument.");var r=null,n=t.expectedType;n&&"value"!==n.kind&&(r=n);for(var i=[],a=0,o=e.slice(1);a<o.length;a+=1){var s=t.parse(o[a],1+i.length,r,void 0,{typeAnnotation:"omit"});if(!s)return null;r=r||s.type,i.push(s)}var l=n&&i.some((function(e){return Ke(n,e.type)}));return new sr(l?Ve:r,i)},sr.prototype.evaluate=function(e){for(var t,r=null,n=0,i=0,a=this.args;i<a.length&&(n++,(r=a[i].evaluate(e))&&r instanceof it&&!r.available&&(t||(t=r.name),r=null,n===this.args.length&&(r=t)),null===r);i+=1);return r},sr.prototype.eachChild=function(e){this.args.forEach(e)},sr.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},sr.prototype.serialize=function(){var e=["coalesce"];return this.eachChild((function(t){e.push(t.serialize())})),e};var lr=function(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t};lr.prototype.evaluate=function(e){return this.result.evaluate(e)},lr.prototype.eachChild=function(e){for(var t=0,r=this.bindings;t<r.length;t+=1)e(r[t][1]);e(this.result)},lr.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found "+(e.length-1)+" instead.");for(var r=[],n=1;n<e.length-1;n+=2){var i=e[n];if("string"!=typeof i)return t.error("Expected string, but found "+typeof i+" instead.",n);if(/[^a-zA-Z0-9_]/.test(i))return t.error("Variable names must contain only alphanumeric characters or '_'.",n);var a=t.parse(e[n+1],n+1);if(!a)return null;r.push([i,a])}var o=t.parse(e[e.length-1],e.length-1,t.expectedType,r);return o?new lr(r,o):null},lr.prototype.outputDefined=function(){return this.result.outputDefined()},lr.prototype.serialize=function(){for(var e=["let"],t=0,r=this.bindings;t<r.length;t+=1){var n=r[t];e.push(n[0],n[1].serialize())}return e.push(this.result.serialize()),e};var ur=function(e,t,r){this.type=e,this.index=t,this.input=r};ur.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,Ne),n=t.parse(e[2],2,He(t.expectedType||Ve));return r&&n?new ur(n.type.itemType,r,n):null},ur.prototype.evaluate=function(e){var t=this.index.evaluate(e),r=this.input.evaluate(e);if(t<0)throw new ct("Array index out of bounds: "+t+" < 0.");if(t>=r.length)throw new ct("Array index out of bounds: "+t+" > "+(r.length-1)+".");if(t!==Math.floor(t))throw new ct("Array index must be an integer, but found "+t+" instead.");return r[t]},ur.prototype.eachChild=function(e){e(this.index),e(this.input)},ur.prototype.outputDefined=function(){return!1},ur.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var cr=function(e,t){this.type=Be,this.needle=e,this.haystack=t};cr.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,Ve),n=t.parse(e[2],2,Ve);return r&&n?$e(r.type,[Be,ze,Ne,Le,Ve])?new cr(r,n):t.error("Expected first argument to be of type boolean, string, number or null, but found "+Ye(r.type)+" instead"):null},cr.prototype.evaluate=function(e){var t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(!r)return!1;if(!Je(t,["boolean","string","number","null"]))throw new ct("Expected first argument to be of type boolean, string, number or null, but found "+Ye(st(t))+" instead.");if(!Je(r,["string","array"]))throw new ct("Expected second argument to be of type array or string, but found "+Ye(st(r))+" instead.");return r.indexOf(t)>=0},cr.prototype.eachChild=function(e){e(this.needle),e(this.haystack)},cr.prototype.outputDefined=function(){return!0},cr.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var fr=function(e,t,r){this.type=Ne,this.needle=e,this.haystack=t,this.fromIndex=r};fr.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,Ve),n=t.parse(e[2],2,Ve);if(!r||!n)return null;if(!$e(r.type,[Be,ze,Ne,Le,Ve]))return t.error("Expected first argument to be of type boolean, string, number or null, but found "+Ye(r.type)+" instead");if(4===e.length){var i=t.parse(e[3],3,Ne);return i?new fr(r,n,i):null}return new fr(r,n)},fr.prototype.evaluate=function(e){var t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(!Je(t,["boolean","string","number","null"]))throw new ct("Expected first argument to be of type boolean, string, number or null, but found "+Ye(st(t))+" instead.");if(!Je(r,["string","array"]))throw new ct("Expected second argument to be of type array or string, but found "+Ye(st(r))+" instead.");if(this.fromIndex){var n=this.fromIndex.evaluate(e);return r.indexOf(t,n)}return r.indexOf(t)},fr.prototype.eachChild=function(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)},fr.prototype.outputDefined=function(){return!1},fr.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var pr=function(e,t,r,n,i,a){this.inputType=e,this.type=t,this.input=r,this.cases=n,this.outputs=i,this.otherwise=a};pr.parse=function(e,t){if(e.length<5)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if(e.length%2!=1)return t.error("Expected an even number of arguments.");var r,n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);for(var i={},a=[],o=2;o<e.length-1;o+=2){var s=e[o],l=e[o+1];Array.isArray(s)||(s=[s]);var u=t.concat(o);if(0===s.length)return u.error("Expected at least one branch label.");for(var c=0,f=s;c<f.length;c+=1){var p=f[c];if("number"!=typeof p&&"string"!=typeof p)return u.error("Branch labels must be numbers or strings.");if("number"==typeof p&&Math.abs(p)>Number.MAX_SAFE_INTEGER)return u.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof p&&Math.floor(p)!==p)return u.error("Numeric branch labels must be integer values.");if(r){if(u.checkSubtype(r,st(p)))return null}else r=st(p);if(void 0!==i[String(p)])return u.error("Branch labels must be unique.");i[String(p)]=a.length}var h=t.parse(l,o,n);if(!h)return null;n=n||h.type,a.push(h)}var d=t.parse(e[1],1,Ve);if(!d)return null;var v=t.parse(e[e.length-1],e.length-1,n);return v?"value"!==d.type.kind&&t.concat(1).checkSubtype(r,d.type)?null:new pr(r,n,d,i,a,v):null},pr.prototype.evaluate=function(e){var t=this.input.evaluate(e);return(st(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)},pr.prototype.eachChild=function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)},pr.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))&&this.otherwise.outputDefined()},pr.prototype.serialize=function(){for(var e=this,t=["match",this.input.serialize()],r=[],n={},i=0,a=Object.keys(this.cases).sort();i<a.length;i+=1){var o=a[i];void 0===(f=n[this.cases[o]])?(n[this.cases[o]]=r.length,r.push([this.cases[o],[o]])):r[f][1].push(o)}for(var s=function(t){return"number"===e.inputType.kind?Number(t):t},l=0,u=r;l<u.length;l+=1){var c=u[l],f=c[0],p=c[1];t.push(1===p.length?s(p[0]):p.map(s)),t.push(this.outputs[outputIndex$1].serialize())}return t.push(this.otherwise.serialize()),t};var hr=function(e,t,r){this.type=e,this.branches=t,this.otherwise=r};hr.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found only "+(e.length-1)+".");if(e.length%2!=0)return t.error("Expected an odd number of arguments.");var r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(var n=[],i=1;i<e.length-1;i+=2){var a=t.parse(e[i],i,Be);if(!a)return null;var o=t.parse(e[i+1],i+1,r);if(!o)return null;n.push([a,o]),r=r||o.type}var s=t.parse(e[e.length-1],e.length-1,r);return s?new hr(r,n,s):null},hr.prototype.evaluate=function(e){for(var t=0,r=this.branches;t<r.length;t+=1){var n=r[t],i=n[1];if(n[0].evaluate(e))return i.evaluate(e)}return this.otherwise.evaluate(e)},hr.prototype.eachChild=function(e){for(var t=0,r=this.branches;t<r.length;t+=1){var n=r[t],i=n[1];e(n[0]),e(i)}e(this.otherwise)},hr.prototype.outputDefined=function(){return this.branches.every((function(e){return e[1].outputDefined()}))&&this.otherwise.outputDefined()},hr.prototype.serialize=function(){var e=["case"];return this.eachChild((function(t){e.push(t.serialize())})),e};var dr=function(e,t,r,n){this.type=e,this.input=t,this.beginIndex=r,this.endIndex=n};function vr(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function mr(e,t,r,n){return 0===n.compare(t,r)}function yr(e,t,r){var n="=="!==e&&"!="!==e;return function(){function i(e,t,r){this.type=Be,this.lhs=e,this.rhs=t,this.collator=r,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}return i.parse=function(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");var r=e[0],a=t.parse(e[1],1,Ve);if(!a)return null;if(!vr(r,a.type))return t.concat(1).error('"'+r+"\" comparisons are not supported for type '"+Ye(a.type)+"'.");var o=t.parse(e[2],2,Ve);if(!o)return null;if(!vr(r,o.type))return t.concat(2).error('"'+r+"\" comparisons are not supported for type '"+Ye(o.type)+"'.");if(a.type.kind!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return t.error("Cannot compare types '"+Ye(a.type)+"' and '"+Ye(o.type)+"'.");n&&("value"===a.type.kind&&"value"!==o.type.kind?a=new pt(o.type,[a]):"value"!==a.type.kind&&"value"===o.type.kind&&(o=new pt(a.type,[o])));var s=null;if(4===e.length){if("string"!==a.type.kind&&"string"!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(s=t.parse(e[3],3,Ge)))return null}return new i(a,o,s)},i.prototype.evaluate=function(i){var a=this.lhs.evaluate(i),o=this.rhs.evaluate(i);if(n&&this.hasUntypedArgument){var s=st(a),l=st(o);if(s.kind!==l.kind||"string"!==s.kind&&"number"!==s.kind)throw new ct('Expected arguments for "'+e+'" to be (string, string) or (number, number), but found ('+s.kind+", "+l.kind+") instead.")}if(this.collator&&!n&&this.hasUntypedArgument){var u=st(a),c=st(o);if("string"!==u.kind||"string"!==c.kind)return t(i,a,o)}return this.collator?r(i,a,o,this.collator.evaluate(i)):t(i,a,o)},i.prototype.eachChild=function(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)},i.prototype.outputDefined=function(){return!0},i.prototype.serialize=function(){var t=[e];return this.eachChild((function(e){t.push(e.serialize())})),t},i}()}dr.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,Ve),n=t.parse(e[2],2,Ne);if(!r||!n)return null;if(!$e(r.type,[He(Ve),ze,Ve]))return t.error("Expected first argument to be of type array or string, but found "+Ye(r.type)+" instead");if(4===e.length){var i=t.parse(e[3],3,Ne);return i?new dr(r.type,r,n,i):null}return new dr(r.type,r,n)},dr.prototype.evaluate=function(e){var t=this.input.evaluate(e),r=this.beginIndex.evaluate(e);if(!Je(t,["string","array"]))throw new ct("Expected first argument to be of type array or string, but found "+Ye(st(t))+" instead.");if(this.endIndex){var n=this.endIndex.evaluate(e);return t.slice(r,n)}return t.slice(r)},dr.prototype.eachChild=function(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)},dr.prototype.outputDefined=function(){return!1},dr.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var gr=yr("==",(function(e,t,r){return t===r}),mr),_r=yr("!=",(function(e,t,r){return t!==r}),(function(e,t,r,n){return!mr(0,t,r,n)})),br=yr("<",(function(e,t,r){return t<r}),(function(e,t,r,n){return n.compare(t,r)<0})),xr=yr(">",(function(e,t,r){return t>r}),(function(e,t,r,n){return n.compare(t,r)>0})),wr=yr("<=",(function(e,t,r){return t<=r}),(function(e,t,r,n){return n.compare(t,r)<=0})),Sr=yr(">=",(function(e,t,r){return t>=r}),(function(e,t,r,n){return n.compare(t,r)>=0})),Pr=function(e,t,r,n,i){this.type=ze,this.number=e,this.locale=t,this.currency=r,this.minFractionDigits=n,this.maxFractionDigits=i};Pr.parse=function(e,t){if(3!==e.length)return t.error("Expected two arguments.");var r=t.parse(e[1],1,Ne);if(!r)return null;var n=e[2];if("object"!=typeof n||Array.isArray(n))return t.error("NumberFormat options argument must be an object.");var i=null;if(n.locale&&!(i=t.parse(n.locale,1,ze)))return null;var a=null;if(n.currency&&!(a=t.parse(n.currency,1,ze)))return null;var o=null;if(n["min-fraction-digits"]&&!(o=t.parse(n["min-fraction-digits"],1,Ne)))return null;var s=null;return n["max-fraction-digits"]&&!(s=t.parse(n["max-fraction-digits"],1,Ne))?null:new Pr(r,i,a,o,s)},Pr.prototype.evaluate=function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))},Pr.prototype.eachChild=function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)},Pr.prototype.outputDefined=function(){return!1},Pr.prototype.serialize=function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]};var kr=function(e){this.type=Ne,this.input=e};kr.parse=function(e,t){if(2!==e.length)return t.error("Expected 1 argument, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1);return r?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?t.error("Expected argument of type string or array, but found "+Ye(r.type)+" instead."):new kr(r):null},kr.prototype.evaluate=function(e){var t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new ct("Expected value to be of type string or array, but found "+Ye(st(t))+" instead.")},kr.prototype.eachChild=function(e){e(this.input)},kr.prototype.outputDefined=function(){return!1},kr.prototype.serialize=function(){var e=["length"];return this.eachChild((function(t){e.push(t.serialize())})),e};var Er={"==":gr,"!=":_r,">":xr,"<":br,">=":Sr,"<=":wr,array:pt,at:ur,boolean:pt,case:hr,coalesce:sr,collator:bt,format:ht,image:dt,in:cr,"index-of":fr,interpolate:ar,"interpolate-hcl":ar,"interpolate-lab":ar,length:kr,let:lr,literal:ut,match:pr,number:pt,"number-format":Pr,object:pt,slice:dr,step:Vt,string:pt,"to-boolean":mt,"to-color":mt,"to-number":mt,"to-string":mt,var:Bt,within:jt};function Cr(e,t){var r=t[0],n=t[1],i=t[2],a=t[3];r=r.evaluate(e),n=n.evaluate(e),i=i.evaluate(e);var o=a?a.evaluate(e):1,s=at(r,n,i,o);if(s)throw new ct(s);return new et(r/255*o,n/255*o,i/255*o,o)}function Ar(e,t){return e in t}function Tr(e,t){var r=t[e];return void 0===r?null:r}function Or(e){return{type:e}}function Mr(e){return{result:"success",value:e}}function Ir(e){return{result:"error",value:e}}function Fr(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function Rr(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function Dr(e){return!!e.expression&&e.expression.interpolated}function jr(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function Lr(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function Nr(e){return e}function zr(e,t,r){return void 0!==e?e:void 0!==t?t:void 0!==r?r:void 0}function Br(e,t,r,n,i){return zr(typeof r===i?n[r]:void 0,e.default,t.default)}function Zr(e,t,r){if("number"!==jr(r))return zr(e.default,t.default);var n=e.stops.length;if(1===n)return e.stops[0][1];if(r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[n-1][0])return e.stops[n-1][1];var i=Ut(e.stops.map((function(e){return e[0]})),r);return e.stops[i][1]}function Ur(e,t,r){var n=void 0!==e.base?e.base:1;if("number"!==jr(r))return zr(e.default,t.default);var i=e.stops.length;if(1===i)return e.stops[0][1];if(r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[i-1][0])return e.stops[i-1][1];var a=Ut(e.stops.map((function(e){return e[0]})),r),o=function(e,t,r,n){var i=n-r,a=e-r;return 0===i?0:1===t?a/i:(Math.pow(t,a)-1)/(Math.pow(t,i)-1)}(r,n,e.stops[a][0],e.stops[a+1][0]),s=e.stops[a][1],l=e.stops[a+1][1],u=Wt[t.type]||Nr;if(e.colorSpace&&"rgb"!==e.colorSpace){var c=ir[e.colorSpace];u=function(e,t){return c.reverse(c.interpolate(c.forward(e),c.forward(t),o))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=s.evaluate.apply(void 0,e),n=l.evaluate.apply(void 0,e);if(void 0!==r&&void 0!==n)return u(r,n,o)}}:u(s,l,o)}function Vr(e,t,r){return"color"===t.type?r=et.parse(r):"formatted"===t.type?r=nt.fromString(r.toString()):"resolvedImage"===t.type?r=it.fromString(r.toString()):jr(r)===t.type||"enum"===t.type&&t.values[r]||(r=void 0),zr(r,e.default,t.default)}_t.register(Er,{error:[{kind:"error"},[ze],function(e,t){throw new ct(t[0].evaluate(e))}],typeof:[ze,[Ve],function(e,t){return Ye(st(t[0].evaluate(e)))}],"to-rgba":[He(Ne,4),[Ze],function(e,t){return t[0].evaluate(e).toArray()}],rgb:[Ze,[Ne,Ne,Ne],Cr],rgba:[Ze,[Ne,Ne,Ne,Ne],Cr],has:{type:Be,overloads:[[[ze],function(e,t){return Ar(t[0].evaluate(e),e.properties())}],[[ze,Ue],function(e,t){var r=t[1];return Ar(t[0].evaluate(e),r.evaluate(e))}]]},get:{type:Ve,overloads:[[[ze],function(e,t){return Tr(t[0].evaluate(e),e.properties())}],[[ze,Ue],function(e,t){var r=t[1];return Tr(t[0].evaluate(e),r.evaluate(e))}]]},"feature-state":[Ve,[ze],function(e,t){return Tr(t[0].evaluate(e),e.featureState||{})}],properties:[Ue,[],function(e){return e.properties()}],"geometry-type":[ze,[],function(e){return e.geometryType()}],id:[Ve,[],function(e){return e.id()}],zoom:[Ne,[],function(e){return e.globals.zoom}],"heatmap-density":[Ne,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[Ne,[],function(e){return e.globals.lineProgress||0}],accumulated:[Ve,[],function(e){return void 0===e.globals.accumulated?null:e.globals.accumulated}],"+":[Ne,Or(Ne),function(e,t){for(var r=0,n=0,i=t;n<i.length;n+=1)r+=i[n].evaluate(e);return r}],"*":[Ne,Or(Ne),function(e,t){for(var r=1,n=0,i=t;n<i.length;n+=1)r*=i[n].evaluate(e);return r}],"-":{type:Ne,overloads:[[[Ne,Ne],function(e,t){var r=t[1];return t[0].evaluate(e)-r.evaluate(e)}],[[Ne],function(e,t){return-t[0].evaluate(e)}]]},"/":[Ne,[Ne,Ne],function(e,t){var r=t[1];return t[0].evaluate(e)/r.evaluate(e)}],"%":[Ne,[Ne,Ne],function(e,t){var r=t[1];return t[0].evaluate(e)%r.evaluate(e)}],ln2:[Ne,[],function(){return Math.LN2}],pi:[Ne,[],function(){return Math.PI}],e:[Ne,[],function(){return Math.E}],"^":[Ne,[Ne,Ne],function(e,t){var r=t[1];return Math.pow(t[0].evaluate(e),r.evaluate(e))}],sqrt:[Ne,[Ne],function(e,t){return Math.sqrt(t[0].evaluate(e))}],log10:[Ne,[Ne],function(e,t){return Math.log(t[0].evaluate(e))/Math.LN10}],ln:[Ne,[Ne],function(e,t){return Math.log(t[0].evaluate(e))}],log2:[Ne,[Ne],function(e,t){return Math.log(t[0].evaluate(e))/Math.LN2}],sin:[Ne,[Ne],function(e,t){return Math.sin(t[0].evaluate(e))}],cos:[Ne,[Ne],function(e,t){return Math.cos(t[0].evaluate(e))}],tan:[Ne,[Ne],function(e,t){return Math.tan(t[0].evaluate(e))}],asin:[Ne,[Ne],function(e,t){return Math.asin(t[0].evaluate(e))}],acos:[Ne,[Ne],function(e,t){return Math.acos(t[0].evaluate(e))}],atan:[Ne,[Ne],function(e,t){return Math.atan(t[0].evaluate(e))}],min:[Ne,Or(Ne),function(e,t){return Math.min.apply(Math,t.map((function(t){return t.evaluate(e)})))}],max:[Ne,Or(Ne),function(e,t){return Math.max.apply(Math,t.map((function(t){return t.evaluate(e)})))}],abs:[Ne,[Ne],function(e,t){return Math.abs(t[0].evaluate(e))}],round:[Ne,[Ne],function(e,t){var r=t[0].evaluate(e);return r<0?-Math.round(-r):Math.round(r)}],floor:[Ne,[Ne],function(e,t){return Math.floor(t[0].evaluate(e))}],ceil:[Ne,[Ne],function(e,t){return Math.ceil(t[0].evaluate(e))}],"filter-==":[Be,[ze,Ve],function(e,t){var r=t[0],n=t[1];return e.properties()[r.value]===n.value}],"filter-id-==":[Be,[Ve],function(e,t){var r=t[0];return e.id()===r.value}],"filter-type-==":[Be,[ze],function(e,t){var r=t[0];return e.geometryType()===r.value}],"filter-<":[Be,[ze,Ve],function(e,t){var r=t[0],n=t[1],i=e.properties()[r.value],a=n.value;return typeof i==typeof a&&i<a}],"filter-id-<":[Be,[Ve],function(e,t){var r=t[0],n=e.id(),i=r.value;return typeof n==typeof i&&n<i}],"filter->":[Be,[ze,Ve],function(e,t){var r=t[0],n=t[1],i=e.properties()[r.value],a=n.value;return typeof i==typeof a&&i>a}],"filter-id->":[Be,[Ve],function(e,t){var r=t[0],n=e.id(),i=r.value;return typeof n==typeof i&&n>i}],"filter-<=":[Be,[ze,Ve],function(e,t){var r=t[0],n=t[1],i=e.properties()[r.value],a=n.value;return typeof i==typeof a&&i<=a}],"filter-id-<=":[Be,[Ve],function(e,t){var r=t[0],n=e.id(),i=r.value;return typeof n==typeof i&&n<=i}],"filter->=":[Be,[ze,Ve],function(e,t){var r=t[0],n=t[1],i=e.properties()[r.value],a=n.value;return typeof i==typeof a&&i>=a}],"filter-id->=":[Be,[Ve],function(e,t){var r=t[0],n=e.id(),i=r.value;return typeof n==typeof i&&n>=i}],"filter-has":[Be,[Ve],function(e,t){return t[0].value in e.properties()}],"filter-has-id":[Be,[],function(e){return null!==e.id()&&void 0!==e.id()}],"filter-type-in":[Be,[He(ze)],function(e,t){return t[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[Be,[He(Ve)],function(e,t){return t[0].value.indexOf(e.id())>=0}],"filter-in-small":[Be,[ze,He(Ve)],function(e,t){var r=t[0];return t[1].value.indexOf(e.properties()[r.value])>=0}],"filter-in-large":[Be,[ze,He(Ve)],function(e,t){var r=t[0],n=t[1];return function(e,t,r,n){for(;r<=n;){var i=r+n>>1;if(t[i]===e)return!0;t[i]>e?n=i-1:r=i+1}return!1}(e.properties()[r.value],n.value,0,n.value.length-1)}],all:{type:Be,overloads:[[[Be,Be],function(e,t){var r=t[1];return t[0].evaluate(e)&&r.evaluate(e)}],[Or(Be),function(e,t){for(var r=0,n=t;r<n.length;r+=1)if(!n[r].evaluate(e))return!1;return!0}]]},any:{type:Be,overloads:[[[Be,Be],function(e,t){var r=t[1];return t[0].evaluate(e)||r.evaluate(e)}],[Or(Be),function(e,t){for(var r=0,n=t;r<n.length;r+=1)if(n[r].evaluate(e))return!0;return!1}]]},"!":[Be,[Be],function(e,t){return!t[0].evaluate(e)}],"is-supported-script":[Be,[ze],function(e,t){var r=e.globals&&e.globals.isSupportedScript;return!r||r(t[0].evaluate(e))}],upcase:[ze,[ze],function(e,t){return t[0].evaluate(e).toUpperCase()}],downcase:[ze,[ze],function(e,t){return t[0].evaluate(e).toLowerCase()}],concat:[ze,Or(Ve),function(e,t){return t.map((function(t){return lt(t.evaluate(e))})).join("")}],"resolved-locale":[ze,[Ge],function(e,t){return t[0].evaluate(e).resolvedLocale()}]});var Gr=function(e,t){this.expression=e,this._warningHistory={},this._evaluator=new gt,this._defaultValue=t?function(e){return"color"===e.type&&Lr(e.default)?new et(0,0,0,0):"color"===e.type?et.parse(e.default)||null:void 0===e.default?null:e.default}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null};function Wr(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in Er}function qr(e,t){var r=new Zt(Er,[],t?function(e){var t={color:Ze,string:ze,number:Ne,enum:ze,boolean:Be,formatted:We,resolvedImage:qe};return"array"===e.type?He(t[e.value]||Ve,e.length):t[e.type]}(t):void 0),n=r.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return n?Mr(new Gr(n,t)):Ir(r.errors)}Gr.prototype.evaluateWithoutErrorHandling=function(e,t,r,n,i,a){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=r,this._evaluator.canonical=n,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=a,this.expression.evaluate(this._evaluator)},Gr.prototype.evaluate=function(e,t,r,n,i,a){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=r||null,this._evaluator.canonical=n,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=a||null;try{var o=this.expression.evaluate(this._evaluator);if(null==o||"number"==typeof o&&o!=o)return this._defaultValue;if(this._enumValues&&!(o in this._enumValues))throw new ct("Expected value to be one of "+Object.keys(this._enumValues).map((function(e){return JSON.stringify(e)})).join(", ")+", but found "+JSON.stringify(o)+" instead.");return o}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}};var Hr=function(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!Nt(t.expression)};Hr.prototype.evaluateWithoutErrorHandling=function(e,t,r,n,i,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,i,a)},Hr.prototype.evaluate=function(e,t,r,n,i,a){return this._styleExpression.evaluate(e,t,r,n,i,a)};var Yr=function(e,t,r,n){this.kind=e,this.zoomStops=r,this._styleExpression=t,this.isStateDependent="camera"!==e&&!Nt(t.expression),this.interpolationType=n};function Xr(e,t){if("error"===(e=qr(e,t)).result)return e;var r=e.value.expression,n=Lt(r);if(!n&&!Fr(t))return Ir([new De("","data expressions not supported")]);var i=zt(r,["zoom"]);if(!i&&!Rr(t))return Ir([new De("","zoom expressions not supported")]);var a=function e(t){var r=null;if(t instanceof lr)r=e(t.result);else if(t instanceof sr)for(var n=0,i=t.args;n<i.length&&!(r=e(i[n]));n+=1);else(t instanceof Vt||t instanceof ar)&&t.input instanceof _t&&"zoom"===t.input.name&&(r=t);return r instanceof De||t.eachChild((function(t){var n=e(t);n instanceof De?r=n:!r&&n?r=new De("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):r&&n&&r!==n&&(r=new De("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),r}(r);return a||i?a instanceof De?Ir([a]):a instanceof ar&&!Dr(t)?Ir([new De("",'"interpolate" expressions cannot be used with this property')]):Mr(a?new Yr(n?"camera":"composite",e.value,a.labels,a instanceof ar?a.interpolation:void 0):new Hr(n?"constant":"source",e.value)):Ir([new De("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Yr.prototype.evaluateWithoutErrorHandling=function(e,t,r,n,i,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,i,a)},Yr.prototype.evaluate=function(e,t,r,n,i,a){return this._styleExpression.evaluate(e,t,r,n,i,a)},Yr.prototype.interpolationFactor=function(e,t,r){return this.interpolationType?ar.interpolationFactor(this.interpolationType,e,t,r):0};var Kr=function(e,t){this._parameters=e,this._specification=t,Ie(this,function e(t,r){var n,i,a,o="color"===r.type,s=t.stops&&"object"==typeof t.stops[0][0],l=s||!(s||void 0!==t.property),u=t.type||(Dr(r)?"exponential":"interval");if(o&&((t=Ie({},t)).stops&&(t.stops=t.stops.map((function(e){return[e[0],et.parse(e[1])]}))),t.default=et.parse(t.default?t.default:r.default)),t.colorSpace&&"rgb"!==t.colorSpace&&!ir[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);if("exponential"===u)n=Ur;else if("interval"===u)n=Zr;else if("categorical"===u){n=Br,i=Object.create(null);for(var c=0,f=t.stops;c<f.length;c+=1){var p=f[c];i[p[0]]=p[1]}a=typeof t.stops[0][0]}else{if("identity"!==u)throw new Error('Unknown function type "'+u+'"');n=Vr}if(s){for(var h={},d=[],v=0;v<t.stops.length;v++){var m=t.stops[v],y=m[0].zoom;void 0===h[y]&&(h[y]={zoom:y,type:t.type,property:t.property,default:t.default,stops:[]},d.push(y)),h[y].stops.push([m[0].value,m[1]])}for(var g=[],_=0,b=d;_<b.length;_+=1){var x=b[_];g.push([h[x].zoom,e(h[x],r)])}var w={name:"linear"};return{kind:"composite",interpolationType:w,interpolationFactor:ar.interpolationFactor.bind(void 0,w),zoomStops:g.map((function(e){return e[0]})),evaluate:function(e,n){var i=e.zoom;return Ur({stops:g,base:t.base},r,i).evaluate(i,n)}}}if(l){var S="exponential"===u?{name:"exponential",base:void 0!==t.base?t.base:1}:null;return{kind:"camera",interpolationType:S,interpolationFactor:ar.interpolationFactor.bind(void 0,S),zoomStops:t.stops.map((function(e){return e[0]})),evaluate:function(e){return n(t,r,e.zoom,i,a)}}}return{kind:"source",evaluate:function(e,o){var s=o&&o.properties?o.properties[t.property]:void 0;return void 0===s?zr(t.default,r.default):n(t,r,s,i,a)}}}(this._parameters,this._specification))};function $r(e){var t=e.key,r=e.value,n=e.valueSpec||{},i=e.objectElementValidators||{},a=e.style,o=e.styleSpec,s=[],l=jr(r);if("object"!==l)return[new Oe(t,r,"object expected, "+l+" found")];for(var u in r){var c=u.split(".")[0],f=n[c]||n["*"],p=void 0;if(i[c])p=i[c];else if(n[c])p=Sn;else if(i["*"])p=i["*"];else{if(!n["*"]){s.push(new Oe(t,r[u],'unknown property "'+u+'"'));continue}p=Sn}s=s.concat(p({key:(t?t+".":t)+u,value:r[u],valueSpec:f,style:a,styleSpec:o,object:r,objectKey:u},r))}for(var h in n)i[h]||n[h].required&&void 0===n[h].default&&void 0===r[h]&&s.push(new Oe(t,r,'missing required property "'+h+'"'));return s}function Jr(e){var t=e.value,r=e.valueSpec,n=e.style,i=e.styleSpec,a=e.key,o=e.arrayElementValidator||Sn;if("array"!==jr(t))return[new Oe(a,t,"array expected, "+jr(t)+" found")];if(r.length&&t.length!==r.length)return[new Oe(a,t,"array length "+r.length+" expected, length "+t.length+" found")];if(r["min-length"]&&t.length<r["min-length"])return[new Oe(a,t,"array length at least "+r["min-length"]+" expected, length "+t.length+" found")];var s={type:r.value,values:r.values};i.$version<7&&(s.function=r.function),"object"===jr(r.value)&&(s=r.value);for(var l=[],u=0;u<t.length;u++)l=l.concat(o({array:t,arrayIndex:u,value:t[u],valueSpec:s,style:n,styleSpec:i,key:a+"["+u+"]"}));return l}function Qr(e){var t=e.key,r=e.value,n=e.valueSpec,i=jr(r);return"number"===i&&r!=r&&(i="NaN"),"number"!==i?[new Oe(t,r,"number expected, "+i+" found")]:"minimum"in n&&r<n.minimum?[new Oe(t,r,r+" is less than the minimum value "+n.minimum)]:"maximum"in n&&r>n.maximum?[new Oe(t,r,r+" is greater than the maximum value "+n.maximum)]:[]}function en(e){var t,r,n,i=e.valueSpec,a=Fe(e.value.type),o={},s="categorical"!==a&&void 0===e.value.property,l=!s,u="array"===jr(e.value.stops)&&"array"===jr(e.value.stops[0])&&"object"===jr(e.value.stops[0][0]),c=$r({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===a)return[new Oe(e.key,e.value,'identity function may not have a "stops" property')];var t=[],r=e.value;return t=t.concat(Jr({key:e.key,value:r,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:f})),"array"===jr(r)&&0===r.length&&t.push(new Oe(e.key,r,"array must have at least one stop")),t},default:function(e){return Sn({key:e.key,value:e.value,valueSpec:i,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===a&&s&&c.push(new Oe(e.key,e.value,'missing required property "property"')),"identity"===a||e.value.stops||c.push(new Oe(e.key,e.value,'missing required property "stops"')),"exponential"===a&&e.valueSpec.expression&&!Dr(e.valueSpec)&&c.push(new Oe(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(l&&!Fr(e.valueSpec)?c.push(new Oe(e.key,e.value,"property functions not supported")):s&&!Rr(e.valueSpec)&&c.push(new Oe(e.key,e.value,"zoom functions not supported"))),"categorical"!==a&&!u||void 0!==e.value.property||c.push(new Oe(e.key,e.value,'"property" property is required')),c;function f(e){var t=[],a=e.value,s=e.key;if("array"!==jr(a))return[new Oe(s,a,"array expected, "+jr(a)+" found")];if(2!==a.length)return[new Oe(s,a,"array length 2 expected, length "+a.length+" found")];if(u){if("object"!==jr(a[0]))return[new Oe(s,a,"object expected, "+jr(a[0])+" found")];if(void 0===a[0].zoom)return[new Oe(s,a,"object stop key must have zoom")];if(void 0===a[0].value)return[new Oe(s,a,"object stop key must have value")];if(n&&n>Fe(a[0].zoom))return[new Oe(s,a[0].zoom,"stop zoom values must appear in ascending order")];Fe(a[0].zoom)!==n&&(n=Fe(a[0].zoom),r=void 0,o={}),t=t.concat($r({key:s+"[0]",value:a[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:Qr,value:p}}))}else t=t.concat(p({key:s+"[0]",value:a[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},a));return Wr(Re(a[1]))?t.concat([new Oe(s+"[1]",a[1],"expressions are not allowed in function stops.")]):t.concat(Sn({key:s+"[1]",value:a[1],valueSpec:i,style:e.style,styleSpec:e.styleSpec}))}function p(e,n){var s=jr(e.value),l=Fe(e.value),u=null!==e.value?e.value:n;if(t){if(s!==t)return[new Oe(e.key,u,s+" stop domain type must match previous stop domain type "+t)]}else t=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new Oe(e.key,u,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==a){var c="number expected, "+s+" found";return Fr(i)&&void 0===a&&(c+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Oe(e.key,u,c)]}return"categorical"!==a||"number"!==s||isFinite(l)&&Math.floor(l)===l?"categorical"!==a&&"number"===s&&void 0!==r&&l<r?[new Oe(e.key,u,"stop domain values must appear in ascending order")]:(r=l,"categorical"===a&&l in o?[new Oe(e.key,u,"stop domain values must be unique")]:(o[l]=!0,[])):[new Oe(e.key,u,"integer expected, found "+l)]}}function tn(e){var t=("property"===e.expressionContext?Xr:qr)(Re(e.value),e.valueSpec);if("error"===t.result)return t.value.map((function(t){return new Oe(""+e.key+t.key,e.value,t.message)}));var r=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!r.outputDefined())return[new Oe(e.key,e.value,'Invalid data expression for "'+e.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===e.expressionContext&&"layout"===e.propertyType&&!Nt(r))return[new Oe(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!Nt(r))return[new Oe(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!zt(r,["zoom","feature-state"]))return[new Oe(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!Lt(r))return[new Oe(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function rn(e){var t=e.key,r=e.value,n=e.valueSpec,i=[];return Array.isArray(n.values)?-1===n.values.indexOf(Fe(r))&&i.push(new Oe(t,r,"expected one of ["+n.values.join(", ")+"], "+JSON.stringify(r)+" found")):-1===Object.keys(n.values).indexOf(Fe(r))&&i.push(new Oe(t,r,"expected one of ["+Object.keys(n.values).join(", ")+"], "+JSON.stringify(r)+" found")),i}function nn(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(var t=0,r=e.slice(1);t<r.length;t+=1){var n=r[t];if(!nn(n)&&"boolean"!=typeof n)return!1}return!0;default:return!0}}Kr.deserialize=function(e){return new Kr(e._parameters,e._specification)},Kr.serialize=function(e){return{_parameters:e._parameters,_specification:e._specification}};var an={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function on(e){if(null==e)return{filter:function(){return!0},needGeometry:!1};nn(e)||(e=ln(e));var t=qr(e,an);if("error"===t.result)throw new Error(t.value.map((function(e){return e.key+": "+e.message})).join(", "));return{filter:function(e,r,n){return t.value.evaluate(e,r,{},n)},needGeometry:function e(t){if(!Array.isArray(t))return!1;if("within"===t[0])return!0;for(var r=1;r<t.length;r++)if(e(t[r]))return!0;return!1}(e)}}function sn(e,t){return e<t?-1:e>t?1:0}function ln(e){if(!e)return!0;var t,r=e[0];return e.length<=1?"any"!==r:"=="===r?un(e[1],e[2],"=="):"!="===r?pn(un(e[1],e[2],"==")):"<"===r||">"===r||"<="===r||">="===r?un(e[1],e[2],r):"any"===r?(t=e.slice(1),["any"].concat(t.map(ln))):"all"===r?["all"].concat(e.slice(1).map(ln)):"none"===r?["all"].concat(e.slice(1).map(ln).map(pn)):"in"===r?cn(e[1],e.slice(2)):"!in"===r?pn(cn(e[1],e.slice(2))):"has"===r?fn(e[1]):"!has"===r?pn(fn(e[1])):"within"!==r||e}function un(e,t,r){switch(e){case"$type":return["filter-type-"+r,t];case"$id":return["filter-id-"+r,t];default:return["filter-"+r,e,t]}}function cn(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((function(e){return typeof e!=typeof t[0]}))?["filter-in-large",e,["literal",t.sort(sn)]]:["filter-in-small",e,["literal",t]]}}function fn(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function pn(e){return["!",e]}function hn(e){return nn(Re(e.value))?tn(Ie({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function e(t){var r=t.value,n=t.key;if("array"!==jr(r))return[new Oe(n,r,"array expected, "+jr(r)+" found")];var i,a=t.styleSpec,o=[];if(r.length<1)return[new Oe(n,r,"filter array must have at least 1 element")];switch(o=o.concat(rn({key:n+"[0]",value:r[0],valueSpec:a.filter_operator,style:t.style,styleSpec:t.styleSpec})),Fe(r[0])){case"<":case"<=":case">":case">=":r.length>=2&&"$type"===Fe(r[1])&&o.push(new Oe(n,r,'"$type" cannot be use with operator "'+r[0]+'"'));case"==":case"!=":3!==r.length&&o.push(new Oe(n,r,'filter array for operator "'+r[0]+'" must have 3 elements'));case"in":case"!in":r.length>=2&&"string"!==(i=jr(r[1]))&&o.push(new Oe(n+"[1]",r[1],"string expected, "+i+" found"));for(var s=2;s<r.length;s++)i=jr(r[s]),"$type"===Fe(r[1])?o=o.concat(rn({key:n+"["+s+"]",value:r[s],valueSpec:a.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&o.push(new Oe(n+"["+s+"]",r[s],"string, number, or boolean expected, "+i+" found"));break;case"any":case"all":case"none":for(var l=1;l<r.length;l++)o=o.concat(e({key:n+"["+l+"]",value:r[l],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":i=jr(r[1]),2!==r.length?o.push(new Oe(n,r,'filter array for "'+r[0]+'" operator must have 2 elements')):"string"!==i&&o.push(new Oe(n+"[1]",r[1],"string expected, "+i+" found"));break;case"within":i=jr(r[1]),2!==r.length?o.push(new Oe(n,r,'filter array for "'+r[0]+'" operator must have 2 elements')):"object"!==i&&o.push(new Oe(n+"[1]",r[1],"object expected, "+i+" found"))}return o}(e)}function dn(e,t){var r=e.key,n=e.style,i=e.styleSpec,a=e.value,o=e.objectKey,s=i[t+"_"+e.layerType];if(!s)return[];var l=o.match(/^(.*)-transition$/);if("paint"===t&&l&&s[l[1]]&&s[l[1]].transition)return Sn({key:r,value:a,valueSpec:i.transition,style:n,styleSpec:i});var u,c=e.valueSpec||s[o];if(!c)return[new Oe(r,a,'unknown property "'+o+'"')];if("string"===jr(a)&&Fr(c)&&!c.tokens&&(u=/^{([^}]+)}$/.exec(a)))return[new Oe(r,a,'"'+o+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(u[1])+" }`.")];var f=[];return"symbol"===e.layerType&&("text-field"===o&&n&&!n.glyphs&&f.push(new Oe(r,a,'use of "text-field" requires a style "glyphs" property')),"text-font"===o&&Lr(Re(a))&&"identity"===Fe(a.type)&&f.push(new Oe(r,a,'"text-font" does not support identity functions'))),f.concat(Sn({key:e.key,value:a,valueSpec:c,style:n,styleSpec:i,expressionContext:"property",propertyType:t,propertyKey:o}))}function vn(e){return dn(e,"paint")}function mn(e){return dn(e,"layout")}function yn(e){var t=[],r=e.value,n=e.key,i=e.style,a=e.styleSpec;r.type||r.ref||t.push(new Oe(n,r,'either "type" or "ref" is required'));var o,s=Fe(r.type),l=Fe(r.ref);if(r.id)for(var u=Fe(r.id),c=0;c<e.arrayIndex;c++){var f=i.layers[c];Fe(f.id)===u&&t.push(new Oe(n,r.id,'duplicate layer id "'+r.id+'", previously used at line '+f.id.__line__))}if("ref"in r)["type","source","source-layer","filter","layout"].forEach((function(e){e in r&&t.push(new Oe(n,r[e],'"'+e+'" is prohibited for ref layers'))})),i.layers.forEach((function(e){Fe(e.id)===l&&(o=e)})),o?o.ref?t.push(new Oe(n,r.ref,"ref cannot reference another ref layer")):s=Fe(o.type):t.push(new Oe(n,r.ref,'ref layer "'+l+'" not found'));else if("background"!==s)if(r.source){var p=i.sources&&i.sources[r.source],h=p&&Fe(p.type);p?"vector"===h&&"raster"===s?t.push(new Oe(n,r.source,'layer "'+r.id+'" requires a raster source')):"raster"===h&&"raster"!==s?t.push(new Oe(n,r.source,'layer "'+r.id+'" requires a vector source')):"vector"!==h||r["source-layer"]?"raster-dem"===h&&"hillshade"!==s?t.push(new Oe(n,r.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!r.paint||!r.paint["line-gradient"]||"geojson"===h&&p.lineMetrics||t.push(new Oe(n,r,'layer "'+r.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):t.push(new Oe(n,r,'layer "'+r.id+'" must specify a "source-layer"')):t.push(new Oe(n,r.source,'source "'+r.source+'" not found'))}else t.push(new Oe(n,r,'missing required property "source"'));return t=t.concat($r({key:n,value:r,valueSpec:a.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Sn({key:n+".type",value:r.type,valueSpec:a.layer.type,style:e.style,styleSpec:e.styleSpec,object:r,objectKey:"type"})},filter:hn,layout:function(e){return $r({layer:r,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return mn(Ie({layerType:s},e))}}})},paint:function(e){return $r({layer:r,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return vn(Ie({layerType:s},e))}}})}}}))}function gn(e){var t=e.value,r=e.key,n=jr(t);return"string"!==n?[new Oe(r,t,"string expected, "+n+" found")]:[]}var _n={promoteId:function(e){var t=e.key,r=e.value;if("string"===jr(r))return gn({key:t,value:r});var n=[];for(var i in r)n.push.apply(n,gn({key:t+"."+i,value:r[i]}));return n}};function bn(e){var t=e.value,r=e.key,n=e.styleSpec,i=e.style;if(!t.type)return[new Oe(r,t,'"type" is required')];var a,o=Fe(t.type);switch(o){case"vector":case"raster":case"raster-dem":return $r({key:r,value:t,valueSpec:n["source_"+o.replace("-","_")],style:e.style,styleSpec:n,objectElementValidators:_n});case"geojson":if(a=$r({key:r,value:t,valueSpec:n.source_geojson,style:i,styleSpec:n,objectElementValidators:_n}),t.cluster)for(var s in t.clusterProperties){var l=t.clusterProperties[s],u=l[0],c="string"==typeof u?[u,["accumulated"],["get",s]]:u;a.push.apply(a,tn({key:r+"."+s+".map",value:l[1],expressionContext:"cluster-map"})),a.push.apply(a,tn({key:r+"."+s+".reduce",value:c,expressionContext:"cluster-reduce"}))}return a;case"video":return $r({key:r,value:t,valueSpec:n.source_video,style:i,styleSpec:n});case"image":return $r({key:r,value:t,valueSpec:n.source_image,style:i,styleSpec:n});case"canvas":return[new Oe(r,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return rn({key:r+".type",value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:n})}}function xn(e){var t=e.value,r=e.styleSpec,n=r.light,i=e.style,a=[],o=jr(t);if(void 0===t)return a;if("object"!==o)return a.concat([new Oe("light",t,"object expected, "+o+" found")]);for(var s in t){var l=s.match(/^(.*)-transition$/);a=a.concat(l&&n[l[1]]&&n[l[1]].transition?Sn({key:s,value:t[s],valueSpec:r.transition,style:i,styleSpec:r}):n[s]?Sn({key:s,value:t[s],valueSpec:n[s],style:i,styleSpec:r}):[new Oe(s,t[s],'unknown property "'+s+'"')])}return a}var wn={"*":function(){return[]},array:Jr,boolean:function(e){var t=e.value,r=e.key,n=jr(t);return"boolean"!==n?[new Oe(r,t,"boolean expected, "+n+" found")]:[]},number:Qr,color:function(e){var t=e.key,r=e.value,n=jr(r);return"string"!==n?[new Oe(t,r,"color expected, "+n+" found")]:null===Qe(r)?[new Oe(t,r,'color expected, "'+r+'" found')]:[]},constants:Me,enum:rn,filter:hn,function:en,layer:yn,object:$r,source:bn,light:xn,string:gn,formatted:function(e){return 0===gn(e).length?[]:tn(e)},resolvedImage:function(e){return 0===gn(e).length?[]:tn(e)}};function Sn(e){var t=e.value,r=e.valueSpec,n=e.styleSpec;return r.expression&&Lr(Fe(t))?en(e):r.expression&&Wr(Re(t))?tn(e):r.type&&wn[r.type]?wn[r.type](e):$r(Ie({},e,{valueSpec:r.type?n[r.type]:r}))}function Pn(e){var t=e.value,r=e.key,n=gn(e);return n.length||(-1===t.indexOf("{fontstack}")&&n.push(new Oe(r,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&n.push(new Oe(r,t,'"glyphs" url must include a "{range}" token'))),n}function kn(e,t){void 0===t&&(t=Te);var r=[];return r=r.concat(Sn({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:Pn,"*":function(){return[]}}})),e.constants&&(r=r.concat(Me({key:"constants",value:e.constants,style:e,styleSpec:t}))),En(r)}function En(e){return[].concat(e).sort((function(e,t){return e.line-t.line}))}function Cn(e){return function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return En(e.apply(this,t))}}kn.source=Cn(bn),kn.light=Cn(xn),kn.layer=Cn(yn),kn.filter=Cn(hn),kn.paintProperty=Cn(vn),kn.layoutProperty=Cn(mn);var An=kn,Tn=An.light,On=An.paintProperty,Mn=An.layoutProperty;function In(e,t){var r=!1;if(t&&t.length)for(var n=0,i=t;n<i.length;n+=1)e.fire(new Ce(new Error(i[n].message))),r=!0;return r}var Fn=Rn;function Rn(e,t,r){var n=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var i=new Int32Array(this.arrayBuffer);e=i[0],this.d=(t=i[1])+2*(r=i[2]);for(var a=0;a<this.d*this.d;a++){var o=i[3+a],s=i[3+a+1];n.push(o===s?null:i.subarray(o,s))}var l=i[3+n.length+1];this.keys=i.subarray(i[3+n.length],l),this.bboxes=i.subarray(l),this.insert=this._insertReadonly}else{this.d=t+2*r;for(var u=0;u<this.d*this.d;u++)n.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=r,this.scale=t/e,this.uid=0;var c=r/t*e;this.min=-c,this.max=e+c}Rn.prototype.insert=function(e,t,r,n,i){this._forEachCell(t,r,n,i,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(i)},Rn.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Rn.prototype._insertCell=function(e,t,r,n,i,a){this.cells[i].push(a)},Rn.prototype.query=function(e,t,r,n,i){var a=this.min,o=this.max;if(e<=a&&t<=a&&o<=r&&o<=n&&!i)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(e,t,r,n,this._queryCell,s,{},i),s},Rn.prototype._queryCell=function(e,t,r,n,i,a,o,s){var l=this.cells[i];if(null!==l)for(var u=this.keys,c=this.bboxes,f=0;f<l.length;f++){var p=l[f];if(void 0===o[p]){var h=4*p;(s?s(c[h+0],c[h+1],c[h+2],c[h+3]):e<=c[h+2]&&t<=c[h+3]&&r>=c[h+0]&&n>=c[h+1])?(o[p]=!0,a.push(u[p])):o[p]=!1}}},Rn.prototype._forEachCell=function(e,t,r,n,i,a,o,s){for(var l=this._convertToCellCoord(e),u=this._convertToCellCoord(t),c=this._convertToCellCoord(r),f=this._convertToCellCoord(n),p=l;p<=c;p++)for(var h=u;h<=f;h++){var d=this.d*h+p;if((!s||s(this._convertFromCellCoord(p),this._convertFromCellCoord(h),this._convertFromCellCoord(p+1),this._convertFromCellCoord(h+1)))&&i.call(this,e,t,r,n,d,a,o,s))return}},Rn.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},Rn.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},Rn.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=3+this.cells.length+1+1,r=0,n=0;n<this.cells.length;n++)r+=this.cells[n].length;var i=new Int32Array(t+r+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var a=t,o=0;o<e.length;o++){var s=e[o];i[3+o]=a,i.set(s,a),a+=s.length}return i[3+e.length]=a,i.set(this.keys,a),i[3+e.length+1]=a+=this.keys.length,i.set(this.bboxes,a),a+=this.bboxes.length,i.buffer};var Dn=o.ImageData,jn=o.ImageBitmap,Ln={};function Nn(e,t,r){void 0===r&&(r={}),Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),Ln[e]={klass:t,omit:r.omit||[],shallow:r.shallow||[]}}for(var zn in Nn("Object",Object),Fn.serialize=function(e,t){var r=e.toArrayBuffer();return t&&t.push(r),{buffer:r}},Fn.deserialize=function(e){return new Fn(e.buffer)},Nn("Grid",Fn),Nn("Color",et),Nn("Error",Error),Nn("ResolvedImage",it),Nn("StylePropertyFunction",Kr),Nn("StyleExpression",Gr,{omit:["_evaluator"]}),Nn("ZoomDependentExpression",Yr),Nn("ZoomConstantExpression",Hr),Nn("CompoundExpression",_t,{omit:["_evaluate"]}),Er)Er[zn]._classRegistryKey||Nn("Expression_"+zn,Er[zn]);function Bn(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function Zn(e){return jn&&e instanceof jn}function Un(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(Bn(e)||Zn(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){var r=e;return t&&t.push(r.buffer),r}if(e instanceof Dn)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){for(var n=[],i=0,a=e;i<a.length;i+=1)n.push(Un(a[i],t));return n}if("object"==typeof e){var o=e.constructor,s=o._classRegistryKey;if(!s)throw new Error("can't serialize object of unregistered class");var l=o.serialize?o.serialize(e,t):{};if(!o.serialize){for(var u in e)if(e.hasOwnProperty(u)&&!(Ln[s].omit.indexOf(u)>=0)){var c=e[u];l[u]=Ln[s].shallow.indexOf(u)>=0?c:Un(c,t)}e instanceof Error&&(l.message=e.message)}if(l.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==s&&(l.$name=s),l}throw new Error("can't serialize object of type "+typeof e)}function Vn(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||Bn(e)||Zn(e)||ArrayBuffer.isView(e)||e instanceof Dn)return e;if(Array.isArray(e))return e.map(Vn);if("object"==typeof e){var t=e.$name||"Object",r=Ln[t].klass;if(!r)throw new Error("can't deserialize unregistered class "+t);if(r.deserialize)return r.deserialize(e);for(var n=Object.create(r.prototype),i=0,a=Object.keys(e);i<a.length;i+=1){var o=a[i];if("$name"!==o){var s=e[o];n[o]=Ln[t].shallow.indexOf(o)>=0?s:Vn(s)}}return n}throw new Error("can't deserialize object of type "+typeof e)}var Gn=function(){this.first=!0};Gn.prototype.update=function(e,t){var r=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=r,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=r,!0):(this.lastFloorZoom>r?(this.lastIntegerZoom=r+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<r&&(this.lastIntegerZoom=r,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=r,!0))};var Wn={"Latin-1 Supplement":function(e){return e>=128&&e<=255},Arabic:function(e){return e>=1536&&e<=1791},"Arabic Supplement":function(e){return e>=1872&&e<=1919},"Arabic Extended-A":function(e){return e>=2208&&e<=2303},"Hangul Jamo":function(e){return e>=4352&&e<=4607},"Unified Canadian Aboriginal Syllabics":function(e){return e>=5120&&e<=5759},Khmer:function(e){return e>=6016&&e<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(e){return e>=6320&&e<=6399},"General Punctuation":function(e){return e>=8192&&e<=8303},"Letterlike Symbols":function(e){return e>=8448&&e<=8527},"Number Forms":function(e){return e>=8528&&e<=8591},"Miscellaneous Technical":function(e){return e>=8960&&e<=9215},"Control Pictures":function(e){return e>=9216&&e<=9279},"Optical Character Recognition":function(e){return e>=9280&&e<=9311},"Enclosed Alphanumerics":function(e){return e>=9312&&e<=9471},"Geometric Shapes":function(e){return e>=9632&&e<=9727},"Miscellaneous Symbols":function(e){return e>=9728&&e<=9983},"Miscellaneous Symbols and Arrows":function(e){return e>=11008&&e<=11263},"CJK Radicals Supplement":function(e){return e>=11904&&e<=12031},"Kangxi Radicals":function(e){return e>=12032&&e<=12255},"Ideographic Description Characters":function(e){return e>=12272&&e<=12287},"CJK Symbols and Punctuation":function(e){return e>=12288&&e<=12351},Hiragana:function(e){return e>=12352&&e<=12447},Katakana:function(e){return e>=12448&&e<=12543},Bopomofo:function(e){return e>=12544&&e<=12591},"Hangul Compatibility Jamo":function(e){return e>=12592&&e<=12687},Kanbun:function(e){return e>=12688&&e<=12703},"Bopomofo Extended":function(e){return e>=12704&&e<=12735},"CJK Strokes":function(e){return e>=12736&&e<=12783},"Katakana Phonetic Extensions":function(e){return e>=12784&&e<=12799},"Enclosed CJK Letters and Months":function(e){return e>=12800&&e<=13055},"CJK Compatibility":function(e){return e>=13056&&e<=13311},"CJK Unified Ideographs Extension A":function(e){return e>=13312&&e<=19903},"Yijing Hexagram Symbols":function(e){return e>=19904&&e<=19967},"CJK Unified Ideographs":function(e){return e>=19968&&e<=40959},"Yi Syllables":function(e){return e>=40960&&e<=42127},"Yi Radicals":function(e){return e>=42128&&e<=42191},"Hangul Jamo Extended-A":function(e){return e>=43360&&e<=43391},"Hangul Syllables":function(e){return e>=44032&&e<=55215},"Hangul Jamo Extended-B":function(e){return e>=55216&&e<=55295},"Private Use Area":function(e){return e>=57344&&e<=63743},"CJK Compatibility Ideographs":function(e){return e>=63744&&e<=64255},"Arabic Presentation Forms-A":function(e){return e>=64336&&e<=65023},"Vertical Forms":function(e){return e>=65040&&e<=65055},"CJK Compatibility Forms":function(e){return e>=65072&&e<=65103},"Small Form Variants":function(e){return e>=65104&&e<=65135},"Arabic Presentation Forms-B":function(e){return e>=65136&&e<=65279},"Halfwidth and Fullwidth Forms":function(e){return e>=65280&&e<=65519}};function qn(e){for(var t=0,r=e;t<r.length;t+=1)if(Hn(r[t].charCodeAt(0)))return!0;return!1}function Hn(e){return!(746!==e&&747!==e&&(e<4352||!(Wn["Bopomofo Extended"](e)||Wn.Bopomofo(e)||Wn["CJK Compatibility Forms"](e)&&!(e>=65097&&e<=65103)||Wn["CJK Compatibility Ideographs"](e)||Wn["CJK Compatibility"](e)||Wn["CJK Radicals Supplement"](e)||Wn["CJK Strokes"](e)||!(!Wn["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||Wn["CJK Unified Ideographs Extension A"](e)||Wn["CJK Unified Ideographs"](e)||Wn["Enclosed CJK Letters and Months"](e)||Wn["Hangul Compatibility Jamo"](e)||Wn["Hangul Jamo Extended-A"](e)||Wn["Hangul Jamo Extended-B"](e)||Wn["Hangul Jamo"](e)||Wn["Hangul Syllables"](e)||Wn.Hiragana(e)||Wn["Ideographic Description Characters"](e)||Wn.Kanbun(e)||Wn["Kangxi Radicals"](e)||Wn["Katakana Phonetic Extensions"](e)||Wn.Katakana(e)&&12540!==e||!(!Wn["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!Wn["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||Wn["Unified Canadian Aboriginal Syllabics"](e)||Wn["Unified Canadian Aboriginal Syllabics Extended"](e)||Wn["Vertical Forms"](e)||Wn["Yijing Hexagram Symbols"](e)||Wn["Yi Syllables"](e)||Wn["Yi Radicals"](e))))}function Yn(e){return!(Hn(e)||function(e){return!!(Wn["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||Wn["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||Wn["Letterlike Symbols"](e)||Wn["Number Forms"](e)||Wn["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||Wn["Control Pictures"](e)&&9251!==e||Wn["Optical Character Recognition"](e)||Wn["Enclosed Alphanumerics"](e)||Wn["Geometric Shapes"](e)||Wn["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||Wn["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||Wn["CJK Symbols and Punctuation"](e)||Wn.Katakana(e)||Wn["Private Use Area"](e)||Wn["CJK Compatibility Forms"](e)||Wn["Small Form Variants"](e)||Wn["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function Xn(e){return e>=1424&&e<=2303||Wn["Arabic Presentation Forms-A"](e)||Wn["Arabic Presentation Forms-B"](e)}function Kn(e,t){return!(!t&&Xn(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||Wn.Khmer(e))}function $n(e){for(var t=0,r=e;t<r.length;t+=1)if(Xn(r[t].charCodeAt(0)))return!0;return!1}var Jn=null,Qn="unavailable",ei=null,ti=function(e){e&&"string"==typeof e&&e.indexOf("NetworkError")>-1&&(Qn="error"),Jn&&Jn(e)};function ri(){ni.fire(new Ee("pluginStateChange",{pluginStatus:Qn,pluginURL:ei}))}var ni=new Ae,ii=function(){return Qn},ai=function(){if("deferred"!==Qn||!ei)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Qn="loading",ri(),ei&&be({url:ei},(function(e){e?ti(e):(Qn="loaded",ri())}))},oi={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return"loaded"===Qn||null!=oi.applyArabicShaping},isLoading:function(){return"loading"===Qn},setState:function(e){Qn=e.pluginStatus,ei=e.pluginURL},isParsed:function(){return null!=oi.applyArabicShaping&&null!=oi.processBidirectionalText&&null!=oi.processStyledBidirectionalText},getPluginURL:function(){return ei}},si=function(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Gn,this.transition={})};si.prototype.isSupportedScript=function(e){return function(e,t){for(var r=0,n=e;r<n.length;r+=1)if(!Kn(n[r].charCodeAt(0),t))return!1;return!0}(e,oi.isLoaded())},si.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},si.prototype.getCrossfadeParameters=function(){var e=this.zoom,t=e-Math.floor(e),r=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*r}:{fromScale:.5,toScale:1,t:1-(1-r)*t}};var li=function(e,t){this.property=e,this.value=t,this.expression=function(e,t){if(Lr(e))return new Kr(e,t);if(Wr(e)){var r=Xr(e,t);if("error"===r.result)throw new Error(r.value.map((function(e){return e.key+": "+e.message})).join(", "));return r.value}var n=e;return"string"==typeof e&&"color"===t.type&&(n=et.parse(e)),{kind:"constant",evaluate:function(){return n}}}(void 0===t?e.specification.default:t,e.specification)};li.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},li.prototype.possiblyEvaluate=function(e,t,r){return this.property.possiblyEvaluate(this,e,t,r)};var ui=function(e){this.property=e,this.value=new li(e,void 0)};ui.prototype.transitioned=function(e,t){return new fi(this.property,this.value,t,p({},e.transition,this.transition),e.now)},ui.prototype.untransitioned=function(){return new fi(this.property,this.value,null,{},0)};var ci=function(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)};ci.prototype.getValue=function(e){return x(this._values[e].value.value)},ci.prototype.setValue=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new ui(this._values[e].property)),this._values[e].value=new li(this._values[e].property,null===t?void 0:x(t))},ci.prototype.getTransition=function(e){return x(this._values[e].transition)},ci.prototype.setTransition=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new ui(this._values[e].property)),this._values[e].transition=x(t)||void 0},ci.prototype.serialize=function(){for(var e={},t=0,r=Object.keys(this._values);t<r.length;t+=1){var n=r[t],i=this.getValue(n);void 0!==i&&(e[n]=i);var a=this.getTransition(n);void 0!==a&&(e[n+"-transition"]=a)}return e},ci.prototype.transitioned=function(e,t){for(var r=new pi(this._properties),n=0,i=Object.keys(this._values);n<i.length;n+=1){var a=i[n];r._values[a]=this._values[a].transitioned(e,t._values[a])}return r},ci.prototype.untransitioned=function(){for(var e=new pi(this._properties),t=0,r=Object.keys(this._values);t<r.length;t+=1){var n=r[t];e._values[n]=this._values[n].untransitioned()}return e};var fi=function(e,t,r,n,i){this.property=e,this.value=t,this.begin=i+n.delay||0,this.end=this.begin+n.duration||0,e.specification.transition&&(n.delay||n.duration)&&(this.prior=r)};fi.prototype.possiblyEvaluate=function(e,t,r){var n=e.now||0,i=this.value.possiblyEvaluate(e,t,r),a=this.prior;if(a){if(n>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(n<this.begin)return a.possiblyEvaluate(e,t,r);var o=(n-this.begin)/(this.end-this.begin);return this.property.interpolate(a.possiblyEvaluate(e,t,r),i,function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,r=t*e;return 4*(e<.5?r:3*(e-t)+r-.75)}(o))}return i};var pi=function(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)};pi.prototype.possiblyEvaluate=function(e,t,r){for(var n=new vi(this._properties),i=0,a=Object.keys(this._values);i<a.length;i+=1){var o=a[i];n._values[o]=this._values[o].possiblyEvaluate(e,t,r)}return n},pi.prototype.hasTransition=function(){for(var e=0,t=Object.keys(this._values);e<t.length;e+=1)if(this._values[t[e]].prior)return!0;return!1};var hi=function(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)};hi.prototype.getValue=function(e){return x(this._values[e].value)},hi.prototype.setValue=function(e,t){this._values[e]=new li(this._values[e].property,null===t?void 0:x(t))},hi.prototype.serialize=function(){for(var e={},t=0,r=Object.keys(this._values);t<r.length;t+=1){var n=r[t],i=this.getValue(n);void 0!==i&&(e[n]=i)}return e},hi.prototype.possiblyEvaluate=function(e,t,r){for(var n=new vi(this._properties),i=0,a=Object.keys(this._values);i<a.length;i+=1){var o=a[i];n._values[o]=this._values[o].possiblyEvaluate(e,t,r)}return n};var di=function(e,t,r){this.property=e,this.value=t,this.parameters=r};di.prototype.isConstant=function(){return"constant"===this.value.kind},di.prototype.constantOr=function(e){return"constant"===this.value.kind?this.value.value:e},di.prototype.evaluate=function(e,t,r,n){return this.property.evaluate(this.value,this.parameters,e,t,r,n)};var vi=function(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)};vi.prototype.get=function(e){return this._values[e]};var mi=function(e){this.specification=e};mi.prototype.possiblyEvaluate=function(e,t){return e.expression.evaluate(t)},mi.prototype.interpolate=function(e,t,r){var n=Wt[this.specification.type];return n?n(e,t,r):e};var yi=function(e,t){this.specification=e,this.overrides=t};yi.prototype.possiblyEvaluate=function(e,t,r,n){return new di(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},r,n)}:e.expression,t)},yi.prototype.interpolate=function(e,t,r){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new di(this,{kind:"constant",value:void 0},e.parameters);var n=Wt[this.specification.type];return n?new di(this,{kind:"constant",value:n(e.value.value,t.value.value,r)},e.parameters):e},yi.prototype.evaluate=function(e,t,r,n,i,a){return"constant"===e.kind?e.value:e.evaluate(t,r,n,i,a)};var gi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.possiblyEvaluate=function(e,t,r,n){if(void 0===e.value)return new di(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){var i=e.expression.evaluate(t,null,{},r,n),a="resolvedImage"===e.property.specification.type&&"string"!=typeof i?i.name:i,o=this._calculate(a,a,a,t);return new di(this,{kind:"constant",value:o},t)}if("camera"===e.expression.kind){var s=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new di(this,{kind:"constant",value:s},t)}return new di(this,e.expression,t)},t.prototype.evaluate=function(e,t,r,n,i,a){if("source"===e.kind){var o=e.evaluate(t,r,n,i,a);return this._calculate(o,o,o,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},r,n),e.evaluate({zoom:Math.floor(t.zoom)},r,n),e.evaluate({zoom:Math.floor(t.zoom)+1},r,n),t):e.value},t.prototype._calculate=function(e,t,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:r,to:t}},t.prototype.interpolate=function(e){return e},t}(yi),_i=function(e){this.specification=e};_i.prototype.possiblyEvaluate=function(e,t,r,n){if(void 0!==e.value){if("constant"===e.expression.kind){var i=e.expression.evaluate(t,null,{},r,n);return this._calculate(i,i,i,t)}return this._calculate(e.expression.evaluate(new si(Math.floor(t.zoom-1),t)),e.expression.evaluate(new si(Math.floor(t.zoom),t)),e.expression.evaluate(new si(Math.floor(t.zoom+1),t)),t)}},_i.prototype._calculate=function(e,t,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:r,to:t}},_i.prototype.interpolate=function(e){return e};var bi=function(e){this.specification=e};bi.prototype.possiblyEvaluate=function(e,t,r,n){return!!e.expression.evaluate(t,null,{},r,n)},bi.prototype.interpolate=function(){return!1};var xi=function(e){for(var t in this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],e){var r=e[t];r.specification.overridable&&this.overridableProperties.push(t);var n=this.defaultPropertyValues[t]=new li(r,void 0),i=this.defaultTransitionablePropertyValues[t]=new ui(r);this.defaultTransitioningPropertyValues[t]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[t]=n.possiblyEvaluate({})}};Nn("DataDrivenProperty",yi),Nn("DataConstantProperty",mi),Nn("CrossFadedDataDrivenProperty",gi),Nn("CrossFadedProperty",_i),Nn("ColorRampProperty",bi);var wi=function(e){function t(t,r){if(e.call(this),this.id=t.id,this.type=t.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==t.type&&(this.metadata=t.metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,"background"!==t.type&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),r.layout&&(this._unevaluatedLayout=new hi(r.layout)),r.paint)){for(var n in this._transitionablePaint=new ci(r.paint),t.paint)this.setPaintProperty(n,t.paint[n],{validate:!1});for(var i in t.layout)this.setLayoutProperty(i,t.layout[i],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new vi(r.paint)}}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},t.prototype.getLayoutProperty=function(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)},t.prototype.setLayoutProperty=function(e,t,r){void 0===r&&(r={}),null!=t&&this._validate(Mn,"layers."+this.id+".layout."+e,e,t,r)||("visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t)},t.prototype.getPaintProperty=function(e){return g(e,"-transition")?this._transitionablePaint.getTransition(e.slice(0,-"-transition".length)):this._transitionablePaint.getValue(e)},t.prototype.setPaintProperty=function(e,t,r){if(void 0===r&&(r={}),null!=t&&this._validate(On,"layers."+this.id+".paint."+e,e,t,r))return!1;if(g(e,"-transition"))return this._transitionablePaint.setTransition(e.slice(0,-"-transition".length),t||void 0),!1;var n=this._transitionablePaint._values[e],i="cross-faded-data-driven"===n.property.specification["property-type"],a=n.value.isDataDriven(),o=n.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);var s=this._transitionablePaint._values[e].value;return s.isDataDriven()||a||i||this._handleOverridablePaintPropertyUpdate(e,o,s)},t.prototype._handleSpecialPaintPropertyUpdate=function(e){},t.prototype._handleOverridablePaintPropertyUpdate=function(e,t,r){return!1},t.prototype.isHidden=function(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility},t.prototype.updateTransitions=function(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)},t.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},t.prototype.recalculate=function(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)},t.prototype.serialize=function(){var e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),b(e,(function(e,t){return!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)}))},t.prototype._validate=function(e,t,r,n,i){return void 0===i&&(i={}),(!i||!1!==i.validate)&&In(this,e.call(An,{key:t,layerType:this.type,objectKey:r,value:n,styleSpec:Te,style:{glyphs:!0,sprite:!0}}))},t.prototype.is3D=function(){return!1},t.prototype.isTileClipped=function(){return!1},t.prototype.hasOffscreenPass=function(){return!1},t.prototype.resize=function(){},t.prototype.isStateDependent=function(){for(var e in this.paint._values){var t=this.paint.get(e);if(t instanceof di&&Fr(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1},t}(Ae),Si={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Pi=function(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},ki=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Ei(e,t){void 0===t&&(t=1);var r=0,n=0;return{members:e.map((function(e){var i=Si[e.type].BYTES_PER_ELEMENT,a=r=Ci(r,Math.max(t,i)),o=e.components||1;return n=Math.max(n,i),r+=i*o,{name:e.name,type:e.type,components:o,offset:a}})),size:Ci(r,Math.max(n,t)),alignment:t}}function Ci(e,t){return Math.ceil(e/t)*t}ki.serialize=function(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}},ki.deserialize=function(e){var t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t},ki.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},ki.prototype.clear=function(){this.length=0},ki.prototype.resize=function(e){this.reserve(e),this.length=e},ki.prototype.reserve=function(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}},ki.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Ai=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var r=this.length;return this.resize(r+1),this.emplace(r,e,t)},t.prototype.emplace=function(e,t,r){var n=2*e;return this.int16[n+0]=t,this.int16[n+1]=r,e},t}(ki);Ai.prototype.bytesPerElement=4,Nn("StructArrayLayout2i4",Ai);var Ti=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,r,n)},t.prototype.emplace=function(e,t,r,n,i){var a=4*e;return this.int16[a+0]=t,this.int16[a+1]=r,this.int16[a+2]=n,this.int16[a+3]=i,e},t}(ki);Ti.prototype.bytesPerElement=8,Nn("StructArrayLayout4i8",Ti);var Oi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i,a){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,r,n,i,a)},t.prototype.emplace=function(e,t,r,n,i,a,o){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=r,this.int16[s+2]=n,this.int16[s+3]=i,this.int16[s+4]=a,this.int16[s+5]=o,e},t}(ki);Oi.prototype.bytesPerElement=12,Nn("StructArrayLayout2i4i12",Oi);var Mi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i,a){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,r,n,i,a)},t.prototype.emplace=function(e,t,r,n,i,a,o){var s=4*e,l=8*e;return this.int16[s+0]=t,this.int16[s+1]=r,this.uint8[l+4]=n,this.uint8[l+5]=i,this.uint8[l+6]=a,this.uint8[l+7]=o,e},t}(ki);Mi.prototype.bytesPerElement=8,Nn("StructArrayLayout2i4ub8",Mi);var Ii=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var r=this.length;return this.resize(r+1),this.emplace(r,e,t)},t.prototype.emplace=function(e,t,r){var n=2*e;return this.float32[n+0]=t,this.float32[n+1]=r,e},t}(ki);Ii.prototype.bytesPerElement=8,Nn("StructArrayLayout2f8",Ii);var Fi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i,a,o,s,l,u){var c=this.length;return this.resize(c+1),this.emplace(c,e,t,r,n,i,a,o,s,l,u)},t.prototype.emplace=function(e,t,r,n,i,a,o,s,l,u,c){var f=10*e;return this.uint16[f+0]=t,this.uint16[f+1]=r,this.uint16[f+2]=n,this.uint16[f+3]=i,this.uint16[f+4]=a,this.uint16[f+5]=o,this.uint16[f+6]=s,this.uint16[f+7]=l,this.uint16[f+8]=u,this.uint16[f+9]=c,e},t}(ki);Fi.prototype.bytesPerElement=20,Nn("StructArrayLayout10ui20",Fi);var Ri=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i,a,o,s,l,u,c,f){var p=this.length;return this.resize(p+1),this.emplace(p,e,t,r,n,i,a,o,s,l,u,c,f)},t.prototype.emplace=function(e,t,r,n,i,a,o,s,l,u,c,f,p){var h=12*e;return this.int16[h+0]=t,this.int16[h+1]=r,this.int16[h+2]=n,this.int16[h+3]=i,this.uint16[h+4]=a,this.uint16[h+5]=o,this.uint16[h+6]=s,this.uint16[h+7]=l,this.int16[h+8]=u,this.int16[h+9]=c,this.int16[h+10]=f,this.int16[h+11]=p,e},t}(ki);Ri.prototype.bytesPerElement=24,Nn("StructArrayLayout4i4ui4i24",Ri);var Di=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)},t.prototype.emplace=function(e,t,r,n){var i=3*e;return this.float32[i+0]=t,this.float32[i+1]=r,this.float32[i+2]=n,e},t}(ki);Di.prototype.bytesPerElement=12,Nn("StructArrayLayout3f12",Di);var ji=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){return this.uint32[1*e+0]=t,e},t}(ki);ji.prototype.bytesPerElement=4,Nn("StructArrayLayout1ul4",ji);var Li=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i,a,o,s,l){var u=this.length;return this.resize(u+1),this.emplace(u,e,t,r,n,i,a,o,s,l)},t.prototype.emplace=function(e,t,r,n,i,a,o,s,l,u){var c=10*e,f=5*e;return this.int16[c+0]=t,this.int16[c+1]=r,this.int16[c+2]=n,this.int16[c+3]=i,this.int16[c+4]=a,this.int16[c+5]=o,this.uint32[f+3]=s,this.uint16[c+8]=l,this.uint16[c+9]=u,e},t}(ki);Li.prototype.bytesPerElement=20,Nn("StructArrayLayout6i1ul2ui20",Li);var Ni=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i,a){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,r,n,i,a)},t.prototype.emplace=function(e,t,r,n,i,a,o){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=r,this.int16[s+2]=n,this.int16[s+3]=i,this.int16[s+4]=a,this.int16[s+5]=o,e},t}(ki);Ni.prototype.bytesPerElement=12,Nn("StructArrayLayout2i2i2i12",Ni);var zi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,r,n,i)},t.prototype.emplace=function(e,t,r,n,i,a){var o=4*e,s=8*e;return this.float32[o+0]=t,this.float32[o+1]=r,this.float32[o+2]=n,this.int16[s+6]=i,this.int16[s+7]=a,e},t}(ki);zi.prototype.bytesPerElement=16,Nn("StructArrayLayout2f1f2i16",zi);var Bi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,r,n)},t.prototype.emplace=function(e,t,r,n,i){var a=12*e,o=3*e;return this.uint8[a+0]=t,this.uint8[a+1]=r,this.float32[o+1]=n,this.float32[o+2]=i,e},t}(ki);Bi.prototype.bytesPerElement=12,Nn("StructArrayLayout2ub2f12",Bi);var Zi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)},t.prototype.emplace=function(e,t,r,n){var i=3*e;return this.uint16[i+0]=t,this.uint16[i+1]=r,this.uint16[i+2]=n,e},t}(ki);Zi.prototype.bytesPerElement=6,Nn("StructArrayLayout3ui6",Zi);var Ui=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i,a,o,s,l,u,c,f,p,h,d,v,m){var y=this.length;return this.resize(y+1),this.emplace(y,e,t,r,n,i,a,o,s,l,u,c,f,p,h,d,v,m)},t.prototype.emplace=function(e,t,r,n,i,a,o,s,l,u,c,f,p,h,d,v,m,y){var g=24*e,_=12*e,b=48*e;return this.int16[g+0]=t,this.int16[g+1]=r,this.uint16[g+2]=n,this.uint16[g+3]=i,this.uint32[_+2]=a,this.uint32[_+3]=o,this.uint32[_+4]=s,this.uint16[g+10]=l,this.uint16[g+11]=u,this.uint16[g+12]=c,this.float32[_+7]=f,this.float32[_+8]=p,this.uint8[b+36]=h,this.uint8[b+37]=d,this.uint8[b+38]=v,this.uint32[_+10]=m,this.int16[g+22]=y,e},t}(ki);Ui.prototype.bytesPerElement=48,Nn("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Ui);var Vi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i,a,o,s,l,u,c,f,p,h,d,v,m,y,g,_,b,x,w,S,P,k,E,C){var A=this.length;return this.resize(A+1),this.emplace(A,e,t,r,n,i,a,o,s,l,u,c,f,p,h,d,v,m,y,g,_,b,x,w,S,P,k,E,C)},t.prototype.emplace=function(e,t,r,n,i,a,o,s,l,u,c,f,p,h,d,v,m,y,g,_,b,x,w,S,P,k,E,C,A){var T=34*e,O=17*e;return this.int16[T+0]=t,this.int16[T+1]=r,this.int16[T+2]=n,this.int16[T+3]=i,this.int16[T+4]=a,this.int16[T+5]=o,this.int16[T+6]=s,this.int16[T+7]=l,this.uint16[T+8]=u,this.uint16[T+9]=c,this.uint16[T+10]=f,this.uint16[T+11]=p,this.uint16[T+12]=h,this.uint16[T+13]=d,this.uint16[T+14]=v,this.uint16[T+15]=m,this.uint16[T+16]=y,this.uint16[T+17]=g,this.uint16[T+18]=_,this.uint16[T+19]=b,this.uint16[T+20]=x,this.uint16[T+21]=w,this.uint16[T+22]=S,this.uint32[O+12]=P,this.float32[O+13]=k,this.float32[O+14]=E,this.float32[O+15]=C,this.float32[O+16]=A,e},t}(ki);Vi.prototype.bytesPerElement=68,Nn("StructArrayLayout8i15ui1ul4f68",Vi);var Gi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){return this.float32[1*e+0]=t,e},t}(ki);Gi.prototype.bytesPerElement=4,Nn("StructArrayLayout1f4",Gi);var Wi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)},t.prototype.emplace=function(e,t,r,n){var i=3*e;return this.int16[i+0]=t,this.int16[i+1]=r,this.int16[i+2]=n,e},t}(ki);Wi.prototype.bytesPerElement=6,Nn("StructArrayLayout3i6",Wi);var qi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)},t.prototype.emplace=function(e,t,r,n){var i=4*e;return this.uint32[2*e+0]=t,this.uint16[i+2]=r,this.uint16[i+3]=n,e},t}(ki);qi.prototype.bytesPerElement=8,Nn("StructArrayLayout1ul2ui8",qi);var Hi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var r=this.length;return this.resize(r+1),this.emplace(r,e,t)},t.prototype.emplace=function(e,t,r){var n=2*e;return this.uint16[n+0]=t,this.uint16[n+1]=r,e},t}(ki);Hi.prototype.bytesPerElement=4,Nn("StructArrayLayout2ui4",Hi);var Yi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){return this.uint16[1*e+0]=t,e},t}(ki);Yi.prototype.bytesPerElement=2,Nn("StructArrayLayout1ui2",Yi);var Xi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,r,n)},t.prototype.emplace=function(e,t,r,n,i){var a=4*e;return this.float32[a+0]=t,this.float32[a+1]=r,this.float32[a+2]=n,this.float32[a+3]=i,e},t}(ki);Xi.prototype.bytesPerElement=16,Nn("StructArrayLayout4f16",Xi);var Ki=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var r={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return r.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},r.x1.get=function(){return this._structArray.int16[this._pos2+2]},r.y1.get=function(){return this._structArray.int16[this._pos2+3]},r.x2.get=function(){return this._structArray.int16[this._pos2+4]},r.y2.get=function(){return this._structArray.int16[this._pos2+5]},r.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},r.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},r.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},r.anchorPoint.get=function(){return new i(this.anchorPointX,this.anchorPointY)},Object.defineProperties(t.prototype,r),t}(Pi);Ki.prototype.size=20;var $i=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new Ki(this,e)},t}(Li);Nn("CollisionBoxArray",$i);var Ji=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var r={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return r.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},r.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},r.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},r.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},r.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},r.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},r.segment.get=function(){return this._structArray.uint16[this._pos2+10]},r.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},r.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},r.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},r.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},r.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},r.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},r.placedOrientation.set=function(e){this._structArray.uint8[this._pos1+37]=e},r.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},r.hidden.set=function(e){this._structArray.uint8[this._pos1+38]=e},r.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},r.crossTileID.set=function(e){this._structArray.uint32[this._pos4+10]=e},r.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(t.prototype,r),t}(Pi);Ji.prototype.size=48;var Qi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new Ji(this,e)},t}(Ui);Nn("PlacedSymbolArray",Qi);var ea=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var r={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return r.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},r.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},r.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},r.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},r.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},r.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},r.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},r.key.get=function(){return this._structArray.uint16[this._pos2+8]},r.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},r.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},r.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},r.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},r.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},r.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},r.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},r.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},r.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},r.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},r.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},r.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},r.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},r.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},r.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},r.crossTileID.set=function(e){this._structArray.uint32[this._pos4+12]=e},r.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},r.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},r.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},r.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(t.prototype,r),t}(Pi);ea.prototype.size=68;var ta=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new ea(this,e)},t}(Vi);Nn("SymbolInstanceArray",ta);var ra=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getoffsetX=function(e){return this.float32[1*e+0]},t}(Gi);Nn("GlyphOffsetArray",ra);var na=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getx=function(e){return this.int16[3*e+0]},t.prototype.gety=function(e){return this.int16[3*e+1]},t.prototype.gettileUnitDistanceFromAnchor=function(e){return this.int16[3*e+2]},t}(Wi);Nn("SymbolLineVertexArray",na);var ia=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var r={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return r.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},r.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},r.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(t.prototype,r),t}(Pi);ia.prototype.size=8;var aa=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new ia(this,e)},t}(qi);Nn("FeatureIndexArray",aa);var oa=Ei([{name:"a_pos",components:2,type:"Int16"}],4).members,sa=function(e){void 0===e&&(e=[]),this.segments=e};function la(e,t){return 256*(e=c(Math.floor(e),0,255))+c(Math.floor(t),0,255)}sa.prototype.prepareSegment=function(e,t,r,n){var i=this.segments[this.segments.length-1];return e>sa.MAX_VERTEX_ARRAY_LENGTH&&S("Max vertices per segment is "+sa.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+e),(!i||i.vertexLength+e>sa.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==n)&&(i={vertexOffset:t.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0},void 0!==n&&(i.sortKey=n),this.segments.push(i)),i},sa.prototype.get=function(){return this.segments},sa.prototype.destroy=function(){for(var e=0,t=this.segments;e<t.length;e+=1){var r=t[e];for(var n in r.vaos)r.vaos[n].destroy()}},sa.simpleSegment=function(e,t,r,n){return new sa([{vertexOffset:e,primitiveOffset:t,vertexLength:r,primitiveLength:n,vaos:{},sortKey:0}])},sa.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Nn("SegmentVector",sa);var ua=Ei([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),ca=t((function(e){e.exports=function(e,t){var r,n,i,a,o,s,l,u;for(n=e.length-(r=3&e.length),i=t,o=3432918353,s=461845907,u=0;u<n;)l=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,i=27492+(65535&(a=5*(65535&(i=(i^=l=(65535&(l=(l=(65535&l)*o+(((l>>>16)*o&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(a>>>16)&65535)<<16);switch(l=0,r){case 3:l^=(255&e.charCodeAt(u+2))<<16;case 2:l^=(255&e.charCodeAt(u+1))<<8;case 1:i^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(u)))*o+(((l>>>16)*o&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}})),fa=t((function(e){e.exports=function(e,t){for(var r,n=e.length,i=t^n,a=0;n>=4;)r=1540483477*(65535&(r=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24))+((1540483477*(r>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(r=1540483477*(65535&(r^=r>>>24))+((1540483477*(r>>>16)&65535)<<16)),n-=4,++a;switch(n){case 3:i^=(255&e.charCodeAt(a+2))<<16;case 2:i^=(255&e.charCodeAt(a+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(a)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}})),pa=ca,ha=fa;pa.murmur3=ca,pa.murmur2=ha;var da=function(){this.ids=[],this.positions=[],this.indexed=!1};da.prototype.add=function(e,t,r,n){this.ids.push(ma(e)),this.positions.push(t,r,n)},da.prototype.getPositions=function(e){for(var t=ma(e),r=0,n=this.ids.length-1;r<n;){var i=r+n>>1;this.ids[i]>=t?n=i:r=i+1}for(var a=[];this.ids[r]===t;)a.push({index:this.positions[3*r],start:this.positions[3*r+1],end:this.positions[3*r+2]}),r++;return a},da.serialize=function(e,t){var r=new Float64Array(e.ids),n=new Uint32Array(e.positions);return function e(t,r,n,i){for(;n<i;){for(var a=t[n+i>>1],o=n-1,s=i+1;;){do{o++}while(t[o]<a);do{s--}while(t[s]>a);if(o>=s)break;ya(t,o,s),ya(r,3*o,3*s),ya(r,3*o+1,3*s+1),ya(r,3*o+2,3*s+2)}s-n<i-s?(e(t,r,n,s),n=s+1):(e(t,r,s+1,i),i=s)}}(r,n,0,r.length-1),t&&t.push(r.buffer,n.buffer),{ids:r,positions:n}},da.deserialize=function(e){var t=new da;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t};var va=Math.pow(2,53)-1;function ma(e){var t=+e;return!isNaN(t)&&t<=va?t:pa(String(e))}function ya(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}Nn("FeaturePositionMap",da);var ga=function(e,t){this.gl=e.gl,this.location=t},_a=function(e){function t(t,r){e.call(this,t,r),this.current=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))},t}(ga),ba=function(e){function t(t,r){e.call(this,t,r),this.current=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))},t}(ga),xa=function(e){function t(t,r){e.call(this,t,r),this.current=[0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))},t}(ga),wa=function(e){function t(t,r){e.call(this,t,r),this.current=[0,0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))},t}(ga),Sa=function(e){function t(t,r){e.call(this,t,r),this.current=[0,0,0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))},t}(ga),Pa=function(e){function t(t,r){e.call(this,t,r),this.current=et.transparent}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))},t}(ga),ka=new Float32Array(16),Ea=function(e){function t(t,r){e.call(this,t,r),this.current=ka}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])return this.current=e,void this.gl.uniformMatrix4fv(this.location,!1,e);for(var t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}},t}(ga);function Ca(e){return[la(255*e.r,255*e.g),la(255*e.b,255*e.a)]}var Aa=function(e,t,r){this.value=e,this.uniformNames=t.map((function(e){return"u_"+e})),this.type=r};Aa.prototype.setUniform=function(e,t,r){e.set(r.constantOr(this.value))},Aa.prototype.getBinding=function(e,t,r){return"color"===this.type?new Pa(e,t):new ba(e,t)};var Ta=function(e,t){this.uniformNames=t.map((function(e){return"u_"+e})),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Ta.prototype.setConstantPatternPositions=function(e,t){this.pixelRatioFrom=t.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=t.tlbr,this.patternTo=e.tlbr},Ta.prototype.setUniform=function(e,t,r,n){var i="u_pattern_to"===n?this.patternTo:"u_pattern_from"===n?this.patternFrom:"u_pixel_ratio_to"===n?this.pixelRatioTo:"u_pixel_ratio_from"===n?this.pixelRatioFrom:null;i&&e.set(i)},Ta.prototype.getBinding=function(e,t,r){return"u_pattern"===r.substr(0,9)?new Sa(e,t):new ba(e,t)};var Oa=function(e,t,r,n){this.expression=e,this.type=r,this.maxValue=0,this.paintVertexAttributes=t.map((function(e){return{name:"a_"+e,type:"Float32",components:"color"===r?2:1,offset:0}})),this.paintVertexArray=new n};Oa.prototype.populatePaintArray=function(e,t,r,n,i){var a=this.paintVertexArray.length,o=this.expression.evaluate(new si(0),t,{},n,[],i);this.paintVertexArray.resize(e),this._setPaintValue(a,e,o)},Oa.prototype.updatePaintArray=function(e,t,r,n){var i=this.expression.evaluate({zoom:0},r,n);this._setPaintValue(e,t,i)},Oa.prototype._setPaintValue=function(e,t,r){if("color"===this.type)for(var n=Ca(r),i=e;i<t;i++)this.paintVertexArray.emplace(i,n[0],n[1]);else{for(var a=e;a<t;a++)this.paintVertexArray.emplace(a,r);this.maxValue=Math.max(this.maxValue,Math.abs(r))}},Oa.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Oa.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Ma=function(e,t,r,n,i,a){this.expression=e,this.uniformNames=t.map((function(e){return"u_"+e+"_t"})),this.type=r,this.useIntegerZoom=n,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=t.map((function(e){return{name:"a_"+e,type:"Float32",components:"color"===r?4:2,offset:0}})),this.paintVertexArray=new a};Ma.prototype.populatePaintArray=function(e,t,r,n,i){var a=this.expression.evaluate(new si(this.zoom),t,{},n,[],i),o=this.expression.evaluate(new si(this.zoom+1),t,{},n,[],i),s=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(s,e,a,o)},Ma.prototype.updatePaintArray=function(e,t,r,n){var i=this.expression.evaluate({zoom:this.zoom},r,n),a=this.expression.evaluate({zoom:this.zoom+1},r,n);this._setPaintValue(e,t,i,a)},Ma.prototype._setPaintValue=function(e,t,r,n){if("color"===this.type)for(var i=Ca(r),a=Ca(n),o=e;o<t;o++)this.paintVertexArray.emplace(o,i[0],i[1],a[0],a[1]);else{for(var s=e;s<t;s++)this.paintVertexArray.emplace(s,r,n);this.maxValue=Math.max(this.maxValue,Math.abs(r),Math.abs(n))}},Ma.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ma.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Ma.prototype.setUniform=function(e,t){var r=this.useIntegerZoom?Math.floor(t.zoom):t.zoom,n=c(this.expression.interpolationFactor(r,this.zoom,this.zoom+1),0,1);e.set(n)},Ma.prototype.getBinding=function(e,t,r){return new ba(e,t)};var Ia=function(e,t,r,n,i,a){this.expression=e,this.type=t,this.useIntegerZoom=r,this.zoom=n,this.layerId=a,this.zoomInPaintVertexArray=new i,this.zoomOutPaintVertexArray=new i};Ia.prototype.populatePaintArray=function(e,t,r){var n=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(n,e,t.patterns&&t.patterns[this.layerId],r)},Ia.prototype.updatePaintArray=function(e,t,r,n,i){this._setPaintValues(e,t,r.patterns&&r.patterns[this.layerId],i)},Ia.prototype._setPaintValues=function(e,t,r,n){if(n&&r){var i=n[r.min],a=n[r.mid],o=n[r.max];if(i&&a&&o)for(var s=e;s<t;s++)this.zoomInPaintVertexArray.emplace(s,a.tl[0],a.tl[1],a.br[0],a.br[1],i.tl[0],i.tl[1],i.br[0],i.br[1],a.pixelRatio,i.pixelRatio),this.zoomOutPaintVertexArray.emplace(s,a.tl[0],a.tl[1],a.br[0],a.br[1],o.tl[0],o.tl[1],o.br[0],o.br[1],a.pixelRatio,o.pixelRatio)}},Ia.prototype.upload=function(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,ua.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,ua.members,this.expression.isStateDependent))},Ia.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Fa=function(e,t,r){this.binders={},this._buffers=[];var n=[];for(var i in e.paint._values)if(r(i)){var a=e.paint.get(i);if(a instanceof di&&Fr(a.property.specification)){var o=Da(i,e.type),s=a.value,l=a.property.specification.type,u=a.property.useIntegerZoom,c=a.property.specification["property-type"],f="cross-faded"===c||"cross-faded-data-driven"===c;if("constant"===s.kind)this.binders[i]=f?new Ta(s.value,o):new Aa(s.value,o,l),n.push("/u_"+i);else if("source"===s.kind||f){var p=ja(i,l,"source");this.binders[i]=f?new Ia(s,l,u,t,p,e.id):new Oa(s,o,l,p),n.push("/a_"+i)}else{var h=ja(i,l,"composite");this.binders[i]=new Ma(s,o,l,u,t,h),n.push("/z_"+i)}}}this.cacheKey=n.sort().join("")};Fa.prototype.getMaxValue=function(e){var t=this.binders[e];return t instanceof Oa||t instanceof Ma?t.maxValue:0},Fa.prototype.populatePaintArrays=function(e,t,r,n,i){for(var a in this.binders){var o=this.binders[a];(o instanceof Oa||o instanceof Ma||o instanceof Ia)&&o.populatePaintArray(e,t,r,n,i)}},Fa.prototype.setConstantPatternPositions=function(e,t){for(var r in this.binders){var n=this.binders[r];n instanceof Ta&&n.setConstantPatternPositions(e,t)}},Fa.prototype.updatePaintArrays=function(e,t,r,n,i){var a=!1;for(var o in e)for(var s=0,l=t.getPositions(o);s<l.length;s+=1){var u=l[s],c=r.feature(u.index);for(var f in this.binders){var p=this.binders[f];if((p instanceof Oa||p instanceof Ma||p instanceof Ia)&&!0===p.expression.isStateDependent){var h=n.paint.get(f);p.expression=h.value,p.updatePaintArray(u.start,u.end,c,e[o],i),a=!0}}}return a},Fa.prototype.defines=function(){var e=[];for(var t in this.binders){var r=this.binders[t];(r instanceof Aa||r instanceof Ta)&&e.push.apply(e,r.uniformNames.map((function(e){return"#define HAS_UNIFORM_"+e})))}return e},Fa.prototype.getBinderAttributes=function(){var e=[];for(var t in this.binders){var r=this.binders[t];if(r instanceof Oa||r instanceof Ma)for(var n=0;n<r.paintVertexAttributes.length;n++)e.push(r.paintVertexAttributes[n].name);else if(r instanceof Ia)for(var i=0;i<ua.members.length;i++)e.push(ua.members[i].name)}return e},Fa.prototype.getBinderUniforms=function(){var e=[];for(var t in this.binders){var r=this.binders[t];if(r instanceof Aa||r instanceof Ta||r instanceof Ma)for(var n=0,i=r.uniformNames;n<i.length;n+=1)e.push(i[n])}return e},Fa.prototype.getPaintVertexBuffers=function(){return this._buffers},Fa.prototype.getUniforms=function(e,t){var r=[];for(var n in this.binders){var i=this.binders[n];if(i instanceof Aa||i instanceof Ta||i instanceof Ma)for(var a=0,o=i.uniformNames;a<o.length;a+=1){var s=o[a];if(t[s]){var l=i.getBinding(e,t[s],s);r.push({name:s,property:n,binding:l})}}}return r},Fa.prototype.setUniforms=function(e,t,r,n){for(var i=0,a=t;i<a.length;i+=1){var o=a[i],s=o.name,l=o.property;this.binders[l].setUniform(o.binding,n,r.get(l),s)}},Fa.prototype.updatePaintBuffers=function(e){for(var t in this._buffers=[],this.binders){var r=this.binders[t];if(e&&r instanceof Ia){var n=2===e.fromScale?r.zoomInPaintVertexBuffer:r.zoomOutPaintVertexBuffer;n&&this._buffers.push(n)}else(r instanceof Oa||r instanceof Ma)&&r.paintVertexBuffer&&this._buffers.push(r.paintVertexBuffer)}},Fa.prototype.upload=function(e){for(var t in this.binders){var r=this.binders[t];(r instanceof Oa||r instanceof Ma||r instanceof Ia)&&r.upload(e)}this.updatePaintBuffers()},Fa.prototype.destroy=function(){for(var e in this.binders){var t=this.binders[e];(t instanceof Oa||t instanceof Ma||t instanceof Ia)&&t.destroy()}};var Ra=function(e,t,r){void 0===r&&(r=function(){return!0}),this.programConfigurations={};for(var n=0,i=e;n<i.length;n+=1){var a=i[n];this.programConfigurations[a.id]=new Fa(a,t,r)}this.needsUpload=!1,this._featureMap=new da,this._bufferOffset=0};function Da(e,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[e]||[e.replace(t+"-","").replace(/-/g,"_")]}function ja(e,t,r){var n={color:{source:Ii,composite:Xi},number:{source:Gi,composite:Ii}},i=function(e){return{"line-pattern":{source:Fi,composite:Fi},"fill-pattern":{source:Fi,composite:Fi},"fill-extrusion-pattern":{source:Fi,composite:Fi}}[e]}(e);return i&&i[r]||n[t][r]}Ra.prototype.populatePaintArrays=function(e,t,r,n,i,a){for(var o in this.programConfigurations)this.programConfigurations[o].populatePaintArrays(e,t,n,i,a);void 0!==t.id&&this._featureMap.add(t.id,r,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0},Ra.prototype.updatePaintArrays=function(e,t,r,n){for(var i=0,a=r;i<a.length;i+=1){var o=a[i];this.needsUpload=this.programConfigurations[o.id].updatePaintArrays(e,this._featureMap,t,o,n)||this.needsUpload}},Ra.prototype.get=function(e){return this.programConfigurations[e]},Ra.prototype.upload=function(e){if(this.needsUpload){for(var t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}},Ra.prototype.destroy=function(){for(var e in this.programConfigurations)this.programConfigurations[e].destroy()},Nn("ConstantBinder",Aa),Nn("CrossFadedConstantBinder",Ta),Nn("SourceExpressionBinder",Oa),Nn("CrossFadedCompositeBinder",Ia),Nn("CompositeExpressionBinder",Ma),Nn("ProgramConfiguration",Fa,{omit:["_buffers"]}),Nn("ProgramConfigurationSet",Ra);var La=Math.pow(2,14)-1,Na=-La-1;function za(e){for(var t=8192/e.extent,r=e.loadGeometry(),n=0;n<r.length;n++)for(var i=r[n],a=0;a<i.length;a++){var o=i[a],s=Math.round(o.x*t),l=Math.round(o.y*t);o.x=c(s,Na,La),o.y=c(l,Na,La),(s<o.x||s>o.x+1||l<o.y||l>o.y+1)&&S("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return r}function Ba(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?za(e):[]}}function Za(e,t,r,n,i){e.emplaceBack(2*t+(n+1)/2,2*r+(i+1)/2)}var Ua=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Ai,this.indexArray=new Zi,this.segments=new sa,this.programConfigurations=new Ra(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};function Va(e,t){for(var r=0;r<e.length;r++)if(Ja(t,e[r]))return!0;for(var n=0;n<t.length;n++)if(Ja(e,t[n]))return!0;return!!Ha(e,t)}function Ga(e,t,r){return!!Ja(e,t)||!!Xa(t,e,r)}function Wa(e,t){if(1===e.length)return $a(t,e[0]);for(var r=0;r<t.length;r++)for(var n=t[r],i=0;i<n.length;i++)if(Ja(e,n[i]))return!0;for(var a=0;a<e.length;a++)if($a(t,e[a]))return!0;for(var o=0;o<t.length;o++)if(Ha(e,t[o]))return!0;return!1}function qa(e,t,r){if(e.length>1){if(Ha(e,t))return!0;for(var n=0;n<t.length;n++)if(Xa(t[n],e,r))return!0}for(var i=0;i<e.length;i++)if(Xa(e[i],t,r))return!0;return!1}function Ha(e,t){if(0===e.length||0===t.length)return!1;for(var r=0;r<e.length-1;r++)for(var n=e[r],i=e[r+1],a=0;a<t.length-1;a++)if(Ya(n,i,t[a],t[a+1]))return!0;return!1}function Ya(e,t,r,n){return P(e,r,n)!==P(t,r,n)&&P(e,t,r)!==P(e,t,n)}function Xa(e,t,r){var n=r*r;if(1===t.length)return e.distSqr(t[0])<n;for(var i=1;i<t.length;i++)if(Ka(e,t[i-1],t[i])<n)return!0;return!1}function Ka(e,t,r){var n=t.distSqr(r);if(0===n)return e.distSqr(t);var i=((e.x-t.x)*(r.x-t.x)+(e.y-t.y)*(r.y-t.y))/n;return e.distSqr(i<0?t:i>1?r:r.sub(t)._mult(i)._add(t))}function $a(e,t){for(var r,n,i,a=!1,o=0;o<e.length;o++)for(var s=0,l=(r=e[o]).length-1;s<r.length;l=s++)(n=r[s]).y>t.y!=(i=r[l]).y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(a=!a);return a}function Ja(e,t){for(var r=!1,n=0,i=e.length-1;n<e.length;i=n++){var a=e[n],o=e[i];a.y>t.y!=o.y>t.y&&t.x<(o.x-a.x)*(t.y-a.y)/(o.y-a.y)+a.x&&(r=!r)}return r}function Qa(e,t,r){var n=r[0],i=r[2];if(e.x<n.x&&t.x<n.x||e.x>i.x&&t.x>i.x||e.y<n.y&&t.y<n.y||e.y>i.y&&t.y>i.y)return!1;var a=P(e,t,r[0]);return a!==P(e,t,r[1])||a!==P(e,t,r[2])||a!==P(e,t,r[3])}function eo(e,t,r){var n=t.paint.get(e).value;return"constant"===n.kind?n.value:r.programConfigurations.get(t.id).getMaxValue(e)}function to(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function ro(e,t,r,n,a){if(!t[0]&&!t[1])return e;var o=i.convert(t)._mult(a);"viewport"===r&&o._rotate(-n);for(var s=[],l=0;l<e.length;l++)s.push(e[l].sub(o));return s}Ua.prototype.populate=function(e,t,r){var n=this.layers[0],i=[],a=null;"circle"===n.type&&(a=n.layout.get("circle-sort-key"));for(var o=0,s=e;o<s.length;o+=1){var l=s[o],u=l.feature,c=l.id,f=l.index,p=l.sourceLayerIndex,h=this.layers[0]._featureFilter.needGeometry,d=Ba(u,h);if(this.layers[0]._featureFilter.filter(new si(this.zoom),d,r)){var v=a?a.evaluate(d,{},r):void 0,m={id:c,properties:u.properties,type:u.type,sourceLayerIndex:p,index:f,geometry:h?d.geometry:za(u),patterns:{},sortKey:v};i.push(m)}}a&&i.sort((function(e,t){return e.sortKey-t.sortKey}));for(var y=0,g=i;y<g.length;y+=1){var _=g[y],b=_.geometry,x=_.index,w=_.sourceLayerIndex,S=e[x].feature;this.addFeature(_,b,x,r),t.featureIndex.insert(S,b,x,w,this.index)}},Ua.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},Ua.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ua.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ua.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,oa),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Ua.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ua.prototype.addFeature=function(e,t,r,n){for(var i=0,a=t;i<a.length;i+=1)for(var o=0,s=a[i];o<s.length;o+=1){var l=s[o],u=l.x,c=l.y;if(!(u<0||u>=8192||c<0||c>=8192)){var f=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),p=f.vertexLength;Za(this.layoutVertexArray,u,c,-1,-1),Za(this.layoutVertexArray,u,c,1,-1),Za(this.layoutVertexArray,u,c,1,1),Za(this.layoutVertexArray,u,c,-1,1),this.indexArray.emplaceBack(p,p+1,p+2),this.indexArray.emplaceBack(p,p+3,p+2),f.vertexLength+=4,f.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,{},n)},Nn("CircleBucket",Ua,{omit:["layers"]});var no=new xi({"circle-sort-key":new yi(Te.layout_circle["circle-sort-key"])}),io={paint:new xi({"circle-radius":new yi(Te.paint_circle["circle-radius"]),"circle-color":new yi(Te.paint_circle["circle-color"]),"circle-blur":new yi(Te.paint_circle["circle-blur"]),"circle-opacity":new yi(Te.paint_circle["circle-opacity"]),"circle-translate":new mi(Te.paint_circle["circle-translate"]),"circle-translate-anchor":new mi(Te.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new mi(Te.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new mi(Te.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new yi(Te.paint_circle["circle-stroke-width"]),"circle-stroke-color":new yi(Te.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new yi(Te.paint_circle["circle-stroke-opacity"])}),layout:no},ao="undefined"!=typeof Float32Array?Float32Array:Array;function oo(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function so(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],p=t[9],h=t[10],d=t[11],v=t[12],m=t[13],y=t[14],g=t[15],_=r[0],b=r[1],x=r[2],w=r[3];return e[0]=_*n+b*s+x*f+w*v,e[1]=_*i+b*l+x*p+w*m,e[2]=_*a+b*u+x*h+w*y,e[3]=_*o+b*c+x*d+w*g,e[4]=(_=r[4])*n+(b=r[5])*s+(x=r[6])*f+(w=r[7])*v,e[5]=_*i+b*l+x*p+w*m,e[6]=_*a+b*u+x*h+w*y,e[7]=_*o+b*c+x*d+w*g,e[8]=(_=r[8])*n+(b=r[9])*s+(x=r[10])*f+(w=r[11])*v,e[9]=_*i+b*l+x*p+w*m,e[10]=_*a+b*u+x*h+w*y,e[11]=_*o+b*c+x*d+w*g,e[12]=(_=r[12])*n+(b=r[13])*s+(x=r[14])*f+(w=r[15])*v,e[13]=_*i+b*l+x*p+w*m,e[14]=_*a+b*u+x*h+w*y,e[15]=_*o+b*c+x*d+w*g,e}Math.hypot||(Math.hypot=function(){for(var e=arguments,t=0,r=arguments.length;r--;)t+=e[r]*e[r];return Math.sqrt(t)});var lo,uo=so;function co(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*a+r[12]*o,e[1]=r[1]*n+r[5]*i+r[9]*a+r[13]*o,e[2]=r[2]*n+r[6]*i+r[10]*a+r[14]*o,e[3]=r[3]*n+r[7]*i+r[11]*a+r[15]*o,e}lo=new ao(3),ao!=Float32Array&&(lo[0]=0,lo[1]=0,lo[2]=0),function(){var e=new ao(4);ao!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0)}();var fo=(function(){var e=new ao(2);ao!=Float32Array&&(e[0]=0,e[1]=0)}(),function(e){function t(t){e.call(this,t,io)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(e){return new Ua(e)},t.prototype.queryRadius=function(e){var t=e;return eo("circle-radius",this,t)+eo("circle-stroke-width",this,t)+to(this.paint.get("circle-translate"))},t.prototype.queryIntersectsFeature=function(e,t,r,n,i,a,o,s){for(var l=ro(e,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),a.angle,o),u=this.paint.get("circle-radius").evaluate(t,r)+this.paint.get("circle-stroke-width").evaluate(t,r),c="map"===this.paint.get("circle-pitch-alignment"),f=c?l:function(e,t){return e.map((function(e){return po(e,t)}))}(l,s),p=c?u*o:u,h=0,d=n;h<d.length;h+=1)for(var v=0,m=d[h];v<m.length;v+=1){var y=m[v],g=c?y:po(y,s),_=p,b=co([],[y.x,y.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?_*=b[3]/a.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(_*=a.cameraToCenterDistance/b[3]),Ga(f,g,_))return!0}return!1},t}(wi));function po(e,t){var r=co([],[e.x,e.y,0,1],t);return new i(r[0]/r[3],r[1]/r[3])}var ho=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Ua);function vo(e,t,r,n){var i=t.width,a=t.height;if(n){if(n instanceof Uint8ClampedArray)n=new Uint8Array(n.buffer);else if(n.length!==i*a*r)throw new RangeError("mismatched image size")}else n=new Uint8Array(i*a*r);return e.width=i,e.height=a,e.data=n,e}function mo(e,t,r){var n=t.width,i=t.height;if(n!==e.width||i!==e.height){var a=vo({},{width:n,height:i},r);yo(e,a,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,n),height:Math.min(e.height,i)},r),e.width=n,e.height=i,e.data=a.data}}function yo(e,t,r,n,i,a){if(0===i.width||0===i.height)return t;if(i.width>e.width||i.height>e.height||r.x>e.width-i.width||r.y>e.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>t.width||i.height>t.height||n.x>t.width-i.width||n.y>t.height-i.height)throw new RangeError("out of range destination coordinates for image copy");for(var o=e.data,s=t.data,l=0;l<i.height;l++)for(var u=((r.y+l)*e.width+r.x)*a,c=((n.y+l)*t.width+n.x)*a,f=0;f<i.width*a;f++)s[c+f]=o[u+f];return t}Nn("HeatmapBucket",ho,{omit:["layers"]});var go=function(e,t){vo(this,e,1,t)};go.prototype.resize=function(e){mo(this,e,1)},go.prototype.clone=function(){return new go({width:this.width,height:this.height},new Uint8Array(this.data))},go.copy=function(e,t,r,n,i){yo(e,t,r,n,i,1)};var _o=function(e,t){vo(this,e,4,t)};_o.prototype.resize=function(e){mo(this,e,4)},_o.prototype.replace=function(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e},_o.prototype.clone=function(){return new _o({width:this.width,height:this.height},new Uint8Array(this.data))},_o.copy=function(e,t,r,n,i){yo(e,t,r,n,i,4)},Nn("AlphaImage",go),Nn("RGBAImage",_o);var bo={paint:new xi({"heatmap-radius":new yi(Te.paint_heatmap["heatmap-radius"]),"heatmap-weight":new yi(Te.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new mi(Te.paint_heatmap["heatmap-intensity"]),"heatmap-color":new bi(Te.paint_heatmap["heatmap-color"]),"heatmap-opacity":new mi(Te.paint_heatmap["heatmap-opacity"])})};function xo(e){var t={},r=e.resolution||256,n=e.clips?e.clips.length:1,i=e.image||new _o({width:r,height:n}),a=function(r,n,a){t[e.evaluationKey]=a;var o=e.expression.evaluate(t);i.data[r+n+0]=Math.floor(255*o.r/o.a),i.data[r+n+1]=Math.floor(255*o.g/o.a),i.data[r+n+2]=Math.floor(255*o.b/o.a),i.data[r+n+3]=Math.floor(255*o.a)};if(e.clips)for(var o=0,s=0;o<n;++o,s+=4*r)for(var l=0,u=0;l<r;l++,u+=4){var c=l/(r-1),f=e.clips[o];a(s,u,f.start*(1-c)+f.end*c)}else for(var p=0,h=0;p<r;p++,h+=4)a(0,h,p/(r-1));return i}var wo=function(e){function t(t){e.call(this,t,bo),this._updateColorRamp()}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(e){return new ho(e)},t.prototype._handleSpecialPaintPropertyUpdate=function(e){"heatmap-color"===e&&this._updateColorRamp()},t.prototype._updateColorRamp=function(){this.colorRamp=xo({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},t.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},t}(wi),So={paint:new xi({"hillshade-illumination-direction":new mi(Te.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new mi(Te.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new mi(Te.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new mi(Te.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new mi(Te.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new mi(Te.paint_hillshade["hillshade-accent-color"])})},Po=function(e){function t(t){e.call(this,t,So)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},t}(wi),ko=Ei([{name:"a_pos",components:2,type:"Int16"}],4).members,Eo=Ao,Co=Ao;function Ao(e,t,r){r=r||2;var n,i,a,o,s,l,u,c=t&&t.length,f=c?t[0]*r:e.length,p=To(e,0,f,r,!0),h=[];if(!p||p.next===p.prev)return h;if(c&&(p=function(e,t,r,n){var i,a,o,s=[];for(i=0,a=t.length;i<a;i++)(o=To(e,t[i]*n,i<a-1?t[i+1]*n:e.length,n,!1))===o.next&&(o.steiner=!0),s.push(Bo(o));for(s.sort(jo),i=0;i<s.length;i++)Lo(s[i],r),r=Oo(r,r.next);return r}(e,t,p,r)),e.length>80*r){n=a=e[0],i=o=e[1];for(var d=r;d<f;d+=r)(s=e[d])<n&&(n=s),(l=e[d+1])<i&&(i=l),s>a&&(a=s),l>o&&(o=l);u=0!==(u=Math.max(a-n,o-i))?1/u:0}return Mo(p,h,r,n,i,u),h}function To(e,t,r,n,i){var a,o;if(i===Qo(e,t,r,n)>0)for(a=t;a<r;a+=n)o=Ko(a,e[a],e[a+1],o);else for(a=r-n;a>=t;a-=n)o=Ko(a,e[a],e[a+1],o);return o&&Go(o,o.next)&&($o(o),o=o.next),o}function Oo(e,t){if(!e)return e;t||(t=e);var r,n=e;do{if(r=!1,n.steiner||!Go(n,n.next)&&0!==Vo(n.prev,n,n.next))n=n.next;else{if($o(n),(n=t=n.prev)===n.next)break;r=!0}}while(r||n!==t);return t}function Mo(e,t,r,n,i,a,o){if(e){!o&&a&&function(e,t,r,n){var i=e;do{null===i.z&&(i.z=zo(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,r,n,i,a,o,s,l,u=1;do{for(r=e,e=null,a=null,o=0;r;){for(o++,n=r,s=0,t=0;t<u&&(s++,n=n.nextZ);t++);for(l=u;s>0||l>0&&n;)0!==s&&(0===l||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,l--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;r=n}a.nextZ=null,u*=2}while(o>1)}(i)}(e,n,i,a);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,a?Fo(e,n,i,a):Io(e))t.push(s.i/r),t.push(e.i/r),t.push(l.i/r),$o(e),e=l.next,u=l.next;else if((e=l)===u){o?1===o?Mo(e=Ro(Oo(e),t,r),t,r,n,i,a,2):2===o&&Do(e,t,r,n,i,a):Mo(Oo(e),t,r,n,i,a,1);break}}}function Io(e){var t=e.prev,r=e,n=e.next;if(Vo(t,r,n)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(Zo(t.x,t.y,r.x,r.y,n.x,n.y,i.x,i.y)&&Vo(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Fo(e,t,r,n){var i=e.prev,a=e,o=e.next;if(Vo(i,a,o)>=0)return!1;for(var s=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,l=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,u=zo(i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,t,r,n),c=zo(s,l,t,r,n),f=e.prevZ,p=e.nextZ;f&&f.z>=u&&p&&p.z<=c;){if(f!==e.prev&&f!==e.next&&Zo(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&Vo(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,p!==e.prev&&p!==e.next&&Zo(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&Vo(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;f&&f.z>=u;){if(f!==e.prev&&f!==e.next&&Zo(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&Vo(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;p&&p.z<=c;){if(p!==e.prev&&p!==e.next&&Zo(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&Vo(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function Ro(e,t,r){var n=e;do{var i=n.prev,a=n.next.next;!Go(i,a)&&Wo(i,n,n.next,a)&&Yo(i,a)&&Yo(a,i)&&(t.push(i.i/r),t.push(n.i/r),t.push(a.i/r),$o(n),$o(n.next),n=e=a),n=n.next}while(n!==e);return Oo(n)}function Do(e,t,r,n,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Uo(o,s)){var l=Xo(o,s);return o=Oo(o,o.next),l=Oo(l,l.next),Mo(o,t,r,n,i,a),void Mo(l,t,r,n,i,a)}s=s.next}o=o.next}while(o!==e)}function jo(e,t){return e.x-t.x}function Lo(e,t){if(t=function(e,t){var r,n=t,i=e.x,a=e.y,o=-1/0;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){var s=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>o){if(o=s,s===i){if(a===n.y)return n;if(a===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!r)return null;if(i===o)return r;var l,u=r,c=r.x,f=r.y,p=1/0;n=r;do{i>=n.x&&n.x>=c&&i!==n.x&&Zo(a<f?i:o,a,c,f,a<f?o:i,a,n.x,n.y)&&(l=Math.abs(a-n.y)/(i-n.x),Yo(n,e)&&(l<p||l===p&&(n.x>r.x||n.x===r.x&&No(r,n)))&&(r=n,p=l)),n=n.next}while(n!==u);return r}(e,t)){var r=Xo(t,e);Oo(t,t.next),Oo(r,r.next)}}function No(e,t){return Vo(e.prev,e,t.prev)<0&&Vo(t.next,e,e.next)<0}function zo(e,t,r,n,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Bo(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function Zo(e,t,r,n,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(n-s)-(r-o)*(t-s)>=0&&(r-o)*(a-s)-(i-o)*(n-s)>=0}function Uo(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&Wo(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&(Yo(e,t)&&Yo(t,e)&&function(e,t){var r=e,n=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{r.y>a!=r.next.y>a&&r.next.y!==r.y&&i<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}(e,t)&&(Vo(e.prev,e,t.prev)||Vo(e,t.prev,t))||Go(e,t)&&Vo(e.prev,e,e.next)>0&&Vo(t.prev,t,t.next)>0)}function Vo(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function Go(e,t){return e.x===t.x&&e.y===t.y}function Wo(e,t,r,n){var i=Ho(Vo(e,t,r)),a=Ho(Vo(e,t,n)),o=Ho(Vo(r,n,e)),s=Ho(Vo(r,n,t));return i!==a&&o!==s||!(0!==i||!qo(e,r,t))||!(0!==a||!qo(e,n,t))||!(0!==o||!qo(r,e,n))||!(0!==s||!qo(r,t,n))}function qo(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function Ho(e){return e>0?1:e<0?-1:0}function Yo(e,t){return Vo(e.prev,e,e.next)<0?Vo(e,t,e.next)>=0&&Vo(e,e.prev,t)>=0:Vo(e,t,e.prev)<0||Vo(e,e.next,t)<0}function Xo(e,t){var r=new Jo(e.i,e.x,e.y),n=new Jo(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,a.next=n,n.prev=a,n}function Ko(e,t,r,n){var i=new Jo(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function $o(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Jo(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Qo(e,t,r,n){for(var i=0,a=t,o=r-n;a<r;a+=n)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}function es(e,t,r,n,i){!function e(t,r,n,i,a){for(;i>n;){if(i-n>600){var o=i-n+1,s=r-n+1,l=Math.log(o),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(o-u)/o)*(s-o/2<0?-1:1);e(t,r,Math.max(n,Math.floor(r-s*u/o+c)),Math.min(i,Math.floor(r+(o-s)*u/o+c)),a)}var f=t[r],p=n,h=i;for(ts(t,n,r),a(t[i],f)>0&&ts(t,n,i);p<h;){for(ts(t,p,h),p++,h--;a(t[p],f)<0;)p++;for(;a(t[h],f)>0;)h--}0===a(t[n],f)?ts(t,n,h):ts(t,++h,i),h<=r&&(n=h+1),r<=h&&(i=h-1)}}(e,t,r||0,n||e.length-1,i||rs)}function ts(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function rs(e,t){return e<t?-1:e>t?1:0}function ns(e,t){var r=e.length;if(r<=1)return[e];for(var n,i,a=[],o=0;o<r;o++){var s=k(e[o]);0!==s&&(e[o].area=Math.abs(s),void 0===i&&(i=s<0),i===s<0?(n&&a.push(n),n=[e[o]]):n.push(e[o]))}if(n&&a.push(n),t>1)for(var l=0;l<a.length;l++)a[l].length<=t||(es(a[l],t,1,a[l].length-1,is),a[l]=a[l].slice(0,t));return a}function is(e,t){return t.area-e.area}function as(e,t,r){for(var n=r.patternDependencies,i=!1,a=0,o=t;a<o.length;a+=1){var s=o[a].paint.get(e+"-pattern");s.isConstant()||(i=!0);var l=s.constantOr(null);l&&(i=!0,n[l.to]=!0,n[l.from]=!0)}return i}function os(e,t,r,n,i){for(var a=i.patternDependencies,o=0,s=t;o<s.length;o+=1){var l=s[o],u=l.paint.get(e+"-pattern").value;if("constant"!==u.kind){var c=u.evaluate({zoom:n-1},r,{},i.availableImages),f=u.evaluate({zoom:n},r,{},i.availableImages),p=u.evaluate({zoom:n+1},r,{},i.availableImages);f=f&&f.name?f.name:f,p=p&&p.name?p.name:p,a[c=c&&c.name?c.name:c]=!0,a[f]=!0,a[p]=!0,r.patterns[l.id]={min:c,mid:f,max:p}}}return r}Ao.deviation=function(e,t,r,n){var i=t&&t.length,a=Math.abs(Qo(e,0,i?t[0]*r:e.length,r));if(i)for(var o=0,s=t.length;o<s;o++)a-=Math.abs(Qo(e,t[o]*r,o<s-1?t[o+1]*r:e.length,r));var l=0;for(o=0;o<n.length;o+=3){var u=n[o]*r,c=n[o+1]*r,f=n[o+2]*r;l+=Math.abs((e[u]-e[f])*(e[c+1]-e[u+1])-(e[u]-e[c])*(e[f+1]-e[u+1]))}return 0===a&&0===l?0:Math.abs((l-a)/a)},Ao.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var o=0;o<t;o++)r.vertices.push(e[i][a][o]);i>0&&r.holes.push(n+=e[i-1].length)}return r},Eo.default=Co;var ss=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ai,this.indexArray=new Zi,this.indexArray2=new Hi,this.programConfigurations=new Ra(e.layers,e.zoom),this.segments=new sa,this.segments2=new sa,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};ss.prototype.populate=function(e,t,r){this.hasPattern=as("fill",this.layers,t);for(var n=this.layers[0].layout.get("fill-sort-key"),i=[],a=0,o=e;a<o.length;a+=1){var s=o[a],l=s.feature,u=s.id,c=s.index,f=s.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,h=Ba(l,p);if(this.layers[0]._featureFilter.filter(new si(this.zoom),h,r)){var d=n?n.evaluate(h,{},r,t.availableImages):void 0,v={id:u,properties:l.properties,type:l.type,sourceLayerIndex:f,index:c,geometry:p?h.geometry:za(l),patterns:{},sortKey:d};i.push(v)}}n&&i.sort((function(e,t){return e.sortKey-t.sortKey}));for(var m=0,y=i;m<y.length;m+=1){var g=y[m],_=g.geometry,b=g.index,x=g.sourceLayerIndex;if(this.hasPattern){var w=os("fill",this.layers,g,this.zoom,t);this.patternFeatures.push(w)}else this.addFeature(g,_,b,r,{});t.featureIndex.insert(e[b].feature,_,b,x,this.index)}},ss.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},ss.prototype.addFeatures=function(e,t,r){for(var n=0,i=this.patternFeatures;n<i.length;n+=1){var a=i[n];this.addFeature(a,a.geometry,a.index,t,r)}},ss.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ss.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ss.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,ko),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0},ss.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},ss.prototype.addFeature=function(e,t,r,n,i){for(var a=0,o=ns(t,500);a<o.length;a+=1){for(var s=o[a],l=0,u=0,c=s;u<c.length;u+=1)l+=c[u].length;for(var f=this.segments.prepareSegment(l,this.layoutVertexArray,this.indexArray),p=f.vertexLength,h=[],d=[],v=0,m=s;v<m.length;v+=1){var y=m[v];if(0!==y.length){y!==s[0]&&d.push(h.length/2);var g=this.segments2.prepareSegment(y.length,this.layoutVertexArray,this.indexArray2),_=g.vertexLength;this.layoutVertexArray.emplaceBack(y[0].x,y[0].y),this.indexArray2.emplaceBack(_+y.length-1,_),h.push(y[0].x),h.push(y[0].y);for(var b=1;b<y.length;b++)this.layoutVertexArray.emplaceBack(y[b].x,y[b].y),this.indexArray2.emplaceBack(_+b-1,_+b),h.push(y[b].x),h.push(y[b].y);g.vertexLength+=y.length,g.primitiveLength+=y.length}}for(var x=Eo(h,d),w=0;w<x.length;w+=3)this.indexArray.emplaceBack(p+x[w],p+x[w+1],p+x[w+2]);f.vertexLength+=l,f.primitiveLength+=x.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,i,n)},Nn("FillBucket",ss,{omit:["layers","patternFeatures"]});var ls=new xi({"fill-sort-key":new yi(Te.layout_fill["fill-sort-key"])}),us={paint:new xi({"fill-antialias":new mi(Te.paint_fill["fill-antialias"]),"fill-opacity":new yi(Te.paint_fill["fill-opacity"]),"fill-color":new yi(Te.paint_fill["fill-color"]),"fill-outline-color":new yi(Te.paint_fill["fill-outline-color"]),"fill-translate":new mi(Te.paint_fill["fill-translate"]),"fill-translate-anchor":new mi(Te.paint_fill["fill-translate-anchor"]),"fill-pattern":new gi(Te.paint_fill["fill-pattern"])}),layout:ls},cs=function(e){function t(t){e.call(this,t,us)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.recalculate=function(t,r){e.prototype.recalculate.call(this,t,r);var n=this.paint._values["fill-outline-color"];"constant"===n.value.kind&&void 0===n.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},t.prototype.createBucket=function(e){return new ss(e)},t.prototype.queryRadius=function(){return to(this.paint.get("fill-translate"))},t.prototype.queryIntersectsFeature=function(e,t,r,n,i,a,o){return Wa(ro(e,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),a.angle,o),n)},t.prototype.isTileClipped=function(){return!0},t}(wi),fs=Ei([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,ps=hs;function hs(e,t,r,n,i){this.properties={},this.extent=r,this.type=0,this._pbf=e,this._geometry=-1,this._keys=n,this._values=i,e.readFields(ds,this,t)}function ds(e,t,r){1==e?t.id=r.readVarint():2==e?function(e,t){for(var r=e.readVarint()+e.pos;e.pos<r;){var n=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[n]=i}}(r,t):3==e?t.type=r.readVarint():4==e&&(t._geometry=r.pos)}function vs(e){for(var t,r,n=0,i=0,a=e.length,o=a-1;i<a;o=i++)n+=((r=e[o]).x-(t=e[i]).x)*(t.y+r.y);return n}hs.types=["Unknown","Point","LineString","Polygon"],hs.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,r=e.readVarint()+e.pos,n=1,a=0,o=0,s=0,l=[];e.pos<r;){if(a<=0){var u=e.readVarint();n=7&u,a=u>>3}if(a--,1===n||2===n)o+=e.readSVarint(),s+=e.readSVarint(),1===n&&(t&&l.push(t),t=[]),t.push(new i(o,s));else{if(7!==n)throw new Error("unknown command "+n);t&&t.push(t[0].clone())}}return t&&l.push(t),l},hs.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,r=1,n=0,i=0,a=0,o=1/0,s=-1/0,l=1/0,u=-1/0;e.pos<t;){if(n<=0){var c=e.readVarint();r=7&c,n=c>>3}if(n--,1===r||2===r)(i+=e.readSVarint())<o&&(o=i),i>s&&(s=i),(a+=e.readSVarint())<l&&(l=a),a>u&&(u=a);else if(7!==r)throw new Error("unknown command "+r)}return[o,l,s,u]},hs.prototype.toGeoJSON=function(e,t,r){var n,i,a=this.extent*Math.pow(2,r),o=this.extent*e,s=this.extent*t,l=this.loadGeometry(),u=hs.types[this.type];function c(e){for(var t=0;t<e.length;t++){var r=e[t];e[t]=[360*(r.x+o)/a-180,360/Math.PI*Math.atan(Math.exp((180-360*(r.y+s)/a)*Math.PI/180))-90]}}switch(this.type){case 1:var f=[];for(n=0;n<l.length;n++)f[n]=l[n][0];c(l=f);break;case 2:for(n=0;n<l.length;n++)c(l[n]);break;case 3:for(l=function(e){var t=e.length;if(t<=1)return[e];for(var r,n,i=[],a=0;a<t;a++){var o=vs(e[a]);0!==o&&(void 0===n&&(n=o<0),n===o<0?(r&&i.push(r),r=[e[a]]):r.push(e[a]))}return r&&i.push(r),i}(l),n=0;n<l.length;n++)for(i=0;i<l[n].length;i++)c(l[n][i])}1===l.length?l=l[0]:u="Multi"+u;var p={type:"Feature",geometry:{type:u,coordinates:l},properties:this.properties};return"id"in this&&(p.id=this.id),p};var ms=ys;function ys(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(gs,this,t),this.length=this._features.length}function gs(e,t,r){15===e?t.version=r.readVarint():1===e?t.name=r.readString():5===e?t.extent=r.readVarint():2===e?t._features.push(r.pos):3===e?t._keys.push(r.readString()):4===e&&t._values.push(function(e){for(var t=null,r=e.readVarint()+e.pos;e.pos<r;){var n=e.readVarint()>>3;t=1===n?e.readString():2===n?e.readFloat():3===n?e.readDouble():4===n?e.readVarint64():5===n?e.readVarint():6===n?e.readSVarint():7===n?e.readBoolean():null}return t}(r))}function _s(e,t,r){if(3===e){var n=new ms(r,r.readVarint()+r.pos);n.length&&(t[n.name]=n)}}ys.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new ps(this._pbf,t,this.extent,this._keys,this._values)};var bs={VectorTile:function(e,t){this.layers=e.readFields(_s,{},t)},VectorTileFeature:ps,VectorTileLayer:ms},xs=bs.VectorTileFeature.types,ws=Math.pow(2,13);function Ss(e,t,r,n,i,a,o,s){e.emplaceBack(t,r,2*Math.floor(n*ws)+o,i*ws*2,a*ws*2,Math.round(s))}var Ps=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Oi,this.indexArray=new Zi,this.programConfigurations=new Ra(e.layers,e.zoom),this.segments=new sa,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};function ks(e,t){return e.x===t.x&&(e.x<0||e.x>8192)||e.y===t.y&&(e.y<0||e.y>8192)}Ps.prototype.populate=function(e,t,r){this.features=[],this.hasPattern=as("fill-extrusion",this.layers,t);for(var n=0,i=e;n<i.length;n+=1){var a=i[n],o=a.feature,s=a.id,l=a.index,u=a.sourceLayerIndex,c=this.layers[0]._featureFilter.needGeometry,f=Ba(o,c);if(this.layers[0]._featureFilter.filter(new si(this.zoom),f,r)){var p={id:s,sourceLayerIndex:u,index:l,geometry:c?f.geometry:za(o),properties:o.properties,type:o.type,patterns:{}};this.hasPattern?this.features.push(os("fill-extrusion",this.layers,p,this.zoom,t)):this.addFeature(p,p.geometry,l,r,{}),t.featureIndex.insert(o,p.geometry,l,u,this.index,!0)}}},Ps.prototype.addFeatures=function(e,t,r){for(var n=0,i=this.features;n<i.length;n+=1){var a=i[n];this.addFeature(a,a.geometry,a.index,t,r)}},Ps.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},Ps.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ps.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ps.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,fs),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Ps.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ps.prototype.addFeature=function(e,t,r,n,i){for(var a=0,o=ns(t,500);a<o.length;a+=1){for(var s=o[a],l=0,u=0,c=s;u<c.length;u+=1)l+=c[u].length;for(var f=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),p=0,h=s;p<h.length;p+=1){var d=h[p];if(0!==d.length&&!((I=d).every((function(e){return e.x<0}))||I.every((function(e){return e.x>8192}))||I.every((function(e){return e.y<0}))||I.every((function(e){return e.y>8192}))))for(var v=0,m=0;m<d.length;m++){var y=d[m];if(m>=1){var g=d[m-1];if(!ks(y,g)){f.vertexLength+4>sa.MAX_VERTEX_ARRAY_LENGTH&&(f=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var _=y.sub(g)._perp()._unit(),b=g.dist(y);v+b>32768&&(v=0),Ss(this.layoutVertexArray,y.x,y.y,_.x,_.y,0,0,v),Ss(this.layoutVertexArray,y.x,y.y,_.x,_.y,0,1,v),Ss(this.layoutVertexArray,g.x,g.y,_.x,_.y,0,0,v+=b),Ss(this.layoutVertexArray,g.x,g.y,_.x,_.y,0,1,v);var x=f.vertexLength;this.indexArray.emplaceBack(x,x+2,x+1),this.indexArray.emplaceBack(x+1,x+2,x+3),f.vertexLength+=4,f.primitiveLength+=2}}}}if(f.vertexLength+l>sa.MAX_VERTEX_ARRAY_LENGTH&&(f=this.segments.prepareSegment(l,this.layoutVertexArray,this.indexArray)),"Polygon"===xs[e.type]){for(var w=[],S=[],P=f.vertexLength,k=0,E=s;k<E.length;k+=1){var C=E[k];if(0!==C.length){C!==s[0]&&S.push(w.length/2);for(var A=0;A<C.length;A++){var T=C[A];Ss(this.layoutVertexArray,T.x,T.y,0,0,1,1,0),w.push(T.x),w.push(T.y)}}}for(var O=Eo(w,S),M=0;M<O.length;M+=3)this.indexArray.emplaceBack(P+O[M],P+O[M+2],P+O[M+1]);f.primitiveLength+=O.length/3,f.vertexLength+=l}}var I;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,i,n)},Nn("FillExtrusionBucket",Ps,{omit:["layers","features"]});var Es={paint:new xi({"fill-extrusion-opacity":new mi(Te["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new yi(Te["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new mi(Te["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new mi(Te["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new gi(Te["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new yi(Te["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new yi(Te["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new mi(Te["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Cs=function(e){function t(t){e.call(this,t,Es)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(e){return new Ps(e)},t.prototype.queryRadius=function(){return to(this.paint.get("fill-extrusion-translate"))},t.prototype.is3D=function(){return!0},t.prototype.queryIntersectsFeature=function(e,t,r,n,a,o,s,l){var u=ro(e,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),o.angle,s),c=this.paint.get("fill-extrusion-height").evaluate(t,r),f=this.paint.get("fill-extrusion-base").evaluate(t,r),p=function(e,t,r,n){for(var a=[],o=0,s=e;o<s.length;o+=1){var l=s[o],u=[l.x,l.y,0,1];co(u,u,t),a.push(new i(u[0]/u[3],u[1]/u[3]))}return a}(u,l),h=function(e,t,r,n){for(var a=[],o=[],s=n[8]*t,l=n[9]*t,u=n[10]*t,c=n[11]*t,f=n[8]*r,p=n[9]*r,h=n[10]*r,d=n[11]*r,v=0,m=e;v<m.length;v+=1){for(var y=[],g=[],_=0,b=m[v];_<b.length;_+=1){var x=b[_],w=x.x,S=x.y,P=n[0]*w+n[4]*S+n[12],k=n[1]*w+n[5]*S+n[13],E=n[2]*w+n[6]*S+n[14],C=n[3]*w+n[7]*S+n[15],A=E+u,T=C+c,O=P+f,M=k+p,I=E+h,F=C+d,R=new i((P+s)/T,(k+l)/T);R.z=A/T,y.push(R);var D=new i(O/F,M/F);D.z=I/F,g.push(D)}a.push(y),o.push(g)}return[a,o]}(n,f,c,l);return function(e,t,r){var n=1/0;Wa(r,t)&&(n=Ts(r,t[0]));for(var i=0;i<t.length;i++)for(var a=t[i],o=e[i],s=0;s<a.length-1;s++){var l=a[s],u=[l,a[s+1],o[s+1],o[s],l];Va(r,u)&&(n=Math.min(n,Ts(r,u)))}return n!==1/0&&n}(h[0],h[1],p)},t}(wi);function As(e,t){return e.x*t.x+e.y*t.y}function Ts(e,t){if(1===e.length){for(var r,n=0,i=t[n++];!r||i.equals(r);)if(!(r=t[n++]))return 1/0;for(;n<t.length;n++){var a=t[n],o=e[0],s=r.sub(i),l=a.sub(i),u=o.sub(i),c=As(s,s),f=As(s,l),p=As(l,l),h=As(u,s),d=As(u,l),v=c*p-f*f,m=(p*h-f*d)/v,y=(c*d-f*h)/v,g=i.z*(1-m-y)+r.z*m+a.z*y;if(isFinite(g))return g}return 1/0}for(var _=1/0,b=0,x=t;b<x.length;b+=1)_=Math.min(_,x[b].z);return _}var Os=Ei([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Ms=Ei([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,Is=bs.VectorTileFeature.types,Fs=Math.cos(Math.PI/180*37.5),Rs=Math.pow(2,14)/.5,Ds=function(e){var t=this;this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((function(e){t.gradients[e.id]={}})),this.layoutVertexArray=new Mi,this.layoutVertexArray2=new Ii,this.indexArray=new Zi,this.programConfigurations=new Ra(e.layers,e.zoom),this.segments=new sa,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};Ds.prototype.populate=function(e,t,r){this.hasPattern=as("line",this.layers,t);for(var n=this.layers[0].layout.get("line-sort-key"),i=[],a=0,o=e;a<o.length;a+=1){var s=o[a],l=s.feature,u=s.id,c=s.index,f=s.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,h=Ba(l,p);if(this.layers[0]._featureFilter.filter(new si(this.zoom),h,r)){var d=n?n.evaluate(h,{},r):void 0,v={id:u,properties:l.properties,type:l.type,sourceLayerIndex:f,index:c,geometry:p?h.geometry:za(l),patterns:{},sortKey:d};i.push(v)}}n&&i.sort((function(e,t){return e.sortKey-t.sortKey}));for(var m=0,y=i;m<y.length;m+=1){var g=y[m],_=g.geometry,b=g.index,x=g.sourceLayerIndex;if(this.hasPattern){var w=os("line",this.layers,g,this.zoom,t);this.patternFeatures.push(w)}else this.addFeature(g,_,b,r,{});t.featureIndex.insert(e[b].feature,_,b,x,this.index)}},Ds.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},Ds.prototype.addFeatures=function(e,t,r){for(var n=0,i=this.patternFeatures;n<i.length;n+=1){var a=i[n];this.addFeature(a,a.geometry,a.index,t,r)}},Ds.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ds.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ds.prototype.upload=function(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,Ms)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Os),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Ds.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ds.prototype.lineFeatureClips=function(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}},Ds.prototype.addFeature=function(e,t,r,n,i){var a=this.layers[0].layout,o=a.get("line-join").evaluate(e,{}),s=a.get("line-cap"),l=a.get("line-miter-limit"),u=a.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(var c=0,f=t;c<f.length;c+=1)this.addLine(f[c],e,o,s,l,u);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,i,n)},Ds.prototype.addLine=function(e,t,r,n,i,a){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var o=0;o<e.length-1;o++)this.totalDistance+=e[o].dist(e[o+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var s="Polygon"===Is[t.type],l=e.length;l>=2&&e[l-1].equals(e[l-2]);)l--;for(var u=0;u<l-1&&e[u].equals(e[u+1]);)u++;if(!(l<(s?3:2))){"bevel"===r&&(i=1.05);var c,f=this.overscaling<=16?122880/(512*this.overscaling):0,p=this.segments.prepareSegment(10*l,this.layoutVertexArray,this.indexArray),h=void 0,d=void 0,v=void 0,m=void 0;this.e1=this.e2=-1,s&&(m=e[u].sub(c=e[l-2])._unit()._perp());for(var y=u;y<l;y++)if(!(d=y===l-1?s?e[u+1]:void 0:e[y+1])||!e[y].equals(d)){m&&(v=m),c&&(h=c),c=e[y],m=d?d.sub(c)._unit()._perp():v;var g=(v=v||m).add(m);0===g.x&&0===g.y||g._unit();var _=v.x*m.x+v.y*m.y,b=g.x*m.x+g.y*m.y,x=0!==b?1/b:1/0,w=2*Math.sqrt(2-2*b),S=b<Fs&&h&&d,P=v.x*m.y-v.y*m.x>0;if(S&&y>u){var k=c.dist(h);if(k>2*f){var E=c.sub(c.sub(h)._mult(f/k)._round());this.updateDistance(h,E),this.addCurrentVertex(E,v,0,0,p),h=E}}var C=h&&d,A=C?r:s?"butt":n;if(C&&"round"===A&&(x<a?A="miter":x<=2&&(A="fakeround")),"miter"===A&&x>i&&(A="bevel"),"bevel"===A&&(x>2&&(A="flipbevel"),x<i&&(A="miter")),h&&this.updateDistance(h,c),"miter"===A)g._mult(x),this.addCurrentVertex(c,g,0,0,p);else if("flipbevel"===A){if(x>100)g=m.mult(-1);else{var T=x*v.add(m).mag()/v.sub(m).mag();g._perp()._mult(T*(P?-1:1))}this.addCurrentVertex(c,g,0,0,p),this.addCurrentVertex(c,g.mult(-1),0,0,p)}else if("bevel"===A||"fakeround"===A){var O=-Math.sqrt(x*x-1),M=P?O:0,I=P?0:O;if(h&&this.addCurrentVertex(c,v,M,I,p),"fakeround"===A)for(var F=Math.round(180*w/Math.PI/20),R=1;R<F;R++){var D=R/F;if(.5!==D){var j=D-.5;D+=D*j*(D-1)*((1.0904+_*(_*(3.55645-1.43519*_)-3.2452))*j*j+(.848013+_*(.215638*_-1.06021)))}var L=m.sub(v)._mult(D)._add(v)._unit()._mult(P?-1:1);this.addHalfVertex(c,L.x,L.y,!1,P,0,p)}d&&this.addCurrentVertex(c,m,-M,-I,p)}else if("butt"===A)this.addCurrentVertex(c,g,0,0,p);else if("square"===A){var N=h?1:-1;this.addCurrentVertex(c,g,N,N,p)}else"round"===A&&(h&&(this.addCurrentVertex(c,v,0,0,p),this.addCurrentVertex(c,v,1,1,p,!0)),d&&(this.addCurrentVertex(c,m,-1,-1,p,!0),this.addCurrentVertex(c,m,0,0,p)));if(S&&y<l-1){var z=c.dist(d);if(z>2*f){var B=c.add(d.sub(c)._mult(f/z)._round());this.updateDistance(c,B),this.addCurrentVertex(B,m,0,0,p),c=B}}}}},Ds.prototype.addCurrentVertex=function(e,t,r,n,i,a){void 0===a&&(a=!1);var o=t.y*n-t.x,s=-t.y-t.x*n;this.addHalfVertex(e,t.x+t.y*r,t.y-t.x*r,a,!1,r,i),this.addHalfVertex(e,o,s,a,!0,-n,i),this.distance>Rs/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(e,t,r,n,i,a))},Ds.prototype.addHalfVertex=function(e,t,r,n,i,a,o){var s=.5*(this.lineClips?this.scaledDistance*(Rs-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((e.x<<1)+(n?1:0),(e.y<<1)+(i?1:0),Math.round(63*t)+128,Math.round(63*r)+128,1+(0===a?0:a<0?-1:1)|(63&s)<<2,s>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var l=o.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,l),o.primitiveLength++),i?this.e2=l:this.e1=l},Ds.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Ds.prototype.updateDistance=function(e,t){this.distance+=e.dist(t),this.updateScaledDistance()},Nn("LineBucket",Ds,{omit:["layers","patternFeatures"]});var js=new xi({"line-cap":new mi(Te.layout_line["line-cap"]),"line-join":new yi(Te.layout_line["line-join"]),"line-miter-limit":new mi(Te.layout_line["line-miter-limit"]),"line-round-limit":new mi(Te.layout_line["line-round-limit"]),"line-sort-key":new yi(Te.layout_line["line-sort-key"])}),Ls={paint:new xi({"line-opacity":new yi(Te.paint_line["line-opacity"]),"line-color":new yi(Te.paint_line["line-color"]),"line-translate":new mi(Te.paint_line["line-translate"]),"line-translate-anchor":new mi(Te.paint_line["line-translate-anchor"]),"line-width":new yi(Te.paint_line["line-width"]),"line-gap-width":new yi(Te.paint_line["line-gap-width"]),"line-offset":new yi(Te.paint_line["line-offset"]),"line-blur":new yi(Te.paint_line["line-blur"]),"line-dasharray":new _i(Te.paint_line["line-dasharray"]),"line-pattern":new gi(Te.paint_line["line-pattern"]),"line-gradient":new bi(Te.paint_line["line-gradient"])}),layout:js},Ns=new(function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.possiblyEvaluate=function(t,r){return r=new si(Math.floor(r.zoom),{now:r.now,fadeDuration:r.fadeDuration,zoomHistory:r.zoomHistory,transition:r.transition}),e.prototype.possiblyEvaluate.call(this,t,r)},t.prototype.evaluate=function(t,r,n,i){return r=p({},r,{zoom:Math.floor(r.zoom)}),e.prototype.evaluate.call(this,t,r,n,i)},t}(yi))(Ls.paint.properties["line-width"].specification);Ns.useIntegerZoom=!0;var zs=function(e){function t(t){e.call(this,t,Ls),this.gradientVersion=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._handleSpecialPaintPropertyUpdate=function(e){"line-gradient"===e&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Vt,this.gradientVersion=(this.gradientVersion+1)%s)},t.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},t.prototype.recalculate=function(t,r){e.prototype.recalculate.call(this,t,r),this.paint._values["line-floorwidth"]=Ns.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)},t.prototype.createBucket=function(e){return new Ds(e)},t.prototype.queryRadius=function(e){var t=e,r=Bs(eo("line-width",this,t),eo("line-gap-width",this,t)),n=eo("line-offset",this,t);return r/2+Math.abs(n)+to(this.paint.get("line-translate"))},t.prototype.queryIntersectsFeature=function(e,t,r,n,a,o,s){var l=ro(e,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),o.angle,s),u=s/2*Bs(this.paint.get("line-width").evaluate(t,r),this.paint.get("line-gap-width").evaluate(t,r)),c=this.paint.get("line-offset").evaluate(t,r);return c&&(n=function(e,t){for(var r=[],n=new i(0,0),a=0;a<e.length;a++){for(var o=e[a],s=[],l=0;l<o.length;l++){var u=o[l],c=o[l+1],f=0===l?n:u.sub(o[l-1])._unit()._perp(),p=l===o.length-1?n:c.sub(u)._unit()._perp(),h=f._add(p)._unit();h._mult(1/(h.x*p.x+h.y*p.y)),s.push(h._mult(t)._add(u))}r.push(s)}return r}(n,c*s)),function(e,t,r){for(var n=0;n<t.length;n++){var i=t[n];if(e.length>=3)for(var a=0;a<i.length;a++)if(Ja(e,i[a]))return!0;if(qa(e,i,r))return!0}return!1}(l,n,u)},t.prototype.isTileClipped=function(){return!0},t}(wi);function Bs(e,t){return t>0?t+2*e:e}var Zs=Ei([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Us=Ei([{name:"a_projected_pos",components:3,type:"Float32"}],4),Vs=(Ei([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Ei([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Gs=(Ei([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Ei([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Ws=Ei([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function qs(e,t,r){return e.sections.forEach((function(e){e.text=function(e,t,r){var n=t.layout.get("text-transform").evaluate(r,{});return"uppercase"===n?e=e.toLocaleUpperCase():"lowercase"===n&&(e=e.toLocaleLowerCase()),oi.applyArabicShaping&&(e=oi.applyArabicShaping(e)),e}(e.text,t,r)})),e}Ei([{name:"triangle",components:3,type:"Uint16"}]),Ei([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Ei([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Ei([{type:"Float32",name:"offsetX"}]),Ei([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Hs={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},Ys=function(e,t,r,n,i){var a,o,s=8*i-n-1,l=(1<<s)-1,u=l>>1,c=-7,f=r?i-1:0,p=r?-1:1,h=e[t+f];for(f+=p,a=h&(1<<-c)-1,h>>=-c,c+=s;c>0;a=256*a+e[t+f],f+=p,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=n;c>0;o=256*o+e[t+f],f+=p,c-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),a-=u}return(h?-1:1)*o*Math.pow(2,a-n)},Xs=function(e,t,r,n,i,a){var o,s,l,u=8*a-i-1,c=(1<<u)-1,f=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:a-1,d=n?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+f>=1?p/l:p*Math.pow(2,1-f))*l>=2&&(o++,l/=2),o+f>=c?(s=0,o=c):o+f>=1?(s=(t*l-1)*Math.pow(2,i),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[r+h]=255&s,h+=d,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;e[r+h]=255&o,h+=d,o/=256,u-=8);e[r+h-d]|=128*v},Ks=$s;function $s(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}$s.Varint=0,$s.Fixed64=1,$s.Bytes=2,$s.Fixed32=5;var Js="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Qs(e){return e.type===$s.Bytes?e.readVarint()+e.pos:e.pos+1}function el(e,t,r){return r?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function tl(e,t,r){var n=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));r.realloc(n);for(var i=r.pos-1;i>=e;i--)r.buf[i+n]=r.buf[i]}function rl(e,t){for(var r=0;r<e.length;r++)t.writeVarint(e[r])}function nl(e,t){for(var r=0;r<e.length;r++)t.writeSVarint(e[r])}function il(e,t){for(var r=0;r<e.length;r++)t.writeFloat(e[r])}function al(e,t){for(var r=0;r<e.length;r++)t.writeDouble(e[r])}function ol(e,t){for(var r=0;r<e.length;r++)t.writeBoolean(e[r])}function sl(e,t){for(var r=0;r<e.length;r++)t.writeFixed32(e[r])}function ll(e,t){for(var r=0;r<e.length;r++)t.writeSFixed32(e[r])}function ul(e,t){for(var r=0;r<e.length;r++)t.writeFixed64(e[r])}function cl(e,t){for(var r=0;r<e.length;r++)t.writeSFixed64(e[r])}function fl(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function pl(e,t,r){e[r]=t,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24}function hl(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function dl(e,t,r){1===e&&r.readMessage(vl,t)}function vl(e,t,r){if(3===e){var n=r.readMessage(ml,{}),i=n.width,a=n.height,o=n.left,s=n.top,l=n.advance;t.push({id:n.id,bitmap:new go({width:i+6,height:a+6},n.bitmap),metrics:{width:i,height:a,left:o,top:s,advance:l}})}}function ml(e,t,r){1===e?t.id=r.readVarint():2===e?t.bitmap=r.readBytes():3===e?t.width=r.readVarint():4===e?t.height=r.readVarint():5===e?t.left=r.readSVarint():6===e?t.top=r.readSVarint():7===e&&(t.advance=r.readVarint())}function yl(e){for(var t=0,r=0,n=0,i=e;n<i.length;n+=1){var a=i[n];t+=a.w*a.h,r=Math.max(r,a.w)}e.sort((function(e,t){return t.h-e.h}));for(var o=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),r),h:1/0}],s=0,l=0,u=0,c=e;u<c.length;u+=1)for(var f=c[u],p=o.length-1;p>=0;p--){var h=o[p];if(!(f.w>h.w||f.h>h.h)){if(f.x=h.x,f.y=h.y,l=Math.max(l,f.y+f.h),s=Math.max(s,f.x+f.w),f.w===h.w&&f.h===h.h){var d=o.pop();p<o.length&&(o[p]=d)}else f.h===h.h?(h.x+=f.w,h.w-=f.w):f.w===h.w?(h.y+=f.h,h.h-=f.h):(o.push({x:h.x+f.w,y:h.y,w:h.w-f.w,h:f.h}),h.y+=f.h,h.h-=f.h);break}}return{w:s,h:l,fill:t/(s*l)||0}}$s.prototype={destroy:function(){this.buf=null},readFields:function(e,t,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),i=n>>3,a=this.pos;this.type=7&n,e(i,t,this),this.pos===a&&this.skip(n)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=fl(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=hl(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=fl(this.buf,this.pos)+4294967296*fl(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=fl(this.buf,this.pos)+4294967296*hl(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=Ys(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=Ys(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,r,n=this.buf;return t=127&(r=n[this.pos++]),r<128?t:(t|=(127&(r=n[this.pos++]))<<7,r<128?t:(t|=(127&(r=n[this.pos++]))<<14,r<128?t:(t|=(127&(r=n[this.pos++]))<<21,r<128?t:function(e,t,r){var n,i,a=r.buf;if(n=(112&(i=a[r.pos++]))>>4,i<128)return el(e,n,t);if(n|=(127&(i=a[r.pos++]))<<3,i<128)return el(e,n,t);if(n|=(127&(i=a[r.pos++]))<<10,i<128)return el(e,n,t);if(n|=(127&(i=a[r.pos++]))<<17,i<128)return el(e,n,t);if(n|=(127&(i=a[r.pos++]))<<24,i<128)return el(e,n,t);if(n|=(1&(i=a[r.pos++]))<<31,i<128)return el(e,n,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(r=n[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&Js?function(e,t,r){return Js.decode(e.subarray(t,r))}(this.buf,t,e):function(e,t,r){for(var n="",i=t;i<r;){var a,o,s,l=e[i],u=null,c=l>239?4:l>223?3:l>191?2:1;if(i+c>r)break;1===c?l<128&&(u=l):2===c?128==(192&(a=e[i+1]))&&(u=(31&l)<<6|63&a)<=127&&(u=null):3===c?(o=e[i+2],128==(192&(a=e[i+1]))&&128==(192&o)&&((u=(15&l)<<12|(63&a)<<6|63&o)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(o=e[i+2],s=e[i+3],128==(192&(a=e[i+1]))&&128==(192&o)&&128==(192&s)&&((u=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,n+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),n+=String.fromCharCode(u),i+=c}return n}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==$s.Bytes)return e.push(this.readVarint(t));var r=Qs(this);for(e=e||[];this.pos<r;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==$s.Bytes)return e.push(this.readSVarint());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==$s.Bytes)return e.push(this.readBoolean());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==$s.Bytes)return e.push(this.readFloat());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==$s.Bytes)return e.push(this.readDouble());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==$s.Bytes)return e.push(this.readFixed32());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==$s.Bytes)return e.push(this.readSFixed32());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==$s.Bytes)return e.push(this.readFixed64());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==$s.Bytes)return e.push(this.readSFixed64());var t=Qs(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===$s.Varint)for(;this.buf[this.pos++]>127;);else if(t===$s.Bytes)this.pos=this.readVarint()+this.pos;else if(t===$s.Fixed32)this.pos+=4;else{if(t!==$s.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var r=new Uint8Array(t);r.set(this.buf),this.buf=r,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),pl(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),pl(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),pl(this.buf,-1&e,this.pos),pl(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),pl(this.buf,-1&e,this.pos),pl(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var r,n;if(e>=0?(r=e%4294967296|0,n=e/4294967296|0):(n=~(-e/4294967296),4294967295^(r=~(-e%4294967296))?r=r+1|0:(r=0,n=n+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,r){r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,r.buf[r.pos]=127&(e>>>=7)}(r,0,t),function(e,t){var r=(7&e)<<4;t.buf[t.pos++]|=r|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(n,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,r){for(var n,i,a=0;a<t.length;a++){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){n>56319||a+1===t.length?(e[r++]=239,e[r++]=191,e[r++]=189):i=n;continue}if(n<56320){e[r++]=239,e[r++]=191,e[r++]=189,i=n;continue}n=i-55296<<10|n-56320|65536,i=null}else i&&(e[r++]=239,e[r++]=191,e[r++]=189,i=null);n<128?e[r++]=n:(n<2048?e[r++]=n>>6|192:(n<65536?e[r++]=n>>12|224:(e[r++]=n>>18|240,e[r++]=n>>12&63|128),e[r++]=n>>6&63|128),e[r++]=63&n|128)}return r}(this.buf,e,this.pos);var r=this.pos-t;r>=128&&tl(t,r,this),this.pos=t-1,this.writeVarint(r),this.pos+=r},writeFloat:function(e){this.realloc(4),Xs(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),Xs(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var r=0;r<t;r++)this.buf[this.pos++]=e[r]},writeRawMessage:function(e,t){this.pos++;var r=this.pos;e(t,this);var n=this.pos-r;n>=128&&tl(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n},writeMessage:function(e,t,r){this.writeTag(e,$s.Bytes),this.writeRawMessage(t,r)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,rl,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,nl,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,ol,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,il,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,al,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,sl,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,ll,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,ul,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,cl,t)},writeBytesField:function(e,t){this.writeTag(e,$s.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,$s.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,$s.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,$s.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,$s.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,$s.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,$s.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,$s.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,$s.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,$s.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};var gl=function(e,t){var r=t.pixelRatio,n=t.version,i=t.stretchX,a=t.stretchY,o=t.content;this.paddedRect=e,this.pixelRatio=r,this.stretchX=i,this.stretchY=a,this.content=o,this.version=n},_l={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};_l.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},_l.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},_l.tlbr.get=function(){return this.tl.concat(this.br)},_l.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(gl.prototype,_l);var bl=function(e,t){var r={},n={};this.haveRenderCallbacks=[];var i=[];this.addImages(e,r,i),this.addImages(t,n,i);var a=yl(i),o=new _o({width:a.w||1,height:a.h||1});for(var s in e){var l=e[s],u=r[s].paddedRect;_o.copy(l.data,o,{x:0,y:0},{x:u.x+1,y:u.y+1},l.data)}for(var c in t){var f=t[c],p=n[c].paddedRect,h=p.x+1,d=p.y+1,v=f.data.width,m=f.data.height;_o.copy(f.data,o,{x:0,y:0},{x:h,y:d},f.data),_o.copy(f.data,o,{x:0,y:m-1},{x:h,y:d-1},{width:v,height:1}),_o.copy(f.data,o,{x:0,y:0},{x:h,y:d+m},{width:v,height:1}),_o.copy(f.data,o,{x:v-1,y:0},{x:h-1,y:d},{width:1,height:m}),_o.copy(f.data,o,{x:0,y:0},{x:h+v,y:d},{width:1,height:m})}this.image=o,this.iconPositions=r,this.patternPositions=n};bl.prototype.addImages=function(e,t,r){for(var n in e){var i=e[n],a={x:0,y:0,w:i.data.width+2,h:i.data.height+2};r.push(a),t[n]=new gl(a,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(n)}},bl.prototype.patchUpdatedImages=function(e,t){for(var r in e.dispatchRenderCallbacks(this.haveRenderCallbacks),e.updatedImages)this.patchUpdatedImage(this.iconPositions[r],e.getImage(r),t),this.patchUpdatedImage(this.patternPositions[r],e.getImage(r),t)},bl.prototype.patchUpdatedImage=function(e,t,r){if(e&&t&&e.version!==t.version){e.version=t.version;var n=e.tl;r.update(t.data,void 0,{x:n[0],y:n[1]})}},Nn("ImagePosition",gl),Nn("ImageAtlas",bl);var xl={horizontal:1,vertical:2,horizontalOnly:3},wl=function(){this.scale=1,this.fontStack="",this.imageName=null};wl.forText=function(e,t){var r=new wl;return r.scale=e||1,r.fontStack=t,r},wl.forImage=function(e){var t=new wl;return t.imageName=e,t};var Sl=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function Pl(e,t,r,n,i,a,o,s,l,u,c,f,p,h,d,v){var m,y=Sl.fromFeature(e,i);f===xl.vertical&&y.verticalizePunctuation();var g=oi.processBidirectionalText,_=oi.processStyledBidirectionalText;if(g&&1===y.sections.length){m=[];for(var b=0,x=g(y.toString(),Ml(y,u,a,t,n,h,d));b<x.length;b+=1){var w=x[b],S=new Sl;S.text=w,S.sections=y.sections;for(var P=0;P<w.length;P++)S.sectionIndex.push(0);m.push(S)}}else if(_){m=[];for(var k=0,E=_(y.text,y.sectionIndex,Ml(y,u,a,t,n,h,d));k<E.length;k+=1){var C=E[k],A=new Sl;A.text=C[0],A.sectionIndex=C[1],A.sections=y.sections,m.push(A)}}else m=function(e,t){for(var r=[],n=e.text,i=0,a=0,o=t;a<o.length;a+=1){var s=o[a];r.push(e.substring(i,s)),i=s}return i<n.length&&r.push(e.substring(i,n.length)),r}(y,Ml(y,u,a,t,n,h,d));var T=[],O={positionedLines:T,text:y.toString(),top:c[1],bottom:c[1],left:c[0],right:c[0],writingMode:f,iconsInText:!1,verticalizable:!1};return function(e,t,r,n,i,a,o,s,l,u,c,f){for(var p=0,h=-17,d=0,v=0,m="right"===s?1:"left"===s?0:.5,y=0,g=0,_=i;g<_.length;g+=1){var b=_[g];b.trim();var x=b.getMaxScale(),w=24*(x-1),S={positionedGlyphs:[],lineOffset:0};e.positionedLines[y]=S;var P=S.positionedGlyphs,k=0;if(b.length()){for(var E=0;E<b.length();E++){var C=b.getSection(E),A=b.getSectionIndex(E),T=b.getCharCode(E),O=0,M=null,I=null,F=null,R=24,D=!(l===xl.horizontal||!c&&!Hn(T)||c&&(kl[T]||(G=T,Wn.Arabic(G)||Wn["Arabic Supplement"](G)||Wn["Arabic Extended-A"](G)||Wn["Arabic Presentation Forms-A"](G)||Wn["Arabic Presentation Forms-B"](G))));if(C.imageName){var j=n[C.imageName];if(!j)continue;F=C.imageName,e.iconsInText=e.iconsInText||!0,I=j.paddedRect;var L=j.displaySize;C.scale=24*C.scale/f,O=w+(24-L[1]*C.scale),R=(M={width:L[0],height:L[1],left:1,top:-3,advance:D?L[1]:L[0]}).advance;var N=D?L[0]*C.scale-24*x:L[1]*C.scale-24*x;N>0&&N>k&&(k=N)}else{var z=r[C.fontStack],B=z&&z[T];if(B&&B.rect)I=B.rect,M=B.metrics;else{var Z=t[C.fontStack],U=Z&&Z[T];if(!U)continue;M=U.metrics}O=24*(x-C.scale)}D?(e.verticalizable=!0,P.push({glyph:T,imageName:F,x:p,y:h+O,vertical:D,scale:C.scale,fontStack:C.fontStack,sectionIndex:A,metrics:M,rect:I}),p+=R*C.scale+u):(P.push({glyph:T,imageName:F,x:p,y:h+O,vertical:D,scale:C.scale,fontStack:C.fontStack,sectionIndex:A,metrics:M,rect:I}),p+=M.advance*C.scale+u)}0!==P.length&&(d=Math.max(p-u,d),Fl(P,0,P.length-1,m,k)),p=0;var V=a*x+k;S.lineOffset=Math.max(k,w),h+=V,v=Math.max(V,v),++y}else h+=a,++y}var G,W=h- -17,q=Il(o),H=q.horizontalAlign,Y=q.verticalAlign;(function(e,t,r,n,i,a,o,s,l){var u,c=(t-r)*i;u=a!==o?-s*n- -17:(-n*l+.5)*o;for(var f=0,p=e;f<p.length;f+=1)for(var h=0,d=p[f].positionedGlyphs;h<d.length;h+=1){var v=d[h];v.x+=c,v.y+=u}})(e.positionedLines,m,H,Y,d,v,a,W,i.length),e.top+=-Y*W,e.bottom=e.top+W,e.left+=-H*d,e.right=e.left+d}(O,t,r,n,m,o,s,l,f,u,p,v),!function(e){for(var t=0,r=e;t<r.length;t+=1)if(0!==r[t].positionedGlyphs.length)return!1;return!0}(T)&&O}Sl.fromFeature=function(e,t){for(var r=new Sl,n=0;n<e.sections.length;n++){var i=e.sections[n];i.image?r.addImageSection(i):r.addTextSection(i,t)}return r},Sl.prototype.length=function(){return this.text.length},Sl.prototype.getSection=function(e){return this.sections[this.sectionIndex[e]]},Sl.prototype.getSectionIndex=function(e){return this.sectionIndex[e]},Sl.prototype.getCharCode=function(e){return this.text.charCodeAt(e)},Sl.prototype.verticalizePunctuation=function(){this.text=function(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r+1)||null,i=e.charCodeAt(r-1)||null;t+=n&&Yn(n)&&!Hs[e[r+1]]||i&&Yn(i)&&!Hs[e[r-1]]||!Hs[e[r]]?e[r]:Hs[e[r]]}return t}(this.text)},Sl.prototype.trim=function(){for(var e=0,t=0;t<this.text.length&&kl[this.text.charCodeAt(t)];t++)e++;for(var r=this.text.length,n=this.text.length-1;n>=0&&n>=e&&kl[this.text.charCodeAt(n)];n--)r--;this.text=this.text.substring(e,r),this.sectionIndex=this.sectionIndex.slice(e,r)},Sl.prototype.substring=function(e,t){var r=new Sl;return r.text=this.text.substring(e,t),r.sectionIndex=this.sectionIndex.slice(e,t),r.sections=this.sections,r},Sl.prototype.toString=function(){return this.text},Sl.prototype.getMaxScale=function(){var e=this;return this.sectionIndex.reduce((function(t,r){return Math.max(t,e.sections[r].scale)}),0)},Sl.prototype.addTextSection=function(e,t){this.text+=e.text,this.sections.push(wl.forText(e.scale,e.fontStack||t));for(var r=this.sections.length-1,n=0;n<e.text.length;++n)this.sectionIndex.push(r)},Sl.prototype.addImageSection=function(e){var t=e.image?e.image.name:"";if(0!==t.length){var r=this.getNextImageSectionCharCode();r?(this.text+=String.fromCharCode(r),this.sections.push(wl.forImage(t)),this.sectionIndex.push(this.sections.length-1)):S("Reached maximum number of images 6401")}else S("Can't add FormattedSection with an empty image.")},Sl.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var kl={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},El={};function Cl(e,t,r,n,i,a){if(t.imageName){var o=n[t.imageName];return o?o.displaySize[0]*t.scale*24/a+i:0}var s=r[t.fontStack],l=s&&s[e];return l?l.metrics.advance*t.scale+i:0}function Al(e,t,r,n){var i=Math.pow(e-t,2);return n?e<t?i/2:2*i:i+Math.abs(r)*r}function Tl(e,t,r){var n=0;return 10===e&&(n-=1e4),r&&(n+=150),40!==e&&65288!==e||(n+=50),41!==t&&65289!==t||(n+=50),n}function Ol(e,t,r,n,i,a){for(var o=null,s=Al(t,r,i,a),l=0,u=n;l<u.length;l+=1){var c=u[l],f=Al(t-c.x,r,i,a)+c.badness;f<=s&&(o=c,s=f)}return{index:e,x:t,priorBreak:o,badness:s}}function Ml(e,t,r,n,i,a,o){if("point"!==a)return[];if(!e)return[];for(var s,l=[],u=function(e,t,r,n,i,a){for(var o=0,s=0;s<e.length();s++){var l=e.getSection(s);o+=Cl(e.getCharCode(s),l,n,i,t,a)}return o/Math.max(1,Math.ceil(o/r))}(e,t,r,n,i,o),c=e.text.indexOf("\u200b")>=0,f=0,p=0;p<e.length();p++){var h=e.getSection(p),d=e.getCharCode(p);if(kl[d]||(f+=Cl(d,h,n,i,t,o)),p<e.length()-1){var v=!((s=d)<11904||!(Wn["Bopomofo Extended"](s)||Wn.Bopomofo(s)||Wn["CJK Compatibility Forms"](s)||Wn["CJK Compatibility Ideographs"](s)||Wn["CJK Compatibility"](s)||Wn["CJK Radicals Supplement"](s)||Wn["CJK Strokes"](s)||Wn["CJK Symbols and Punctuation"](s)||Wn["CJK Unified Ideographs Extension A"](s)||Wn["CJK Unified Ideographs"](s)||Wn["Enclosed CJK Letters and Months"](s)||Wn["Halfwidth and Fullwidth Forms"](s)||Wn.Hiragana(s)||Wn["Ideographic Description Characters"](s)||Wn["Kangxi Radicals"](s)||Wn["Katakana Phonetic Extensions"](s)||Wn.Katakana(s)||Wn["Vertical Forms"](s)||Wn["Yi Radicals"](s)||Wn["Yi Syllables"](s)));(El[d]||v||h.imageName)&&l.push(Ol(p+1,f,u,l,Tl(d,e.getCharCode(p+1),v&&c),!1))}}return function e(t){return t?e(t.priorBreak).concat(t.index):[]}(Ol(e.length(),f,u,l,0,!0))}function Il(e){var t=.5,r=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":r=1;break;case"top":case"top-right":case"top-left":r=0}return{horizontalAlign:t,verticalAlign:r}}function Fl(e,t,r,n,i){if(n||i)for(var a=e[r],o=(e[r].x+a.metrics.advance*a.scale)*n,s=t;s<=r;s++)e[s].x-=o,e[s].y+=i}function Rl(e,t,r,n,i,a){var o,s=e.image;if(s.content){var l=s.content,u=s.pixelRatio||1;o=[l[0]/u,l[1]/u,s.displaySize[0]-l[2]/u,s.displaySize[1]-l[3]/u]}var c,f,p,h,d=t.left*a,v=t.right*a;"width"===r||"both"===r?(h=i[0]+d-n[3],f=i[0]+v+n[1]):f=(h=i[0]+(d+v-s.displaySize[0])/2)+s.displaySize[0];var m=t.top*a,y=t.bottom*a;return"height"===r||"both"===r?(c=i[1]+m-n[0],p=i[1]+y+n[2]):p=(c=i[1]+(m+y-s.displaySize[1])/2)+s.displaySize[1],{image:s,top:c,right:f,bottom:p,left:h,collisionPadding:o}}El[10]=!0,El[32]=!0,El[38]=!0,El[40]=!0,El[41]=!0,El[43]=!0,El[45]=!0,El[47]=!0,El[173]=!0,El[183]=!0,El[8203]=!0,El[8208]=!0,El[8211]=!0,El[8231]=!0;var Dl=function(e){function t(t,r,n,i){e.call(this,t,r),this.angle=n,void 0!==i&&(this.segment=i)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.clone=function(){return new t(this.x,this.y,this.angle,this.segment)},t}(i);function jl(e,t){var r=t.expression;if("constant"===r.kind)return{kind:"constant",layoutSize:r.evaluate(new si(e+1))};if("source"===r.kind)return{kind:"source"};for(var n=r.zoomStops,i=r.interpolationType,a=0;a<n.length&&n[a]<=e;)a++;for(var o=a=Math.max(0,a-1);o<n.length&&n[o]<e+1;)o++;o=Math.min(n.length-1,o);var s=n[a],l=n[o];return"composite"===r.kind?{kind:"composite",minZoom:s,maxZoom:l,interpolationType:i}:{kind:"camera",minZoom:s,maxZoom:l,minSize:r.evaluate(new si(s)),maxSize:r.evaluate(new si(l)),interpolationType:i}}function Ll(e,t,r){var n=t.uSize,i=r.lowerSize;return"source"===e.kind?i/128:"composite"===e.kind?Gt(i/128,r.upperSize/128,t.uSizeT):n}function Nl(e,t){var r=0,n=0;if("constant"===e.kind)n=e.layoutSize;else if("source"!==e.kind){var i=e.interpolationType,a=i?c(ar.interpolationFactor(i,t,e.minZoom,e.maxZoom),0,1):0;"camera"===e.kind?n=Gt(e.minSize,e.maxSize,a):r=a}return{uSizeT:r,uSize:n}}Nn("Anchor",Dl);var zl=Object.freeze({__proto__:null,getSizeData:jl,evaluateSizeForFeature:Ll,evaluateSizeForZoom:Nl,SIZE_PACK_FACTOR:128});function Bl(e,t,r,n,i){if(void 0===t.segment)return!0;for(var a=t,o=t.segment+1,s=0;s>-r/2;){if(--o<0)return!1;s-=e[o].dist(a),a=e[o]}s+=e[o].dist(e[o+1]),o++;for(var l=[],u=0;s<r/2;){var c=e[o],f=e[o+1];if(!f)return!1;var p=e[o-1].angleTo(c)-c.angleTo(f);for(p=Math.abs((p+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:p}),u+=p;s-l[0].distance>n;)u-=l.shift().angleDelta;if(u>i)return!1;o++,s+=c.dist(f)}return!0}function Zl(e){for(var t=0,r=0;r<e.length-1;r++)t+=e[r].dist(e[r+1]);return t}function Ul(e,t,r){return e?.6*t*r:0}function Vl(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function Gl(e,t,r,n,i,a){for(var o=Ul(r,i,a),s=Vl(r,n)*a,l=0,u=Zl(e)/2,c=0;c<e.length-1;c++){var f=e[c],p=e[c+1],h=f.dist(p);if(l+h>u){var d=(u-l)/h,v=Gt(f.x,p.x,d),m=Gt(f.y,p.y,d),y=new Dl(v,m,p.angleTo(f),c);return y._round(),!o||Bl(e,y,s,o,t)?y:void 0}l+=h}}function Wl(e,t,r,n,i,a,o,s,l){var u=Ul(n,a,o),c=Vl(n,i),f=c*o,p=0===e[0].x||e[0].x===l||0===e[0].y||e[0].y===l;return t-f<t/4&&(t=f+t/4),function e(t,r,n,i,a,o,s,l,u){for(var c=o/2,f=Zl(t),p=0,h=r-n,d=[],v=0;v<t.length-1;v++){for(var m=t[v],y=t[v+1],g=m.dist(y),_=y.angleTo(m);h+n<p+g;){var b=((h+=n)-p)/g,x=Gt(m.x,y.x,b),w=Gt(m.y,y.y,b);if(x>=0&&x<u&&w>=0&&w<u&&h-c>=0&&h+c<=f){var S=new Dl(x,w,_,v);S._round(),i&&!Bl(t,S,o,i,a)||d.push(S)}}p+=g}return l||d.length||s||(d=e(t,p/2,n,i,a,o,s,!0,u)),d}(e,p?t/2*s%t:(c/2+2*a)*o*s%t,t,u,r,f,p,!1,l)}function ql(e,t,r,n,a){for(var o=[],s=0;s<e.length;s++)for(var l=e[s],u=void 0,c=0;c<l.length-1;c++){var f=l[c],p=l[c+1];f.x<t&&p.x<t||(f.x<t?f=new i(t,f.y+(t-f.x)/(p.x-f.x)*(p.y-f.y))._round():p.x<t&&(p=new i(t,f.y+(t-f.x)/(p.x-f.x)*(p.y-f.y))._round()),f.y<r&&p.y<r||(f.y<r?f=new i(f.x+(r-f.y)/(p.y-f.y)*(p.x-f.x),r)._round():p.y<r&&(p=new i(f.x+(r-f.y)/(p.y-f.y)*(p.x-f.x),r)._round()),f.x>=n&&p.x>=n||(f.x>=n?f=new i(n,f.y+(n-f.x)/(p.x-f.x)*(p.y-f.y))._round():p.x>=n&&(p=new i(n,f.y+(n-f.x)/(p.x-f.x)*(p.y-f.y))._round()),f.y>=a&&p.y>=a||(f.y>=a?f=new i(f.x+(a-f.y)/(p.y-f.y)*(p.x-f.x),a)._round():p.y>=a&&(p=new i(f.x+(a-f.y)/(p.y-f.y)*(p.x-f.x),a)._round()),u&&f.equals(u[u.length-1])||o.push(u=[f]),u.push(p)))))}return o}function Hl(e,t,r,n){var a=[],o=e.image,s=o.pixelRatio,l=o.paddedRect.w-2,u=o.paddedRect.h-2,c=e.right-e.left,f=e.bottom-e.top,p=o.stretchX||[[0,l]],h=o.stretchY||[[0,u]],d=function(e,t){return e+t[1]-t[0]},v=p.reduce(d,0),m=h.reduce(d,0),y=l-v,g=u-m,_=0,b=v,x=0,w=m,S=0,P=y,k=0,E=g;if(o.content&&n){var C=o.content;_=Yl(p,0,C[0]),x=Yl(h,0,C[1]),b=Yl(p,C[0],C[2]),w=Yl(h,C[1],C[3]),S=C[0]-_,k=C[1]-x,P=C[2]-C[0]-b,E=C[3]-C[1]-w}var A=function(n,a,l,u){var p=Kl(n.stretch-_,b,c,e.left),h=$l(n.fixed-S,P,n.stretch,v),d=Kl(a.stretch-x,w,f,e.top),y=$l(a.fixed-k,E,a.stretch,m),g=Kl(l.stretch-_,b,c,e.left),C=$l(l.fixed-S,P,l.stretch,v),A=Kl(u.stretch-x,w,f,e.top),T=$l(u.fixed-k,E,u.stretch,m),O=new i(p,d),M=new i(g,d),I=new i(g,A),F=new i(p,A),R=new i(h/s,y/s),D=new i(C/s,T/s),j=t*Math.PI/180;if(j){var L=Math.sin(j),N=Math.cos(j),z=[N,-L,L,N];O._matMult(z),M._matMult(z),F._matMult(z),I._matMult(z)}var B=n.stretch+n.fixed,Z=a.stretch+a.fixed;return{tl:O,tr:M,bl:F,br:I,tex:{x:o.paddedRect.x+1+B,y:o.paddedRect.y+1+Z,w:l.stretch+l.fixed-B,h:u.stretch+u.fixed-Z},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:R,pixelOffsetBR:D,minFontScaleX:P/s/c,minFontScaleY:E/s/f,isSDF:r}};if(n&&(o.stretchX||o.stretchY))for(var T=Xl(p,y,v),O=Xl(h,g,m),M=0;M<T.length-1;M++)for(var I=T[M],F=T[M+1],R=0;R<O.length-1;R++)a.push(A(I,O[R],F,O[R+1]));else a.push(A({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:l+1},{fixed:0,stretch:u+1}));return a}function Yl(e,t,r){for(var n=0,i=0,a=e;i<a.length;i+=1){var o=a[i];n+=Math.max(t,Math.min(r,o[1]))-Math.max(t,Math.min(r,o[0]))}return n}function Xl(e,t,r){for(var n=[{fixed:-1,stretch:0}],i=0,a=e;i<a.length;i+=1){var o=a[i],s=o[0],l=o[1],u=n[n.length-1];n.push({fixed:s-u.stretch,stretch:u.stretch}),n.push({fixed:s-u.stretch,stretch:u.stretch+(l-s)})}return n.push({fixed:t+1,stretch:r}),n}function Kl(e,t,r,n){return e/t*r+n}function $l(e,t,r,n){return e-t*r/n}var Jl=function(e,t,r,n,a,o,s,l,u,c){if(this.boxStartIndex=e.length,u){var f=o.top,p=o.bottom,h=o.collisionPadding;h&&(f-=h[1],p+=h[3]);var d=p-f;d>0&&(d=Math.max(10,d),this.circleDiameter=d)}else{var v=o.top*s-l,m=o.bottom*s+l,y=o.left*s-l,g=o.right*s+l,_=o.collisionPadding;if(_&&(y-=_[0]*s,v-=_[1]*s,g+=_[2]*s,m+=_[3]*s),c){var b=new i(y,v),x=new i(g,v),w=new i(y,m),S=new i(g,m),P=c*Math.PI/180;b._rotate(P),x._rotate(P),w._rotate(P),S._rotate(P),y=Math.min(b.x,x.x,w.x,S.x),g=Math.max(b.x,x.x,w.x,S.x),v=Math.min(b.y,x.y,w.y,S.y),m=Math.max(b.y,x.y,w.y,S.y)}e.emplaceBack(t.x,t.y,y,v,g,m,r,n,a)}this.boxEndIndex=e.length},Ql=function(e,t){if(void 0===e&&(e=[]),void 0===t&&(t=eu),this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(var r=(this.length>>1)-1;r>=0;r--)this._down(r)};function eu(e,t){return e<t?-1:e>t?1:0}function tu(e,t,r){void 0===t&&(t=1),void 0===r&&(r=!1);for(var n=1/0,a=1/0,o=-1/0,s=-1/0,l=e[0],u=0;u<l.length;u++){var c=l[u];(!u||c.x<n)&&(n=c.x),(!u||c.y<a)&&(a=c.y),(!u||c.x>o)&&(o=c.x),(!u||c.y>s)&&(s=c.y)}var f=Math.min(o-n,s-a),p=f/2,h=new Ql([],ru);if(0===f)return new i(n,a);for(var d=n;d<o;d+=f)for(var v=a;v<s;v+=f)h.push(new nu(d+p,v+p,p,e));for(var m=function(e){for(var t=0,r=0,n=0,i=e[0],a=0,o=i.length,s=o-1;a<o;s=a++){var l=i[a],u=i[s],c=l.x*u.y-u.x*l.y;r+=(l.x+u.x)*c,n+=(l.y+u.y)*c,t+=3*c}return new nu(r/t,n/t,0,e)}(e),y=h.length;h.length;){var g=h.pop();(g.d>m.d||!m.d)&&(m=g,r&&console.log("found best %d after %d probes",Math.round(1e4*g.d)/1e4,y)),g.max-m.d<=t||(h.push(new nu(g.p.x-(p=g.h/2),g.p.y-p,p,e)),h.push(new nu(g.p.x+p,g.p.y-p,p,e)),h.push(new nu(g.p.x-p,g.p.y+p,p,e)),h.push(new nu(g.p.x+p,g.p.y+p,p,e)),y+=4)}return r&&(console.log("num probes: "+y),console.log("best distance: "+m.d)),m.p}function ru(e,t){return t.max-e.max}function nu(e,t,r,n){this.p=new i(e,t),this.h=r,this.d=function(e,t){for(var r=!1,n=1/0,i=0;i<t.length;i++)for(var a=t[i],o=0,s=a.length,l=s-1;o<s;l=o++){var u=a[o],c=a[l];u.y>e.y!=c.y>e.y&&e.x<(c.x-u.x)*(e.y-u.y)/(c.y-u.y)+u.x&&(r=!r),n=Math.min(n,Ka(e,u,c))}return(r?1:-1)*Math.sqrt(n)}(this.p,n),this.max=this.d+this.h*Math.SQRT2}Ql.prototype.push=function(e){this.data.push(e),this.length++,this._up(this.length-1)},Ql.prototype.pop=function(){if(0!==this.length){var e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}},Ql.prototype.peek=function(){return this.data[0]},Ql.prototype._up=function(e){for(var t=this.data,r=this.compare,n=t[e];e>0;){var i=e-1>>1,a=t[i];if(r(n,a)>=0)break;t[e]=a,e=i}t[e]=n},Ql.prototype._down=function(e){for(var t=this.data,r=this.compare,n=this.length>>1,i=t[e];e<n;){var a=1+(e<<1),o=t[a],s=a+1;if(s<this.length&&r(t[s],o)<0&&(a=s,o=t[s]),r(o,i)>=0)break;t[e]=o,e=a}t[e]=i};var iu=Number.POSITIVE_INFINITY;function au(e,t){return t[1]!==iu?function(e,t,r){var n=0,i=0;switch(t=Math.abs(t),r=Math.abs(r),e){case"top-right":case"top-left":case"top":i=r-7;break;case"bottom-right":case"bottom-left":case"bottom":i=7-r}switch(e){case"top-right":case"bottom-right":case"right":n=-t;break;case"top-left":case"bottom-left":case"left":n=t}return[n,i]}(e,t[0],t[1]):function(e,t){var r=0,n=0;t<0&&(t=0);var i=t/Math.sqrt(2);switch(e){case"top-right":case"top-left":n=i-7;break;case"bottom-right":case"bottom-left":n=7-i;break;case"bottom":n=7-t;break;case"top":n=t-7}switch(e){case"top-right":case"bottom-right":r=-i;break;case"top-left":case"bottom-left":r=i;break;case"left":r=t;break;case"right":r=-t}return[r,n]}(e,t[0])}function ou(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function su(e,t,r,n,a,o,s,l,u,c,f,p,h,d,v){var m=function(e,t,r,n,a,o,s,l){for(var u=n.layout.get("text-rotate").evaluate(o,{})*Math.PI/180,c=[],f=0,p=t.positionedLines;f<p.length;f+=1)for(var h=p[f],d=0,v=h.positionedGlyphs;d<v.length;d+=1){var m=v[d];if(m.rect){var y=m.rect||{},g=4,_=!0,b=1,x=0,w=(a||l)&&m.vertical,S=m.metrics.advance*m.scale/2;if(l&&t.verticalizable&&(x=h.lineOffset/2-(m.imageName?-(24-m.metrics.width*m.scale)/2:24*(m.scale-1))),m.imageName){var P=s[m.imageName];_=P.sdf,g=1/(b=P.pixelRatio)}var k=a?[m.x+S,m.y]:[0,0],E=a?[0,0]:[m.x+S+r[0],m.y+r[1]-x],C=[0,0];w&&(C=E,E=[0,0]);var A=(m.metrics.left-g)*m.scale-S+E[0],T=(-m.metrics.top-g)*m.scale+E[1],O=A+y.w*m.scale/b,M=T+y.h*m.scale/b,I=new i(A,T),F=new i(O,T),R=new i(A,M),D=new i(O,M);if(w){var j=new i(-S,S- -17),L=-Math.PI/2,N=12-S,z=new i(22-N,-(m.imageName?N:0)),B=new(Function.prototype.bind.apply(i,[null].concat(C)));I._rotateAround(L,j)._add(z)._add(B),F._rotateAround(L,j)._add(z)._add(B),R._rotateAround(L,j)._add(z)._add(B),D._rotateAround(L,j)._add(z)._add(B)}if(u){var Z=Math.sin(u),U=Math.cos(u),V=[U,-Z,Z,U];I._matMult(V),F._matMult(V),R._matMult(V),D._matMult(V)}var G=new i(0,0),W=new i(0,0);c.push({tl:I,tr:F,bl:R,br:D,tex:y,writingMode:t.writingMode,glyphOffset:k,sectionIndex:m.sectionIndex,isSDF:_,pixelOffsetTL:G,pixelOffsetBR:W,minFontScaleX:0,minFontScaleY:0})}}return c}(0,r,l,a,o,s,n,e.allowVerticalPlacement),y=e.textSizeData,g=null;"source"===y.kind?(g=[128*a.layout.get("text-size").evaluate(s,{})])[0]>32640&&S(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===y.kind&&((g=[128*d.compositeTextSizes[0].evaluate(s,{},v),128*d.compositeTextSizes[1].evaluate(s,{},v)])[0]>32640||g[1]>32640)&&S(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),e.addSymbols(e.text,m,g,l,o,s,c,t,u.lineStartIndex,u.lineLength,h,v);for(var _=0,b=f;_<b.length;_+=1)p[b[_]]=e.text.placedSymbolArray.length-1;return 4*m.length}function lu(e){for(var t in e)return e[t];return null}function uu(e,t,r,n){var i=e.compareText;if(t in i){for(var a=i[t],o=a.length-1;o>=0;o--)if(n.dist(a[o])<r)return!0}else i[t]=[];return i[t].push(n),!1}var cu=bs.VectorTileFeature.types,fu=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function pu(e,t,r,n,i,a,o,s,l,u,c,f,p){var h=s?Math.min(32640,Math.round(s[0])):0,d=s?Math.min(32640,Math.round(s[1])):0;e.emplaceBack(t,r,Math.round(32*n),Math.round(32*i),a,o,(h<<1)+(l?1:0),d,16*u,16*c,256*f,256*p)}function hu(e,t,r){e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r)}function du(e){for(var t=0,r=e.sections;t<r.length;t+=1)if($n(r[t].text))return!0;return!1}var vu=function(e){this.layoutVertexArray=new Ri,this.indexArray=new Zi,this.programConfigurations=e,this.segments=new sa,this.dynamicLayoutVertexArray=new Di,this.opacityVertexArray=new ji,this.placedSymbolArray=new Qi};vu.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},vu.prototype.upload=function(e,t,r,n){this.isEmpty()||(r&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Zs.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,Us.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,fu,!0),this.opacityVertexBuffer.itemSize=1),(r||n)&&this.programConfigurations.upload(e))},vu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Nn("SymbolBuffers",vu);var mu=function(e,t,r){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new r,this.segments=new sa,this.collisionVertexArray=new Bi};mu.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,Vs.members,!0)},mu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Nn("CollisionBuffers",mu);var yu=function(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=oo([]),this.placementViewportMatrix=oo([]);var t=this.layers[0]._unevaluatedLayout._values;this.textSizeData=jl(this.zoom,t["text-size"]),this.iconSizeData=jl(this.zoom,t["icon-size"]);var r=this.layers[0].layout,n=r.get("symbol-sort-key"),i=r.get("symbol-z-order");this.canOverlap=r.get("text-allow-overlap")||r.get("icon-allow-overlap")||r.get("text-ignore-placement")||r.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==i&&void 0!==n.constantOr(1),this.sortFeaturesByY=("viewport-y"===i||"auto"===i&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===r.get("symbol-placement")&&(this.writingModes=r.get("text-writing-mode").map((function(e){return xl[e]}))),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id})),this.sourceID=e.sourceID};yu.prototype.createArrays=function(){this.text=new vu(new Ra(this.layers,this.zoom,(function(e){return/^text/.test(e)}))),this.icon=new vu(new Ra(this.layers,this.zoom,(function(e){return/^icon/.test(e)}))),this.glyphOffsetArray=new ra,this.lineVertexArray=new na,this.symbolInstances=new ta},yu.prototype.calculateGlyphDependencies=function(e,t,r,n,i){for(var a=0;a<e.length;a++)if(t[e.charCodeAt(a)]=!0,(r||n)&&i){var o=Hs[e.charAt(a)];o&&(t[o.charCodeAt(0)]=!0)}},yu.prototype.populate=function(e,t,r){var n=this.layers[0],i=n.layout,a=i.get("text-font"),o=i.get("text-field"),s=i.get("icon-image"),l=("constant"!==o.value.kind||o.value.value instanceof nt&&!o.value.value.isEmpty()||o.value.value.toString().length>0)&&("constant"!==a.value.kind||a.value.value.length>0),u="constant"!==s.value.kind||!!s.value.value||Object.keys(s.parameters).length>0,c=i.get("symbol-sort-key");if(this.features=[],l||u){for(var f=t.iconDependencies,p=t.glyphDependencies,h=t.availableImages,d=new si(this.zoom),v=0,m=e;v<m.length;v+=1){var y=m[v],g=y.feature,_=y.id,b=y.index,x=y.sourceLayerIndex,w=n._featureFilter.needGeometry,S=Ba(g,w);if(n._featureFilter.filter(d,S,r)){w||(S.geometry=za(g));var P=void 0;if(l){var k=n.getValueAndResolveTokens("text-field",S,r,h),E=nt.factory(k);du(E)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===ii()||this.hasRTLText&&oi.isParsed())&&(P=qs(E,n,S))}var C=void 0;if(u){var A=n.getValueAndResolveTokens("icon-image",S,r,h);C=A instanceof it?A:it.fromString(A)}if(P||C){var T=this.sortFeaturesByKey?c.evaluate(S,{},r):void 0;if(this.features.push({id:_,text:P,icon:C,index:b,sourceLayerIndex:x,geometry:S.geometry,properties:g.properties,type:cu[g.type],sortKey:T}),C&&(f[C.name]=!0),P){var O=a.evaluate(S,{},r).join(","),M="map"===i.get("text-rotation-alignment")&&"point"!==i.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(xl.vertical)>=0;for(var I=0,F=P.sections;I<F.length;I+=1){var R=F[I];if(R.image)f[R.image.name]=!0;else{var D=qn(P.toString()),j=R.fontStack||O,L=p[j]=p[j]||{};this.calculateGlyphDependencies(R.text,L,M,this.allowVerticalPlacement,D)}}}}}}"line"===i.get("symbol-placement")&&(this.features=function(e){var t={},r={},n=[],i=0;function a(t){n.push(e[t]),i++}function o(e,t,i){var a=r[e];return delete r[e],r[t]=a,n[a].geometry[0].pop(),n[a].geometry[0]=n[a].geometry[0].concat(i[0]),a}function s(e,r,i){var a=t[r];return delete t[r],t[e]=a,n[a].geometry[0].shift(),n[a].geometry[0]=i[0].concat(n[a].geometry[0]),a}function l(e,t,r){var n=r?t[0][t[0].length-1]:t[0][0];return e+":"+n.x+":"+n.y}for(var u=0;u<e.length;u++){var c=e[u],f=c.geometry,p=c.text?c.text.toString():null;if(p){var h=l(p,f),d=l(p,f,!0);if(h in r&&d in t&&r[h]!==t[d]){var v=s(h,d,f),m=o(h,d,n[v].geometry);delete t[h],delete r[d],r[l(p,n[m].geometry,!0)]=m,n[v].geometry=null}else h in r?o(h,d,f):d in t?s(h,d,f):(a(u),t[h]=i-1,r[d]=i-1)}else a(u)}return n.filter((function(e){return e.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(e,t){return e.sortKey-t.sortKey}))}},yu.prototype.update=function(e,t,r){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,r),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,r))},yu.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},yu.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},yu.prototype.upload=function(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},yu.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},yu.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},yu.prototype.addToLineVertexArray=function(e,t){var r=this.lineVertexArray.length;if(void 0!==e.segment){for(var n=e.dist(t[e.segment+1]),i=e.dist(t[e.segment]),a={},o=e.segment+1;o<t.length;o++)a[o]={x:t[o].x,y:t[o].y,tileUnitDistanceFromAnchor:n},o<t.length-1&&(n+=t[o+1].dist(t[o]));for(var s=e.segment||0;s>=0;s--)a[s]={x:t[s].x,y:t[s].y,tileUnitDistanceFromAnchor:i},s>0&&(i+=t[s-1].dist(t[s]));for(var l=0;l<t.length;l++){var u=a[l];this.lineVertexArray.emplaceBack(u.x,u.y,u.tileUnitDistanceFromAnchor)}}return{lineStartIndex:r,lineLength:this.lineVertexArray.length-r}},yu.prototype.addSymbols=function(e,t,r,n,i,a,o,s,l,u,c,f){for(var p=e.indexArray,h=e.layoutVertexArray,d=e.segments.prepareSegment(4*t.length,h,p,this.canOverlap?a.sortKey:void 0),v=this.glyphOffsetArray.length,m=d.vertexLength,y=this.allowVerticalPlacement&&o===xl.vertical?Math.PI/2:0,g=a.text&&a.text.sections,_=0;_<t.length;_++){var b=t[_],x=b.tl,w=b.tr,S=b.bl,P=b.br,k=b.tex,E=b.pixelOffsetTL,C=b.pixelOffsetBR,A=b.minFontScaleX,T=b.minFontScaleY,O=b.glyphOffset,M=b.isSDF,I=b.sectionIndex,F=d.vertexLength,R=O[1];pu(h,s.x,s.y,x.x,R+x.y,k.x,k.y,r,M,E.x,E.y,A,T),pu(h,s.x,s.y,w.x,R+w.y,k.x+k.w,k.y,r,M,C.x,E.y,A,T),pu(h,s.x,s.y,S.x,R+S.y,k.x,k.y+k.h,r,M,E.x,C.y,A,T),pu(h,s.x,s.y,P.x,R+P.y,k.x+k.w,k.y+k.h,r,M,C.x,C.y,A,T),hu(e.dynamicLayoutVertexArray,s,y),p.emplaceBack(F,F+1,F+2),p.emplaceBack(F+1,F+2,F+3),d.vertexLength+=4,d.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(O[0]),_!==t.length-1&&I===t[_+1].sectionIndex||e.programConfigurations.populatePaintArrays(h.length,a,a.index,{},f,g&&g[I])}e.placedSymbolArray.emplaceBack(s.x,s.y,v,this.glyphOffsetArray.length-v,m,l,u,s.segment,r?r[0]:0,r?r[1]:0,n[0],n[1],o,0,!1,0,c)},yu.prototype._addCollisionDebugVertex=function(e,t,r,n,i,a){return t.emplaceBack(0,0),e.emplaceBack(r.x,r.y,n,i,Math.round(a.x),Math.round(a.y))},yu.prototype.addCollisionDebugVertices=function(e,t,r,n,a,o,s){var l=a.segments.prepareSegment(4,a.layoutVertexArray,a.indexArray),u=l.vertexLength,c=a.layoutVertexArray,f=a.collisionVertexArray,p=s.anchorX,h=s.anchorY;this._addCollisionDebugVertex(c,f,o,p,h,new i(e,t)),this._addCollisionDebugVertex(c,f,o,p,h,new i(r,t)),this._addCollisionDebugVertex(c,f,o,p,h,new i(r,n)),this._addCollisionDebugVertex(c,f,o,p,h,new i(e,n)),l.vertexLength+=4;var d=a.indexArray;d.emplaceBack(u,u+1),d.emplaceBack(u+1,u+2),d.emplaceBack(u+2,u+3),d.emplaceBack(u+3,u),l.primitiveLength+=4},yu.prototype.addDebugCollisionBoxes=function(e,t,r,n){for(var i=e;i<t;i++){var a=this.collisionBoxArray.get(i);this.addCollisionDebugVertices(a.x1,a.y1,a.x2,a.y2,n?this.textCollisionBox:this.iconCollisionBox,a.anchorPoint,r)}},yu.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new mu(Ni,Gs.members,Hi),this.iconCollisionBox=new mu(Ni,Gs.members,Hi);for(var e=0;e<this.symbolInstances.length;e++){var t=this.symbolInstances.get(e);this.addDebugCollisionBoxes(t.textBoxStartIndex,t.textBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.verticalTextBoxStartIndex,t.verticalTextBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.iconBoxStartIndex,t.iconBoxEndIndex,t,!1),this.addDebugCollisionBoxes(t.verticalIconBoxStartIndex,t.verticalIconBoxEndIndex,t,!1)}},yu.prototype._deserializeCollisionBoxesForSymbol=function(e,t,r,n,i,a,o,s,l){for(var u={},c=t;c<r;c++){var f=e.get(c);u.textBox={x1:f.x1,y1:f.y1,x2:f.x2,y2:f.y2,anchorPointX:f.anchorPointX,anchorPointY:f.anchorPointY},u.textFeatureIndex=f.featureIndex;break}for(var p=n;p<i;p++){var h=e.get(p);u.verticalTextBox={x1:h.x1,y1:h.y1,x2:h.x2,y2:h.y2,anchorPointX:h.anchorPointX,anchorPointY:h.anchorPointY},u.verticalTextFeatureIndex=h.featureIndex;break}for(var d=a;d<o;d++){var v=e.get(d);u.iconBox={x1:v.x1,y1:v.y1,x2:v.x2,y2:v.y2,anchorPointX:v.anchorPointX,anchorPointY:v.anchorPointY},u.iconFeatureIndex=v.featureIndex;break}for(var m=s;m<l;m++){var y=e.get(m);u.verticalIconBox={x1:y.x1,y1:y.y1,x2:y.x2,y2:y.y2,anchorPointX:y.anchorPointX,anchorPointY:y.anchorPointY},u.verticalIconFeatureIndex=y.featureIndex;break}return u},yu.prototype.deserializeCollisionBoxes=function(e){this.collisionArrays=[];for(var t=0;t<this.symbolInstances.length;t++){var r=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,r.textBoxStartIndex,r.textBoxEndIndex,r.verticalTextBoxStartIndex,r.verticalTextBoxEndIndex,r.iconBoxStartIndex,r.iconBoxEndIndex,r.verticalIconBoxStartIndex,r.verticalIconBoxEndIndex))}},yu.prototype.hasTextData=function(){return this.text.segments.get().length>0},yu.prototype.hasIconData=function(){return this.icon.segments.get().length>0},yu.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},yu.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},yu.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},yu.prototype.addIndicesForPlacedSymbol=function(e,t){for(var r=e.placedSymbolArray.get(t),n=r.vertexStartIndex+4*r.numGlyphs,i=r.vertexStartIndex;i<n;i+=4)e.indexArray.emplaceBack(i,i+1,i+2),e.indexArray.emplaceBack(i+1,i+2,i+3)},yu.prototype.getSortedSymbolIndexes=function(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var t=Math.sin(e),r=Math.cos(e),n=[],i=[],a=[],o=0;o<this.symbolInstances.length;++o){a.push(o);var s=this.symbolInstances.get(o);n.push(0|Math.round(t*s.anchorX+r*s.anchorY)),i.push(s.featureIndex)}return a.sort((function(e,t){return n[e]-n[t]||i[t]-i[e]})),a},yu.prototype.addToSortKeyRanges=function(e,t){var r=this.sortKeyRanges[this.sortKeyRanges.length-1];r&&r.sortKey===t?r.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})},yu.prototype.sortFeatures=function(e){var t=this;if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var r=0,n=this.symbolInstanceIndexes;r<n.length;r+=1){var i=this.symbolInstances.get(n[r]);this.featureSortOrder.push(i.featureIndex),[i.rightJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.leftJustifiedTextSymbolIndex].forEach((function(e,r,n){e>=0&&n.indexOf(e)===r&&t.addIndicesForPlacedSymbol(t.text,e)})),i.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,i.verticalPlacedTextSymbolIndex),i.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.placedIconSymbolIndex),i.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Nn("SymbolBucket",yu,{omit:["layers","collisionBoxArray","features","compareText"]}),yu.MAX_GLYPHS=65535,yu.addDynamicAttributes=hu;var gu=new xi({"symbol-placement":new mi(Te.layout_symbol["symbol-placement"]),"symbol-spacing":new mi(Te.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new mi(Te.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new yi(Te.layout_symbol["symbol-sort-key"]),"symbol-z-order":new mi(Te.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new mi(Te.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new mi(Te.layout_symbol["icon-ignore-placement"]),"icon-optional":new mi(Te.layout_symbol["icon-optional"]),"icon-rotation-alignment":new mi(Te.layout_symbol["icon-rotation-alignment"]),"icon-size":new yi(Te.layout_symbol["icon-size"]),"icon-text-fit":new mi(Te.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new mi(Te.layout_symbol["icon-text-fit-padding"]),"icon-image":new yi(Te.layout_symbol["icon-image"]),"icon-rotate":new yi(Te.layout_symbol["icon-rotate"]),"icon-padding":new mi(Te.layout_symbol["icon-padding"]),"icon-keep-upright":new mi(Te.layout_symbol["icon-keep-upright"]),"icon-offset":new yi(Te.layout_symbol["icon-offset"]),"icon-anchor":new yi(Te.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new mi(Te.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new mi(Te.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new mi(Te.layout_symbol["text-rotation-alignment"]),"text-field":new yi(Te.layout_symbol["text-field"]),"text-font":new yi(Te.layout_symbol["text-font"]),"text-size":new yi(Te.layout_symbol["text-size"]),"text-max-width":new yi(Te.layout_symbol["text-max-width"]),"text-line-height":new mi(Te.layout_symbol["text-line-height"]),"text-letter-spacing":new yi(Te.layout_symbol["text-letter-spacing"]),"text-justify":new yi(Te.layout_symbol["text-justify"]),"text-radial-offset":new yi(Te.layout_symbol["text-radial-offset"]),"text-variable-anchor":new mi(Te.layout_symbol["text-variable-anchor"]),"text-anchor":new yi(Te.layout_symbol["text-anchor"]),"text-max-angle":new mi(Te.layout_symbol["text-max-angle"]),"text-writing-mode":new mi(Te.layout_symbol["text-writing-mode"]),"text-rotate":new yi(Te.layout_symbol["text-rotate"]),"text-padding":new mi(Te.layout_symbol["text-padding"]),"text-keep-upright":new mi(Te.layout_symbol["text-keep-upright"]),"text-transform":new yi(Te.layout_symbol["text-transform"]),"text-offset":new yi(Te.layout_symbol["text-offset"]),"text-allow-overlap":new mi(Te.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new mi(Te.layout_symbol["text-ignore-placement"]),"text-optional":new mi(Te.layout_symbol["text-optional"])}),_u={paint:new xi({"icon-opacity":new yi(Te.paint_symbol["icon-opacity"]),"icon-color":new yi(Te.paint_symbol["icon-color"]),"icon-halo-color":new yi(Te.paint_symbol["icon-halo-color"]),"icon-halo-width":new yi(Te.paint_symbol["icon-halo-width"]),"icon-halo-blur":new yi(Te.paint_symbol["icon-halo-blur"]),"icon-translate":new mi(Te.paint_symbol["icon-translate"]),"icon-translate-anchor":new mi(Te.paint_symbol["icon-translate-anchor"]),"text-opacity":new yi(Te.paint_symbol["text-opacity"]),"text-color":new yi(Te.paint_symbol["text-color"],{runtimeType:Ze,getOverride:function(e){return e.textColor},hasOverride:function(e){return!!e.textColor}}),"text-halo-color":new yi(Te.paint_symbol["text-halo-color"]),"text-halo-width":new yi(Te.paint_symbol["text-halo-width"]),"text-halo-blur":new yi(Te.paint_symbol["text-halo-blur"]),"text-translate":new mi(Te.paint_symbol["text-translate"]),"text-translate-anchor":new mi(Te.paint_symbol["text-translate-anchor"])}),layout:gu},bu=function(e){this.type=e.property.overrides?e.property.overrides.runtimeType:Le,this.defaultValue=e};bu.prototype.evaluate=function(e){if(e.formattedSection){var t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default},bu.prototype.eachChild=function(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)},bu.prototype.outputDefined=function(){return!1},bu.prototype.serialize=function(){return null},Nn("FormatSectionOverride",bu,{omit:["defaultValue"]});var xu=function(e){function t(t){e.call(this,t,_u)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.recalculate=function(t,r){if(e.prototype.recalculate.call(this,t,r),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var n=this.layout.get("text-writing-mode");if(n){for(var i=[],a=0,o=n;a<o.length;a+=1){var s=o[a];i.indexOf(s)<0&&i.push(s)}this.layout._values["text-writing-mode"]=i}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},t.prototype.getValueAndResolveTokens=function(e,t,r,n){var i=this.layout.get(e).evaluate(t,{},r,n),a=this._unevaluatedLayout._values[e];return a.isDataDriven()||Wr(a.value)||!i?i:function(e,t){return t.replace(/{([^{}]+)}/g,(function(t,r){return r in e?String(e[r]):""}))}(t.properties,i)},t.prototype.createBucket=function(e){return new yu(e)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype._setPaintOverrides=function(){for(var e=0,r=_u.paint.overridableProperties;e<r.length;e+=1){var n=r[e];if(t.hasPaintOverride(this.layout,n)){var i,a=this.paint.get(n),o=new bu(a),s=new Gr(o,a.property.specification);i="constant"===a.value.kind||"source"===a.value.kind?new Hr("source",s):new Yr("composite",s,a.value.zoomStops,a.value._interpolationType),this.paint._values[n]=new di(a.property,i,a.parameters)}}},t.prototype._handleOverridablePaintPropertyUpdate=function(e,r,n){return!(!this.layout||r.isDataDriven()||n.isDataDriven())&&t.hasPaintOverride(this.layout,e)},t.hasPaintOverride=function(e,t){var r=e.get("text-field"),n=_u.paint.properties[t],i=!1,a=function(e){for(var t=0,r=e;t<r.length;t+=1)if(n.overrides&&n.overrides.hasOverride(r[t]))return void(i=!0)};if("constant"===r.value.kind&&r.value.value instanceof nt)a(r.value.value.sections);else if("source"===r.value.kind){var o=function e(t){i||(t instanceof ut&&st(t.value)===We?a(t.value.sections):t instanceof ht?a(t.sections):t.eachChild(e))},s=r.value;s._styleExpression&&o(s._styleExpression.expression)}return i},t}(wi),wu={paint:new xi({"background-color":new mi(Te.paint_background["background-color"]),"background-pattern":new _i(Te.paint_background["background-pattern"]),"background-opacity":new mi(Te.paint_background["background-opacity"])})},Su=function(e){function t(t){e.call(this,t,wu)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(wi),Pu={paint:new xi({"raster-opacity":new mi(Te.paint_raster["raster-opacity"]),"raster-hue-rotate":new mi(Te.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new mi(Te.paint_raster["raster-brightness-min"]),"raster-brightness-max":new mi(Te.paint_raster["raster-brightness-max"]),"raster-saturation":new mi(Te.paint_raster["raster-saturation"]),"raster-contrast":new mi(Te.paint_raster["raster-contrast"]),"raster-resampling":new mi(Te.paint_raster["raster-resampling"]),"raster-fade-duration":new mi(Te.paint_raster["raster-fade-duration"])})},ku=function(e){function t(t){e.call(this,t,Pu)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(wi),Eu=function(e){function t(t){e.call(this,t,{}),this.implementation=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},t.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},t.prototype.recalculate=function(){},t.prototype.updateTransitions=function(){},t.prototype.hasTransition=function(){},t.prototype.serialize=function(){},t.prototype.onAdd=function(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)},t.prototype.onRemove=function(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)},t}(wi),Cu={circle:fo,heatmap:wo,hillshade:Po,fill:cs,"fill-extrusion":Cs,line:zs,symbol:xu,background:Su,raster:ku},Au=o.HTMLImageElement,Tu=o.HTMLCanvasElement,Ou=o.HTMLVideoElement,Mu=o.ImageData,Iu=o.ImageBitmap,Fu=function(e,t,r,n){this.context=e,this.format=r,this.texture=e.gl.createTexture(),this.update(t,n)};Fu.prototype.update=function(e,t,r){var n=e.width,i=e.height,a=!(this.size&&this.size[0]===n&&this.size[1]===i||r),o=this.context,s=o.gl;if(this.useMipmap=Boolean(t&&t.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),o.pixelStoreUnpackFlipY.set(!1),o.pixelStoreUnpack.set(1),o.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!t||!1!==t.premultiply)),a)this.size=[n,i],e instanceof Au||e instanceof Tu||e instanceof Ou||e instanceof Mu||Iu&&e instanceof Iu?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,e):s.texImage2D(s.TEXTURE_2D,0,this.format,n,i,0,this.format,s.UNSIGNED_BYTE,e.data);else{var l=r||{x:0,y:0},u=l.x,c=l.y;e instanceof Au||e instanceof Tu||e instanceof Ou||e instanceof Mu||Iu&&e instanceof Iu?s.texSubImage2D(s.TEXTURE_2D,0,u,c,s.RGBA,s.UNSIGNED_BYTE,e):s.texSubImage2D(s.TEXTURE_2D,0,u,c,n,i,s.RGBA,s.UNSIGNED_BYTE,e.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)},Fu.prototype.bind=function(e,t,r){var n=this.context.gl;n.bindTexture(n.TEXTURE_2D,this.texture),r!==n.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(r=n.LINEAR),e!==this.filter&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,r||e),this.filter=e),t!==this.wrap&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,t),this.wrap=t)},Fu.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Fu.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Ru=function(e){var t=this;this._callback=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){t._triggered=!1,t._callback()})};Ru.prototype.trigger=function(){var e=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){e._triggered=!1,e._callback()}),0))},Ru.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Du=function(e,t,r){this.target=e,this.parent=t,this.mapId=r,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},y(["receive","process"],this),this.invoker=new Ru(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=E()?e:o};function ju(e,t,r){var n=2*Math.PI*6378137/256/Math.pow(2,r);return[e*n-2*Math.PI*6378137/2,t*n-2*Math.PI*6378137/2]}Du.prototype.send=function(e,t,r,n,i){var a=this;void 0===i&&(i=!1);var o=Math.round(1e18*Math.random()).toString(36).substring(0,10);r&&(this.callbacks[o]=r);var s=T(this.globalScope)?void 0:[];return this.target.postMessage({id:o,type:e,hasCallback:!!r,targetMapId:n,mustQueue:i,sourceMapId:this.mapId,data:Un(t,s)},s),{cancel:function(){r&&delete a.callbacks[o],a.target.postMessage({id:o,type:"<cancel>",targetMapId:n,sourceMapId:a.mapId})}}},Du.prototype.receive=function(e){var t=e.data,r=t.id;if(r&&(!t.targetMapId||this.mapId===t.targetMapId))if("<cancel>"===t.type){delete this.tasks[r];var n=this.cancelCallbacks[r];delete this.cancelCallbacks[r],n&&n()}else E()||t.mustQueue?(this.tasks[r]=t,this.taskQueue.push(r),this.invoker.trigger()):this.processTask(r,t)},Du.prototype.process=function(){if(this.taskQueue.length){var e=this.taskQueue.shift(),t=this.tasks[e];delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),t&&this.processTask(e,t)}},Du.prototype.processTask=function(e,t){var r=this;if("<response>"===t.type){var n=this.callbacks[e];delete this.callbacks[e],n&&(t.error?n(Vn(t.error)):n(null,Vn(t.data)))}else{var i=!1,a=T(this.globalScope)?void 0:[],o=t.hasCallback?function(t,n){i=!0,delete r.cancelCallbacks[e],r.target.postMessage({id:e,type:"<response>",sourceMapId:r.mapId,error:t?Un(t):null,data:Un(n,a)},a)}:function(e){i=!0},s=null,l=Vn(t.data);if(this.parent[t.type])s=this.parent[t.type](t.sourceMapId,l,o);else if(this.parent.getWorkerSource){var u=t.type.split(".");s=this.parent.getWorkerSource(t.sourceMapId,u[0],l.source)[u[1]](l,o)}else o(new Error("Could not find function "+t.type));!i&&s&&s.cancel&&(this.cancelCallbacks[e]=s.cancel)}},Du.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Lu=function(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))};Lu.prototype.setNorthEast=function(e){return this._ne=e instanceof Nu?new Nu(e.lng,e.lat):Nu.convert(e),this},Lu.prototype.setSouthWest=function(e){return this._sw=e instanceof Nu?new Nu(e.lng,e.lat):Nu.convert(e),this},Lu.prototype.extend=function(e){var t,r,n=this._sw,i=this._ne;if(e instanceof Nu)t=e,r=e;else{if(!(e instanceof Lu))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(Lu.convert(e)):this.extend(Nu.convert(e)):this;if(r=e._ne,!(t=e._sw)||!r)return this}return n||i?(n.lng=Math.min(t.lng,n.lng),n.lat=Math.min(t.lat,n.lat),i.lng=Math.max(r.lng,i.lng),i.lat=Math.max(r.lat,i.lat)):(this._sw=new Nu(t.lng,t.lat),this._ne=new Nu(r.lng,r.lat)),this},Lu.prototype.getCenter=function(){return new Nu((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Lu.prototype.getSouthWest=function(){return this._sw},Lu.prototype.getNorthEast=function(){return this._ne},Lu.prototype.getNorthWest=function(){return new Nu(this.getWest(),this.getNorth())},Lu.prototype.getSouthEast=function(){return new Nu(this.getEast(),this.getSouth())},Lu.prototype.getWest=function(){return this._sw.lng},Lu.prototype.getSouth=function(){return this._sw.lat},Lu.prototype.getEast=function(){return this._ne.lng},Lu.prototype.getNorth=function(){return this._ne.lat},Lu.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Lu.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Lu.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Lu.prototype.contains=function(e){var t=Nu.convert(e),r=t.lng,n=t.lat,i=this._sw.lng<=r&&r<=this._ne.lng;return this._sw.lng>this._ne.lng&&(i=this._sw.lng>=r&&r>=this._ne.lng),this._sw.lat<=n&&n<=this._ne.lat&&i},Lu.convert=function(e){return!e||e instanceof Lu?e:new Lu(e)};var Nu=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid LngLat object: ("+e+", "+t+")");if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Nu.prototype.wrap=function(){return new Nu(f(this.lng,-180,180),this.lat)},Nu.prototype.toArray=function(){return[this.lng,this.lat]},Nu.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Nu.prototype.distanceTo=function(e){var t=Math.PI/180,r=this.lat*t,n=e.lat*t,i=Math.sin(r)*Math.sin(n)+Math.cos(r)*Math.cos(n)*Math.cos((e.lng-this.lng)*t);return 6371008.8*Math.acos(Math.min(i,1))},Nu.prototype.toBounds=function(e){void 0===e&&(e=0);var t=360*e/40075017,r=t/Math.cos(Math.PI/180*this.lat);return new Lu(new Nu(this.lng-r,this.lat-t),new Nu(this.lng+r,this.lat+t))},Nu.convert=function(e){if(e instanceof Nu)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new Nu(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new Nu(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var zu=2*Math.PI*6371008.8;function Bu(e){return zu*Math.cos(e*Math.PI/180)}function Zu(e){return(180+e)/360}function Uu(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function Vu(e,t){return e/Bu(t)}function Gu(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}var Wu=function(e,t,r){void 0===r&&(r=0),this.x=+e,this.y=+t,this.z=+r};Wu.fromLngLat=function(e,t){void 0===t&&(t=0);var r=Nu.convert(e);return new Wu(Zu(r.lng),Uu(r.lat),Vu(t,r.lat))},Wu.prototype.toLngLat=function(){return new Nu(360*this.x-180,Gu(this.y))},Wu.prototype.toAltitude=function(){return this.z*Bu(Gu(this.y))},Wu.prototype.meterInMercatorCoordinateUnits=function(){return 1/zu*(e=Gu(this.y),1/Math.cos(e*Math.PI/180));var e};var qu=function(e,t,r){this.z=e,this.x=t,this.y=r,this.key=Xu(0,e,e,t,r)};qu.prototype.equals=function(e){return this.z===e.z&&this.x===e.x&&this.y===e.y},qu.prototype.url=function(e,t){var r,n,i,a,o,s=(n=this.y,i=this.z,a=ju(256*(r=this.x),256*(n=Math.pow(2,i)-n-1),i),o=ju(256*(r+1),256*(n+1),i),a[0]+","+a[1]+","+o[0]+","+o[1]),l=function(e,t,r){for(var n,i="",a=e;a>0;a--)i+=(t&(n=1<<a-1)?1:0)+(r&n?2:0);return i}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",l).replace("{bbox-epsg-3857}",s)},qu.prototype.getTilePoint=function(e){var t=Math.pow(2,this.z);return new i(8192*(e.x*t-this.x),8192*(e.y*t-this.y))},qu.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Hu=function(e,t){this.wrap=e,this.canonical=t,this.key=Xu(e,t.z,t.z,t.x,t.y)},Yu=function(e,t,r,n,i){this.overscaledZ=e,this.wrap=t,this.canonical=new qu(r,+n,+i),this.key=Xu(t,e,r,n,i)};function Xu(e,t,r,n,i){(e*=2)<0&&(e=-1*e-1);var a=1<<r;return(a*a*e+a*i+n).toString(36)+r.toString(36)+t.toString(36)}Yu.prototype.equals=function(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)},Yu.prototype.scaledTo=function(e){var t=this.canonical.z-e;return e>this.canonical.z?new Yu(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Yu(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)},Yu.prototype.calculateScaledKey=function(e,t){var r=this.canonical.z-e;return e>this.canonical.z?Xu(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y):Xu(this.wrap*+t,e,e,this.canonical.x>>r,this.canonical.y>>r)},Yu.prototype.isChildOf=function(e){if(e.wrap!==this.wrap)return!1;var t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t},Yu.prototype.children=function(e){if(this.overscaledZ>=e)return[new Yu(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var t=this.canonical.z+1,r=2*this.canonical.x,n=2*this.canonical.y;return[new Yu(t,this.wrap,t,r,n),new Yu(t,this.wrap,t,r+1,n),new Yu(t,this.wrap,t,r,n+1),new Yu(t,this.wrap,t,r+1,n+1)]},Yu.prototype.isLessThan=function(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))},Yu.prototype.wrapped=function(){return new Yu(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Yu.prototype.unwrapTo=function(e){return new Yu(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)},Yu.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Yu.prototype.toUnwrapped=function(){return new Hu(this.wrap,this.canonical)},Yu.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Yu.prototype.getTilePoint=function(e){return this.canonical.getTilePoint(new Wu(e.x-this.wrap,e.y))},Nn("CanonicalTileID",qu),Nn("OverscaledTileID",Yu,{omit:["posMatrix"]});var Ku=function(e,t,r){if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(r&&"mapbox"!==r&&"terrarium"!==r)return S('"'+r+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=t.height;var n=this.dim=t.height-2;this.data=new Uint32Array(t.data.buffer),this.encoding=r||"mapbox";for(var i=0;i<n;i++)this.data[this._idx(-1,i)]=this.data[this._idx(0,i)],this.data[this._idx(n,i)]=this.data[this._idx(n-1,i)],this.data[this._idx(i,-1)]=this.data[this._idx(i,0)],this.data[this._idx(i,n)]=this.data[this._idx(i,n-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(n,-1)]=this.data[this._idx(n-1,0)],this.data[this._idx(-1,n)]=this.data[this._idx(0,n-1)],this.data[this._idx(n,n)]=this.data[this._idx(n-1,n-1)]};Ku.prototype.get=function(e,t){var r=new Uint8Array(this.data.buffer),n=4*this._idx(e,t);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(r[n],r[n+1],r[n+2])},Ku.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Ku.prototype._idx=function(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)},Ku.prototype._unpackMapbox=function(e,t,r){return(256*e*256+256*t+r)/10-1e4},Ku.prototype._unpackTerrarium=function(e,t,r){return 256*e+t+r/256-32768},Ku.prototype.getPixels=function(){return new _o({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Ku.prototype.backfillBorder=function(e,t,r){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");var n=t*this.dim,i=t*this.dim+this.dim,a=r*this.dim,o=r*this.dim+this.dim;switch(t){case-1:n=i-1;break;case 1:i=n+1}switch(r){case-1:a=o-1;break;case 1:o=a+1}for(var s=-t*this.dim,l=-r*this.dim,u=a;u<o;u++)for(var c=n;c<i;c++)this.data[this._idx(c,u)]=e.data[this._idx(c+s,u+l)]},Nn("DEMData",Ku);var $u=function(e){this._stringToNumber={},this._numberToString=[];for(var t=0;t<e.length;t++){var r=e[t];this._stringToNumber[r]=t,this._numberToString[t]=r}};$u.prototype.encode=function(e){return this._stringToNumber[e]},$u.prototype.decode=function(e){return this._numberToString[e]};var Ju=function(e,t,r,n,i){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=r,e._y=n,this.properties=e.properties,this.id=i},Qu={geometry:{configurable:!0}};Qu.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Qu.geometry.set=function(e){this._geometry=e},Ju.prototype.toJSON=function(){var e={geometry:this.geometry};for(var t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&(e[t]=this[t]);return e},Object.defineProperties(Ju.prototype,Qu);var ec=function(){this.state={},this.stateChanges={},this.deletedStates={}};ec.prototype.updateState=function(e,t,r){var n=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][n]=this.stateChanges[e][n]||{},p(this.stateChanges[e][n],r),null===this.deletedStates[e])for(var i in this.deletedStates[e]={},this.state[e])i!==n&&(this.deletedStates[e][i]=null);else if(this.deletedStates[e]&&null===this.deletedStates[e][n])for(var a in this.deletedStates[e][n]={},this.state[e][n])r[a]||(this.deletedStates[e][n][a]=null);else for(var o in r)this.deletedStates[e]&&this.deletedStates[e][n]&&null===this.deletedStates[e][n][o]&&delete this.deletedStates[e][n][o]},ec.prototype.removeFeatureState=function(e,t,r){if(null!==this.deletedStates[e]){var n=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},r&&void 0!==t)null!==this.deletedStates[e][n]&&(this.deletedStates[e][n]=this.deletedStates[e][n]||{},this.deletedStates[e][n][r]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][n])for(r in this.deletedStates[e][n]={},this.stateChanges[e][n])this.deletedStates[e][n][r]=null;else this.deletedStates[e][n]=null;else this.deletedStates[e]=null}},ec.prototype.getState=function(e,t){var r=String(t),n=p({},(this.state[e]||{})[r],(this.stateChanges[e]||{})[r]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){var i=this.deletedStates[e][t];if(null===i)return{};for(var a in i)delete n[a]}return n},ec.prototype.initializeTileState=function(e,t){e.setFeatureState(this.state,t)},ec.prototype.coalesceChanges=function(e,t){var r={};for(var n in this.stateChanges){this.state[n]=this.state[n]||{};var i={};for(var a in this.stateChanges[n])this.state[n][a]||(this.state[n][a]={}),p(this.state[n][a],this.stateChanges[n][a]),i[a]=this.state[n][a];r[n]=i}for(var o in this.deletedStates){this.state[o]=this.state[o]||{};var s={};if(null===this.deletedStates[o])for(var l in this.state[o])s[l]={},this.state[o][l]={};else for(var u in this.deletedStates[o]){if(null===this.deletedStates[o][u])this.state[o][u]={};else for(var c=0,f=Object.keys(this.deletedStates[o][u]);c<f.length;c+=1)delete this.state[o][u][f[c]];s[u]=this.state[o][u]}r[o]=r[o]||{},p(r[o],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(r).length)for(var h in e)e[h].setFeatureState(r,t)};var tc=function(e,t){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new Fn(8192,16,0),this.grid3D=new Fn(8192,16,0),this.featureIndexArray=new aa,this.promoteId=t};function rc(e,t,r,n,i){return _(e,(function(e,a){var o=t instanceof vi?t.get(a):null;return o&&o.evaluate?o.evaluate(r,n,i):o}))}function nc(e){for(var t=1/0,r=1/0,n=-1/0,i=-1/0,a=0,o=e;a<o.length;a+=1){var s=o[a];t=Math.min(t,s.x),r=Math.min(r,s.y),n=Math.max(n,s.x),i=Math.max(i,s.y)}return{minX:t,minY:r,maxX:n,maxY:i}}function ic(e,t){return t-e}tc.prototype.insert=function(e,t,r,n,i,a){var o=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(r,n,i);for(var s=a?this.grid3D:this.grid,l=0;l<t.length;l++){for(var u=t[l],c=[1/0,1/0,-1/0,-1/0],f=0;f<u.length;f++){var p=u[f];c[0]=Math.min(c[0],p.x),c[1]=Math.min(c[1],p.y),c[2]=Math.max(c[2],p.x),c[3]=Math.max(c[3],p.y)}c[0]<8192&&c[1]<8192&&c[2]>=0&&c[3]>=0&&s.insert(o,c[0],c[1],c[2],c[3])}},tc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new bs.VectorTile(new Ks(this.rawTileData)).layers,this.sourceLayerCoder=new $u(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},tc.prototype.query=function(e,t,r,n){var a=this;this.loadVTLayers();for(var o=e.params||{},s=8192/e.tileSize/e.scale,l=on(o.filter),u=e.queryGeometry,c=e.queryPadding*s,f=nc(u),p=this.grid.query(f.minX-c,f.minY-c,f.maxX+c,f.maxY+c),h=nc(e.cameraQueryGeometry),d=this.grid3D.query(h.minX-c,h.minY-c,h.maxX+c,h.maxY+c,(function(t,r,n,a){return function(e,t,r,n,a){for(var o=0,s=e;o<s.length;o+=1){var l=s[o];if(t<=l.x&&r<=l.y&&n>=l.x&&a>=l.y)return!0}var u=[new i(t,r),new i(t,a),new i(n,a),new i(n,r)];if(e.length>2)for(var c=0,f=u;c<f.length;c+=1)if(Ja(e,f[c]))return!0;for(var p=0;p<e.length-1;p++)if(Qa(e[p],e[p+1],u))return!0;return!1}(e.cameraQueryGeometry,t-c,r-c,n+c,a+c)})),v=0,m=d;v<m.length;v+=1)p.push(m[v]);p.sort(ic);for(var y,g={},_=function(i){var c=p[i];if(c!==y){y=c;var f=a.featureIndexArray.get(c),h=null;a.loadMatchingFeature(g,f.bucketIndex,f.sourceLayerIndex,f.featureIndex,l,o.layers,o.availableImages,t,r,n,(function(t,r,n){return h||(h=za(t)),r.queryIntersectsFeature(u,t,n,h,a.z,e.transform,s,e.pixelPosMatrix)}))}},b=0;b<p.length;b++)_(b);return g},tc.prototype.loadMatchingFeature=function(e,t,r,n,i,a,o,s,l,u,c){var f=this.bucketLayerIDs[t];if(!a||function(e,t){for(var r=0;r<e.length;r++)if(t.indexOf(e[r])>=0)return!0;return!1}(a,f)){var h=this.sourceLayerCoder.decode(r),d=this.vtLayers[h].feature(n);if(i.needGeometry){var v=Ba(d,!0);if(!i.filter(new si(this.tileID.overscaledZ),v,this.tileID.canonical))return}else if(!i.filter(new si(this.tileID.overscaledZ),d))return;for(var m=this.getId(d,h),y=0;y<f.length;y++){var g=f[y];if(!(a&&a.indexOf(g)<0)){var _=s[g];if(_){var b={};void 0!==m&&u&&(b=u.getState(_.sourceLayer||"_geojsonTileLayer",m));var x=p({},l[g]);x.paint=rc(x.paint,_.paint,d,b,o),x.layout=rc(x.layout,_.layout,d,b,o);var w=!c||c(d,_,b);if(w){var S=new Ju(d,this.z,this.x,this.y,m);S.layer=x;var P=e[g];void 0===P&&(P=e[g]=[]),P.push({featureIndex:n,feature:S,intersectionZ:w})}}}}}},tc.prototype.lookupSymbolFeatures=function(e,t,r,n,i,a,o,s){var l={};this.loadVTLayers();for(var u=on(i),c=0,f=e;c<f.length;c+=1)this.loadMatchingFeature(l,r,n,f[c],u,a,o,s,t);return l},tc.prototype.hasLayer=function(e){for(var t=0,r=this.bucketLayerIDs;t<r.length;t+=1)for(var n=0,i=r[t];n<i.length;n+=1)if(e===i[n])return!0;return!1},tc.prototype.getId=function(e,t){var r=e.id;return this.promoteId&&"boolean"==typeof(r=e.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[t]])&&(r=Number(r)),r},Nn("FeatureIndex",tc,{omit:["rawTileData","sourceLayerCoder"]});var ac=function(e,t){this.tileID=e,this.uid=d(),this.uses=0,this.tileSize=t,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};ac.prototype.registerFadeDuration=function(e){var t=e+this.timeAdded;t<N.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)},ac.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},ac.prototype.loadVectorData=function(e,t,r){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){for(var n in e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){var r={};if(!t)return r;for(var n=function(){var e=a[i],n=e.layerIds.map((function(e){return t.getLayer(e)})).filter(Boolean);if(0!==n.length){e.layers=n,e.stateDependentLayerIds&&(e.stateDependentLayers=e.stateDependentLayerIds.map((function(e){return n.filter((function(t){return t.id===e}))[0]})));for(var o=0,s=n;o<s.length;o+=1)r[s[o].id]=e}},i=0,a=e;i<a.length;i+=1)n();return r}(e.buckets,t.style),this.hasSymbolBuckets=!1,this.buckets){var i=this.buckets[n];if(i instanceof yu){if(this.hasSymbolBuckets=!0,!r)break;i.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var a in this.buckets){var o=this.buckets[a];if(o instanceof yu&&o.hasRTLText){this.hasRTLText=!0,oi.isLoading()||oi.isLoaded()||"deferred"!==ii()||ai();break}}for(var s in this.queryPadding=0,this.buckets){var l=this.buckets[s];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(s).queryRadius(l))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new $i},ac.prototype.unloadVectorData=function(){for(var e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},ac.prototype.getBucket=function(e){return this.buckets[e.id]},ac.prototype.upload=function(e){for(var t in this.buckets){var r=this.buckets[t];r.uploadPending()&&r.upload(e)}var n=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Fu(e,this.imageAtlas.image,n.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Fu(e,this.glyphAtlasImage,n.ALPHA),this.glyphAtlasImage=null)},ac.prototype.prepare=function(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)},ac.prototype.queryRenderedFeatures=function(e,t,r,n,i,a,o,s,l,u){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:n,cameraQueryGeometry:i,scale:a,tileSize:this.tileSize,pixelPosMatrix:u,transform:s,params:o,queryPadding:this.queryPadding*l},e,t,r):{}},ac.prototype.querySourceFeatures=function(e,t){var r=this.latestFeatureIndex;if(r&&r.rawTileData){var n=r.loadVTLayers(),i=t?t.sourceLayer:"",a=n._geojsonTileLayer||n[i];if(a)for(var o=on(t&&t.filter),s=this.tileID.canonical,l=s.z,u=s.x,c=s.y,f={z:l,x:u,y:c},p=0;p<a.length;p++){var h=a.feature(p);if(o.needGeometry){var d=Ba(h,!0);if(!o.filter(new si(this.tileID.overscaledZ),d,this.tileID.canonical))continue}else if(!o.filter(new si(this.tileID.overscaledZ),h))continue;var v=r.getId(h,i),m=new Ju(h,l,u,c,v);m.tile=f,e.push(m)}}},ac.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},ac.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},ac.prototype.setExpiryData=function(e){var t=this.expirationTime;if(e.cacheControl){var r=C(e.cacheControl);r["max-age"]&&(this.expirationTime=Date.now()+1e3*r["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var n=Date.now(),i=!1;if(this.expirationTime>n)i=!1;else if(t)if(this.expirationTime<t)i=!0;else{var a=this.expirationTime-t;a?this.expirationTime=n+Math.max(a,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},ac.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},ac.prototype.setFeatureState=function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(e).length){var r=this.latestFeatureIndex.loadVTLayers();for(var n in this.buckets)if(t.style.hasLayer(n)){var i=this.buckets[n],a=i.layers[0].sourceLayer||"_geojsonTileLayer",o=r[a],s=e[a];if(o&&s&&0!==Object.keys(s).length){i.update(s,o,this.imageAtlas&&this.imageAtlas.patternPositions||{});var l=t&&t.style&&t.style.getLayer(n);l&&(this.queryPadding=Math.max(this.queryPadding,l.queryRadius(i)))}}}},ac.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},ac.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<N.now()},ac.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},ac.prototype.setHoldDuration=function(e){this.symbolFadeHoldUntil=N.now()+e},ac.prototype.setDependencies=function(e,t){for(var r={},n=0,i=t;n<i.length;n+=1)r[i[n]]=!0;this.dependencies[e]=r},ac.prototype.hasDependency=function(e,t){for(var r=0,n=e;r<n.length;r+=1){var i=this.dependencies[n[r]];if(i)for(var a=0,o=t;a<o.length;a+=1)if(i[o[a]])return!0}return!1};var oc=o.performance,sc=function(e){this._marks={start:[e.url,"start"].join("#"),end:[e.url,"end"].join("#"),measure:e.url.toString()},oc.mark(this._marks.start)};sc.prototype.finish=function(){oc.mark(this._marks.end);var e=oc.getEntriesByName(this._marks.measure);return 0===e.length&&(oc.measure(this._marks.measure,this._marks.start,this._marks.end),e=oc.getEntriesByName(this._marks.measure),oc.clearMarks(this._marks.start),oc.clearMarks(this._marks.end),oc.clearMeasures(this._marks.measure)),e},e.Actor=Du,e.AlphaImage=go,e.CanonicalTileID=qu,e.CollisionBoxArray=$i,e.Color=et,e.DEMData=Ku,e.DataConstantProperty=mi,e.DictionaryCoder=$u,e.EXTENT=8192,e.ErrorEvent=Ce,e.EvaluationParameters=si,e.Event=Ee,e.Evented=Ae,e.FeatureIndex=tc,e.FillBucket=ss,e.FillExtrusionBucket=Ps,e.ImageAtlas=bl,e.ImagePosition=gl,e.LineBucket=Ds,e.LngLat=Nu,e.LngLatBounds=Lu,e.MercatorCoordinate=Wu,e.ONE_EM=24,e.OverscaledTileID=Yu,e.Point=i,e.Point$1=i,e.Properties=xi,e.Protobuf=Ks,e.RGBAImage=_o,e.RequestManager=W,e.RequestPerformance=sc,e.ResourceType=de,e.SegmentVector=sa,e.SourceFeatureState=ec,e.StructArrayLayout1ui2=Yi,e.StructArrayLayout2f1f2i16=zi,e.StructArrayLayout2i4=Ai,e.StructArrayLayout3ui6=Zi,e.StructArrayLayout4i8=Ti,e.SymbolBucket=yu,e.Texture=Fu,e.Tile=ac,e.Transitionable=ci,e.Uniform1f=ba,e.Uniform1i=_a,e.Uniform2f=xa,e.Uniform3f=wa,e.Uniform4f=Sa,e.UniformColor=Pa,e.UniformMatrix4f=Ea,e.UnwrappedTileID=Hu,e.ValidationError=Oe,e.WritingMode=xl,e.ZoomHistory=Gn,e.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e},e.addDynamicAttributes=hu,e.asyncAll=function(e,t,r){if(!e.length)return r(null,[]);var n=e.length,i=new Array(e.length),a=null;e.forEach((function(e,o){t(e,(function(e,t){e&&(a=e),i[o]=t,0==--n&&r(a,i)}))}))},e.bezier=l,e.bindAll=y,e.browser=N,e.cacheEntryPossiblyAdded=function(e){++pe>le&&(e.getActor().send("enforceCacheSizeLimit",se),pe=0)},e.clamp=c,e.clearTileCache=function(e){var t=o.caches.delete("mapbox-tiles");e&&t.catch(e).then((function(){return e()}))},e.clipLine=ql,e.clone=function(e){var t=new ao(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$1=x,e.clone$2=function(e){var t=new ao(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.collisionCircleLayout=Ws,e.config=z,e.create=function(){var e=new ao(16);return ao!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.create$1=function(){var e=new ao(9);return ao!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e},e.create$2=function(){var e=new ao(4);return ao!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e},e.createCommonjsModule=t,e.createExpression=qr,e.createLayout=Ei,e.createStyleLayer=function(e){return"custom"===e.type?new Eu(e):new Cu[e.type](e)},e.cross=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=r[0],s=r[1],l=r[2];return e[0]=i*l-a*s,e[1]=a*o-n*l,e[2]=n*s-i*o,e},e.deepEqual=function e(t,r){if(Array.isArray(t)){if(!Array.isArray(r)||t.length!==r.length)return!1;for(var n=0;n<t.length;n++)if(!e(t[n],r[n]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==r){if("object"!=typeof r)return!1;if(Object.keys(t).length!==Object.keys(r).length)return!1;for(var i in t)if(!e(t[i],r[i]))return!1;return!0}return t===r},e.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},e.dot$1=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},e.ease=u,e.emitValidationErrors=In,e.endsWith=g,e.enforceCacheSizeLimit=function(e){ue(),ee&&ee.then((function(t){t.keys().then((function(r){for(var n=0;n<r.length-e;n++)t.delete(r[n])}))}))},e.evaluateSizeForFeature=Ll,e.evaluateSizeForZoom=Nl,e.evaluateVariableOffset=au,e.evented=ni,e.extend=p,e.featureFilter=on,e.filterObject=b,e.fromRotation=function(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.getAnchorAlignment=Il,e.getAnchorJustification=ou,e.getArrayBuffer=be,e.getImage=Se,e.getJSON=function(e,t){return _e(p(e,{type:"json"}),t)},e.getRTLTextPluginStatus=ii,e.getReferrer=ge,e.getVideo=function(e,t){var r,n,i=o.document.createElement("video");i.muted=!0,i.onloadstart=function(){t(null,i)};for(var a=0;a<e.length;a++){var s=o.document.createElement("source");r=e[a],n=void 0,(n=o.document.createElement("a")).href=r,(n.protocol!==o.document.location.protocol||n.host!==o.document.location.host)&&(i.crossOrigin="Anonymous"),s.src=e[a],i.appendChild(s)}return{cancel:function(){}}},e.identity=oo,e.invert=function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],p=t[10],h=t[11],d=t[12],v=t[13],m=t[14],y=t[15],g=r*s-n*o,_=r*l-i*o,b=r*u-a*o,x=n*l-i*s,w=n*u-a*s,S=i*u-a*l,P=c*v-f*d,k=c*m-p*d,E=c*y-h*d,C=f*m-p*v,A=f*y-h*v,T=p*y-h*m,O=g*T-_*A+b*C+x*E-w*k+S*P;return O?(e[0]=(s*T-l*A+u*C)*(O=1/O),e[1]=(i*A-n*T-a*C)*O,e[2]=(v*S-m*w+y*x)*O,e[3]=(p*w-f*S-h*x)*O,e[4]=(l*E-o*T-u*k)*O,e[5]=(r*T-i*E+a*k)*O,e[6]=(m*b-d*S-y*_)*O,e[7]=(c*S-p*b+h*_)*O,e[8]=(o*A-s*E+u*P)*O,e[9]=(n*E-r*A-a*P)*O,e[10]=(d*w-v*b+y*g)*O,e[11]=(f*b-c*w-h*g)*O,e[12]=(s*k-o*C-l*P)*O,e[13]=(r*C-n*k+i*P)*O,e[14]=(v*_-d*x-m*g)*O,e[15]=(c*x-f*_+p*g)*O,e):null},e.isChar=Wn,e.isMapboxURL=q,e.keysDifference=function(e,t){var r=[];for(var n in e)n in t||r.push(n);return r},e.makeRequest=_e,e.mapObject=_,e.mercatorXfromLng=Zu,e.mercatorYfromLat=Uu,e.mercatorZfromAltitude=Vu,e.mul=uo,e.multiply=so,e.mvt=bs,e.nextPowerOfTwo=function(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},e.normalize=function(e,t){var r=t[0],n=t[1],i=t[2],a=r*r+n*n+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e},e.number=Gt,e.offscreenCanvasSupported=he,e.ortho=function(e,t,r,n,i,a,o){var s=1/(t-r),l=1/(n-i),u=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+r)*s,e[13]=(i+n)*l,e[14]=(o+a)*u,e[15]=1,e},e.parseGlyphPBF=function(e){return new Ks(e).readFields(dl,[])},e.pbf=Ks,e.performSymbolLayout=function(e,t,r,n,i,a,o){e.createArrays(),e.tilePixelRatio=8192/(512*e.overscaling),e.compareText={},e.iconsNeedLinear=!1;var s=e.layers[0].layout,l=e.layers[0]._unevaluatedLayout._values,u={};if("composite"===e.textSizeData.kind){var c=e.textSizeData,f=c.maxZoom;u.compositeTextSizes=[l["text-size"].possiblyEvaluate(new si(c.minZoom),o),l["text-size"].possiblyEvaluate(new si(f),o)]}if("composite"===e.iconSizeData.kind){var p=e.iconSizeData,h=p.maxZoom;u.compositeIconSizes=[l["icon-size"].possiblyEvaluate(new si(p.minZoom),o),l["icon-size"].possiblyEvaluate(new si(h),o)]}u.layoutTextSize=l["text-size"].possiblyEvaluate(new si(e.zoom+1),o),u.layoutIconSize=l["icon-size"].possiblyEvaluate(new si(e.zoom+1),o),u.textMaxSize=l["text-size"].possiblyEvaluate(new si(18));for(var d=24*s.get("text-line-height"),v="map"===s.get("text-rotation-alignment")&&"point"!==s.get("symbol-placement"),m=s.get("text-keep-upright"),y=s.get("text-size"),g=function(){var a=b[_],l=s.get("text-font").evaluate(a,{},o).join(","),c=y.evaluate(a,{},o),f=u.layoutTextSize.evaluate(a,{},o),p=u.layoutIconSize.evaluate(a,{},o),h={horizontal:{},vertical:void 0},g=a.text,x=[0,0];if(g){var w=g.toString(),P=24*s.get("text-letter-spacing").evaluate(a,{},o),k=function(e){for(var t=0,r=e;t<r.length;t+=1)if(n=r[t].charCodeAt(0),Wn.Arabic(n)||Wn["Arabic Supplement"](n)||Wn["Arabic Extended-A"](n)||Wn["Arabic Presentation Forms-A"](n)||Wn["Arabic Presentation Forms-B"](n))return!1;var n;return!0}(w)?P:0,E=s.get("text-anchor").evaluate(a,{},o),C=s.get("text-variable-anchor");if(!C){var A=s.get("text-radial-offset").evaluate(a,{},o);x=A?au(E,[24*A,iu]):s.get("text-offset").evaluate(a,{},o).map((function(e){return 24*e}))}var T=v?"center":s.get("text-justify").evaluate(a,{},o),O=s.get("symbol-placement"),M="point"===O?24*s.get("text-max-width").evaluate(a,{},o):0,I=function(){e.allowVerticalPlacement&&qn(w)&&(h.vertical=Pl(g,t,r,i,l,M,d,E,"left",k,x,xl.vertical,!0,O,f,c))};if(!v&&C){for(var F="auto"===T?C.map((function(e){return ou(e)})):[T],R=!1,D=0;D<F.length;D++){var j=F[D];if(!h.horizontal[j])if(R)h.horizontal[j]=h.horizontal[0];else{var L=Pl(g,t,r,i,l,M,d,"center",j,k,x,xl.horizontal,!1,O,f,c);L&&(h.horizontal[j]=L,R=1===L.positionedLines.length)}}I()}else{"auto"===T&&(T=ou(E));var N=Pl(g,t,r,i,l,M,d,E,T,k,x,xl.horizontal,!1,O,f,c);N&&(h.horizontal[T]=N),I(),qn(w)&&v&&m&&(h.vertical=Pl(g,t,r,i,l,M,d,E,T,k,x,xl.vertical,!1,O,f,c))}}var z=void 0,B=!1;if(a.icon&&a.icon.name){var Z=n[a.icon.name];Z&&(z=function(e,t,r){var n=Il(r),i=t[0]-e.displaySize[0]*n.horizontalAlign,a=t[1]-e.displaySize[1]*n.verticalAlign;return{image:e,top:a,bottom:a+e.displaySize[1],left:i,right:i+e.displaySize[0]}}(i[a.icon.name],s.get("icon-offset").evaluate(a,{},o),s.get("icon-anchor").evaluate(a,{},o)),B=Z.sdf,void 0===e.sdfIcons?e.sdfIcons=Z.sdf:e.sdfIcons!==Z.sdf&&S("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Z.pixelRatio!==e.pixelRatio||0!==s.get("icon-rotate").constantOr(1))&&(e.iconsNeedLinear=!0))}var U=lu(h.horizontal)||h.vertical;e.iconsInText=!!U&&U.iconsInText,(U||z)&&function(e,t,r,n,i,a,o,s,l,u,c){var f=a.textMaxSize.evaluate(t,{});void 0===f&&(f=o);var p,h=e.layers[0].layout,d=h.get("icon-offset").evaluate(t,{},c),v=lu(r.horizontal),m=o/24,y=e.tilePixelRatio*m,g=e.tilePixelRatio*f/24,_=e.tilePixelRatio*s,b=e.tilePixelRatio*h.get("symbol-spacing"),x=h.get("text-padding")*e.tilePixelRatio,w=h.get("icon-padding")*e.tilePixelRatio,P=h.get("text-max-angle")/180*Math.PI,k="map"===h.get("text-rotation-alignment")&&"point"!==h.get("symbol-placement"),E="map"===h.get("icon-rotation-alignment")&&"point"!==h.get("symbol-placement"),C=h.get("symbol-placement"),A=b/2,T=h.get("icon-text-fit");n&&"none"!==T&&(e.allowVerticalPlacement&&r.vertical&&(p=Rl(n,r.vertical,T,h.get("icon-text-fit-padding"),d,m)),v&&(n=Rl(n,v,T,h.get("icon-text-fit-padding"),d,m)));var O=function(s,f){f.x<0||f.x>=8192||f.y<0||f.y>=8192||function(e,t,r,n,i,a,o,s,l,u,c,f,p,h,d,v,m,y,g,_,b,x,w,P,k){var E,C,A,T,O,M=e.addToLineVertexArray(t,r),I=0,F=0,R=0,D=0,j=-1,L=-1,N={},z=pa(""),B=0,Z=0;if(void 0===s._unevaluatedLayout.getValue("text-radial-offset")?(B=(E=s.layout.get("text-offset").evaluate(b,{},P).map((function(e){return 24*e})))[0],Z=E[1]):(B=24*s.layout.get("text-radial-offset").evaluate(b,{},P),Z=iu),e.allowVerticalPlacement&&n.vertical){var U=s.layout.get("text-rotate").evaluate(b,{},P)+90;T=new Jl(l,t,u,c,f,n.vertical,p,h,d,U),o&&(O=new Jl(l,t,u,c,f,o,m,y,d,U))}if(i){var V=s.layout.get("icon-rotate").evaluate(b,{}),G="none"!==s.layout.get("icon-text-fit"),W=Hl(i,V,w,G),q=o?Hl(o,V,w,G):void 0;A=new Jl(l,t,u,c,f,i,m,y,!1,V),I=4*W.length;var H=e.iconSizeData,Y=null;"source"===H.kind?(Y=[128*s.layout.get("icon-size").evaluate(b,{})])[0]>32640&&S(e.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===H.kind&&((Y=[128*x.compositeIconSizes[0].evaluate(b,{},P),128*x.compositeIconSizes[1].evaluate(b,{},P)])[0]>32640||Y[1]>32640)&&S(e.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),e.addSymbols(e.icon,W,Y,_,g,b,!1,t,M.lineStartIndex,M.lineLength,-1,P),j=e.icon.placedSymbolArray.length-1,q&&(F=4*q.length,e.addSymbols(e.icon,q,Y,_,g,b,xl.vertical,t,M.lineStartIndex,M.lineLength,-1,P),L=e.icon.placedSymbolArray.length-1)}for(var X in n.horizontal){var K=n.horizontal[X];if(!C){z=pa(K.text);var $=s.layout.get("text-rotate").evaluate(b,{},P);C=new Jl(l,t,u,c,f,K,p,h,d,$)}var J=1===K.positionedLines.length;if(R+=su(e,t,K,a,s,d,b,v,M,n.vertical?xl.horizontal:xl.horizontalOnly,J?Object.keys(n.horizontal):[X],N,j,x,P),J)break}n.vertical&&(D+=su(e,t,n.vertical,a,s,d,b,v,M,xl.vertical,["vertical"],N,L,x,P));var Q=C?C.boxStartIndex:e.collisionBoxArray.length,ee=C?C.boxEndIndex:e.collisionBoxArray.length,te=T?T.boxStartIndex:e.collisionBoxArray.length,re=T?T.boxEndIndex:e.collisionBoxArray.length,ne=A?A.boxStartIndex:e.collisionBoxArray.length,ie=A?A.boxEndIndex:e.collisionBoxArray.length,ae=O?O.boxStartIndex:e.collisionBoxArray.length,oe=O?O.boxEndIndex:e.collisionBoxArray.length,se=-1,le=function(e,t){return e&&e.circleDiameter?Math.max(e.circleDiameter,t):t};se=le(C,se),se=le(T,se),se=le(A,se);var ue=(se=le(O,se))>-1?1:0;ue&&(se*=k/24),e.glyphOffsetArray.length>=yu.MAX_GLYPHS&&S("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==b.sortKey&&e.addToSortKeyRanges(e.symbolInstances.length,b.sortKey),e.symbolInstances.emplaceBack(t.x,t.y,N.right>=0?N.right:-1,N.center>=0?N.center:-1,N.left>=0?N.left:-1,N.vertical||-1,j,L,z,Q,ee,te,re,ne,ie,ae,oe,u,R,D,I,F,ue,0,p,B,Z,se)}(e,f,s,r,n,i,p,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,y,x,k,l,_,w,E,d,t,a,u,c,o)};if("line"===C)for(var M=0,I=ql(t.geometry,0,0,8192,8192);M<I.length;M+=1)for(var F=I[M],R=0,D=Wl(F,b,P,r.vertical||v,n,24,g,e.overscaling,8192);R<D.length;R+=1){var j=D[R];v&&uu(e,v.text,A,j)||O(F,j)}else if("line-center"===C)for(var L=0,N=t.geometry;L<N.length;L+=1){var z=N[L];if(z.length>1){var B=Gl(z,P,r.vertical||v,n,24,g);B&&O(z,B)}}else if("Polygon"===t.type)for(var Z=0,U=ns(t.geometry,0);Z<U.length;Z+=1){var V=U[Z],G=tu(V,16);O(V[0],new Dl(G.x,G.y,0))}else if("LineString"===t.type)for(var W=0,q=t.geometry;W<q.length;W+=1){var H=q[W];O(H,new Dl(H[0].x,H[0].y,0))}else if("Point"===t.type)for(var Y=0,X=t.geometry;Y<X.length;Y+=1)for(var K=0,$=X[Y];K<$.length;K+=1){var J=$[K];O([J],new Dl(J.x,J.y,0))}}(e,a,h,z,n,u,f,p,x,B,o)},_=0,b=e.features;_<b.length;_+=1)g();a&&e.generateCollisionDebugBuffers()},e.perspective=function(e,t,r,n,i){var a,o=1/Math.tan(t/2);return e[0]=o/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(e[10]=(i+n)*(a=1/(n-i)),e[14]=2*i*n*a):(e[10]=-1,e[14]=-2*n),e},e.pick=function(e,t){for(var r={},n=0;n<t.length;n++){var i=t[n];i in e&&(r[i]=e[i])}return r},e.plugin=oi,e.polygonIntersectsPolygon=Va,e.postMapLoadEvent=oe,e.postTurnstileEvent=ie,e.potpack=yl,e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.register=Nn,e.registerForPluginStateChange=function(e){return e({pluginStatus:Qn,pluginURL:ei}),ni.on("pluginStateChange",e),e},e.renderColorRamp=xo,e.rotate=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(r),l=Math.cos(r);return e[0]=n*l+a*s,e[1]=i*l+o*s,e[2]=n*-s+a*l,e[3]=i*-s+o*l,e},e.rotateX=function(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[4],o=t[5],s=t[6],l=t[7],u=t[8],c=t[9],f=t[10],p=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+u*n,e[5]=o*i+c*n,e[6]=s*i+f*n,e[7]=l*i+p*n,e[8]=u*i-a*n,e[9]=c*i-o*n,e[10]=f*i-s*n,e[11]=p*i-l*n,e},e.rotateZ=function(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[0],o=t[1],s=t[2],l=t[3],u=t[4],c=t[5],f=t[6],p=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+u*n,e[1]=o*i+c*n,e[2]=s*i+f*n,e[3]=l*i+p*n,e[4]=u*i-a*n,e[5]=c*i-o*n,e[6]=f*i-s*n,e[7]=p*i-l*n,e},e.scale=function(e,t,r){var n=r[0],i=r[1],a=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.scale$1=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e},e.scale$2=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e},e.setCacheLimits=function(e,t){se=e,le=t},e.setRTLTextPlugin=function(e,t,r){if(void 0===r&&(r=!1),"deferred"===Qn||"loading"===Qn||"loaded"===Qn)throw new Error("setRTLTextPlugin cannot be called multiple times.");ei=N.resolveURL(e),Qn="deferred",Jn=t,ri(),r||ai()},e.sphericalToCartesian=function(e){var t=e[0],r=e[1],n=e[2];return r+=90,r*=Math.PI/180,n*=Math.PI/180,{x:t*Math.cos(r)*Math.sin(n),y:t*Math.sin(r)*Math.sin(n),z:t*Math.cos(n)}},e.sqrLen=function(e){var t=e[0],r=e[1];return t*t+r*r},e.styleSpec=Te,e.sub=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e},e.symbolSize=zl,e.transformMat3=function(e,t,r){var n=t[0],i=t[1],a=t[2];return e[0]=n*r[0]+i*r[3]+a*r[6],e[1]=n*r[1]+i*r[4]+a*r[7],e[2]=n*r[2]+i*r[5]+a*r[8],e},e.transformMat4=co,e.translate=function(e,t,r){var n,i,a,o,s,l,u,c,f,p,h,d,v=r[0],m=r[1],y=r[2];return t===e?(e[12]=t[0]*v+t[4]*m+t[8]*y+t[12],e[13]=t[1]*v+t[5]*m+t[9]*y+t[13],e[14]=t[2]*v+t[6]*m+t[10]*y+t[14],e[15]=t[3]*v+t[7]*m+t[11]*y+t[15]):(i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],p=t[9],h=t[10],d=t[11],e[0]=n=t[0],e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=l,e[6]=u,e[7]=c,e[8]=f,e[9]=p,e[10]=h,e[11]=d,e[12]=n*v+s*m+f*y+t[12],e[13]=i*v+l*m+p*y+t[13],e[14]=a*v+u*m+h*y+t[14],e[15]=o*v+c*m+d*y+t[15]),e},e.triggerPluginCompletionEvent=ti,e.uniqueId=d,e.validateCustomStyleLayer=function(e){var t=[],r=e.id;return void 0===r&&t.push({message:"layers."+r+': missing required property "id"'}),void 0===e.render&&t.push({message:"layers."+r+': missing required method "render"'}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:"layers."+r+': property "renderingMode" must be either "2d" or "3d"'}),t},e.validateLight=Tn,e.validateStyle=An,e.values=function(e){var t=[];for(var r in e)t.push(e[r]);return t},e.vectorTile=bs,e.version="1.13.2",e.warnOnce=S,e.webpSupported=B,e.window=o,e.wrap=f})),n(["./shared"],(function(e){function t(e){var r=typeof e;if("number"===r||"boolean"===r||"string"===r||null==e)return JSON.stringify(e);if(Array.isArray(e)){for(var n="[",i=0,a=e;i<a.length;i+=1)n+=t(a[i])+",";return n+"]"}for(var o=Object.keys(e).sort(),s="{",l=0;l<o.length;l++)s+=JSON.stringify(o[l])+":"+t(e[o[l]])+",";return s+"}"}function r(r){for(var n="",i=0,a=e.refProperties;i<a.length;i+=1)n+="/"+t(r[a[i]]);return n}var n=function(e){this.keyCache={},e&&this.replace(e)};n.prototype.replace=function(e){this._layerConfigs={},this._layers={},this.update(e,[])},n.prototype.update=function(t,n){for(var i=this,a=0,o=t;a<o.length;a+=1){var s=o[a];this._layerConfigs[s.id]=s;var l=this._layers[s.id]=e.createStyleLayer(s);l._featureFilter=e.featureFilter(l.filter),this.keyCache[s.id]&&delete this.keyCache[s.id]}for(var u=0,c=n;u<c.length;u+=1){var f=c[u];delete this.keyCache[f],delete this._layerConfigs[f],delete this._layers[f]}this.familiesBySource={};for(var p=0,h=function(e,t){for(var n={},i=0;i<e.length;i++){var a=t&&t[e[i].id]||r(e[i]);t&&(t[e[i].id]=a);var o=n[a];o||(o=n[a]=[]),o.push(e[i])}var s=[];for(var l in n)s.push(n[l]);return s}(e.values(this._layerConfigs),this.keyCache);p<h.length;p+=1){var d=h[p].map((function(e){return i._layers[e.id]})),v=d[0];if("none"!==v.visibility){var m=v.source||"",y=this.familiesBySource[m];y||(y=this.familiesBySource[m]={});var g=v.sourceLayer||"_geojsonTileLayer",_=y[g];_||(_=y[g]=[]),_.push(d)}}};var i=function(t){var r={},n=[];for(var i in t){var a=t[i],o=r[i]={};for(var s in a){var l=a[+s];if(l&&0!==l.bitmap.width&&0!==l.bitmap.height){var u={x:0,y:0,w:l.bitmap.width+2,h:l.bitmap.height+2};n.push(u),o[s]={rect:u,metrics:l.metrics}}}}var c=e.potpack(n),f=new e.AlphaImage({width:c.w||1,height:c.h||1});for(var p in t){var h=t[p];for(var d in h){var v=h[+d];if(v&&0!==v.bitmap.width&&0!==v.bitmap.height){var m=r[p][d].rect;e.AlphaImage.copy(v.bitmap,f,{x:0,y:0},{x:m.x+1,y:m.y+1},v.bitmap)}}}this.image=f,this.positions=r};e.register("GlyphAtlas",i);var a=function(t){this.tileID=new e.OverscaledTileID(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId};function o(t,r,n){for(var i=new e.EvaluationParameters(r),a=0,o=t;a<o.length;a+=1)o[a].recalculate(i,n)}function s(t,r){var n=e.getArrayBuffer(t.request,(function(t,n,i,a){t?r(t):n&&r(null,{vectorTile:new e.vectorTile.VectorTile(new e.pbf(n)),rawData:n,cacheControl:i,expires:a})}));return function(){n.cancel(),r()}}a.prototype.parse=function(t,r,n,a,s){var l=this;this.status="parsing",this.data=t,this.collisionBoxArray=new e.CollisionBoxArray;var u=new e.DictionaryCoder(Object.keys(t.layers).sort()),c=new e.FeatureIndex(this.tileID,this.promoteId);c.bucketLayerIDs=[];var f,p,h,d,v={},m={featureIndex:c,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:n},y=r.familiesBySource[this.source];for(var g in y){var _=t.layers[g];if(_){1===_.version&&e.warnOnce('Vector tile source "'+this.source+'" layer "'+g+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var b=u.encode(g),x=[],w=0;w<_.length;w++){var S=_.feature(w),P=c.getId(S,g);x.push({feature:S,id:P,index:w,sourceLayerIndex:b})}for(var k=0,E=y[g];k<E.length;k+=1){var C=E[k],A=C[0];A.minzoom&&this.zoom<Math.floor(A.minzoom)||A.maxzoom&&this.zoom>=A.maxzoom||"none"!==A.visibility&&(o(C,this.zoom,n),(v[A.id]=A.createBucket({index:c.bucketLayerIDs.length,layers:C,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:b,sourceID:this.source})).populate(x,m,this.tileID.canonical),c.bucketLayerIDs.push(C.map((function(e){return e.id}))))}}}var T=e.mapObject(m.glyphDependencies,(function(e){return Object.keys(e).map(Number)}));Object.keys(T).length?a.send("getGlyphs",{uid:this.uid,stacks:T},(function(e,t){f||(f=e,p=t,I.call(l))})):p={};var O=Object.keys(m.iconDependencies);O.length?a.send("getImages",{icons:O,source:this.source,tileID:this.tileID,type:"icons"},(function(e,t){f||(f=e,h=t,I.call(l))})):h={};var M=Object.keys(m.patternDependencies);function I(){if(f)return s(f);if(p&&h&&d){var t=new i(p),r=new e.ImageAtlas(h,d);for(var a in v){var l=v[a];l instanceof e.SymbolBucket?(o(l.layers,this.zoom,n),e.performSymbolLayout(l,p,t.positions,h,r.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):l.hasPattern&&(l instanceof e.LineBucket||l instanceof e.FillBucket||l instanceof e.FillExtrusionBucket)&&(o(l.layers,this.zoom,n),l.addFeatures(m,this.tileID.canonical,r.patternPositions))}this.status="done",s(null,{buckets:e.values(v).filter((function(e){return!e.isEmpty()})),featureIndex:c,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,imageAtlas:r,glyphMap:this.returnDependencies?p:null,iconMap:this.returnDependencies?h:null,glyphPositions:this.returnDependencies?t.positions:null})}}M.length?a.send("getImages",{icons:M,source:this.source,tileID:this.tileID,type:"patterns"},(function(e,t){f||(f=e,d=t,I.call(l))})):d={},I.call(this)};var l=function(e,t,r,n){this.actor=e,this.layerIndex=t,this.availableImages=r,this.loadVectorData=n||s,this.loading={},this.loaded={}};l.prototype.loadTile=function(t,r){var n=this,i=t.uid;this.loading||(this.loading={});var o=!!(t&&t.request&&t.request.collectResourceTiming)&&new e.RequestPerformance(t.request),s=this.loading[i]=new a(t);s.abort=this.loadVectorData(t,(function(t,a){if(delete n.loading[i],t||!a)return s.status="done",n.loaded[i]=s,r(t);var l=a.rawData,u={};a.expires&&(u.expires=a.expires),a.cacheControl&&(u.cacheControl=a.cacheControl);var c={};if(o){var f=o.finish();f&&(c.resourceTiming=JSON.parse(JSON.stringify(f)))}s.vectorTile=a.vectorTile,s.parse(a.vectorTile,n.layerIndex,n.availableImages,n.actor,(function(t,n){if(t||!n)return r(t);r(null,e.extend({rawTileData:l.slice(0)},n,u,c))})),n.loaded=n.loaded||{},n.loaded[i]=s}))},l.prototype.reloadTile=function(e,t){var r=this,n=this.loaded,i=e.uid,a=this;if(n&&n[i]){var o=n[i];o.showCollisionBoxes=e.showCollisionBoxes;var s=function(e,n){var i=o.reloadCallback;i&&(delete o.reloadCallback,o.parse(o.vectorTile,a.layerIndex,r.availableImages,a.actor,i)),t(e,n)};"parsing"===o.status?o.reloadCallback=s:"done"===o.status&&(o.vectorTile?o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}},l.prototype.abortTile=function(e,t){var r=this.loading,n=e.uid;r&&r[n]&&r[n].abort&&(r[n].abort(),delete r[n]),t()},l.prototype.removeTile=function(e,t){var r=this.loaded,n=e.uid;r&&r[n]&&delete r[n],t()};var u=e.window.ImageBitmap,c=function(){this.loaded={}};function f(e,t){if(0!==e.length){p(e[0],t);for(var r=1;r<e.length;r++)p(e[r],!t)}}function p(e,t){for(var r=0,n=0,i=e.length,a=i-1;n<i;a=n++)r+=(e[n][0]-e[a][0])*(e[a][1]+e[n][1]);r>=0!=!!t&&e.reverse()}c.prototype.loadTile=function(t,r){var n=t.uid,i=t.encoding,a=t.rawImageData,o=u&&a instanceof u?this.getImageData(a):a,s=new e.DEMData(n,o,i);this.loaded=this.loaded||{},this.loaded[n]=s,r(null,s)},c.prototype.getImageData=function(t){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(t.width,t.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=t.width,this.offscreenCanvas.height=t.height,this.offscreenCanvasContext.drawImage(t,0,0,t.width,t.height);var r=this.offscreenCanvasContext.getImageData(-1,-1,t.width+2,t.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new e.RGBAImage({width:r.width,height:r.height},r.data)},c.prototype.removeTile=function(e){var t=this.loaded,r=e.uid;t&&t[r]&&delete t[r]};var h=e.vectorTile.VectorTileFeature.prototype.toGeoJSON,d=function(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))};d.prototype.loadGeometry=function(){if(1===this._feature.type){for(var t=[],r=0,n=this._feature.geometry;r<n.length;r+=1){var i=n[r];t.push([new e.Point$1(i[0],i[1])])}return t}for(var a=[],o=0,s=this._feature.geometry;o<s.length;o+=1){for(var l=[],u=0,c=s[o];u<c.length;u+=1){var f=c[u];l.push(new e.Point$1(f[0],f[1]))}a.push(l)}return a},d.prototype.toGeoJSON=function(e,t,r){return h.call(this,e,t,r)};var v=function(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=t.length,this._features=t};v.prototype.feature=function(e){return new d(this._features[e])};var m=e.vectorTile.VectorTileFeature,y=g;function g(e,t){this.options=t||{},this.features=e,this.length=e.length}function _(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}g.prototype.feature=function(e){return new _(this.features[e],this.options.extent)},_.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var r=0;r<t.length;r++){for(var n=t[r],i=[],a=0;a<n.length;a++)i.push(new e.Point$1(n[a][0],n[a][1]));this.geometry.push(i)}return this.geometry},_.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,r=-1/0,n=1/0,i=-1/0,a=0;a<e.length;a++)for(var o=e[a],s=0;s<o.length;s++){var l=o[s];t=Math.min(t,l.x),r=Math.max(r,l.x),n=Math.min(n,l.y),i=Math.max(i,l.y)}return[t,n,r,i]},_.prototype.toGeoJSON=m.prototype.toGeoJSON;var b=w,x=y;function w(t){var r=new e.pbf;return function(e,t){for(var r in e.layers)t.writeMessage(3,S,e.layers[r])}(t,r),r.finish()}function S(e,t){var r;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var n={keys:[],values:[],keycache:{},valuecache:{}};for(r=0;r<e.length;r++)n.feature=e.feature(r),t.writeMessage(2,P,n);var i=n.keys;for(r=0;r<i.length;r++)t.writeStringField(3,i[r]);var a=n.values;for(r=0;r<a.length;r++)t.writeMessage(4,T,a[r])}function P(e,t){var r=e.feature;void 0!==r.id&&t.writeVarintField(1,r.id),t.writeMessage(2,k,e),t.writeVarintField(3,r.type),t.writeMessage(4,A,r)}function k(e,t){var r=e.feature,n=e.keys,i=e.values,a=e.keycache,o=e.valuecache;for(var s in r.properties){var l=a[s];void 0===l&&(n.push(s),a[s]=l=n.length-1),t.writeVarint(l);var u=r.properties[s],c=typeof u;"string"!==c&&"boolean"!==c&&"number"!==c&&(u=JSON.stringify(u));var f=c+":"+u,p=o[f];void 0===p&&(i.push(u),o[f]=p=i.length-1),t.writeVarint(p)}}function E(e,t){return(t<<3)+(7&e)}function C(e){return e<<1^e>>31}function A(e,t){for(var r=e.loadGeometry(),n=e.type,i=0,a=0,o=r.length,s=0;s<o;s++){var l=r[s],u=1;1===n&&(u=l.length),t.writeVarint(E(1,u));for(var c=3===n?l.length-1:l.length,f=0;f<c;f++){1===f&&1!==n&&t.writeVarint(E(2,c-1));var p=l[f].x-i,h=l[f].y-a;t.writeVarint(C(p)),t.writeVarint(C(h)),i+=p,a+=h}3===n&&t.writeVarint(E(7,1))}}function T(e,t){var r=typeof e;"string"===r?t.writeStringField(1,e):"boolean"===r?t.writeBooleanField(7,e):"number"===r&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}function O(e,t,r,n){M(e,r,n),M(t,2*r,2*n),M(t,2*r+1,2*n+1)}function M(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function I(e,t,r,n){var i=e-r,a=t-n;return i*i+a*a}b.fromVectorTileJs=w,b.fromGeojsonVt=function(e,t){t=t||{};var r={};for(var n in e)r[n]=new y(e[n].features,t),r[n].name=n,r[n].version=t.version,r[n].extent=t.extent;return w({layers:r})},b.GeoJSONWrapper=x;var F=function(e){return e[0]},R=function(e){return e[1]},D=function(e,t,r,n,i){void 0===t&&(t=F),void 0===r&&(r=R),void 0===n&&(n=64),void 0===i&&(i=Float64Array),this.nodeSize=n,this.points=e;for(var a=e.length<65536?Uint16Array:Uint32Array,o=this.ids=new a(e.length),s=this.coords=new i(2*e.length),l=0;l<e.length;l++)o[l]=l,s[2*l]=t(e[l]),s[2*l+1]=r(e[l]);!function e(t,r,n,i,a,o){if(!(a-i<=n)){var s=i+a>>1;!function e(t,r,n,i,a,o){for(;a>i;){if(a-i>600){var s=a-i+1,l=n-i+1,u=Math.log(s),c=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);e(t,r,n,Math.max(i,Math.floor(n-l*c/s+f)),Math.min(a,Math.floor(n+(s-l)*c/s+f)),o)}var p=r[2*n+o],h=i,d=a;for(O(t,r,i,n),r[2*a+o]>p&&O(t,r,i,a);h<d;){for(O(t,r,h,d),h++,d--;r[2*h+o]<p;)h++;for(;r[2*d+o]>p;)d--}r[2*i+o]===p?O(t,r,i,d):O(t,r,++d,a),d<=n&&(i=d+1),n<=d&&(a=d-1)}}(t,r,s,i,a,o%2),e(t,r,n,i,s-1,o+1),e(t,r,n,s+1,a,o+1)}}(o,s,n,0,o.length-1,0)};D.prototype.range=function(e,t,r,n){return function(e,t,r,n,i,a,o){for(var s,l,u=[0,e.length-1,0],c=[];u.length;){var f=u.pop(),p=u.pop(),h=u.pop();if(p-h<=o)for(var d=h;d<=p;d++)l=t[2*d+1],(s=t[2*d])>=r&&s<=i&&l>=n&&l<=a&&c.push(e[d]);else{var v=Math.floor((h+p)/2);l=t[2*v+1],(s=t[2*v])>=r&&s<=i&&l>=n&&l<=a&&c.push(e[v]);var m=(f+1)%2;(0===f?r<=s:n<=l)&&(u.push(h),u.push(v-1),u.push(m)),(0===f?i>=s:a>=l)&&(u.push(v+1),u.push(p),u.push(m))}}return c}(this.ids,this.coords,e,t,r,n,this.nodeSize)},D.prototype.within=function(e,t,r){return function(e,t,r,n,i,a){for(var o=[0,e.length-1,0],s=[],l=i*i;o.length;){var u=o.pop(),c=o.pop(),f=o.pop();if(c-f<=a)for(var p=f;p<=c;p++)I(t[2*p],t[2*p+1],r,n)<=l&&s.push(e[p]);else{var h=Math.floor((f+c)/2),d=t[2*h],v=t[2*h+1];I(d,v,r,n)<=l&&s.push(e[h]);var m=(u+1)%2;(0===u?r-i<=d:n-i<=v)&&(o.push(f),o.push(h-1),o.push(m)),(0===u?r+i>=d:n+i>=v)&&(o.push(h+1),o.push(c),o.push(m))}}return s}(this.ids,this.coords,e,t,r,this.nodeSize)};var j={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},L=function(e){this.options=G(Object.create(j),e),this.trees=new Array(this.options.maxZoom+1)};function N(e,t,r,n,i){return{x:e,y:t,zoom:1/0,id:r,parentId:-1,numPoints:n,properties:i}}function z(e,t){var r=e.geometry.coordinates,n=r[1];return{x:U(r[0]),y:V(n),zoom:1/0,index:t,parentId:-1}}function B(e){return{type:"Feature",id:e.id,properties:Z(e),geometry:{type:"Point",coordinates:[(n=e.x,360*(n-.5)),(t=e.y,r=(180-360*t)*Math.PI/180,360*Math.atan(Math.exp(r))/Math.PI-90)]}};var t,r,n}function Z(e){var t=e.numPoints,r=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return G(G({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:r})}function U(e){return e/360+.5}function V(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function G(e,t){for(var r in t)e[r]=t[r];return e}function W(e){return e.x}function q(e){return e.y}function H(e,t,r,n,i,a){var o=i-r,s=a-n;if(0!==o||0!==s){var l=((e-r)*o+(t-n)*s)/(o*o+s*s);l>1?(r=i,n=a):l>0&&(r+=o*l,n+=s*l)}return(o=e-r)*o+(s=t-n)*s}function Y(e,t,r,n){var i={id:void 0===e?null:e,type:t,geometry:r,tags:n,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,r=e.type;if("Point"===r||"MultiPoint"===r||"LineString"===r)X(e,t);else if("Polygon"===r||"MultiLineString"===r)for(var n=0;n<t.length;n++)X(e,t[n]);else if("MultiPolygon"===r)for(n=0;n<t.length;n++)for(var i=0;i<t[n].length;i++)X(e,t[n][i])}(i),i}function X(e,t){for(var r=0;r<t.length;r+=3)e.minX=Math.min(e.minX,t[r]),e.minY=Math.min(e.minY,t[r+1]),e.maxX=Math.max(e.maxX,t[r]),e.maxY=Math.max(e.maxY,t[r+1])}function K(e,t,r,n){if(t.geometry){var i=t.geometry.coordinates,a=t.geometry.type,o=Math.pow(r.tolerance/((1<<r.maxZoom)*r.extent),2),s=[],l=t.id;if(r.promoteId?l=t.properties[r.promoteId]:r.generateId&&(l=n||0),"Point"===a)$(i,s);else if("MultiPoint"===a)for(var u=0;u<i.length;u++)$(i[u],s);else if("LineString"===a)J(i,s,o,!1);else if("MultiLineString"===a){if(r.lineMetrics){for(u=0;u<i.length;u++)J(i[u],s=[],o,!1),e.push(Y(l,"LineString",s,t.properties));return}Q(i,s,o,!1)}else if("Polygon"===a)Q(i,s,o,!0);else{if("MultiPolygon"!==a){if("GeometryCollection"===a){for(u=0;u<t.geometry.geometries.length;u++)K(e,{id:l,geometry:t.geometry.geometries[u],properties:t.properties},r,n);return}throw new Error("Input data is not a valid GeoJSON object.")}for(u=0;u<i.length;u++){var c=[];Q(i[u],c,o,!0),s.push(c)}}e.push(Y(l,a,s,t.properties))}}function $(e,t){t.push(ee(e[0])),t.push(te(e[1])),t.push(0)}function J(e,t,r,n){for(var i,a,o=0,s=0;s<e.length;s++){var l=ee(e[s][0]),u=te(e[s][1]);t.push(l),t.push(u),t.push(0),s>0&&(o+=n?(i*u-l*a)/2:Math.sqrt(Math.pow(l-i,2)+Math.pow(u-a,2))),i=l,a=u}var c=t.length-3;t[2]=1,function e(t,r,n,i){for(var a,o=i,s=n-r>>1,l=n-r,u=t[r],c=t[r+1],f=t[n],p=t[n+1],h=r+3;h<n;h+=3){var d=H(t[h],t[h+1],u,c,f,p);if(d>o)a=h,o=d;else if(d===o){var v=Math.abs(h-s);v<l&&(a=h,l=v)}}o>i&&(a-r>3&&e(t,r,a,i),t[a+2]=o,n-a>3&&e(t,a,n,i))}(t,0,c,r),t[c+2]=1,t.size=Math.abs(o),t.start=0,t.end=t.size}function Q(e,t,r,n){for(var i=0;i<e.length;i++){var a=[];J(e[i],a,r,n),t.push(a)}}function ee(e){return e/360+.5}function te(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function re(e,t,r,n,i,a,o,s){if(n/=t,a>=(r/=t)&&o<n)return e;if(o<r||a>=n)return null;for(var l=[],u=0;u<e.length;u++){var c=e[u],f=c.geometry,p=c.type,h=0===i?c.minX:c.minY,d=0===i?c.maxX:c.maxY;if(h>=r&&d<n)l.push(c);else if(!(d<r||h>=n)){var v=[];if("Point"===p||"MultiPoint"===p)ne(f,v,r,n,i);else if("LineString"===p)ie(f,v,r,n,i,!1,s.lineMetrics);else if("MultiLineString"===p)oe(f,v,r,n,i,!1);else if("Polygon"===p)oe(f,v,r,n,i,!0);else if("MultiPolygon"===p)for(var m=0;m<f.length;m++){var y=[];oe(f[m],y,r,n,i,!0),y.length&&v.push(y)}if(v.length){if(s.lineMetrics&&"LineString"===p){for(m=0;m<v.length;m++)l.push(Y(c.id,p,v[m],c.tags));continue}"LineString"!==p&&"MultiLineString"!==p||(1===v.length?(p="LineString",v=v[0]):p="MultiLineString"),"Point"!==p&&"MultiPoint"!==p||(p=3===v.length?"Point":"MultiPoint"),l.push(Y(c.id,p,v,c.tags))}}}return l.length?l:null}function ne(e,t,r,n,i){for(var a=0;a<e.length;a+=3){var o=e[a+i];o>=r&&o<=n&&(t.push(e[a]),t.push(e[a+1]),t.push(e[a+2]))}}function ie(e,t,r,n,i,a,o){for(var s,l,u=ae(e),c=0===i?le:ue,f=e.start,p=0;p<e.length-3;p+=3){var h=e[p],d=e[p+1],v=e[p+2],m=e[p+3],y=e[p+4],g=0===i?h:d,_=0===i?m:y,b=!1;o&&(s=Math.sqrt(Math.pow(h-m,2)+Math.pow(d-y,2))),g<r?_>r&&(l=c(u,h,d,m,y,r),o&&(u.start=f+s*l)):g>n?_<n&&(l=c(u,h,d,m,y,n),o&&(u.start=f+s*l)):se(u,h,d,v),_<r&&g>=r&&(l=c(u,h,d,m,y,r),b=!0),_>n&&g<=n&&(l=c(u,h,d,m,y,n),b=!0),!a&&b&&(o&&(u.end=f+s*l),t.push(u),u=ae(e)),o&&(f+=s)}var x=e.length-3;h=e[x],d=e[x+1],v=e[x+2],(g=0===i?h:d)>=r&&g<=n&&se(u,h,d,v),x=u.length-3,a&&x>=3&&(u[x]!==u[0]||u[x+1]!==u[1])&&se(u,u[0],u[1],u[2]),u.length&&t.push(u)}function ae(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function oe(e,t,r,n,i,a){for(var o=0;o<e.length;o++)ie(e[o],t,r,n,i,a,!1)}function se(e,t,r,n){e.push(t),e.push(r),e.push(n)}function le(e,t,r,n,i,a){var o=(a-t)/(n-t);return e.push(a),e.push(r+(i-r)*o),e.push(1),o}function ue(e,t,r,n,i,a){var o=(a-r)/(i-r);return e.push(t+(n-t)*o),e.push(a),e.push(1),o}function ce(e,t){for(var r=[],n=0;n<e.length;n++){var i,a=e[n],o=a.type;if("Point"===o||"MultiPoint"===o||"LineString"===o)i=fe(a.geometry,t);else if("MultiLineString"===o||"Polygon"===o){i=[];for(var s=0;s<a.geometry.length;s++)i.push(fe(a.geometry[s],t))}else if("MultiPolygon"===o)for(i=[],s=0;s<a.geometry.length;s++){for(var l=[],u=0;u<a.geometry[s].length;u++)l.push(fe(a.geometry[s][u],t));i.push(l)}r.push(Y(a.id,o,i,a.tags))}return r}function fe(e,t){var r=[];r.size=e.size,void 0!==e.start&&(r.start=e.start,r.end=e.end);for(var n=0;n<e.length;n+=3)r.push(e[n]+t,e[n+1],e[n+2]);return r}function pe(e,t){if(e.transformed)return e;var r,n,i,a=1<<e.z,o=e.x,s=e.y;for(r=0;r<e.features.length;r++){var l=e.features[r],u=l.geometry,c=l.type;if(l.geometry=[],1===c)for(n=0;n<u.length;n+=2)l.geometry.push(he(u[n],u[n+1],t,a,o,s));else for(n=0;n<u.length;n++){var f=[];for(i=0;i<u[n].length;i+=2)f.push(he(u[n][i],u[n][i+1],t,a,o,s));l.geometry.push(f)}}return e.transformed=!0,e}function he(e,t,r,n,i,a){return[Math.round(r*(e*n-i)),Math.round(r*(t*n-a))]}function de(e,t,r,n,i){for(var a=t===i.maxZoom?0:i.tolerance/((1<<t)*i.extent),o={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:r,y:n,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){o.numFeatures++,ve(o,e[s],a,i);var l=e[s].minX,u=e[s].minY,c=e[s].maxX,f=e[s].maxY;l<o.minX&&(o.minX=l),u<o.minY&&(o.minY=u),c>o.maxX&&(o.maxX=c),f>o.maxY&&(o.maxY=f)}return o}function ve(e,t,r,n){var i=t.geometry,a=t.type,o=[];if("Point"===a||"MultiPoint"===a)for(var s=0;s<i.length;s+=3)o.push(i[s]),o.push(i[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===a)me(o,i,e,r,!1,!1);else if("MultiLineString"===a||"Polygon"===a)for(s=0;s<i.length;s++)me(o,i[s],e,r,"Polygon"===a,0===s);else if("MultiPolygon"===a)for(var l=0;l<i.length;l++){var u=i[l];for(s=0;s<u.length;s++)me(o,u[s],e,r,!0,0===s)}if(o.length){var c=t.tags||null;if("LineString"===a&&n.lineMetrics){for(var f in c={},t.tags)c[f]=t.tags[f];c.mapbox_clip_start=i.start/i.size,c.mapbox_clip_end=i.end/i.size}var p={geometry:o,type:"Polygon"===a||"MultiPolygon"===a?3:"LineString"===a||"MultiLineString"===a?2:1,tags:c};null!==t.id&&(p.id=t.id),e.features.push(p)}}function me(e,t,r,n,i,a){var o=n*n;if(n>0&&t.size<(i?o:n))r.numPoints+=t.length/3;else{for(var s=[],l=0;l<t.length;l+=3)(0===n||t[l+2]>o)&&(r.numSimplified++,s.push(t[l]),s.push(t[l+1])),r.numPoints++;i&&function(e,t){for(var r=0,n=0,i=e.length,a=i-2;n<i;a=n,n+=2)r+=(e[n]-e[a])*(e[n+1]+e[a+1]);if(r>0===t)for(n=0,i=e.length;n<i/2;n+=2){var o=e[n],s=e[n+1];e[n]=e[i-2-n],e[n+1]=e[i-1-n],e[i-2-n]=o,e[i-1-n]=s}}(s,a),e.push(s)}}function ye(e,t){var r=(t=this.options=function(e,t){for(var r in t)e[r]=t[r];return e}(Object.create(this.options),t)).debug;if(r&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var n=function(e,t){var r=[];if("FeatureCollection"===e.type)for(var n=0;n<e.features.length;n++)K(r,e.features[n],t,n);else K(r,"Feature"===e.type?e:{geometry:e},t);return r}(e,t);this.tiles={},this.tileCoords=[],r&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(n=function(e,t){var r=t.buffer/t.extent,n=e,i=re(e,1,-1-r,r,0,-1,2,t),a=re(e,1,1-r,2+r,0,-1,2,t);return(i||a)&&(n=re(e,1,-r,1+r,0,-1,2,t)||[],i&&(n=ce(i,1).concat(n)),a&&(n=n.concat(ce(a,-1)))),n}(n,t)).length&&this.splitTile(n,0,0,0),r&&(n.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function ge(e,t,r){return 32*((1<<e)*r+t)+e}function _e(e,t){var r=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);var n=this._geoJSONIndex.getTile(r.z,r.x,r.y);if(!n)return t(null,null);var i=new v(n.features),a=b(i);0===a.byteOffset&&a.byteLength===a.buffer.byteLength||(a=new Uint8Array(a)),t(null,{vectorTile:i,rawData:a.buffer})}L.prototype.load=function(e){var t=this.options,r=t.log,n=t.minZoom,i=t.maxZoom,a=t.nodeSize;r&&console.time("total time");var o="prepare "+e.length+" points";r&&console.time(o),this.points=e;for(var s=[],l=0;l<e.length;l++)e[l].geometry&&s.push(z(e[l],l));this.trees[i+1]=new D(s,W,q,a,Float32Array),r&&console.timeEnd(o);for(var u=i;u>=n;u--){var c=+Date.now();s=this._cluster(s,u),this.trees[u]=new D(s,W,q,a,Float32Array),r&&console.log("z%d: %d clusters in %dms",u,s.length,+Date.now()-c)}return r&&console.timeEnd("total time"),this},L.prototype.getClusters=function(e,t){var r=((e[0]+180)%360+360)%360-180,n=Math.max(-90,Math.min(90,e[1])),i=180===e[2]?180:((e[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,i=180;else if(r>i){var o=this.getClusters([r,n,180,a],t),s=this.getClusters([-180,n,i,a],t);return o.concat(s)}for(var l=this.trees[this._limitZoom(t)],u=[],c=0,f=l.range(U(r),V(a),U(i),V(n));c<f.length;c+=1){var p=l.points[f[c]];u.push(p.numPoints?B(p):this.points[p.index])}return u},L.prototype.getChildren=function(e){var t=this._getOriginId(e),r=this._getOriginZoom(e),n="No cluster with the specified id.",i=this.trees[r];if(!i)throw new Error(n);var a=i.points[t];if(!a)throw new Error(n);for(var o=this.options.radius/(this.options.extent*Math.pow(2,r-1)),s=[],l=0,u=i.within(a.x,a.y,o);l<u.length;l+=1){var c=i.points[u[l]];c.parentId===e&&s.push(c.numPoints?B(c):this.points[c.index])}if(0===s.length)throw new Error(n);return s},L.prototype.getLeaves=function(e,t,r){var n=[];return this._appendLeaves(n,e,t=t||10,r=r||0,0),n},L.prototype.getTile=function(e,t,r){var n=this.trees[this._limitZoom(e)],i=Math.pow(2,e),a=this.options,o=a.radius/a.extent,s=(r-o)/i,l=(r+1+o)/i,u={features:[]};return this._addTileFeatures(n.range((t-o)/i,s,(t+1+o)/i,l),n.points,t,r,i,u),0===t&&this._addTileFeatures(n.range(1-o/i,s,1,l),n.points,i,r,i,u),t===i-1&&this._addTileFeatures(n.range(0,s,o/i,l),n.points,-1,r,i,u),u.features.length?u:null},L.prototype.getClusterExpansionZoom=function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var r=this.getChildren(e);if(t++,1!==r.length)break;e=r[0].properties.cluster_id}return t},L.prototype._appendLeaves=function(e,t,r,n,i){for(var a=0,o=this.getChildren(t);a<o.length;a+=1){var s=o[a],l=s.properties;if(l&&l.cluster?i+l.point_count<=n?i+=l.point_count:i=this._appendLeaves(e,l.cluster_id,r,n,i):i<n?i++:e.push(s),e.length===r)break}return i},L.prototype._addTileFeatures=function(e,t,r,n,i,a){for(var o=0,s=e;o<s.length;o+=1){var l=t[s[o]],u=l.numPoints,c={type:1,geometry:[[Math.round(this.options.extent*(l.x*i-r)),Math.round(this.options.extent*(l.y*i-n))]],tags:u?Z(l):this.points[l.index].properties},f=void 0;u?f=l.id:this.options.generateId?f=l.index:this.points[l.index].id&&(f=this.points[l.index].id),void 0!==f&&(c.id=f),a.features.push(c)}},L.prototype._limitZoom=function(e){return Math.max(this.options.minZoom,Math.min(+e,this.options.maxZoom+1))},L.prototype._cluster=function(e,t){for(var r=[],n=this.options,i=n.reduce,a=n.minPoints,o=n.radius/(n.extent*Math.pow(2,t)),s=0;s<e.length;s++){var l=e[s];if(!(l.zoom<=t)){l.zoom=t;for(var u=this.trees[t+1],c=u.within(l.x,l.y,o),f=l.numPoints||1,p=f,h=0,d=c;h<d.length;h+=1){var v=u.points[d[h]];v.zoom>t&&(p+=v.numPoints||1)}if(p>=a){for(var m=l.x*f,y=l.y*f,g=i&&f>1?this._map(l,!0):null,_=(s<<5)+(t+1)+this.points.length,b=0,x=c;b<x.length;b+=1){var w=u.points[x[b]];if(!(w.zoom<=t)){w.zoom=t;var S=w.numPoints||1;m+=w.x*S,y+=w.y*S,w.parentId=_,i&&(g||(g=this._map(l,!0)),i(g,this._map(w)))}}l.parentId=_,r.push(N(m/p,y/p,_,p,g))}else if(r.push(l),p>1)for(var P=0,k=c;P<k.length;P+=1){var E=u.points[k[P]];E.zoom<=t||(E.zoom=t,r.push(E))}}}return r},L.prototype._getOriginId=function(e){return e-this.points.length>>5},L.prototype._getOriginZoom=function(e){return(e-this.points.length)%32},L.prototype._map=function(e,t){if(e.numPoints)return t?G({},e.properties):e.properties;var r=this.points[e.index].properties,n=this.options.map(r);return t&&n===r?G({},n):n},ye.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ye.prototype.splitTile=function(e,t,r,n,i,a,o){for(var s=[e,t,r,n],l=this.options,u=l.debug;s.length;){n=s.pop(),r=s.pop(),t=s.pop(),e=s.pop();var c=1<<t,f=ge(t,r,n),p=this.tiles[f];if(!p&&(u>1&&console.time("creation"),p=this.tiles[f]=de(e,t,r,n,l),this.tileCoords.push({z:t,x:r,y:n}),u)){u>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,r,n,p.numFeatures,p.numPoints,p.numSimplified),console.timeEnd("creation"));var h="z"+t;this.stats[h]=(this.stats[h]||0)+1,this.total++}if(p.source=e,i){if(t===l.maxZoom||t===i)continue;var d=1<<i-t;if(r!==Math.floor(a/d)||n!==Math.floor(o/d))continue}else if(t===l.indexMaxZoom||p.numPoints<=l.indexMaxPoints)continue;if(p.source=null,0!==e.length){u>1&&console.time("clipping");var v,m,y,g,_,b,x=.5*l.buffer/l.extent,w=.5-x,S=.5+x,P=1+x;v=m=y=g=null,_=re(e,c,r-x,r+S,0,p.minX,p.maxX,l),b=re(e,c,r+w,r+P,0,p.minX,p.maxX,l),e=null,_&&(v=re(_,c,n-x,n+S,1,p.minY,p.maxY,l),m=re(_,c,n+w,n+P,1,p.minY,p.maxY,l),_=null),b&&(y=re(b,c,n-x,n+S,1,p.minY,p.maxY,l),g=re(b,c,n+w,n+P,1,p.minY,p.maxY,l),b=null),u>1&&console.timeEnd("clipping"),s.push(v||[],t+1,2*r,2*n),s.push(m||[],t+1,2*r,2*n+1),s.push(y||[],t+1,2*r+1,2*n),s.push(g||[],t+1,2*r+1,2*n+1)}}},ye.prototype.getTile=function(e,t,r){var n=this.options,i=n.extent,a=n.debug;if(e<0||e>24)return null;var o=1<<e,s=ge(e,t=(t%o+o)%o,r);if(this.tiles[s])return pe(this.tiles[s],i);a>1&&console.log("drilling down to z%d-%d-%d",e,t,r);for(var l,u=e,c=t,f=r;!l&&u>0;)u--,c=Math.floor(c/2),f=Math.floor(f/2),l=this.tiles[ge(u,c,f)];return l&&l.source?(a>1&&console.log("found parent tile z%d-%d-%d",u,c,f),a>1&&console.time("drilling down"),this.splitTile(l.source,u,c,f,e,t,r),a>1&&console.timeEnd("drilling down"),this.tiles[s]?pe(this.tiles[s],i):null):null};var be=function(t){function r(e,r,n,i){t.call(this,e,r,n,_e),i&&(this.loadGeoJSON=i)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.loadData=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=t,this._pendingLoadDataParams=e,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},r.prototype._loadData=function(){var t=this;if(this._pendingCallback&&this._pendingLoadDataParams){var r=this._pendingCallback,n=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var i=!!(n&&n.request&&n.request.collectResourceTiming)&&new e.RequestPerformance(n.request);this.loadGeoJSON(n,(function(a,o){if(a||!o)return r(a);if("object"!=typeof o)return r(new Error("Input data given to '"+n.source+"' is not a valid GeoJSON object."));!function e(t,r){var n,i=t&&t.type;if("FeatureCollection"===i)for(n=0;n<t.features.length;n++)e(t.features[n],r);else if("GeometryCollection"===i)for(n=0;n<t.geometries.length;n++)e(t.geometries[n],r);else if("Feature"===i)e(t.geometry,r);else if("Polygon"===i)f(t.coordinates,r);else if("MultiPolygon"===i)for(n=0;n<t.coordinates.length;n++)f(t.coordinates[n],r);return t}(o,!0);try{if(n.filter){var s=e.createExpression(n.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===s.result)throw new Error(s.value.map((function(e){return e.key+": "+e.message})).join(", "));var l=o.features.filter((function(e){return s.value.evaluate({zoom:0},e)}));o={type:"FeatureCollection",features:l}}t._geoJSONIndex=n.cluster?new L(function(t){var r=t.superclusterOptions,n=t.clusterProperties;if(!n||!r)return r;for(var i={},a={},o={accumulated:null,zoom:0},s={properties:null},l=Object.keys(n),u=0,c=l;u<c.length;u+=1){var f=c[u],p=n[f],h=p[0],d=e.createExpression(p[1]),v=e.createExpression("string"==typeof h?[h,["accumulated"],["get",f]]:h);i[f]=d.value,a[f]=v.value}return r.map=function(e){s.properties=e;for(var t={},r=0,n=l;r<n.length;r+=1){var a=n[r];t[a]=i[a].evaluate(o,s)}return t},r.reduce=function(e,t){s.properties=t;for(var r=0,n=l;r<n.length;r+=1){var i=n[r];o.accumulated=e[i],e[i]=a[i].evaluate(o,s)}},r}(n)).load(o.features):function(e,t){return new ye(e,t)}(o,n.geojsonVtOptions)}catch(a){return r(a)}t.loaded={};var u={};if(i){var c=i.finish();c&&(u.resourceTiming={},u.resourceTiming[n.source]=JSON.parse(JSON.stringify(c)))}r(null,u)}))}},r.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},r.prototype.reloadTile=function(e,r){var n=this.loaded;return n&&n[e.uid]?t.prototype.reloadTile.call(this,e,r):this.loadTile(e,r)},r.prototype.loadGeoJSON=function(t,r){if(t.request)e.getJSON(t.request,r);else{if("string"!=typeof t.data)return r(new Error("Input data given to '"+t.source+"' is not a valid GeoJSON object."));try{return r(null,JSON.parse(t.data))}catch(e){return r(new Error("Input data given to '"+t.source+"' is not a valid GeoJSON object."))}}},r.prototype.removeSource=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),t()},r.prototype.getClusterExpansionZoom=function(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(e){t(e)}},r.prototype.getClusterChildren=function(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(e){t(e)}},r.prototype.getClusterLeaves=function(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(e){t(e)}},r}(l),xe=function(t){var r=this;this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:l,geojson:be},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(e,t){if(r.workerSourceTypes[e])throw new Error('Worker source with name "'+e+'" already registered.');r.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=function(t){if(e.plugin.isParsed())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}};return xe.prototype.setReferrer=function(e,t){this.referrer=t},xe.prototype.setImages=function(e,t,r){for(var n in this.availableImages[e]=t,this.workerSources[e]){var i=this.workerSources[e][n];for(var a in i)i[a].availableImages=t}r()},xe.prototype.setLayers=function(e,t,r){this.getLayerIndex(e).replace(t),r()},xe.prototype.updateLayers=function(e,t,r){this.getLayerIndex(e).update(t.layers,t.removedIds),r()},xe.prototype.loadTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).loadTile(t,r)},xe.prototype.loadDEMTile=function(e,t,r){this.getDEMWorkerSource(e,t.source).loadTile(t,r)},xe.prototype.reloadTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).reloadTile(t,r)},xe.prototype.abortTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).abortTile(t,r)},xe.prototype.removeTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).removeTile(t,r)},xe.prototype.removeDEMTile=function(e,t){this.getDEMWorkerSource(e,t.source).removeTile(t)},xe.prototype.removeSource=function(e,t,r){if(this.workerSources[e]&&this.workerSources[e][t.type]&&this.workerSources[e][t.type][t.source]){var n=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==n.removeSource?n.removeSource(t,r):r()}},xe.prototype.loadWorkerSource=function(e,t,r){try{this.self.importScripts(t.url),r()}catch(e){r(e.toString())}},xe.prototype.syncRTLPluginState=function(t,r,n){try{e.plugin.setState(r);var i=e.plugin.getPluginURL();if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&null!=i){this.self.importScripts(i);var a=e.plugin.isParsed();n(a?void 0:new Error("RTL Text Plugin failed to import scripts from "+i),a)}}catch(e){n(e.toString())}},xe.prototype.getAvailableImages=function(e){var t=this.availableImages[e];return t||(t=[]),t},xe.prototype.getLayerIndex=function(e){var t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new n),t},xe.prototype.getWorkerSource=function(e,t,r){var n=this;return this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),this.workerSources[e][t][r]||(this.workerSources[e][t][r]=new this.workerSourceTypes[t]({send:function(t,r,i){n.actor.send(t,r,i,e)}},this.getLayerIndex(e),this.getAvailableImages(e))),this.workerSources[e][t][r]},xe.prototype.getDEMWorkerSource=function(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new c),this.demWorkerSources[e][t]},xe.prototype.enforceCacheSizeLimit=function(t,r){e.enforceCacheSizeLimit(r)},"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new xe(self)),xe})),n(["./shared"],(function(e){var t=e.createCommonjsModule((function(e){function t(e){return!r(e)}function r(e){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,r=new Blob([""],{type:"text/javascript"}),n=URL.createObjectURL(r);try{t=new Worker(n),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(n),e}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d");if(!t)return!1;var r=t.getImageData(0,0,1,1);return r&&r.width===e.width}()?(void 0===n[r=e&&e.failIfMajorPerformanceCaveat]&&(n[r]=function(e){var r=function(e){var r=document.createElement("canvas"),n=Object.create(t.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=e,r.probablySupportsContext?r.probablySupportsContext("webgl",n)||r.probablySupportsContext("experimental-webgl",n):r.supportsContext?r.supportsContext("webgl",n)||r.supportsContext("experimental-webgl",n):r.getContext("webgl",n)||r.getContext("experimental-webgl",n)}(e);if(!r)return!1;var n=r.createShader(r.VERTEX_SHADER);return!(!n||r.isContextLost())&&(r.shaderSource(n,"void main() {}"),r.compileShader(n),!0===r.getShaderParameter(n,r.COMPILE_STATUS))}(r)),n[r]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var r}e.exports?e.exports=t:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=t,window.mapboxgl.notSupportedReason=r);var n={};t.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}})),r={create:function(t,r,n){var i=e.window.document.createElement(t);return void 0!==r&&(i.className=r),n&&n.appendChild(i),i},createNS:function(t,r){return e.window.document.createElementNS(t,r)}},n=e.window.document&&e.window.document.documentElement.style;function i(e){if(!n)return e[0];for(var t=0;t<e.length;t++)if(e[t]in n)return e[t];return e[0]}var a,o=i(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);r.disableDrag=function(){n&&o&&(a=n[o],n[o]="none")},r.enableDrag=function(){n&&o&&(n[o]=a)};var s=i(["transform","WebkitTransform"]);r.setTransform=function(e,t){e.style[s]=t};var l=!1;try{var u=Object.defineProperty({},"passive",{get:function(){l=!0}});e.window.addEventListener("test",u,u),e.window.removeEventListener("test",u,u)}catch(e){l=!1}r.addEventListener=function(e,t,r,n){void 0===n&&(n={}),e.addEventListener(t,r,"passive"in n&&l?n:n.capture)},r.removeEventListener=function(e,t,r,n){void 0===n&&(n={}),e.removeEventListener(t,r,"passive"in n&&l?n:n.capture)};var c=function t(r){r.preventDefault(),r.stopPropagation(),e.window.removeEventListener("click",t,!0)};function f(e){var t=e.userImage;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}r.suppressClick=function(){e.window.addEventListener("click",c,!0),e.window.setTimeout((function(){e.window.removeEventListener("click",c,!0)}),0)},r.mousePos=function(t,r){var n=t.getBoundingClientRect();return new e.Point(r.clientX-n.left-t.clientLeft,r.clientY-n.top-t.clientTop)},r.touchPos=function(t,r){for(var n=t.getBoundingClientRect(),i=[],a=0;a<r.length;a++)i.push(new e.Point(r[a].clientX-n.left-t.clientLeft,r[a].clientY-n.top-t.clientTop));return i},r.mouseButton=function(t){return void 0!==e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button},r.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)};var p=function(t){function r(){t.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.isLoaded=function(){return this.loaded},r.prototype.setLoaded=function(e){if(this.loaded!==e&&(this.loaded=e,e)){for(var t=0,r=this.requestors;t<r.length;t+=1){var n=r[t];this._notify(n.ids,n.callback)}this.requestors=[]}},r.prototype.getImage=function(e){return this.images[e]},r.prototype.addImage=function(e,t){this._validate(e,t)&&(this.images[e]=t)},r.prototype._validate=function(t,r){var n=!0;return this._validateStretch(r.stretchX,r.data&&r.data.width)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "stretchX" value'))),n=!1),this._validateStretch(r.stretchY,r.data&&r.data.height)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "stretchY" value'))),n=!1),this._validateContent(r.content,r)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "content" value'))),n=!1),n},r.prototype._validateStretch=function(e,t){if(!e)return!0;for(var r=0,n=0,i=e;n<i.length;n+=1){var a=i[n];if(a[0]<r||a[1]<a[0]||t<a[1])return!1;r=a[1]}return!0},r.prototype._validateContent=function(e,t){return!(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))},r.prototype.updateImage=function(e,t){t.version=this.images[e].version+1,this.images[e]=t,this.updatedImages[e]=!0},r.prototype.removeImage=function(e){var t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()},r.prototype.listImages=function(){return Object.keys(this.images)},r.prototype.getImages=function(e,t){var r=!0;if(!this.isLoaded())for(var n=0,i=e;n<i.length;n+=1)this.images[i[n]]||(r=!1);this.isLoaded()||r?this._notify(e,t):this.requestors.push({ids:e,callback:t})},r.prototype._notify=function(t,r){for(var n={},i=0,a=t;i<a.length;i+=1){var o=a[i];this.images[o]||this.fire(new e.Event("styleimagemissing",{id:o}));var s=this.images[o];s?n[o]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,stretchX:s.stretchX,stretchY:s.stretchY,content:s.content,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:e.warnOnce('Image "'+o+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}r(null,n)},r.prototype.getPixelSize=function(){var e=this.atlasImage;return{width:e.width,height:e.height}},r.prototype.getPattern=function(t){var r=this.patterns[t],n=this.getImage(t);if(!n)return null;if(r&&r.position.version===n.version)return r.position;if(r)r.position.version=n.version;else{var i={w:n.data.width+2,h:n.data.height+2,x:0,y:0},a=new e.ImagePosition(i,n);this.patterns[t]={bin:i,position:a}}return this._updatePatternAtlas(),this.patterns[t].position},r.prototype.bind=function(t){var r=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,r.RGBA),this.atlasTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)},r.prototype._updatePatternAtlas=function(){var t=[];for(var r in this.patterns)t.push(this.patterns[r].bin);var n=e.potpack(t),i=n.w,a=n.h,o=this.atlasImage;for(var s in o.resize({width:i||1,height:a||1}),this.patterns){var l=this.patterns[s].bin,u=l.x+1,c=l.y+1,f=this.images[s].data,p=f.width,h=f.height;e.RGBAImage.copy(f,o,{x:0,y:0},{x:u,y:c},{width:p,height:h}),e.RGBAImage.copy(f,o,{x:0,y:h-1},{x:u,y:c-1},{width:p,height:1}),e.RGBAImage.copy(f,o,{x:0,y:0},{x:u,y:c+h},{width:p,height:1}),e.RGBAImage.copy(f,o,{x:p-1,y:0},{x:u-1,y:c},{width:1,height:h}),e.RGBAImage.copy(f,o,{x:0,y:0},{x:u+p,y:c},{width:1,height:h})}this.dirty=!0},r.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},r.prototype.dispatchRenderCallbacks=function(e){for(var t=0,r=e;t<r.length;t+=1){var n=r[t];if(!this.callbackDispatchedThisFrame[n]){this.callbackDispatchedThisFrame[n]=!0;var i=this.images[n];f(i)&&this.updateImage(n,i)}}},r}(e.Evented),h=m,d=m,v=1e20;function m(e,t,r,n,i,a){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=n||.25,this.fontFamily=i||"sans-serif",this.fontWeight=a||"normal",this.radius=r||8;var o=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=o,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(o*o),this.gridInner=new Float64Array(o*o),this.f=new Float64Array(o),this.d=new Float64Array(o),this.z=new Float64Array(o+1),this.v=new Int16Array(o),this.middle=Math.round(o/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function y(e,t,r,n,i,a,o){for(var s=0;s<t;s++){for(var l=0;l<r;l++)n[l]=e[l*t+s];for(g(n,i,a,o,r),l=0;l<r;l++)e[l*t+s]=i[l]}for(l=0;l<r;l++){for(s=0;s<t;s++)n[s]=e[l*t+s];for(g(n,i,a,o,t),s=0;s<t;s++)e[l*t+s]=Math.sqrt(i[s])}}function g(e,t,r,n,i){r[0]=0,n[0]=-v,n[1]=+v;for(var a=1,o=0;a<i;a++){for(var s=(e[a]+a*a-(e[r[o]]+r[o]*r[o]))/(2*a-2*r[o]);s<=n[o];)o--,s=(e[a]+a*a-(e[r[o]]+r[o]*r[o]))/(2*a-2*r[o]);r[++o]=a,n[o]=s,n[o+1]=+v}for(a=0,o=0;a<i;a++){for(;n[o+1]<a;)o++;t[a]=(a-r[o])*(a-r[o])+e[r[o]]}}m.prototype.draw=function(e){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(e,this.buffer,this.middle);for(var t=this.ctx.getImageData(0,0,this.size,this.size),r=new Uint8ClampedArray(this.size*this.size),n=0;n<this.size*this.size;n++){var i=t.data[4*n+3]/255;this.gridOuter[n]=1===i?0:0===i?v:Math.pow(Math.max(0,.5-i),2),this.gridInner[n]=1===i?v:0===i?0:Math.pow(Math.max(0,i-.5),2)}for(y(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),y(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),n=0;n<this.size*this.size;n++)r[n]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[n]-this.gridInner[n])/this.radius+this.cutoff))));return r},h.default=d;var _=function(e,t){this.requestManager=e,this.localIdeographFontFamily=t,this.entries={}};_.prototype.setURL=function(e){this.url=e},_.prototype.getGlyphs=function(t,r){var n=this,i=[];for(var a in t)for(var o=0,s=t[a];o<s.length;o+=1)i.push({stack:a,id:s[o]});e.asyncAll(i,(function(e,t){var r=e.stack,i=e.id,a=n.entries[r];a||(a=n.entries[r]={glyphs:{},requests:{},ranges:{}});var o=a.glyphs[i];if(void 0===o){if(o=n._tinySDF(a,r,i))return a.glyphs[i]=o,void t(null,{stack:r,id:i,glyph:o});var s=Math.floor(i/256);if(256*s>65535)t(new Error("glyphs > 65535 not supported"));else if(a.ranges[s])t(null,{stack:r,id:i,glyph:o});else{var l=a.requests[s];l||(l=a.requests[s]=[],_.loadGlyphRange(r,s,n.url,n.requestManager,(function(e,t){if(t){for(var r in t)n._doesCharSupportLocalGlyph(+r)||(a.glyphs[+r]=t[+r]);a.ranges[s]=!0}for(var i=0,o=l;i<o.length;i+=1)(0,o[i])(e,t);delete a.requests[s]}))),l.push((function(e,n){e?t(e):n&&t(null,{stack:r,id:i,glyph:n[i]||null})}))}}else t(null,{stack:r,id:i,glyph:o})}),(function(e,t){if(e)r(e);else if(t){for(var n={},i=0,a=t;i<a.length;i+=1){var o=a[i],s=o.stack,l=o.id,u=o.glyph;(n[s]||(n[s]={}))[l]=u&&{id:u.id,bitmap:u.bitmap.clone(),metrics:u.metrics}}r(null,n)}}))},_.prototype._doesCharSupportLocalGlyph=function(t){return!!this.localIdeographFontFamily&&(e.isChar["CJK Unified Ideographs"](t)||e.isChar["Hangul Syllables"](t)||e.isChar.Hiragana(t)||e.isChar.Katakana(t))},_.prototype._tinySDF=function(t,r,n){var i=this.localIdeographFontFamily;if(i&&this._doesCharSupportLocalGlyph(n)){var a=t.tinySDF;if(!a){var o="400";/bold/i.test(r)?o="900":/medium/i.test(r)?o="500":/light/i.test(r)&&(o="200"),a=t.tinySDF=new _.TinySDF(24,3,8,.25,i,o)}return{id:n,bitmap:new e.AlphaImage({width:30,height:30},a.draw(String.fromCharCode(n))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},_.loadGlyphRange=function(t,r,n,i,a){var o=256*r,s=o+255,l=i.transformRequest(i.normalizeGlyphsURL(n).replace("{fontstack}",t).replace("{range}",o+"-"+s),e.ResourceType.Glyphs);e.getArrayBuffer(l,(function(t,r){if(t)a(t);else if(r){for(var n={},i=0,o=e.parseGlyphPBF(r);i<o.length;i+=1){var s=o[i];n[s.id]=s}a(null,n)}}))},_.TinySDF=h;var b=function(){this.specification=e.styleSpec.light.position};b.prototype.possiblyEvaluate=function(t,r){return e.sphericalToCartesian(t.expression.evaluate(r))},b.prototype.interpolate=function(t,r,n){return{x:e.number(t.x,r.x,n),y:e.number(t.y,r.y,n),z:e.number(t.z,r.z,n)}};var x=new e.Properties({anchor:new e.DataConstantProperty(e.styleSpec.light.anchor),position:new b,color:new e.DataConstantProperty(e.styleSpec.light.color),intensity:new e.DataConstantProperty(e.styleSpec.light.intensity)}),w=function(t){function r(r){t.call(this),this._transitionable=new e.Transitionable(x),this.setLight(r),this._transitioning=this._transitionable.untransitioned()}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.getLight=function(){return this._transitionable.serialize()},r.prototype.setLight=function(t,r){if(void 0===r&&(r={}),!this._validate(e.validateLight,t,r))for(var n in t){var i=t[n];e.endsWith(n,"-transition")?this._transitionable.setTransition(n.slice(0,-"-transition".length),i):this._transitionable.setValue(n,i)}},r.prototype.updateTransitions=function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)},r.prototype.hasTransition=function(){return this._transitioning.hasTransition()},r.prototype.recalculate=function(e){this.properties=this._transitioning.possiblyEvaluate(e)},r.prototype._validate=function(t,r,n){return(!n||!1!==n.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:r,style:{glyphs:!0,sprite:!0},styleSpec:e.styleSpec})))},r}(e.Evented),S=function(e,t){this.width=e,this.height=t,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};S.prototype.getDash=function(e,t){var r=e.join(",")+String(t);return this.dashEntry[r]||(this.dashEntry[r]=this.addDash(e,t)),this.dashEntry[r]},S.prototype.getDashRanges=function(e,t,r){var n=[],i=e.length%2==1?-e[e.length-1]*r:0,a=e[0]*r,o=!0;n.push({left:i,right:a,isDash:o,zeroLength:0===e[0]});for(var s=e[0],l=1;l<e.length;l++){var u=e[l];n.push({left:i=s*r,right:a=(s+=u)*r,isDash:o=!o,zeroLength:0===u})}return n},S.prototype.addRoundDash=function(e,t,r){for(var n=t/2,i=-r;i<=r;i++)for(var a=this.width*(this.nextRow+r+i),o=0,s=e[o],l=0;l<this.width;l++){l/s.right>1&&(s=e[++o]);var u=Math.abs(l-s.left),c=Math.abs(l-s.right),f=Math.min(u,c),p=void 0,h=i/r*(n+1);if(s.isDash){var d=n-Math.abs(h);p=Math.sqrt(f*f+d*d)}else p=n-Math.sqrt(f*f+h*h);this.data[a+l]=Math.max(0,Math.min(255,p+128))}},S.prototype.addRegularDash=function(e){for(var t=e.length-1;t>=0;--t){var r=e[t],n=e[t+1];r.zeroLength?e.splice(t,1):n&&n.isDash===r.isDash&&(n.left=r.left,e.splice(t,1))}var i=e[0],a=e[e.length-1];i.isDash===a.isDash&&(i.left=a.left-this.width,a.right=i.right+this.width);for(var o=this.width*this.nextRow,s=0,l=e[s],u=0;u<this.width;u++){u/l.right>1&&(l=e[++s]);var c=Math.abs(u-l.left),f=Math.abs(u-l.right),p=Math.min(c,f);this.data[o+u]=Math.max(0,Math.min(255,(l.isDash?p:-p)+128))}},S.prototype.addDash=function(t,r){var n=r?7:0,i=2*n+1;if(this.nextRow+i>this.height)return e.warnOnce("LineAtlas out of space"),null;for(var a=0,o=0;o<t.length;o++)a+=t[o];if(0!==a){var s=this.width/a,l=this.getDashRanges(t,this.width,s);r?this.addRoundDash(l,s,n):this.addRegularDash(l)}var u={y:(this.nextRow+n+.5)/this.height,height:2*n/this.height,width:a};return this.nextRow+=i,this.dirty=!0,u},S.prototype.bind=function(e){var t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,this.data))};var P=function t(r,n){this.workerPool=r,this.actors=[],this.currentActor=0,this.id=e.uniqueId();for(var i=this.workerPool.acquire(this.id),a=0;a<i.length;a++){var o=new t.Actor(i[a],n,this.id);o.name="Worker "+a,this.actors.push(o)}};function k(t,r,n){var i=function(i,a){if(i)return n(i);if(a){var o=e.pick(e.extend(a,t),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);a.vector_layers&&(o.vectorLayers=a.vector_layers,o.vectorLayerIds=o.vectorLayers.map((function(e){return e.id}))),o.tiles=r.canonicalizeTileset(o,t.url),n(null,o)}};return t.url?e.getJSON(r.transformRequest(r.normalizeSourceURL(t.url),e.ResourceType.Source),i):e.browser.frame((function(){return i(null,t)}))}P.prototype.broadcast=function(t,r,n){e.asyncAll(this.actors,(function(e,n){e.send(t,r,n)}),n=n||function(){})},P.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},P.prototype.remove=function(){this.actors.forEach((function(e){e.remove()})),this.actors=[],this.workerPool.release(this.id)},P.Actor=e.Actor;var E=function(t,r,n){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=r||0,this.maxzoom=n||24};E.prototype.validateBounds=function(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]},E.prototype.contains=function(t){var r=Math.pow(2,t.z),n=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*r),i=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*r),a=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*r),o=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*r);return t.x>=n&&t.x<a&&t.y>=i&&t.y<o};var C=function(t){function r(r,n,i,a){if(t.call(this),this.id=r,this.dispatcher=i,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.extend(this,e.pick(n,["url","scheme","tileSize","promoteId"])),this._options=e.extend({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(a)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.load=function(){var t=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=k(this._options,this.map._requestManager,(function(r,n){t._tileJSONRequest=null,t._loaded=!0,r?t.fire(new e.ErrorEvent(r)):n&&(e.extend(t,n),n.bounds&&(t.tileBounds=new E(n.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(n.tiles,t.map._requestManager._customAccessToken),e.postMapLoadEvent(n.tiles,t.map._getMapId(),t.map._requestManager._skuToken,t.map._requestManager._customAccessToken),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))},r.prototype.loaded=function(){return this._loaded},r.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},r.prototype.onAdd=function(e){this.map=e,this.load()},r.prototype.setSourceProperty=function(e){this._tileJSONRequest&&this._tileJSONRequest.cancel(),e(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},r.prototype.setTiles=function(e){var t=this;return this.setSourceProperty((function(){t._options.tiles=e})),this},r.prototype.setUrl=function(e){var t=this;return this.setSourceProperty((function(){t.url=e,t._options.url=e})),this},r.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},r.prototype.serialize=function(){return e.extend({},this._options)},r.prototype.loadTile=function(t,r){var n=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme)),i={request:this.map._requestManager.transformRequest(n,e.ResourceType.Tile),uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function a(n,i){return delete t.request,t.aborted?r(null):n&&404!==n.status?r(n):(i&&i.resourceTiming&&(t.resourceTiming=i.resourceTiming),this.map._refreshExpiredTiles&&i&&t.setExpiryData(i),t.loadVectorData(i,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),r(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}i.request.collectResourceTiming=this._collectResourceTiming,t.actor&&"expired"!==t.state?"loading"===t.state?t.reloadCallback=r:t.request=t.actor.send("reloadTile",i,a.bind(this)):(t.actor=this.dispatcher.getActor(),t.request=t.actor.send("loadTile",i,a.bind(this)))},r.prototype.abortTile=function(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id},void 0)},r.prototype.unloadTile=function(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id},void 0)},r.prototype.hasTransition=function(){return!1},r}(e.Evented),A=function(t){function r(r,n,i,a){t.call(this),this.id=r,this.dispatcher=i,this.setEventedParent(a),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.extend({type:"raster"},n),e.extend(this,e.pick(n,["url","scheme","tileSize"]))}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.load=function(){var t=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=k(this._options,this.map._requestManager,(function(r,n){t._tileJSONRequest=null,t._loaded=!0,r?t.fire(new e.ErrorEvent(r)):n&&(e.extend(t,n),n.bounds&&(t.tileBounds=new E(n.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(n.tiles),e.postMapLoadEvent(n.tiles,t.map._getMapId(),t.map._requestManager._skuToken),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))},r.prototype.loaded=function(){return this._loaded},r.prototype.onAdd=function(e){this.map=e,this.load()},r.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},r.prototype.serialize=function(){return e.extend({},this._options)},r.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},r.prototype.loadTile=function(t,r){var n=this,i=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(i,e.ResourceType.Tile),(function(i,a){if(delete t.request,t.aborted)t.state="unloaded",r(null);else if(i)t.state="errored",r(i);else if(a){n.map._refreshExpiredTiles&&t.setExpiryData(a),delete a.cacheControl,delete a.expires;var o=n.map.painter.context,s=o.gl;t.texture=n.map.painter.getTileTexture(a.width),t.texture?t.texture.update(a,{useMipmap:!0}):(t.texture=new e.Texture(o,a,s.RGBA,{useMipmap:!0}),t.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),o.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,o.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,o.extTextureFilterAnisotropicMax)),t.state="loaded",e.cacheEntryPossiblyAdded(n.dispatcher),r(null)}}))},r.prototype.abortTile=function(e,t){e.request&&(e.request.cancel(),delete e.request),t()},r.prototype.unloadTile=function(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()},r.prototype.hasTransition=function(){return!1},r}(e.Evented),T=function(t){function r(r,n,i,a){t.call(this,r,n,i,a),this.type="raster-dem",this.maxzoom=22,this._options=e.extend({type:"raster-dem"},n),this.encoding=n.encoding||"mapbox"}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},r.prototype.loadTile=function(t,r){var n=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function i(e,n){e&&(t.state="errored",r(e)),n&&(t.dem=n,t.needsHillshadePrepare=!0,t.state="loaded",r(null))}t.request=e.getImage(this.map._requestManager.transformRequest(n,e.ResourceType.Tile),function(n,a){if(delete t.request,t.aborted)t.state="unloaded",r(null);else if(n)t.state="errored",r(n);else if(a){this.map._refreshExpiredTiles&&t.setExpiryData(a),delete a.cacheControl,delete a.expires;var o=e.window.ImageBitmap&&a instanceof e.window.ImageBitmap&&e.offscreenCanvasSupported()?a:e.browser.getImageData(a,1),s={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:o,encoding:this.encoding};t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",s,i.bind(this)))}}.bind(this)),t.neighboringTiles=this._getNeighboringTiles(t.tileID)},r.prototype._getNeighboringTiles=function(t){var r=t.canonical,n=Math.pow(2,r.z),i=(r.x-1+n)%n,a=0===r.x?t.wrap-1:t.wrap,o=(r.x+1+n)%n,s=r.x+1===n?t.wrap+1:t.wrap,l={};return l[new e.OverscaledTileID(t.overscaledZ,a,r.z,i,r.y).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,r.z,o,r.y).key]={backfilled:!1},r.y>0&&(l[new e.OverscaledTileID(t.overscaledZ,a,r.z,i,r.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,r.z,r.x,r.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,r.z,o,r.y-1).key]={backfilled:!1}),r.y+1<n&&(l[new e.OverscaledTileID(t.overscaledZ,a,r.z,i,r.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,r.z,r.x,r.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,r.z,o,r.y+1).key]={backfilled:!1}),l},r.prototype.unloadTile=function(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",e.actor&&e.actor.send("removeDEMTile",{uid:e.uid,source:this.id})},r}(A),O=function(t){function r(r,n,i,a){t.call(this),this.id=r,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=i.getActor(),this.setEventedParent(a),this._data=n.data,this._options=e.extend({},n),this._collectResourceTiming=n.collectResourceTiming,this._resourceTiming=[],void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type),n.attribution&&(this.attribution=n.attribution),this.promoteId=n.promoteId;var o=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*o,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*o,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:n.lineMetrics||!1,generateId:n.generateId||!1},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?Math.min(n.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,n.clusterMinPoints||2),extent:e.EXTENT,radius:(n.clusterRadius||50)*o,log:!1,generateId:n.generateId||!1},clusterProperties:n.clusterProperties,filter:n.filter},n.workerOptions)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.load=function(){var t=this;this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(r){if(r)t.fire(new e.ErrorEvent(r));else{var n={dataType:"source",sourceDataType:"metadata"};t._collectResourceTiming&&t._resourceTiming&&t._resourceTiming.length>0&&(n.resourceTiming=t._resourceTiming,t._resourceTiming=[]),t.fire(new e.Event("data",n))}}))},r.prototype.onAdd=function(e){this.map=e,this.load()},r.prototype.setData=function(t){var r=this;return this._data=t,this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(t){if(t)r.fire(new e.ErrorEvent(t));else{var n={dataType:"source",sourceDataType:"content"};r._collectResourceTiming&&r._resourceTiming&&r._resourceTiming.length>0&&(n.resourceTiming=r._resourceTiming,r._resourceTiming=[]),r.fire(new e.Event("data",n))}})),this},r.prototype.getClusterExpansionZoom=function(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this},r.prototype.getClusterChildren=function(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this},r.prototype.getClusterLeaves=function(e,t,r,n){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:r},n),this},r.prototype._updateWorkerData=function(t){var r=this;this._loaded=!1;var n=e.extend({},this.workerOptions),i=this._data;"string"==typeof i?(n.request=this.map._requestManager.transformRequest(e.browser.resolveURL(i),e.ResourceType.Source),n.request.collectResourceTiming=this._collectResourceTiming):n.data=JSON.stringify(i),this.actor.send(this.type+".loadData",n,(function(e,i){r._removed||i&&i.abandoned||(r._loaded=!0,i&&i.resourceTiming&&i.resourceTiming[r.id]&&(r._resourceTiming=i.resourceTiming[r.id].slice(0)),r.actor.send(r.type+".coalesce",{source:n.source},null),t(e))}))},r.prototype.loaded=function(){return this._loaded},r.prototype.loadTile=function(t,r){var n=this,i=t.actor?"reloadTile":"loadTile";t.actor=this.actor,t.request=this.actor.send(i,{type:this.type,uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(function(e,a){return delete t.request,t.unloadVectorData(),t.aborted?r(null):e?r(e):(t.loadVectorData(a,n.map.painter,"reloadTile"===i),r(null))}))},r.prototype.abortTile=function(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0},r.prototype.unloadTile=function(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})},r.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},r.prototype.serialize=function(){return e.extend({},this._options,{type:this.type,data:this._data})},r.prototype.hasTransition=function(){return!1},r}(e.Evented),M=e.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),I=function(t){function r(e,r,n,i){t.call(this),this.id=e,this.dispatcher=n,this.coordinates=r.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(i),this.options=r}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.load=function(t,r){var n=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),(function(i,a){n._loaded=!0,i?n.fire(new e.ErrorEvent(i)):a&&(n.image=a,t&&(n.coordinates=t),r&&r(),n._finishLoading())}))},r.prototype.loaded=function(){return this._loaded},r.prototype.updateImage=function(e){var t=this;return this.image&&e.url?(this.options.url=e.url,this.load(e.coordinates,(function(){t.texture=null})),this):this},r.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))},r.prototype.onAdd=function(e){this.map=e,this.load()},r.prototype.setCoordinates=function(t){var r=this;this.coordinates=t;var n=t.map(e.MercatorCoordinate.fromLngLat);this.tileID=function(t){for(var r=1/0,n=1/0,i=-1/0,a=-1/0,o=0,s=t;o<s.length;o+=1){var l=s[o];r=Math.min(r,l.x),n=Math.min(n,l.y),i=Math.max(i,l.x),a=Math.max(a,l.y)}var u=Math.max(i-r,a-n),c=Math.max(0,Math.floor(-Math.log(u)/Math.LN2)),f=Math.pow(2,c);return new e.CanonicalTileID(c,Math.floor((r+i)/2*f),Math.floor((n+a)/2*f))}(n),this.minzoom=this.maxzoom=this.tileID.z;var i=n.map((function(e){return r.tileID.getTilePoint(e)._round()}));return this._boundsArray=new e.StructArrayLayout4i8,this._boundsArray.emplaceBack(i[0].x,i[0].y,0,0),this._boundsArray.emplaceBack(i[1].x,i[1].y,e.EXTENT,0),this._boundsArray.emplaceBack(i[3].x,i[3].y,0,e.EXTENT),this._boundsArray.emplaceBack(i[2].x,i[2].y,e.EXTENT,e.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this},r.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var t=this.map.painter.context,r=t.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,M.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new e.Texture(t,this.image,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[n];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},r.prototype.loadTile=function(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))},r.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},r.prototype.hasTransition=function(){return!1},r}(e.Evented),F=function(t){function r(e,r,n,i){t.call(this,e,r,n,i),this.roundZoom=!0,this.type="video",this.options=r}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.load=function(){var t=this;this._loaded=!1;var r=this.options;this.urls=[];for(var n=0,i=r.urls;n<i.length;n+=1)this.urls.push(this.map._requestManager.transformRequest(i[n],e.ResourceType.Source).url);e.getVideo(this.urls,(function(r,n){t._loaded=!0,r?t.fire(new e.ErrorEvent(r)):n&&(t.video=n,t.video.loop=!0,t.video.addEventListener("playing",(function(){t.map.triggerRepaint()})),t.map&&t.video.play(),t._finishLoading())}))},r.prototype.pause=function(){this.video&&this.video.pause()},r.prototype.play=function(){this.video&&this.video.play()},r.prototype.seek=function(t){if(this.video){var r=this.video.seekable;t<r.start(0)||t>r.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+r.start(0)+" and "+r.end(0)+"-second mark."))):this.video.currentTime=t}},r.prototype.getVideo=function(){return this.video},r.prototype.onAdd=function(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},r.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,r=t.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,M.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[n];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},r.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},r.prototype.hasTransition=function(){return this.video&&!this.video.paused},r}(I),R=function(t){function r(r,n,i,a){t.call(this,r,n,i,a),n.coordinates?Array.isArray(n.coordinates)&&4===n.coordinates.length&&!n.coordinates.some((function(e){return!Array.isArray(e)||2!==e.length||e.some((function(e){return"number"!=typeof e}))}))||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'missing required property "coordinates"'))),n.animate&&"boolean"!=typeof n.animate&&this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'optional "animate" property must be a boolean value'))),n.canvas?"string"==typeof n.canvas||n.canvas instanceof e.window.HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'missing required property "canvas"'))),this.options=n,this.animate=void 0===n.animate||n.animate}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},r.prototype.getCanvas=function(){return this.canvas},r.prototype.onAdd=function(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()},r.prototype.onRemove=function(){this.pause()},r.prototype.prepare=function(){var t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var r=this.map.painter.context,n=r.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=r.createVertexBuffer(this._boundsArray,M.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(r,this.canvas,n.RGBA,{premultiply:!0}),this.tiles){var a=this.tiles[i];"loaded"!==a.state&&(a.state="loaded",a.texture=this.texture)}}},r.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},r.prototype.hasTransition=function(){return this._playing},r.prototype._hasInvalidDimensions=function(){for(var e=0,t=[this.canvas.width,this.canvas.height];e<t.length;e+=1){var r=t[e];if(isNaN(r)||r<=0)return!0}return!1},r}(I),D={vector:C,raster:A,"raster-dem":T,geojson:O,video:F,image:I,canvas:R};function j(t,r){var n=e.identity([]);return e.translate(n,n,[1,1,0]),e.scale(n,n,[.5*t.width,.5*t.height,1]),e.multiply(n,n,t.calculatePosMatrix(r.toUnwrapped()))}function L(e,t,r,n,i,a){var o=function(e,t,r){if(e)for(var n=0,i=e;n<i.length;n+=1){var a=t[i[n]];if(a&&a.source===r&&"fill-extrusion"===a.type)return!0}else for(var o in t){var s=t[o];if(s.source===r&&"fill-extrusion"===s.type)return!0}return!1}(i&&i.layers,t,e.id),s=a.maxPitchScaleFactor(),l=e.tilesIn(n,s,o);l.sort(N);for(var u=[],c=0,f=l;c<f.length;c+=1){var p=f[c];u.push({wrappedTileID:p.tileID.wrapped().key,queryResults:p.tile.queryRenderedFeatures(t,r,e._state,p.queryGeometry,p.cameraQueryGeometry,p.scale,i,a,s,j(e.transform,p.tileID))})}var h=function(e){for(var t={},r={},n=0,i=e;n<i.length;n+=1){var a=i[n],o=a.queryResults,s=a.wrappedTileID,l=r[s]=r[s]||{};for(var u in o)for(var c=o[u],f=l[u]=l[u]||{},p=t[u]=t[u]||[],h=0,d=c;h<d.length;h+=1){var v=d[h];f[v.featureIndex]||(f[v.featureIndex]=!0,p.push(v))}}return t}(u);for(var d in h)h[d].forEach((function(t){var r=t.feature,n=e.getFeatureState(r.layer["source-layer"],r.id);r.source=r.layer.source,r.layer["source-layer"]&&(r.sourceLayer=r.layer["source-layer"]),r.state=n}));return h}function N(e,t){var r=e.tileID,n=t.tileID;return r.overscaledZ-n.overscaledZ||r.canonical.y-n.canonical.y||r.wrap-n.wrap||r.canonical.x-n.canonical.x}var z=function(e,t){this.max=e,this.onRemove=t,this.reset()};z.prototype.reset=function(){for(var e in this.data)for(var t=0,r=this.data[e];t<r.length;t+=1){var n=r[t];n.timeout&&clearTimeout(n.timeout),this.onRemove(n.value)}return this.data={},this.order=[],this},z.prototype.add=function(e,t,r){var n=this,i=e.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);var a={value:t,timeout:void 0};if(void 0!==r&&(a.timeout=setTimeout((function(){n.remove(e,a)}),r)),this.data[i].push(a),this.order.push(i),this.order.length>this.max){var o=this._getAndRemoveByKey(this.order[0]);o&&this.onRemove(o)}return this},z.prototype.has=function(e){return e.wrapped().key in this.data},z.prototype.getAndRemove=function(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null},z.prototype._getAndRemoveByKey=function(e){var t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value},z.prototype.getByKey=function(e){var t=this.data[e];return t?t[0].value:null},z.prototype.get=function(e){return this.has(e)?this.data[e.wrapped().key][0].value:null},z.prototype.remove=function(e,t){if(!this.has(e))return this;var r=e.wrapped().key,n=void 0===t?0:this.data[r].indexOf(t),i=this.data[r][n];return this.data[r].splice(n,1),i.timeout&&clearTimeout(i.timeout),0===this.data[r].length&&delete this.data[r],this.onRemove(i.value),this.order.splice(this.order.indexOf(r),1),this},z.prototype.setMaxSize=function(e){for(this.max=e;this.order.length>this.max;){var t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this},z.prototype.filter=function(e){var t=[];for(var r in this.data)for(var n=0,i=this.data[r];n<i.length;n+=1){var a=i[n];e(a.value)||t.push(a)}for(var o=0,s=t;o<s.length;o+=1){var l=s[o];this.remove(l.value.tileID,l)}};var B=function(e,t,r){this.context=e;var n=e.gl;this.buffer=n.createBuffer(),this.dynamicDraw=Boolean(r),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};B.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},B.prototype.updateData=function(e){var t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)},B.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var Z={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},U=function(e,t,r,n){this.length=t.length,this.attributes=r,this.itemSize=t.bytesPerElement,this.dynamicDraw=n,this.context=e;var i=e.gl;this.buffer=i.createBuffer(),e.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};U.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},U.prototype.updateData=function(e){var t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)},U.prototype.enableAttributes=function(e,t){for(var r=0;r<this.attributes.length;r++){var n=t.attributes[this.attributes[r].name];void 0!==n&&e.enableVertexAttribArray(n)}},U.prototype.setVertexAttribPointers=function(e,t,r){for(var n=0;n<this.attributes.length;n++){var i=this.attributes[n],a=t.attributes[i.name];void 0!==a&&e.vertexAttribPointer(a,i.components,e[Z[i.type]],!1,this.itemSize,i.offset+this.itemSize*(r||0))}},U.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var V=function(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};V.prototype.get=function(){return this.current},V.prototype.set=function(e){},V.prototype.getDefault=function(){return this.default},V.prototype.setDefault=function(){this.set(this.default)};var G=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.getDefault=function(){return e.Color.transparent},r.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},r}(V),W=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 1},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)},t}(V),q=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)},t}(V),H=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return[!0,!0,!0,!0]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(V),Y=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)},t}(V),X=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 255},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)},t}(V),K=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},t.prototype.set=function(e){var t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)},t}(V),$=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)},t}(V),J=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}},t}(V),Q=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return[0,1]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)},t}(V),ee=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}},t}(V),te=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.LESS},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)},t}(V),re=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}},t}(V),ne=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.ONE,e.ZERO]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)},t}(V),ie=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.getDefault=function(){return e.Color.transparent},r.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},r}(V),ae=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.FUNC_ADD},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)},t}(V),oe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}},t}(V),se=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.BACK},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)},t}(V),le=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.CCW},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)},t}(V),ue=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)},t}(V),ce=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.TEXTURE0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)},t}(V),fe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(V),pe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}},t}(V),he=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(V),de=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}},t}(V),ve=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}},t}(V),me=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){var t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1},t}(V),ye=function(e){function t(t){e.call(this,t),this.vao=t.extVertexArrayObject}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)},t}(V),ge=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 4},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}},t}(V),_e=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}},t}(V),be=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}},t}(V),xe=function(e){function t(t,r){e.call(this,t),this.context=t,this.parent=r}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t}(V),we=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.setDirty=function(){this.dirty=!0},t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}},t}(xe),Se=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(xe),Pe=function(e,t,r,n){this.context=e,this.width=t,this.height=r;var i=this.framebuffer=e.gl.createFramebuffer();this.colorAttachment=new we(e,i),n&&(this.depthAttachment=new Se(e,i))};Pe.prototype.destroy=function(){var e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){var r=this.depthAttachment.get();r&&e.deleteRenderbuffer(r)}e.deleteFramebuffer(this.framebuffer)};var ke=function(e,t,r){this.func=e,this.mask=t,this.range=r};ke.ReadOnly=!1,ke.ReadWrite=!0,ke.disabled=new ke(519,ke.ReadOnly,[0,1]);var Ee=function(e,t,r,n,i,a){this.test=e,this.ref=t,this.mask=r,this.fail=n,this.depthFail=i,this.pass=a};Ee.disabled=new Ee({func:519,mask:0},0,0,7680,7680,7680);var Ce=function(e,t,r){this.blendFunction=e,this.blendColor=t,this.mask=r};Ce.disabled=new Ce(Ce.Replace=[1,0],e.Color.transparent,[!1,!1,!1,!1]),Ce.unblended=new Ce(Ce.Replace,e.Color.transparent,[!0,!0,!0,!0]),Ce.alphaBlended=new Ce([1,771],e.Color.transparent,[!0,!0,!0,!0]);var Ae=function(e,t,r){this.enable=e,this.mode=t,this.frontFace=r};Ae.disabled=new Ae(!1,1029,2305),Ae.backCCW=new Ae(!0,1029,2305);var Te=function(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new G(this),this.clearDepth=new W(this),this.clearStencil=new q(this),this.colorMask=new H(this),this.depthMask=new Y(this),this.stencilMask=new X(this),this.stencilFunc=new K(this),this.stencilOp=new $(this),this.stencilTest=new J(this),this.depthRange=new Q(this),this.depthTest=new ee(this),this.depthFunc=new te(this),this.blend=new re(this),this.blendFunc=new ne(this),this.blendColor=new ie(this),this.blendEquation=new ae(this),this.cullFace=new oe(this),this.cullFaceSide=new se(this),this.frontFace=new le(this),this.program=new ue(this),this.activeTexture=new ce(this),this.viewport=new fe(this),this.bindFramebuffer=new pe(this),this.bindRenderbuffer=new he(this),this.bindTexture=new de(this),this.bindVertexBuffer=new ve(this),this.bindElementBuffer=new me(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ye(this),this.pixelStoreUnpack=new ge(this),this.pixelStoreUnpackPremultiplyAlpha=new _e(this),this.pixelStoreUnpackFlipY=new be(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(e.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=e.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=e.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)};Te.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Te.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Te.prototype.createIndexBuffer=function(e,t){return new B(this,e,t)},Te.prototype.createVertexBuffer=function(e,t,r){return new U(this,e,t,r)},Te.prototype.createRenderbuffer=function(e,t,r){var n=this.gl,i=n.createRenderbuffer();return this.bindRenderbuffer.set(i),n.renderbufferStorage(n.RENDERBUFFER,e,t,r),this.bindRenderbuffer.set(null),i},Te.prototype.createFramebuffer=function(e,t,r){return new Pe(this,e,t,r)},Te.prototype.clear=function(e){var t=e.color,r=e.depth,n=this.gl,i=0;t&&(i|=n.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==r&&(i|=n.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(r),this.depthMask.set(!0)),n.clear(i)},Te.prototype.setCullFace=function(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))},Te.prototype.setDepthMode=function(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)},Te.prototype.setStencilMode=function(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)},Te.prototype.setColorMode=function(t){e.deepEqual(t.blendFunction,Ce.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)},Te.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Oe=function(t){function r(r,n,i){var a=this;t.call(this),this.id=r,this.dispatcher=i,this.on("data",(function(e){"source"===e.dataType&&"metadata"===e.sourceDataType&&(a._sourceLoaded=!0),a._sourceLoaded&&!a._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(a.reload(),a.transform&&a.update(a.transform))})),this.on("error",(function(){a._sourceErrored=!0})),this._source=function(t,r,n,i){var a=new D[r.type](t,r,n,i);if(a.id!==t)throw new Error("Expected Source id to be "+t+" instead of "+a.id);return e.bindAll(["load","abort","unload","serialize","prepare"],a),a}(r,n,i,this),this._tiles={},this._cache=new z(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new e.SourceFeatureState}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.onAdd=function(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(e)},r.prototype.onRemove=function(e){this._source&&this._source.onRemove&&this._source.onRemove(e)},r.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var e in this._tiles){var t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0},r.prototype.getSource=function(){return this._source},r.prototype.pause=function(){this._paused=!0},r.prototype.resume=function(){if(this._paused){var e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}},r.prototype._loadTile=function(e,t){return this._source.loadTile(e,t)},r.prototype._unloadTile=function(e){if(this._source.unloadTile)return this._source.unloadTile(e,(function(){}))},r.prototype._abortTile=function(e){if(this._source.abortTile)return this._source.abortTile(e,(function(){}))},r.prototype.serialize=function(){return this._source.serialize()},r.prototype.prepare=function(e){for(var t in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var r=this._tiles[t];r.upload(e),r.prepare(this.map.style.imageManager)}},r.prototype.getIds=function(){return e.values(this._tiles).map((function(e){return e.tileID})).sort(Me).map((function(e){return e.key}))},r.prototype.getRenderableIds=function(t){var r=this,n=[];for(var i in this._tiles)this._isIdRenderable(i,t)&&n.push(this._tiles[i]);return t?n.sort((function(t,n){var i=t.tileID,a=n.tileID,o=new e.Point(i.canonical.x,i.canonical.y)._rotate(r.transform.angle),s=new e.Point(a.canonical.x,a.canonical.y)._rotate(r.transform.angle);return i.overscaledZ-a.overscaledZ||s.y-o.y||s.x-o.x})).map((function(e){return e.tileID.key})):n.map((function(e){return e.tileID})).sort(Me).map((function(e){return e.key}))},r.prototype.hasRenderableParent=function(e){var t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)},r.prototype._isIdRenderable=function(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())},r.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var e in this._cache.reset(),this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(e,"reloading")},r.prototype._reloadTile=function(e,t){var r=this._tiles[e];r&&("loading"!==r.state&&(r.state=t),this._loadTile(r,this._tileLoaded.bind(this,r,e,t)))},r.prototype._tileLoaded=function(t,r,n,i){if(i)return t.state="errored",void(404!==i.status?this._source.fire(new e.ErrorEvent(i,{tile:t})):this.update(this.transform));t.timeAdded=e.browser.now(),"expired"===n&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(r,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),this._source.fire(new e.Event("data",{dataType:"source",tile:t,coord:t.tileID}))},r.prototype._backfillDEM=function(e){for(var t=this.getRenderableIds(),r=0;r<t.length;r++){var n=t[r];if(e.neighboringTiles&&e.neighboringTiles[n]){var i=this.getTileByID(n);a(e,i),a(i,e)}}function a(e,t){e.needsHillshadePrepare=!0;var r=t.tileID.canonical.x-e.tileID.canonical.x,n=t.tileID.canonical.y-e.tileID.canonical.y,i=Math.pow(2,e.tileID.canonical.z),a=t.tileID.key;0===r&&0===n||Math.abs(n)>1||(Math.abs(r)>1&&(1===Math.abs(r+i)?r+=i:1===Math.abs(r-i)&&(r-=i)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,r,n),e.neighboringTiles&&e.neighboringTiles[a]&&(e.neighboringTiles[a].backfilled=!0)))}},r.prototype.getTile=function(e){return this.getTileByID(e.key)},r.prototype.getTileByID=function(e){return this._tiles[e]},r.prototype._retainLoadedChildren=function(e,t,r,n){for(var i in this._tiles){var a=this._tiles[i];if(!(n[i]||!a.hasData()||a.tileID.overscaledZ<=t||a.tileID.overscaledZ>r)){for(var o=a.tileID;a&&a.tileID.overscaledZ>t+1;){var s=a.tileID.scaledTo(a.tileID.overscaledZ-1);(a=this._tiles[s.key])&&a.hasData()&&(o=s)}for(var l=o;l.overscaledZ>t;)if(e[(l=l.scaledTo(l.overscaledZ-1)).key]){n[o.key]=o;break}}}},r.prototype.findLoadedParent=function(e,t){if(e.key in this._loadedParentTiles){var r=this._loadedParentTiles[e.key];return r&&r.tileID.overscaledZ>=t?r:null}for(var n=e.overscaledZ-1;n>=t;n--){var i=e.scaledTo(n),a=this._getLoadedTile(i);if(a)return a}},r.prototype._getLoadedTile=function(e){var t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(e.wrapped().key)},r.prototype.updateCacheSize=function(e){var t=Math.ceil(e.width/this._source.tileSize)+1,r=Math.ceil(e.height/this._source.tileSize)+1,n=Math.floor(t*r*5),i="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,n):n;this._cache.setMaxSize(i)},r.prototype.handleWrapJump=function(e){var t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){var r={};for(var n in this._tiles){var i=this._tiles[n];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+t),r[i.tileID.key]=i}for(var a in this._tiles=r,this._timers)clearTimeout(this._timers[a]),delete this._timers[a];for(var o in this._tiles)this._setTileReloadTimer(o,this._tiles[o])}},r.prototype.update=function(t){var n=this;if(this.transform=t,this._sourceLoaded&&!this._paused){var i;this.updateCacheSize(t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?i=t.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(t){return new e.OverscaledTileID(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y)})):(i=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(i=i.filter((function(e){return n._source.hasTile(e)})))):i=[];var a=t.coveringZoomLevel(this._source),o=Math.max(a-r.maxOverzooming,this._source.minzoom),s=Math.max(a+r.maxUnderzooming,this._source.minzoom),l=this._updateRetainedTiles(i,a);if(Ie(this._source.type)){for(var u={},c={},f=0,p=Object.keys(l);f<p.length;f+=1){var h=p[f],d=l[h],v=this._tiles[h];if(v&&!(v.fadeEndTime&&v.fadeEndTime<=e.browser.now())){var m=this.findLoadedParent(d,o);m&&(this._addTile(m.tileID),u[m.tileID.key]=m.tileID),c[h]=d}}for(var y in this._retainLoadedChildren(c,a,s,l),u)l[y]||(this._coveredTiles[y]=!0,l[y]=u[y])}for(var g in l)this._tiles[g].clearFadeHold();for(var _=0,b=e.keysDifference(this._tiles,l);_<b.length;_+=1){var x=b[_],w=this._tiles[x];w.hasSymbolBuckets&&!w.holdingForFade()?w.setHoldDuration(this.map._fadeDuration):w.hasSymbolBuckets&&!w.symbolFadeFinished()||this._removeTile(x)}this._updateLoadedParentTileCache()}},r.prototype.releaseSymbolFadeTiles=function(){for(var e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e)},r.prototype._updateRetainedTiles=function(e,t){for(var n={},i={},a=Math.max(t-r.maxOverzooming,this._source.minzoom),o=Math.max(t+r.maxUnderzooming,this._source.minzoom),s={},l=0,u=e;l<u.length;l+=1){var c=u[l],f=this._addTile(c);n[c.key]=c,f.hasData()||t<this._source.maxzoom&&(s[c.key]=c)}this._retainLoadedChildren(s,t,o,n);for(var p=0,h=e;p<h.length;p+=1){var d=h[p],v=this._tiles[d.key];if(!v.hasData()){if(t+1>this._source.maxzoom){var m=d.children(this._source.maxzoom)[0],y=this.getTile(m);if(y&&y.hasData()){n[m.key]=m;continue}}else{var g=d.children(this._source.maxzoom);if(n[g[0].key]&&n[g[1].key]&&n[g[2].key]&&n[g[3].key])continue}for(var _=v.wasRequested(),b=d.overscaledZ-1;b>=a;--b){var x=d.scaledTo(b);if(i[x.key])break;if(i[x.key]=!0,!(v=this.getTile(x))&&_&&(v=this._addTile(x)),v&&(n[x.key]=x,_=v.wasRequested(),v.hasData()))break}}}return n},r.prototype._updateLoadedParentTileCache=function(){for(var e in this._loadedParentTiles={},this._tiles){for(var t=[],r=void 0,n=this._tiles[e].tileID;n.overscaledZ>0;){if(n.key in this._loadedParentTiles){r=this._loadedParentTiles[n.key];break}t.push(n.key);var i=n.scaledTo(n.overscaledZ-1);if(r=this._getLoadedTile(i))break;n=i}for(var a=0,o=t;a<o.length;a+=1)this._loadedParentTiles[o[a]]=r}},r.prototype._addTile=function(t){var r=this._tiles[t.key];if(r)return r;(r=this._cache.getAndRemove(t))&&(this._setTileReloadTimer(t.key,r),r.tileID=t,this._state.initializeTileState(r,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,r)));var n=Boolean(r);return n||(r=new e.Tile(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(r,this._tileLoaded.bind(this,r,t.key,r.state))),r?(r.uses++,this._tiles[t.key]=r,n||this._source.fire(new e.Event("dataloading",{tile:r,coord:r.tileID,dataType:"source"})),r):null},r.prototype._setTileReloadTimer=function(e,t){var r=this;e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);var n=t.getExpiryTimeout();n&&(this._timers[e]=setTimeout((function(){r._reloadTile(e,"expired"),delete r._timers[e]}),n))},r.prototype._removeTile=function(e){var t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))},r.prototype.clearTiles=function(){for(var e in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(e);this._cache.reset()},r.prototype.tilesIn=function(t,r,n){var i=this,a=[],o=this.transform;if(!o)return a;for(var s=n?o.getCameraQueryGeometry(t):t,l=t.map((function(e){return o.pointCoordinate(e)})),u=s.map((function(e){return o.pointCoordinate(e)})),c=this.getIds(),f=1/0,p=1/0,h=-1/0,d=-1/0,v=0,m=u;v<m.length;v+=1){var y=m[v];f=Math.min(f,y.x),p=Math.min(p,y.y),h=Math.max(h,y.x),d=Math.max(d,y.y)}for(var g=function(t){var n=i._tiles[c[t]];if(!n.holdingForFade()){var s=n.tileID,v=Math.pow(2,o.zoom-n.tileID.overscaledZ),m=r*n.queryPadding*e.EXTENT/n.tileSize/v,y=[s.getTilePoint(new e.MercatorCoordinate(f,p)),s.getTilePoint(new e.MercatorCoordinate(h,d))];if(y[0].x-m<e.EXTENT&&y[0].y-m<e.EXTENT&&y[1].x+m>=0&&y[1].y+m>=0){var g=l.map((function(e){return s.getTilePoint(e)})),_=u.map((function(e){return s.getTilePoint(e)}));a.push({tile:n,tileID:s,queryGeometry:g,cameraQueryGeometry:_,scale:v})}}},_=0;_<c.length;_++)g(_);return a},r.prototype.getVisibleCoordinates=function(e){for(var t=this,r=this.getRenderableIds(e).map((function(e){return t._tiles[e].tileID})),n=0,i=r;n<i.length;n+=1){var a=i[n];a.posMatrix=this.transform.calculatePosMatrix(a.toUnwrapped())}return r},r.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Ie(this._source.type))for(var t in this._tiles){var r=this._tiles[t];if(void 0!==r.fadeEndTime&&r.fadeEndTime>=e.browser.now())return!0}return!1},r.prototype.setFeatureState=function(e,t,r){this._state.updateState(e=e||"_geojsonTileLayer",t,r)},r.prototype.removeFeatureState=function(e,t,r){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,r)},r.prototype.getFeatureState=function(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)},r.prototype.setDependencies=function(e,t,r){var n=this._tiles[e];n&&n.setDependencies(t,r)},r.prototype.reloadTilesForDependencies=function(e,t){for(var r in this._tiles)this._tiles[r].hasDependency(e,t)&&this._reloadTile(r,"reloading");this._cache.filter((function(r){return!r.hasDependency(e,t)}))},r}(e.Evented);function Me(e,t){var r=Math.abs(2*e.wrap)-+(e.wrap<0),n=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||n-r||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function Ie(e){return"raster"===e||"image"===e||"video"===e}function Fe(){return new e.window.Worker(Xi.workerUrl)}Oe.maxOverzooming=10,Oe.maxUnderzooming=3;var Re="mapboxgl_preloaded_worker_pool",De=function(){this.active={}};De.prototype.acquire=function(e){if(!this.workers)for(this.workers=[];this.workers.length<De.workerCount;)this.workers.push(new Fe);return this.active[e]=!0,this.workers.slice()},De.prototype.release=function(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach((function(e){e.terminate()})),this.workers=null)},De.prototype.isPreloaded=function(){return!!this.active[Re]},De.prototype.numActive=function(){return Object.keys(this.active).length};var je,Le=Math.floor(e.browser.hardwareConcurrency/2);function Ne(){return je||(je=new De),je}function ze(t,r){var n={};for(var i in t)"ref"!==i&&(n[i]=t[i]);return e.refProperties.forEach((function(e){e in r&&(n[e]=r[e])})),n}function Be(e){e=e.slice();for(var t=Object.create(null),r=0;r<e.length;r++)t[e[r].id]=e[r];for(var n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=ze(e[n],t[e[n].ref]));return e}De.workerCount=Math.max(Math.min(Le,6),1);var Ze={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Ue(e,t,r){r.push({command:Ze.addSource,args:[e,t[e]]})}function Ve(e,t,r){t.push({command:Ze.removeSource,args:[e]}),r[e]=!0}function Ge(e,t,r,n){Ve(e,r,n),Ue(e,t,r)}function We(t,r,n){var i;for(i in t[n])if(t[n].hasOwnProperty(i)&&"data"!==i&&!e.deepEqual(t[n][i],r[n][i]))return!1;for(i in r[n])if(r[n].hasOwnProperty(i)&&"data"!==i&&!e.deepEqual(t[n][i],r[n][i]))return!1;return!0}function qe(t,r,n,i,a,o){var s;for(s in r=r||{},t=t||{})t.hasOwnProperty(s)&&(e.deepEqual(t[s],r[s])||n.push({command:o,args:[i,s,r[s],a]}));for(s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(e.deepEqual(t[s],r[s])||n.push({command:o,args:[i,s,r[s],a]}))}function He(e){return e.id}function Ye(e,t){return e[t.id]=t,e}var Xe=function(e,t){this.reset(e,t)};Xe.prototype.reset=function(e,t){this.points=e||[],this._distances=[0];for(var r=1;r<this.points.length;r++)this._distances[r]=this._distances[r-1]+this.points[r].dist(this.points[r-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding},Xe.prototype.lerp=function(t){if(1===this.points.length)return this.points[0];t=e.clamp(t,0,1);for(var r=1,n=this._distances[r],i=t*this.paddedLength+this.padding;n<i&&r<this._distances.length;)n=this._distances[++r];var a=r-1,o=this._distances[a],s=n-o,l=s>0?(i-o)/s:0;return this.points[a].mult(1-l).add(this.points[r].mult(l))};var Ke=function(e,t,r){var n=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(e/r),this.yCellCount=Math.ceil(t/r);for(var a=0;a<this.xCellCount*this.yCellCount;a++)n.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0};function $e(t,r,n,i,a){var o=e.create();return r?(e.scale(o,o,[1/a,1/a,1]),n||e.rotateZ(o,o,i.angle)):e.multiply(o,i.labelPlaneMatrix,t),o}function Je(t,r,n,i,a){if(r){var o=e.clone(t);return e.scale(o,o,[a,a,1]),n||e.rotateZ(o,o,-i.angle),o}return i.glCoordMatrix}function Qe(t,r){var n=[t.x,t.y,0,1];ct(n,n,r);var i=n[3];return{point:new e.Point(n[0]/i,n[1]/i),signedDistanceFromCamera:i}}function et(e,t){return.5+e/t*.5}function tt(e,t){var r=e[0]/e[3],n=e[1]/e[3];return r>=-t[0]&&r<=t[0]&&n>=-t[1]&&n<=t[1]}function rt(t,r,n,i,a,o,s,l){var u=i?t.textSizeData:t.iconSizeData,c=e.evaluateSizeForZoom(u,n.transform.zoom),f=[256/n.width*2+1,256/n.height*2+1],p=i?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;p.clear();for(var h=t.lineVertexArray,d=i?t.text.placedSymbolArray:t.icon.placedSymbolArray,v=n.transform.width/n.transform.height,m=!1,y=0;y<d.length;y++){var g=d.get(y);if(g.hidden||g.writingMode===e.WritingMode.vertical&&!m)ut(g.numGlyphs,p);else{m=!1;var _=[g.anchorX,g.anchorY,0,1];if(e.transformMat4(_,_,r),tt(_,f)){var b=et(n.transform.cameraToCenterDistance,_[3]),x=e.evaluateSizeForFeature(u,c,g),w=s?x/b:x*b,S=new e.Point(g.anchorX,g.anchorY),P=Qe(S,a).point,k={},E=at(g,w,!1,l,r,a,o,t.glyphOffsetArray,h,p,P,S,k,v);m=E.useVertical,(E.notEnoughRoom||m||E.needsFlipping&&at(g,w,!0,l,r,a,o,t.glyphOffsetArray,h,p,P,S,k,v).notEnoughRoom)&&ut(g.numGlyphs,p)}else ut(g.numGlyphs,p)}}i?t.text.dynamicLayoutVertexBuffer.updateData(p):t.icon.dynamicLayoutVertexBuffer.updateData(p)}function nt(e,t,r,n,i,a,o,s,l,u,c){var f=s.glyphStartIndex+s.numGlyphs,p=s.lineStartIndex,h=s.lineStartIndex+s.lineLength,d=t.getoffsetX(s.glyphStartIndex),v=t.getoffsetX(f-1),m=st(e*d,r,n,i,a,o,s.segment,p,h,l,u,c);if(!m)return null;var y=st(e*v,r,n,i,a,o,s.segment,p,h,l,u,c);return y?{first:m,last:y}:null}function it(t,r,n,i){return t===e.WritingMode.horizontal&&Math.abs(n.y-r.y)>Math.abs(n.x-r.x)*i?{useVertical:!0}:(t===e.WritingMode.vertical?r.y<n.y:r.x>n.x)?{needsFlipping:!0}:null}function at(t,r,n,i,a,o,s,l,u,c,f,p,h,d){var v,m=r/24,y=t.lineOffsetX*m,g=t.lineOffsetY*m;if(t.numGlyphs>1){var _=t.glyphStartIndex+t.numGlyphs,b=t.lineStartIndex,x=t.lineStartIndex+t.lineLength,w=nt(m,l,y,g,n,f,p,t,u,o,h);if(!w)return{notEnoughRoom:!0};var S=Qe(w.first.point,s).point,P=Qe(w.last.point,s).point;if(i&&!n){var k=it(t.writingMode,S,P,d);if(k)return k}v=[w.first];for(var E=t.glyphStartIndex+1;E<_-1;E++)v.push(st(m*l.getoffsetX(E),y,g,n,f,p,t.segment,b,x,u,o,h));v.push(w.last)}else{if(i&&!n){var C=Qe(p,a).point,A=t.lineStartIndex+t.segment+1,T=new e.Point(u.getx(A),u.gety(A)),O=Qe(T,a),M=O.signedDistanceFromCamera>0?O.point:ot(p,T,C,1,a),I=it(t.writingMode,C,M,d);if(I)return I}var F=st(m*l.getoffsetX(t.glyphStartIndex),y,g,n,f,p,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,u,o,h);if(!F)return{notEnoughRoom:!0};v=[F]}for(var R=0,D=v;R<D.length;R+=1){var j=D[R];e.addDynamicAttributes(c,j.point,j.angle)}return{}}function ot(e,t,r,n,i){var a=Qe(e.add(e.sub(t)._unit()),i).point,o=r.sub(a);return r.add(o._mult(n/o.mag()))}function st(t,r,n,i,a,o,s,l,u,c,f,p){var h=i?t-r:t+r,d=h>0?1:-1,v=0;i&&(d*=-1,v=Math.PI),d<0&&(v+=Math.PI);for(var m=d>0?l+s:l+s+1,y=a,g=a,_=0,b=0,x=Math.abs(h),w=[];_+b<=x;){if((m+=d)<l||m>=u)return null;if(g=y,w.push(y),void 0===(y=p[m])){var S=new e.Point(c.getx(m),c.gety(m)),P=Qe(S,f);if(P.signedDistanceFromCamera>0)y=p[m]=P.point;else{var k=m-d;y=ot(0===_?o:new e.Point(c.getx(k),c.gety(k)),S,g,x-_+1,f)}}_+=b,b=g.dist(y)}var E=(x-_)/b,C=y.sub(g),A=C.mult(E)._add(g);A._add(C._unit()._perp()._mult(n*d));var T=v+Math.atan2(y.y-g.y,y.x-g.x);return w.push(A),{point:A,angle:T,path:w}}Ke.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Ke.prototype.insert=function(e,t,r,n,i){this._forEachCell(t,r,n,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(i)},Ke.prototype.insertCircle=function(e,t,r,n){this._forEachCell(t-n,r-n,t+n,r+n,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(r),this.circles.push(n)},Ke.prototype._insertBoxCell=function(e,t,r,n,i,a){this.boxCells[i].push(a)},Ke.prototype._insertCircleCell=function(e,t,r,n,i,a){this.circleCells[i].push(a)},Ke.prototype._query=function(e,t,r,n,i,a){if(r<0||e>this.width||n<0||t>this.height)return!i&&[];var o=[];if(e<=0&&t<=0&&this.width<=r&&this.height<=n){if(i)return!0;for(var s=0;s<this.boxKeys.length;s++)o.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var l=0;l<this.circleKeys.length;l++){var u=this.circles[3*l],c=this.circles[3*l+1],f=this.circles[3*l+2];o.push({key:this.circleKeys[l],x1:u-f,y1:c-f,x2:u+f,y2:c+f})}return a?o.filter(a):o}return this._forEachCell(e,t,r,n,this._queryCell,o,{hitTest:i,seenUids:{box:{},circle:{}}},a),i?o.length>0:o},Ke.prototype._queryCircle=function(e,t,r,n,i){var a=e-r,o=e+r,s=t-r,l=t+r;if(o<0||a>this.width||l<0||s>this.height)return!n&&[];var u=[];return this._forEachCell(a,s,o,l,this._queryCellCircle,u,{hitTest:n,circle:{x:e,y:t,radius:r},seenUids:{box:{},circle:{}}},i),n?u.length>0:u},Ke.prototype.query=function(e,t,r,n,i){return this._query(e,t,r,n,!1,i)},Ke.prototype.hitTest=function(e,t,r,n,i){return this._query(e,t,r,n,!0,i)},Ke.prototype.hitTestCircle=function(e,t,r,n){return this._queryCircle(e,t,r,!0,n)},Ke.prototype._queryCell=function(e,t,r,n,i,a,o,s){var l=o.seenUids,u=this.boxCells[i];if(null!==u)for(var c=this.bboxes,f=0,p=u;f<p.length;f+=1){var h=p[f];if(!l.box[h]){l.box[h]=!0;var d=4*h;if(e<=c[d+2]&&t<=c[d+3]&&r>=c[d+0]&&n>=c[d+1]&&(!s||s(this.boxKeys[h]))){if(o.hitTest)return a.push(!0),!0;a.push({key:this.boxKeys[h],x1:c[d],y1:c[d+1],x2:c[d+2],y2:c[d+3]})}}}var v=this.circleCells[i];if(null!==v)for(var m=this.circles,y=0,g=v;y<g.length;y+=1){var _=g[y];if(!l.circle[_]){l.circle[_]=!0;var b=3*_;if(this._circleAndRectCollide(m[b],m[b+1],m[b+2],e,t,r,n)&&(!s||s(this.circleKeys[_]))){if(o.hitTest)return a.push(!0),!0;var x=m[b],w=m[b+1],S=m[b+2];a.push({key:this.circleKeys[_],x1:x-S,y1:w-S,x2:x+S,y2:w+S})}}}},Ke.prototype._queryCellCircle=function(e,t,r,n,i,a,o,s){var l=o.circle,u=o.seenUids,c=this.boxCells[i];if(null!==c)for(var f=this.bboxes,p=0,h=c;p<h.length;p+=1){var d=h[p];if(!u.box[d]){u.box[d]=!0;var v=4*d;if(this._circleAndRectCollide(l.x,l.y,l.radius,f[v+0],f[v+1],f[v+2],f[v+3])&&(!s||s(this.boxKeys[d])))return a.push(!0),!0}}var m=this.circleCells[i];if(null!==m)for(var y=this.circles,g=0,_=m;g<_.length;g+=1){var b=_[g];if(!u.circle[b]){u.circle[b]=!0;var x=3*b;if(this._circlesCollide(y[x],y[x+1],y[x+2],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[b])))return a.push(!0),!0}}},Ke.prototype._forEachCell=function(e,t,r,n,i,a,o,s){for(var l=this._convertToXCellCoord(e),u=this._convertToYCellCoord(t),c=this._convertToXCellCoord(r),f=this._convertToYCellCoord(n),p=l;p<=c;p++)for(var h=u;h<=f;h++)if(i.call(this,e,t,r,n,this.xCellCount*h+p,a,o,s))return},Ke.prototype._convertToXCellCoord=function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))},Ke.prototype._convertToYCellCoord=function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))},Ke.prototype._circlesCollide=function(e,t,r,n,i,a){var o=n-e,s=i-t,l=r+a;return l*l>o*o+s*s},Ke.prototype._circleAndRectCollide=function(e,t,r,n,i,a,o){var s=(a-n)/2,l=Math.abs(e-(n+s));if(l>s+r)return!1;var u=(o-i)/2,c=Math.abs(t-(i+u));if(c>u+r)return!1;if(l<=s||c<=u)return!0;var f=l-s,p=c-u;return f*f+p*p<=r*r};var lt=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ut(e,t){for(var r=0;r<e;r++){var n=t.length;t.resize(n+4),t.float32.set(lt,3*n)}}function ct(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e[3]=r[3]*n+r[7]*i+r[15],e}var ft=function(e,t,r){void 0===t&&(t=new Ke(e.width+200,e.height+200,25)),void 0===r&&(r=new Ke(e.width+200,e.height+200,25)),this.transform=e,this.grid=t,this.ignoredGrid=r,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+100,this.screenBottomBoundary=e.height+100,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200};function pt(t,r,n){return r*(e.EXTENT/(t.tileSize*Math.pow(2,n-t.tileID.overscaledZ)))}ft.prototype.placeCollisionBox=function(e,t,r,n,i){var a=this.projectAndGetPerspectiveRatio(n,e.anchorPointX,e.anchorPointY),o=r*a.perspectiveRatio,s=e.x1*o+a.point.x,l=e.y1*o+a.point.y,u=e.x2*o+a.point.x,c=e.y2*o+a.point.y;return!this.isInsideGrid(s,l,u,c)||!t&&this.grid.hitTest(s,l,u,c,i)?{box:[],offscreen:!1}:{box:[s,l,u,c],offscreen:this.isOffscreen(s,l,u,c)}},ft.prototype.placeCollisionCircles=function(t,r,n,i,a,o,s,l,u,c,f,p,h){var d=[],v=new e.Point(r.anchorX,r.anchorY),m=Qe(v,o),y=et(this.transform.cameraToCenterDistance,m.signedDistanceFromCamera),g=(c?a/y:a*y)/e.ONE_EM,_=Qe(v,s).point,b=nt(g,i,r.lineOffsetX*g,r.lineOffsetY*g,!1,_,v,r,n,s,{}),x=!1,w=!1,S=!0;if(b){for(var P=.5*p*y+h,k=new e.Point(-100,-100),E=new e.Point(this.screenRightBoundary,this.screenBottomBoundary),C=new Xe,A=b.first,T=b.last,O=[],M=A.path.length-1;M>=1;M--)O.push(A.path[M]);for(var I=1;I<T.path.length;I++)O.push(T.path[I]);var F=2.5*P;if(l){var R=O.map((function(e){return Qe(e,l)}));O=R.some((function(e){return e.signedDistanceFromCamera<=0}))?[]:R.map((function(e){return e.point}))}var D=[];if(O.length>0){for(var j=O[0].clone(),L=O[0].clone(),N=1;N<O.length;N++)j.x=Math.min(j.x,O[N].x),j.y=Math.min(j.y,O[N].y),L.x=Math.max(L.x,O[N].x),L.y=Math.max(L.y,O[N].y);D=j.x>=k.x&&L.x<=E.x&&j.y>=k.y&&L.y<=E.y?[O]:L.x<k.x||j.x>E.x||L.y<k.y||j.y>E.y?[]:e.clipLine([O],k.x,k.y,E.x,E.y)}for(var z=0,B=D;z<B.length;z+=1){var Z;C.reset(B[z],.25*P),Z=C.length<=.5*P?1:Math.ceil(C.paddedLength/F)+1;for(var U=0;U<Z;U++){var V=U/Math.max(Z-1,1),G=C.lerp(V),W=G.x+100,q=G.y+100;d.push(W,q,P,0);var H=W-P,Y=q-P,X=W+P,K=q+P;if(S=S&&this.isOffscreen(H,Y,X,K),w=w||this.isInsideGrid(H,Y,X,K),!t&&this.grid.hitTestCircle(W,q,P,f)&&(x=!0,!u))return{circles:[],offscreen:!1,collisionDetected:x}}}}return{circles:!u&&x||!w?[]:d,offscreen:S,collisionDetected:x}},ft.prototype.queryRenderedSymbols=function(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var r=[],n=1/0,i=1/0,a=-1/0,o=-1/0,s=0,l=t;s<l.length;s+=1){var u=l[s],c=new e.Point(u.x+100,u.y+100);n=Math.min(n,c.x),i=Math.min(i,c.y),a=Math.max(a,c.x),o=Math.max(o,c.y),r.push(c)}for(var f={},p={},h=0,d=this.grid.query(n,i,a,o).concat(this.ignoredGrid.query(n,i,a,o));h<d.length;h+=1){var v=d[h],m=v.key;if(void 0===f[m.bucketInstanceId]&&(f[m.bucketInstanceId]={}),!f[m.bucketInstanceId][m.featureIndex]){var y=[new e.Point(v.x1,v.y1),new e.Point(v.x2,v.y1),new e.Point(v.x2,v.y2),new e.Point(v.x1,v.y2)];e.polygonIntersectsPolygon(r,y)&&(f[m.bucketInstanceId][m.featureIndex]=!0,void 0===p[m.bucketInstanceId]&&(p[m.bucketInstanceId]=[]),p[m.bucketInstanceId].push(m.featureIndex))}}return p},ft.prototype.insertCollisionBox=function(e,t,r,n,i){(t?this.ignoredGrid:this.grid).insert({bucketInstanceId:r,featureIndex:n,collisionGroupID:i},e[0],e[1],e[2],e[3])},ft.prototype.insertCollisionCircles=function(e,t,r,n,i){for(var a=t?this.ignoredGrid:this.grid,o={bucketInstanceId:r,featureIndex:n,collisionGroupID:i},s=0;s<e.length;s+=4)a.insertCircle(o,e[s],e[s+1],e[s+2])},ft.prototype.projectAndGetPerspectiveRatio=function(t,r,n){var i=[r,n,0,1];return ct(i,i,t),{point:new e.Point((i[0]/i[3]+1)/2*this.transform.width+100,(-i[1]/i[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/i[3]*.5}},ft.prototype.isOffscreen=function(e,t,r,n){return r<100||e>=this.screenRightBoundary||n<100||t>this.screenBottomBoundary},ft.prototype.isInsideGrid=function(e,t,r,n){return r>=0&&e<this.gridRightBoundary&&n>=0&&t<this.gridBottomBoundary},ft.prototype.getViewportMatrix=function(){var t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t};var ht=function(e,t,r,n){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):n&&r?1:0,this.placed=r};ht.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var dt=function(e,t,r,n,i){this.text=new ht(e?e.text:null,t,r,i),this.icon=new ht(e?e.icon:null,t,n,i)};dt.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var vt=function(e,t,r){this.text=e,this.icon=t,this.skipFade=r},mt=function(){this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.circles=[]},yt=function(e,t,r,n,i){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=r,this.bucketIndex=n,this.tileID=i},gt=function(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}};function _t(t,r,n,i,a){var o=e.getAnchorAlignment(t),s=-(o.horizontalAlign-.5)*r,l=-(o.verticalAlign-.5)*n,u=e.evaluateVariableOffset(t,i);return new e.Point(s+u[0]*a,l+u[1]*a)}function bt(t,r,n,i,a,o){var s=t.x1,l=t.x2,u=t.y1,c=t.y2,f=t.anchorPointX,p=t.anchorPointY,h=new e.Point(r,n);return i&&h._rotate(a?o:-o),{x1:s+h.x,y1:u+h.y,x2:l+h.x,y2:c+h.y,anchorPointX:f,anchorPointY:p}}gt.prototype.get=function(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){var t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:function(e){return e.collisionGroupID===t}}}return this.collisionGroups[e]};var xt=function(e,t,r,n){this.transform=e.clone(),this.collisionIndex=new ft(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new gt(r),this.collisionCircleArrays={},this.prevPlacement=n,n&&(n.prevPlacement=void 0),this.placedOrientations={}};function wt(e,t,r,n,i){e.emplaceBack(t?1:0,r?1:0,n||0,i||0),e.emplaceBack(t?1:0,r?1:0,n||0,i||0),e.emplaceBack(t?1:0,r?1:0,n||0,i||0),e.emplaceBack(t?1:0,r?1:0,n||0,i||0)}xt.prototype.getBucketParts=function(t,r,n,i){var a=n.getBucket(r),o=n.latestFeatureIndex;if(a&&o&&r.id===a.layerIds[0]){var s=n.collisionBoxArray,l=a.layers[0].layout,u=Math.pow(2,this.transform.zoom-n.tileID.overscaledZ),c=n.tileSize/e.EXTENT,f=this.transform.calculatePosMatrix(n.tileID.toUnwrapped()),p="map"===l.get("text-pitch-alignment"),h="map"===l.get("text-rotation-alignment"),d=pt(n,1,this.transform.zoom),v=$e(f,p,h,this.transform,d),m=null;if(p){var y=Je(f,p,h,this.transform,d);m=e.multiply([],this.transform.labelPlaneMatrix,y)}this.retainedQueryData[a.bucketInstanceId]=new yt(a.bucketInstanceId,o,a.sourceLayerIndex,a.index,n.tileID);var g={bucket:a,layout:l,posMatrix:f,textLabelPlaneMatrix:v,labelToScreenMatrix:m,scale:u,textPixelRatio:c,holdingForFade:n.holdingForFade(),collisionBoxArray:s,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(a.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(a.sourceID)};if(i)for(var _=0,b=a.sortKeyRanges;_<b.length;_+=1){var x=b[_];t.push({sortKey:x.sortKey,symbolInstanceStart:x.symbolInstanceStart,symbolInstanceEnd:x.symbolInstanceEnd,parameters:g})}else t.push({symbolInstanceStart:0,symbolInstanceEnd:a.symbolInstances.length,parameters:g})}},xt.prototype.attemptAnchorPlacement=function(e,t,r,n,i,a,o,s,l,u,c,f,p,h,d){var v,m=[f.textOffset0,f.textOffset1],y=_t(e,r,n,m,i),g=this.collisionIndex.placeCollisionBox(bt(t,y.x,y.y,a,o,this.transform.angle),c,s,l,u.predicate);if(!d||0!==this.collisionIndex.placeCollisionBox(bt(d,y.x,y.y,a,o,this.transform.angle),c,s,l,u.predicate).box.length)return g.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[f.crossTileID]&&this.prevPlacement.placements[f.crossTileID]&&this.prevPlacement.placements[f.crossTileID].text&&(v=this.prevPlacement.variableOffsets[f.crossTileID].anchor),this.variableOffsets[f.crossTileID]={textOffset:m,width:r,height:n,anchor:e,textBoxScale:i,prevAnchor:v},this.markUsedJustification(p,e,f,h),p.allowVerticalPlacement&&(this.markUsedOrientation(p,h,f),this.placedOrientations[f.crossTileID]=h),{shift:y,placedGlyphBoxes:g}):void 0},xt.prototype.placeLayerBucketPart=function(t,r,n){var i=this,a=t.parameters,o=a.bucket,s=a.layout,l=a.posMatrix,u=a.textLabelPlaneMatrix,c=a.labelToScreenMatrix,f=a.textPixelRatio,p=a.holdingForFade,h=a.collisionBoxArray,d=a.partiallyEvaluatedTextSize,v=a.collisionGroup,m=s.get("text-optional"),y=s.get("icon-optional"),g=s.get("text-allow-overlap"),_=s.get("icon-allow-overlap"),b="map"===s.get("text-rotation-alignment"),x="map"===s.get("text-pitch-alignment"),w="none"!==s.get("icon-text-fit"),S="viewport-y"===s.get("symbol-z-order"),P=g&&(_||!o.hasIconData()||y),k=_&&(g||!o.hasTextData()||m);!o.collisionArrays&&h&&o.deserializeCollisionBoxes(h);var E=function(t,a){if(!r[t.crossTileID])if(p)i.placements[t.crossTileID]=new vt(!1,!1,!1);else{var h,S=!1,E=!1,C=!0,A=null,T={box:null,offscreen:null},O={box:null,offscreen:null},M=null,I=null,F=0,R=0,D=0;a.textFeatureIndex?F=a.textFeatureIndex:t.useRuntimeCollisionCircles&&(F=t.featureIndex),a.verticalTextFeatureIndex&&(R=a.verticalTextFeatureIndex);var j=a.textBox;if(j){var L=function(r){var n=e.WritingMode.horizontal;if(o.allowVerticalPlacement&&!r&&i.prevPlacement){var a=i.prevPlacement.placedOrientations[t.crossTileID];a&&(i.placedOrientations[t.crossTileID]=a,i.markUsedOrientation(o,n=a,t))}return n},N=function(r,n){if(o.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&a.verticalTextBox)for(var i=0,s=o.writingModes;i<s.length&&(s[i]===e.WritingMode.vertical?(T=n(),O=T):T=r(),!(T&&T.box&&T.box.length));i+=1);else T=r()};if(s.get("text-variable-anchor")){var z=s.get("text-variable-anchor");if(i.prevPlacement&&i.prevPlacement.variableOffsets[t.crossTileID]){var B=i.prevPlacement.variableOffsets[t.crossTileID];z.indexOf(B.anchor)>0&&(z=z.filter((function(e){return e!==B.anchor}))).unshift(B.anchor)}var Z=function(e,r,n){for(var a=e.x2-e.x1,s=e.y2-e.y1,u=t.textBoxScale,c=w&&!_?r:null,p={box:[],offscreen:!1},h=g?2*z.length:z.length,d=0;d<h;++d){var m=i.attemptAnchorPlacement(z[d%z.length],e,a,s,u,b,x,f,l,v,d>=z.length,t,o,n,c);if(m&&(p=m.placedGlyphBoxes)&&p.box&&p.box.length){S=!0,A=m.shift;break}}return p};N((function(){return Z(j,a.iconBox,e.WritingMode.horizontal)}),(function(){var r=a.verticalTextBox;return o.allowVerticalPlacement&&!(T&&T.box&&T.box.length)&&t.numVerticalGlyphVertices>0&&r?Z(r,a.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null}})),T&&(S=T.box,C=T.offscreen);var U=L(T&&T.box);if(!S&&i.prevPlacement){var V=i.prevPlacement.variableOffsets[t.crossTileID];V&&(i.variableOffsets[t.crossTileID]=V,i.markUsedJustification(o,V.anchor,t,U))}}else{var G=function(e,r){var n=i.collisionIndex.placeCollisionBox(e,g,f,l,v.predicate);return n&&n.box&&n.box.length&&(i.markUsedOrientation(o,r,t),i.placedOrientations[t.crossTileID]=r),n};N((function(){return G(j,e.WritingMode.horizontal)}),(function(){var r=a.verticalTextBox;return o.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&r?G(r,e.WritingMode.vertical):{box:null,offscreen:null}})),L(T&&T.box&&T.box.length)}}if(S=(h=T)&&h.box&&h.box.length>0,C=h&&h.offscreen,t.useRuntimeCollisionCircles){var W=o.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex),q=e.evaluateSizeForFeature(o.textSizeData,d,W),H=s.get("text-padding");M=i.collisionIndex.placeCollisionCircles(g,W,o.lineVertexArray,o.glyphOffsetArray,q,l,u,c,n,x,v.predicate,t.collisionCircleDiameter,H),S=g||M.circles.length>0&&!M.collisionDetected,C=C&&M.offscreen}if(a.iconFeatureIndex&&(D=a.iconFeatureIndex),a.iconBox){var Y=function(e){var t=w&&A?bt(e,A.x,A.y,b,x,i.transform.angle):e;return i.collisionIndex.placeCollisionBox(t,_,f,l,v.predicate)};E=O&&O.box&&O.box.length&&a.verticalIconBox?(I=Y(a.verticalIconBox)).box.length>0:(I=Y(a.iconBox)).box.length>0,C=C&&I.offscreen}var X=m||0===t.numHorizontalGlyphVertices&&0===t.numVerticalGlyphVertices,K=y||0===t.numIconVertices;if(X||K?K?X||(E=E&&S):S=E&&S:E=S=E&&S,S&&h&&h.box&&i.collisionIndex.insertCollisionBox(h.box,s.get("text-ignore-placement"),o.bucketInstanceId,O&&O.box&&R?R:F,v.ID),E&&I&&i.collisionIndex.insertCollisionBox(I.box,s.get("icon-ignore-placement"),o.bucketInstanceId,D,v.ID),M&&(S&&i.collisionIndex.insertCollisionCircles(M.circles,s.get("text-ignore-placement"),o.bucketInstanceId,F,v.ID),n)){var $=o.bucketInstanceId,J=i.collisionCircleArrays[$];void 0===J&&(J=i.collisionCircleArrays[$]=new mt);for(var Q=0;Q<M.circles.length;Q+=4)J.circles.push(M.circles[Q+0]),J.circles.push(M.circles[Q+1]),J.circles.push(M.circles[Q+2]),J.circles.push(M.collisionDetected?1:0)}i.placements[t.crossTileID]=new vt(S||P,E||k,C||o.justReloaded),r[t.crossTileID]=!0}};if(S)for(var C=o.getSortedSymbolIndexes(this.transform.angle),A=C.length-1;A>=0;--A){var T=C[A];E(o.symbolInstances.get(T),o.collisionArrays[T])}else for(var O=t.symbolInstanceStart;O<t.symbolInstanceEnd;O++)E(o.symbolInstances.get(O),o.collisionArrays[O]);if(n&&o.bucketInstanceId in this.collisionCircleArrays){var M=this.collisionCircleArrays[o.bucketInstanceId];e.invert(M.invProjMatrix,l),M.viewportMatrix=this.collisionIndex.getViewportMatrix()}o.justReloaded=!1},xt.prototype.markUsedJustification=function(t,r,n,i){var a;a=i===e.WritingMode.vertical?n.verticalPlacedTextSymbolIndex:{left:n.leftJustifiedTextSymbolIndex,center:n.centerJustifiedTextSymbolIndex,right:n.rightJustifiedTextSymbolIndex}[e.getAnchorJustification(r)];for(var o=0,s=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex,n.verticalPlacedTextSymbolIndex];o<s.length;o+=1){var l=s[o];l>=0&&(t.text.placedSymbolArray.get(l).crossTileID=a>=0&&l!==a?0:n.crossTileID)}},xt.prototype.markUsedOrientation=function(t,r,n){for(var i=r===e.WritingMode.horizontal||r===e.WritingMode.horizontalOnly?r:0,a=r===e.WritingMode.vertical?r:0,o=0,s=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex];o<s.length;o+=1)t.text.placedSymbolArray.get(s[o]).placedOrientation=i;n.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(n.verticalPlacedTextSymbolIndex).placedOrientation=a)},xt.prototype.commit=function(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;var t=this.prevPlacement,r=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;var n=t?t.symbolFadeChange(e):1,i=t?t.opacities:{},a=t?t.variableOffsets:{},o=t?t.placedOrientations:{};for(var s in this.placements){var l=this.placements[s],u=i[s];u?(this.opacities[s]=new dt(u,n,l.text,l.icon),r=r||l.text!==u.text.placed||l.icon!==u.icon.placed):(this.opacities[s]=new dt(null,n,l.text,l.icon,l.skipFade),r=r||l.text||l.icon)}for(var c in i){var f=i[c];if(!this.opacities[c]){var p=new dt(f,n,!1,!1);p.isHidden()||(this.opacities[c]=p,r=r||f.text.placed||f.icon.placed)}}for(var h in a)this.variableOffsets[h]||!this.opacities[h]||this.opacities[h].isHidden()||(this.variableOffsets[h]=a[h]);for(var d in o)this.placedOrientations[d]||!this.opacities[d]||this.opacities[d].isHidden()||(this.placedOrientations[d]=o[d]);r?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)},xt.prototype.updateLayerOpacities=function(e,t){for(var r={},n=0,i=t;n<i.length;n+=1){var a=i[n],o=a.getBucket(e);o&&a.latestFeatureIndex&&e.id===o.layerIds[0]&&this.updateBucketOpacities(o,r,a.collisionBoxArray)}},xt.prototype.updateBucketOpacities=function(t,r,n){var i=this;t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();var a=t.layers[0].layout,o=new dt(null,0,!1,!1,!0),s=a.get("text-allow-overlap"),l=a.get("icon-allow-overlap"),u=a.get("text-variable-anchor"),c="map"===a.get("text-rotation-alignment"),f="map"===a.get("text-pitch-alignment"),p="none"!==a.get("icon-text-fit"),h=new dt(null,0,s&&(l||!t.hasIconData()||a.get("icon-optional")),l&&(s||!t.hasTextData()||a.get("text-optional")),!0);!t.collisionArrays&&n&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(n);for(var d=function(e,t,r){for(var n=0;n<t/4;n++)e.opacityVertexArray.emplaceBack(r)},v=function(n){var a=t.symbolInstances.get(n),s=a.numHorizontalGlyphVertices,l=a.numVerticalGlyphVertices,v=a.crossTileID,m=i.opacities[v];r[v]?m=o:m||(i.opacities[v]=m=h),r[v]=!0;var y=a.numIconVertices>0,g=i.placedOrientations[a.crossTileID],_=g===e.WritingMode.vertical,b=g===e.WritingMode.horizontal||g===e.WritingMode.horizontalOnly;if(s>0||l>0){var x=Ot(m.text);d(t.text,s,_?Mt:x),d(t.text,l,b?Mt:x);var w=m.text.isHidden();[a.rightJustifiedTextSymbolIndex,a.centerJustifiedTextSymbolIndex,a.leftJustifiedTextSymbolIndex].forEach((function(e){e>=0&&(t.text.placedSymbolArray.get(e).hidden=w||_?1:0)})),a.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(a.verticalPlacedTextSymbolIndex).hidden=w||b?1:0);var S=i.variableOffsets[a.crossTileID];S&&i.markUsedJustification(t,S.anchor,a,g);var P=i.placedOrientations[a.crossTileID];P&&(i.markUsedJustification(t,"left",a,P),i.markUsedOrientation(t,P,a))}if(y){var k=Ot(m.icon),E=!(p&&a.verticalPlacedIconSymbolIndex&&_);a.placedIconSymbolIndex>=0&&(d(t.icon,a.numIconVertices,E?k:Mt),t.icon.placedSymbolArray.get(a.placedIconSymbolIndex).hidden=m.icon.isHidden()),a.verticalPlacedIconSymbolIndex>=0&&(d(t.icon,a.numVerticalIconVertices,E?Mt:k),t.icon.placedSymbolArray.get(a.verticalPlacedIconSymbolIndex).hidden=m.icon.isHidden())}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){var C=t.collisionArrays[n];if(C){var A=new e.Point(0,0);if(C.textBox||C.verticalTextBox){var T=!0;if(u){var O=i.variableOffsets[v];O?(A=_t(O.anchor,O.width,O.height,O.textOffset,O.textBoxScale),c&&A._rotate(f?i.transform.angle:-i.transform.angle)):T=!1}C.textBox&&wt(t.textCollisionBox.collisionVertexArray,m.text.placed,!T||_,A.x,A.y),C.verticalTextBox&&wt(t.textCollisionBox.collisionVertexArray,m.text.placed,!T||b,A.x,A.y)}var M=Boolean(!b&&C.verticalIconBox);C.iconBox&&wt(t.iconCollisionBox.collisionVertexArray,m.icon.placed,M,p?A.x:0,p?A.y:0),C.verticalIconBox&&wt(t.iconCollisionBox.collisionVertexArray,m.icon.placed,!M,p?A.x:0,p?A.y:0)}}},m=0;m<t.symbolInstances.length;m++)v(m);if(t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){var y=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=y.invProjMatrix,t.placementViewportMatrix=y.viewportMatrix,t.collisionCircleArray=y.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}},xt.prototype.symbolFadeChange=function(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},xt.prototype.zoomAdjustment=function(e){return Math.max(0,(this.transform.zoom-e)/1.5)},xt.prototype.hasTransitions=function(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration},xt.prototype.stillRecent=function(e,t){var r=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*r>e},xt.prototype.setStale=function(){this.stale=!0};var St=Math.pow(2,25),Pt=Math.pow(2,24),kt=Math.pow(2,17),Et=Math.pow(2,16),Ct=Math.pow(2,9),At=Math.pow(2,8),Tt=Math.pow(2,1);function Ot(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;var t=e.placed?1:0,r=Math.floor(127*e.opacity);return r*St+t*Pt+r*kt+t*Et+r*Ct+t*At+r*Tt+t}var Mt=0,It=function(e){this._sortAcrossTiles="viewport-y"!==e.layout.get("symbol-z-order")&&void 0!==e.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};It.prototype.continuePlacement=function(e,t,r,n,i){for(var a=this._bucketParts;this._currentTileIndex<e.length;)if(t.getBucketParts(a,n,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,i())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,a.sort((function(e,t){return e.sortKey-t.sortKey})));this._currentPartIndex<a.length;)if(t.placeLayerBucketPart(a[this._currentPartIndex],this._seenCrossTileIDs,r),this._currentPartIndex++,i())return!0;return!1};var Ft=function(e,t,r,n,i,a,o){this.placement=new xt(e,i,a,o),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=r,this._showCollisionBoxes=n,this._done=!1};Ft.prototype.isDone=function(){return this._done},Ft.prototype.continuePlacement=function(t,r,n){for(var i=this,a=e.browser.now(),o=function(){var t=e.browser.now()-a;return!i._forceFullPlacement&&t>2};this._currentPlacementIndex>=0;){var s=r[t[this._currentPlacementIndex]],l=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=l)&&(!s.maxzoom||s.maxzoom>l)){if(this._inProgressLayer||(this._inProgressLayer=new It(s)),this._inProgressLayer.continuePlacement(n[s.source],this.placement,this._showCollisionBoxes,s,o))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Ft.prototype.commit=function(e){return this.placement.commit(e),this.placement};var Rt=512/e.EXTENT/2,Dt=function(e,t,r){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=r;for(var n=0;n<t.length;n++){var i=t.get(n),a=i.key;this.indexedSymbolInstances[a]||(this.indexedSymbolInstances[a]=[]),this.indexedSymbolInstances[a].push({crossTileID:i.crossTileID,coord:this.getScaledCoordinates(i,e)})}};Dt.prototype.getScaledCoordinates=function(t,r){var n=Rt/Math.pow(2,r.canonical.z-this.tileID.canonical.z);return{x:Math.floor((r.canonical.x*e.EXTENT+t.anchorX)*n),y:Math.floor((r.canonical.y*e.EXTENT+t.anchorY)*n)}},Dt.prototype.findMatches=function(e,t,r){for(var n=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z),i=0;i<e.length;i++){var a=e.get(i);if(!a.crossTileID){var o=this.indexedSymbolInstances[a.key];if(o)for(var s=this.getScaledCoordinates(a,t),l=0,u=o;l<u.length;l+=1){var c=u[l];if(Math.abs(c.coord.x-s.x)<=n&&Math.abs(c.coord.y-s.y)<=n&&!r[c.crossTileID]){r[c.crossTileID]=!0,a.crossTileID=c.crossTileID;break}}}}};var jt=function(){this.maxCrossTileID=0};jt.prototype.generate=function(){return++this.maxCrossTileID};var Lt=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Lt.prototype.handleWrapJump=function(e){var t=Math.round((e-this.lng)/360);if(0!==t)for(var r in this.indexes){var n=this.indexes[r],i={};for(var a in n){var o=n[a];o.tileID=o.tileID.unwrapTo(o.tileID.wrap+t),i[o.tileID.key]=o}this.indexes[r]=i}this.lng=e},Lt.prototype.addBucket=function(e,t,r){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(var n=0;n<t.symbolInstances.length;n++)t.symbolInstances.get(n).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});var i=this.usedCrossTileIDs[e.overscaledZ];for(var a in this.indexes){var o=this.indexes[a];if(Number(a)>e.overscaledZ)for(var s in o){var l=o[s];l.tileID.isChildOf(e)&&l.findMatches(t.symbolInstances,e,i)}else{var u=o[e.scaledTo(Number(a)).key];u&&u.findMatches(t.symbolInstances,e,i)}}for(var c=0;c<t.symbolInstances.length;c++){var f=t.symbolInstances.get(c);f.crossTileID||(f.crossTileID=r.generate(),i[f.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new Dt(e,t.symbolInstances,t.bucketInstanceId),!0},Lt.prototype.removeBucketCrossTileIDs=function(e,t){for(var r in t.indexedSymbolInstances)for(var n=0,i=t.indexedSymbolInstances[r];n<i.length;n+=1)delete this.usedCrossTileIDs[e][i[n].crossTileID]},Lt.prototype.removeStaleBuckets=function(e){var t=!1;for(var r in this.indexes){var n=this.indexes[r];for(var i in n)e[n[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(r,n[i]),delete n[i],t=!0)}return t};var Nt=function(){this.layerIndexes={},this.crossTileIDs=new jt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Nt.prototype.addLayer=function(e,t,r){var n=this.layerIndexes[e.id];void 0===n&&(n=this.layerIndexes[e.id]=new Lt);var i=!1,a={};n.handleWrapJump(r);for(var o=0,s=t;o<s.length;o+=1){var l=s[o],u=l.getBucket(e);u&&e.id===u.layerIds[0]&&(u.bucketInstanceId||(u.bucketInstanceId=++this.maxBucketInstanceId),n.addBucket(l.tileID,u,this.crossTileIDs)&&(i=!0),a[u.bucketInstanceId]=!0)}return n.removeStaleBuckets(a)&&(i=!0),i},Nt.prototype.pruneUnusedLayers=function(e){var t={};for(var r in e.forEach((function(e){t[e]=!0})),this.layerIndexes)t[r]||delete this.layerIndexes[r]};var zt=function(t,r){return e.emitValidationErrors(t,r&&r.filter((function(e){return"source.canvas"!==e.identifier})))},Bt=e.pick(Ze,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Zt=e.pick(Ze,["setCenter","setZoom","setBearing","setPitch"]),Ut=function(){var t={},r=e.styleSpec.$version;for(var n in e.styleSpec.$root){var i,a=e.styleSpec.$root[n];a.required&&null!=(i="version"===n?r:"array"===a.type?[]:{})&&(t[n]=i)}return t}(),Vt=function(t){function r(n,i){var a=this;void 0===i&&(i={}),t.call(this),this.map=n,this.dispatcher=new P(Ne(),this),this.imageManager=new p,this.imageManager.setEventedParent(this),this.glyphManager=new _(n._requestManager,i.localIdeographFontFamily),this.lineAtlas=new S(256,512),this.crossTileSymbolIndex=new Nt,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new e.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",e.getReferrer());var o=this;this._rtlTextPluginCallback=r.registerForPluginStateChange((function(t){o.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},(function(t,r){if(e.triggerPluginCompletionEvent(t),r&&r.every((function(e){return e})))for(var n in o.sourceCaches)o.sourceCaches[n].reload()}))})),this.on("data",(function(e){if("source"===e.dataType&&"metadata"===e.sourceDataType){var t=a.sourceCaches[e.sourceId];if(t){var r=t.getSource();if(r&&r.vectorLayerIds)for(var n in a._layers){var i=a._layers[n];i.source===r.id&&a._validateLayer(i)}}}}))}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.loadURL=function(t,r){var n=this;void 0===r&&(r={}),this.fire(new e.Event("dataloading",{dataType:"style"}));var i="boolean"==typeof r.validate?r.validate:!e.isMapboxURL(t);t=this.map._requestManager.normalizeStyleURL(t,r.accessToken);var a=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(a,(function(t,r){n._request=null,t?n.fire(new e.ErrorEvent(t)):r&&n._load(r,i)}))},r.prototype.loadJSON=function(t,r){var n=this;void 0===r&&(r={}),this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.browser.frame((function(){n._request=null,n._load(t,!1!==r.validate)}))},r.prototype.loadEmpty=function(){this.fire(new e.Event("dataloading",{dataType:"style"})),this._load(Ut,!1)},r.prototype._load=function(t,r){if(!r||!zt(this,e.validateStyle(t))){for(var n in this._loaded=!0,this.stylesheet=t,t.sources)this.addSource(n,t.sources[n],{validate:!1});t.sprite?this._loadSprite(t.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(t.glyphs);var i=Be(this.stylesheet.layers);this._order=i.map((function(e){return e.id})),this._layers={},this._serializedLayers={};for(var a=0,o=i;a<o.length;a+=1){var s=o[a];(s=e.createStyleLayer(s)).setEventedParent(this,{layer:{id:s.id}}),this._layers[s.id]=s,this._serializedLayers[s.id]=s.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new w(this.stylesheet.light),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}},r.prototype._loadSprite=function(t){var r=this;this._spriteRequest=function(t,r,n){var i,a,o,s=e.browser.devicePixelRatio>1?"@2x":"",l=e.getJSON(r.transformRequest(r.normalizeSpriteURL(t,s,".json"),e.ResourceType.SpriteJSON),(function(e,t){l=null,o||(o=e,i=t,c())})),u=e.getImage(r.transformRequest(r.normalizeSpriteURL(t,s,".png"),e.ResourceType.SpriteImage),(function(e,t){u=null,o||(o=e,a=t,c())}));function c(){if(o)n(o);else if(i&&a){var t=e.browser.getImageData(a),r={};for(var s in i){var l=i[s],u=l.width,c=l.height,f=l.x,p=l.y,h=l.sdf,d=l.pixelRatio,v=l.stretchX,m=l.stretchY,y=l.content,g=new e.RGBAImage({width:u,height:c});e.RGBAImage.copy(t,g,{x:f,y:p},{x:0,y:0},{width:u,height:c}),r[s]={data:g,pixelRatio:d,sdf:h,stretchX:v,stretchY:m,content:y}}n(null,r)}}return{cancel:function(){l&&(l.cancel(),l=null),u&&(u.cancel(),u=null)}}}(t,this.map._requestManager,(function(t,n){if(r._spriteRequest=null,t)r.fire(new e.ErrorEvent(t));else if(n)for(var i in n)r.imageManager.addImage(i,n[i]);r.imageManager.setLoaded(!0),r._availableImages=r.imageManager.listImages(),r.dispatcher.broadcast("setImages",r._availableImages),r.fire(new e.Event("data",{dataType:"style"}))}))},r.prototype._validateLayer=function(t){var r=this.sourceCaches[t.source];if(r){var n=t.sourceLayer;if(n){var i=r.getSource();("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(n))&&this.fire(new e.ErrorEvent(new Error('Source layer "'+n+'" does not exist on source "'+i.id+'" as specified by style layer "'+t.id+'"')))}}},r.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()},r.prototype._serializeLayers=function(e){for(var t=[],r=0,n=e;r<n.length;r+=1){var i=this._layers[n[r]];"custom"!==i.type&&t.push(i.serialize())}return t},r.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var e in this.sourceCaches)if(this.sourceCaches[e].hasTransition())return!0;for(var t in this._layers)if(this._layers[t].hasTransition())return!0;return!1},r.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},r.prototype.update=function(t){if(this._loaded){var r=this._changed;if(this._changed){var n=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);for(var a in(n.length||i.length)&&this._updateWorkerLayers(n,i),this._updatedSources){var o=this._updatedSources[a];"reload"===o?this._reloadSource(a):"clear"===o&&this._clearSource(a)}for(var s in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[s].updateTransitions(t);this.light.updateTransitions(t),this._resetUpdates()}var l={};for(var u in this.sourceCaches){var c=this.sourceCaches[u];l[u]=c.used,c.used=!1}for(var f=0,p=this._order;f<p.length;f+=1){var h=this._layers[p[f]];h.recalculate(t,this._availableImages),!h.isHidden(t.zoom)&&h.source&&(this.sourceCaches[h.source].used=!0)}for(var d in l){var v=this.sourceCaches[d];l[d]!==v.used&&v.fire(new e.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:d}))}this.light.recalculate(t),this.z=t.zoom,r&&this.fire(new e.Event("data",{dataType:"style"}))}},r.prototype._updateTilesForChangedImages=function(){var e=Object.keys(this._changedImages);if(e.length){for(var t in this.sourceCaches)this.sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}},r.prototype._updateWorkerLayers=function(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})},r.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},r.prototype.setState=function(t){var r=this;if(this._checkLoaded(),zt(this,e.validateStyle(t)))return!1;(t=e.clone$1(t)).layers=Be(t.layers);var n=function(t,r){if(!t)return[{command:Ze.setStyle,args:[r]}];var n=[];try{if(!e.deepEqual(t.version,r.version))return[{command:Ze.setStyle,args:[r]}];e.deepEqual(t.center,r.center)||n.push({command:Ze.setCenter,args:[r.center]}),e.deepEqual(t.zoom,r.zoom)||n.push({command:Ze.setZoom,args:[r.zoom]}),e.deepEqual(t.bearing,r.bearing)||n.push({command:Ze.setBearing,args:[r.bearing]}),e.deepEqual(t.pitch,r.pitch)||n.push({command:Ze.setPitch,args:[r.pitch]}),e.deepEqual(t.sprite,r.sprite)||n.push({command:Ze.setSprite,args:[r.sprite]}),e.deepEqual(t.glyphs,r.glyphs)||n.push({command:Ze.setGlyphs,args:[r.glyphs]}),e.deepEqual(t.transition,r.transition)||n.push({command:Ze.setTransition,args:[r.transition]}),e.deepEqual(t.light,r.light)||n.push({command:Ze.setLight,args:[r.light]});var i={},a=[];!function(t,r,n,i){var a;for(a in r=r||{},t=t||{})t.hasOwnProperty(a)&&(r.hasOwnProperty(a)||Ve(a,n,i));for(a in r)r.hasOwnProperty(a)&&(t.hasOwnProperty(a)?e.deepEqual(t[a],r[a])||("geojson"===t[a].type&&"geojson"===r[a].type&&We(t,r,a)?n.push({command:Ze.setGeoJSONSourceData,args:[a,r[a].data]}):Ge(a,r,n,i)):Ue(a,r,n))}(t.sources,r.sources,a,i);var o=[];t.layers&&t.layers.forEach((function(e){i[e.source]?n.push({command:Ze.removeLayer,args:[e.id]}):o.push(e)})),n=n.concat(a),function(t,r,n){r=r||[];var i,a,o,s,l,u,c,f=(t=t||[]).map(He),p=r.map(He),h=t.reduce(Ye,{}),d=r.reduce(Ye,{}),v=f.slice(),m=Object.create(null);for(i=0,a=0;i<f.length;i++)d.hasOwnProperty(o=f[i])?a++:(n.push({command:Ze.removeLayer,args:[o]}),v.splice(v.indexOf(o,a),1));for(i=0,a=0;i<p.length;i++)v[v.length-1-i]!==(o=p[p.length-1-i])&&(h.hasOwnProperty(o)?(n.push({command:Ze.removeLayer,args:[o]}),v.splice(v.lastIndexOf(o,v.length-a),1)):a++,n.push({command:Ze.addLayer,args:[d[o],u=v[v.length-i]]}),v.splice(v.length-i,0,o),m[o]=!0);for(i=0;i<p.length;i++)if(s=h[o=p[i]],l=d[o],!m[o]&&!e.deepEqual(s,l))if(e.deepEqual(s.source,l.source)&&e.deepEqual(s["source-layer"],l["source-layer"])&&e.deepEqual(s.type,l.type)){for(c in qe(s.layout,l.layout,n,o,null,Ze.setLayoutProperty),qe(s.paint,l.paint,n,o,null,Ze.setPaintProperty),e.deepEqual(s.filter,l.filter)||n.push({command:Ze.setFilter,args:[o,l.filter]}),e.deepEqual(s.minzoom,l.minzoom)&&e.deepEqual(s.maxzoom,l.maxzoom)||n.push({command:Ze.setLayerZoomRange,args:[o,l.minzoom,l.maxzoom]}),s)s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?qe(s[c],l[c],n,o,c.slice(6),Ze.setPaintProperty):e.deepEqual(s[c],l[c])||n.push({command:Ze.setLayerProperty,args:[o,c,l[c]]}));for(c in l)l.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?qe(s[c],l[c],n,o,c.slice(6),Ze.setPaintProperty):e.deepEqual(s[c],l[c])||n.push({command:Ze.setLayerProperty,args:[o,c,l[c]]}))}else n.push({command:Ze.removeLayer,args:[o]}),u=v[v.lastIndexOf(o)+1],n.push({command:Ze.addLayer,args:[l,u]})}(o,r.layers,n)}catch(e){console.warn("Unable to compute style diff:",e),n=[{command:Ze.setStyle,args:[r]}]}return n}(this.serialize(),t).filter((function(e){return!(e.command in Zt)}));if(0===n.length)return!1;var i=n.filter((function(e){return!(e.command in Bt)}));if(i.length>0)throw new Error("Unimplemented: "+i.map((function(e){return e.command})).join(", ")+".");return n.forEach((function(e){"setTransition"!==e.command&&r[e.command].apply(r,e.args)})),this.stylesheet=t,!0},r.prototype.addImage=function(t,r){if(this.getImage(t))return this.fire(new e.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(t,r),this._afterImageUpdated(t)},r.prototype.updateImage=function(e,t){this.imageManager.updateImage(e,t)},r.prototype.getImage=function(e){return this.imageManager.getImage(e)},r.prototype.removeImage=function(t){if(!this.getImage(t))return this.fire(new e.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(t),this._afterImageUpdated(t)},r.prototype._afterImageUpdated=function(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))},r.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},r.prototype.addSource=function(t,r,n){var i=this;if(void 0===n&&(n={}),this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error("There is already a source with this ID");if(!r.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(r).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(r.type)>=0&&this._validate(e.validateStyle.source,"sources."+t,r,null,n))){this.map&&this.map._collectResourceTiming&&(r.collectResourceTiming=!0);var a=this.sourceCaches[t]=new Oe(t,r,this.dispatcher);a.style=this,a.setEventedParent(this,(function(){return{isSourceLoaded:i.loaded(),source:a.serialize(),sourceId:t}})),a.onAdd(this.map),this._changed=!0}},r.prototype.removeSource=function(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");for(var r in this._layers)if(this._layers[r].source===t)return this.fire(new e.ErrorEvent(new Error('Source "'+t+'" cannot be removed while layer "'+r+'" is using it.')));var n=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],n.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:t})),n.setEventedParent(null),n.clearTiles(),n.onRemove&&n.onRemove(this.map),this._changed=!0},r.prototype.setGeoJSONSourceData=function(e,t){this._checkLoaded(),this.sourceCaches[e].getSource().setData(t),this._changed=!0},r.prototype.getSource=function(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()},r.prototype.addLayer=function(t,r,n){void 0===n&&(n={}),this._checkLoaded();var i=t.id;if(this.getLayer(i))this.fire(new e.ErrorEvent(new Error('Layer with id "'+i+'" already exists on this map')));else{var a;if("custom"===t.type){if(zt(this,e.validateCustomStyleLayer(t)))return;a=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(i,t.source),t=e.clone$1(t),t=e.extend(t,{source:i})),this._validate(e.validateStyle.layer,"layers."+i,t,{arrayIndex:-1},n))return;a=e.createStyleLayer(t),this._validateLayer(a),a.setEventedParent(this,{layer:{id:i}}),this._serializedLayers[a.id]=a.serialize()}var o=r?this._order.indexOf(r):this._order.length;if(r&&-1===o)this.fire(new e.ErrorEvent(new Error('Layer with id "'+r+'" does not exist on this map.')));else{if(this._order.splice(o,0,i),this._layerOrderChanged=!0,this._layers[i]=a,this._removedLayers[i]&&a.source&&"custom"!==a.type){var s=this._removedLayers[i];delete this._removedLayers[i],s.type!==a.type?this._updatedSources[a.source]="clear":(this._updatedSources[a.source]="reload",this.sourceCaches[a.source].pause())}this._updateLayer(a),a.onAdd&&a.onAdd(this.map)}}},r.prototype.moveLayer=function(t,r){if(this._checkLoaded(),this._changed=!0,this._layers[t]){if(t!==r){var n=this._order.indexOf(t);this._order.splice(n,1);var i=r?this._order.indexOf(r):this._order.length;r&&-1===i?this.fire(new e.ErrorEvent(new Error('Layer with id "'+r+'" does not exist on this map.'))):(this._order.splice(i,0,t),this._layerOrderChanged=!0)}}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be moved.")))},r.prototype.removeLayer=function(t){this._checkLoaded();var r=this._layers[t];if(r){r.setEventedParent(null);var n=this._order.indexOf(t);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=r,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],r.onRemove&&r.onRemove(this.map)}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be removed.")))},r.prototype.getLayer=function(e){return this._layers[e]},r.prototype.hasLayer=function(e){return e in this._layers},r.prototype.setLayerZoomRange=function(t,r,n){this._checkLoaded();var i=this.getLayer(t);i?i.minzoom===r&&i.maxzoom===n||(null!=r&&(i.minzoom=r),null!=n&&(i.maxzoom=n),this._updateLayer(i)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot have zoom extent.")))},r.prototype.setFilter=function(t,r,n){void 0===n&&(n={}),this._checkLoaded();var i=this.getLayer(t);if(i){if(!e.deepEqual(i.filter,r))return null==r?(i.filter=void 0,void this._updateLayer(i)):void(this._validate(e.validateStyle.filter,"layers."+i.id+".filter",r,null,n)||(i.filter=e.clone$1(r),this._updateLayer(i)))}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be filtered.")))},r.prototype.getFilter=function(t){return e.clone$1(this.getLayer(t).filter)},r.prototype.setLayoutProperty=function(t,r,n,i){void 0===i&&(i={}),this._checkLoaded();var a=this.getLayer(t);a?e.deepEqual(a.getLayoutProperty(r),n)||(a.setLayoutProperty(r,n,i),this._updateLayer(a)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},r.prototype.getLayoutProperty=function(t,r){var n=this.getLayer(t);if(n)return n.getLayoutProperty(r);this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style.")))},r.prototype.setPaintProperty=function(t,r,n,i){void 0===i&&(i={}),this._checkLoaded();var a=this.getLayer(t);a?e.deepEqual(a.getPaintProperty(r),n)||(a.setPaintProperty(r,n,i)&&this._updateLayer(a),this._changed=!0,this._updatedPaintProps[t]=!0):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},r.prototype.getPaintProperty=function(e,t){return this.getLayer(e).getPaintProperty(t)},r.prototype.setFeatureState=function(t,r){this._checkLoaded();var n=t.source,i=t.sourceLayer,a=this.sourceCaches[n];if(void 0!==a){var o=a.getSource().type;"geojson"===o&&i?this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==o||i?(void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),a.setFeatureState(i,t.id,r)):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},r.prototype.removeFeatureState=function(t,r){this._checkLoaded();var n=t.source,i=this.sourceCaches[n];if(void 0!==i){var a=i.getSource().type,o="vector"===a?t.sourceLayer:void 0;"vector"!==a||o?r&&"string"!=typeof t.id&&"number"!=typeof t.id?this.fire(new e.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):i.removeFeatureState(o,t.id,r):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},r.prototype.getFeatureState=function(t){this._checkLoaded();var r=t.source,n=t.sourceLayer,i=this.sourceCaches[r];if(void 0!==i){if("vector"!==i.getSource().type||n)return void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),i.getFeatureState(n,t.id);this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},r.prototype.getTransition=function(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},r.prototype.serialize=function(){return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:e.mapObject(this.sourceCaches,(function(e){return e.serialize()})),layers:this._serializeLayers(this._order)},(function(e){return void 0!==e}))},r.prototype._updateLayer=function(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&"raster"!==this.sourceCaches[e.source].getSource().type&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._changed=!0},r.prototype._flattenAndSortRenderedFeatures=function(e){for(var t=this,r=function(e){return"fill-extrusion"===t._layers[e].type},n={},i=[],a=this._order.length-1;a>=0;a--){var o=this._order[a];if(r(o)){n[o]=a;for(var s=0,l=e;s<l.length;s+=1){var u=l[s][o];if(u)for(var c=0,f=u;c<f.length;c+=1)i.push(f[c])}}}i.sort((function(e,t){return t.intersectionZ-e.intersectionZ}));for(var p=[],h=this._order.length-1;h>=0;h--){var d=this._order[h];if(r(d))for(var v=i.length-1;v>=0;v--){var m=i[v].feature;if(n[m.layer.id]<h)break;p.push(m),i.pop()}else for(var y=0,g=e;y<g.length;y+=1){var _=g[y][d];if(_)for(var b=0,x=_;b<x.length;b+=1)p.push(x[b].feature)}}return p},r.prototype.queryRenderedFeatures=function(t,r,n){r&&r.filter&&this._validate(e.validateStyle.filter,"queryRenderedFeatures.filter",r.filter,null,r);var i={};if(r&&r.layers){if(!Array.isArray(r.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var a=0,o=r.layers;a<o.length;a+=1){var s=o[a],l=this._layers[s];if(!l)return this.fire(new e.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];i[l.source]=!0}}var u=[];for(var c in r.availableImages=this._availableImages,this.sourceCaches)r.layers&&!i[c]||u.push(L(this.sourceCaches[c],this._layers,this._serializedLayers,t,r,n));return this.placement&&u.push(function(e,t,r,n,i,a,o){for(var s={},l=a.queryRenderedSymbols(n),u=[],c=0,f=Object.keys(l).map(Number);c<f.length;c+=1)u.push(o[f[c]]);u.sort(N);for(var p=function(){var r=d[h],n=r.featureIndex.lookupSymbolFeatures(l[r.bucketInstanceId],t,r.bucketIndex,r.sourceLayerIndex,i.filter,i.layers,i.availableImages,e);for(var a in n){var o=s[a]=s[a]||[],u=n[a];u.sort((function(e,t){var n=r.featureSortOrder;if(n){var i=n.indexOf(e.featureIndex);return n.indexOf(t.featureIndex)-i}return t.featureIndex-e.featureIndex}));for(var c=0,f=u;c<f.length;c+=1)o.push(f[c])}},h=0,d=u;h<d.length;h+=1)p();var v=function(t){s[t].forEach((function(n){var i=n.feature,a=r[e[t].source].getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=a}))};for(var m in s)v(m);return s}(this._layers,this._serializedLayers,this.sourceCaches,t,r,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(u)},r.prototype.querySourceFeatures=function(t,r){r&&r.filter&&this._validate(e.validateStyle.filter,"querySourceFeatures.filter",r.filter,null,r);var n=this.sourceCaches[t];return n?function(e,t){for(var r=e.getRenderableIds().map((function(t){return e.getTileByID(t)})),n=[],i={},a=0;a<r.length;a++){var o=r[a],s=o.tileID.canonical.key;i[s]||(i[s]=!0,o.querySourceFeatures(n,t))}return n}(n,r):[]},r.prototype.addSourceType=function(e,t,n){return r.getSourceType(e)?n(new Error('A source type called "'+e+'" already exists.')):(r.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},n):n(null,null))},r.prototype.getLight=function(){return this.light.getLight()},r.prototype.setLight=function(t,r){void 0===r&&(r={}),this._checkLoaded();var n=this.light.getLight(),i=!1;for(var a in t)if(!e.deepEqual(t[a],n[a])){i=!0;break}if(i){var o={now:e.browser.now(),transition:e.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t,r),this.light.updateTransitions(o)}},r.prototype._validate=function(t,r,n,i,a){return void 0===a&&(a={}),(!a||!1!==a.validate)&&zt(this,t.call(e.validateStyle,e.extend({key:r,style:this.serialize(),value:n,styleSpec:e.styleSpec},i)))},r.prototype._remove=function(){for(var t in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[t].setEventedParent(null);for(var r in this.sourceCaches)this.sourceCaches[r].clearTiles(),this.sourceCaches[r].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},r.prototype._clearSource=function(e){this.sourceCaches[e].clearTiles()},r.prototype._reloadSource=function(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()},r.prototype._updateSources=function(e){for(var t in this.sourceCaches)this.sourceCaches[t].update(e)},r.prototype._generateCollisionBoxes=function(){for(var e in this.sourceCaches)this._reloadSource(e)},r.prototype._updatePlacement=function(t,r,n,i,a){void 0===a&&(a=!1);for(var o=!1,s=!1,l={},u=0,c=this._order;u<c.length;u+=1){var f=this._layers[c[u]];if("symbol"===f.type){if(!l[f.source]){var p=this.sourceCaches[f.source];l[f.source]=p.getRenderableIds(!0).map((function(e){return p.getTileByID(e)})).sort((function(e,t){return t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)}))}var h=this.crossTileSymbolIndex.addLayer(f,l[f.source],t.center.lng);o=o||h}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((a=a||this._layerOrderChanged||0===n)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.browser.now(),t.zoom))&&(this.pauseablePlacement=new Ft(t,this._order,a,r,n,i,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.browser.now()),s=!0),o&&this.pauseablePlacement.placement.setStale()),s||o)for(var d=0,v=this._order;d<v.length;d+=1){var m=this._layers[v[d]];"symbol"===m.type&&this.placement.updateLayerOpacities(m,l[m.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.browser.now())},r.prototype._releaseSymbolFadeTiles=function(){for(var e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles()},r.prototype.getImages=function(e,t,r){this.imageManager.getImages(t.icons,r),this._updateTilesForChangedImages();var n=this.sourceCaches[t.source];n&&n.setDependencies(t.tileID.key,t.type,t.icons)},r.prototype.getGlyphs=function(e,t,r){this.glyphManager.getGlyphs(t.stacks,r)},r.prototype.getResource=function(t,r,n){return e.makeRequest(r,n)},r}(e.Evented);Vt.getSourceType=function(e){return D[e]},Vt.setSourceType=function(e,t){D[e]=t},Vt.registerForPluginStateChange=e.registerForPluginStateChange;var Gt=e.createLayout([{name:"a_pos",type:"Int16",components:2}]),Wt=yr("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),qt=yr("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Ht=yr("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Yt=yr("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Xt=yr("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Kt=yr("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),$t=yr("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Jt=yr("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Qt=yr("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),er=yr("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),tr=yr("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),rr=yr("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),nr=yr("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),ir=yr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),ar=yr("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),or=yr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),sr=yr("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),lr=yr("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),ur=yr("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),cr=yr("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),fr=yr("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),pr=yr("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),hr=yr("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),dr=yr("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),vr=yr("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),mr=yr("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function yr(e,t){var r=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,n=t.match(/attribute ([\w]+) ([\w]+)/g),i=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),a=t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),o=a?a.concat(i):i,s={};return{fragmentSource:e=e.replace(r,(function(e,t,r,n,i){return s[i]=!0,"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nvarying "+r+" "+n+" "+i+";\n#else\nuniform "+r+" "+n+" u_"+i+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+i+"\n    "+r+" "+n+" "+i+" = u_"+i+";\n#endif\n"})),vertexSource:t=t.replace(r,(function(e,t,r,n,i){var a="float"===n?"vec2":"vec4",o=i.match(/color/)?"color":a;return s[i]?"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float u_"+i+"_t;\nattribute "+r+" "+a+" a_"+i+";\nvarying "+r+" "+n+" "+i+";\n#else\nuniform "+r+" "+n+" u_"+i+";\n#endif\n":"vec4"===o?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = a_"+i+";\n#else\n    "+r+" "+n+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = unpack_mix_"+o+"(a_"+i+", u_"+i+"_t);\n#else\n    "+r+" "+n+" "+i+" = u_"+i+";\n#endif\n":"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float u_"+i+"_t;\nattribute "+r+" "+a+" a_"+i+";\n#else\nuniform "+r+" "+n+" u_"+i+";\n#endif\n":"vec4"===o?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+r+" "+n+" "+i+" = a_"+i+";\n#else\n    "+r+" "+n+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+r+" "+n+" "+i+" = unpack_mix_"+o+"(a_"+i+", u_"+i+"_t);\n#else\n    "+r+" "+n+" "+i+" = u_"+i+";\n#endif\n"})),staticAttributes:n,staticUniforms:o}}var gr=Object.freeze({__proto__:null,prelude:Wt,background:qt,backgroundPattern:Ht,circle:Yt,clippingMask:Xt,heatmap:Kt,heatmapTexture:$t,collisionBox:Jt,collisionCircle:Qt,debug:er,fill:tr,fillOutline:rr,fillOutlinePattern:nr,fillPattern:ir,fillExtrusion:ar,fillExtrusionPattern:or,hillshadePrepare:sr,hillshade:lr,line:ur,lineGradient:cr,linePattern:fr,lineSDF:pr,raster:hr,symbolIcon:dr,symbolSDF:vr,symbolTextAndIcon:mr}),_r=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function br(e){for(var t=[],r=0;r<e.length;r++)if(null!==e[r]){var n=e[r].split(" ");t.push(n.pop())}return t}_r.prototype.bind=function(e,t,r,n,i,a,o,s){this.context=e;for(var l=this.boundPaintVertexBuffers.length!==n.length,u=0;!l&&u<n.length;u++)this.boundPaintVertexBuffers[u]!==n[u]&&(l=!0);e.extVertexArrayObject&&this.vao&&this.boundProgram===t&&this.boundLayoutVertexBuffer===r&&!l&&this.boundIndexBuffer===i&&this.boundVertexOffset===a&&this.boundDynamicVertexBuffer===o&&this.boundDynamicVertexBuffer2===s?(e.bindVertexArrayOES.set(this.vao),o&&o.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind()):this.freshBind(t,r,n,i,a,o,s)},_r.prototype.freshBind=function(e,t,r,n,i,a,o){var s,l=e.numAttributes,u=this.context,c=u.gl;if(u.extVertexArrayObject)this.vao&&this.destroy(),this.vao=u.extVertexArrayObject.createVertexArrayOES(),u.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=r,this.boundIndexBuffer=n,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=a,this.boundDynamicVertexBuffer2=o;else{s=u.currentNumAttributes||0;for(var f=l;f<s;f++)c.disableVertexAttribArray(f)}t.enableAttributes(c,e);for(var p=0,h=r;p<h.length;p+=1)h[p].enableAttributes(c,e);a&&a.enableAttributes(c,e),o&&o.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,i);for(var d=0,v=r;d<v.length;d+=1){var m=v[d];m.bind(),m.setVertexAttribPointers(c,e,i)}a&&(a.bind(),a.setVertexAttribPointers(c,e,i)),n&&n.bind(),o&&(o.bind(),o.setVertexAttribPointers(c,e,i)),u.currentNumAttributes=l},_r.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var xr=function(e,t,r,n,i,a){var o=e.gl;this.program=o.createProgram();for(var s=br(r.staticAttributes),l=n?n.getBinderAttributes():[],u=s.concat(l),c=r.staticUniforms?br(r.staticUniforms):[],f=n?n.getBinderUniforms():[],p=[],h=0,d=c.concat(f);h<d.length;h+=1){var v=d[h];p.indexOf(v)<0&&p.push(v)}var m=n?n.defines():[];a&&m.push("#define OVERDRAW_INSPECTOR;");var y=m.concat(Wt.fragmentSource,r.fragmentSource).join("\n"),g=m.concat(Wt.vertexSource,r.vertexSource).join("\n"),_=o.createShader(o.FRAGMENT_SHADER);if(o.isContextLost())this.failedToCreate=!0;else{o.shaderSource(_,y),o.compileShader(_),o.attachShader(this.program,_);var b=o.createShader(o.VERTEX_SHADER);if(o.isContextLost())this.failedToCreate=!0;else{o.shaderSource(b,g),o.compileShader(b),o.attachShader(this.program,b),this.attributes={};var x={};this.numAttributes=u.length;for(var w=0;w<this.numAttributes;w++)u[w]&&(o.bindAttribLocation(this.program,w,u[w]),this.attributes[u[w]]=w);o.linkProgram(this.program),o.deleteShader(b),o.deleteShader(_);for(var S=0;S<p.length;S++){var P=p[S];if(P&&!x[P]){var k=o.getUniformLocation(this.program,P);k&&(x[P]=k)}}this.fixedUniforms=i(e,x),this.binderUniforms=n?n.getUniforms(e,x):[]}}};function wr(e,t,r){var n=1/pt(r,1,t.transform.tileZoom),i=Math.pow(2,r.tileID.overscaledZ),a=r.tileSize*Math.pow(2,t.transform.tileZoom)/i,o=a*(r.tileID.canonical.x+r.tileID.wrap*i),s=a*r.tileID.canonical.y;return{u_image:0,u_texsize:r.imageAtlasTexture.size,u_scale:[n,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[o>>16,s>>16],u_pixel_coord_lower:[65535&o,65535&s]}}xr.prototype.draw=function(e,t,r,n,i,a,o,s,l,u,c,f,p,h,d,v){var m,y=e.gl;if(!this.failedToCreate){for(var g in e.program.set(this.program),e.setDepthMode(r),e.setStencilMode(n),e.setColorMode(i),e.setCullFace(a),this.fixedUniforms)this.fixedUniforms[g].set(o[g]);h&&h.setUniforms(e,this.binderUniforms,f,{zoom:p});for(var _=(m={},m[y.LINES]=2,m[y.TRIANGLES]=3,m[y.LINE_STRIP]=1,m)[t],b=0,x=c.get();b<x.length;b+=1){var w=x[b],S=w.vaos||(w.vaos={});(S[s]||(S[s]=new _r)).bind(e,this,l,h?h.getPaintVertexBuffers():[],u,w.vertexOffset,d,v),y.drawElements(t,w.primitiveLength*_,y.UNSIGNED_SHORT,w.primitiveOffset*_*2)}}};var Sr=function(t,r,n,i){var a=r.style.light,o=a.properties.get("position"),s=[o.x,o.y,o.z],l=e.create$1();"viewport"===a.properties.get("anchor")&&e.fromRotation(l,-r.transform.angle),e.transformMat3(s,s,l);var u=a.properties.get("color");return{u_matrix:t,u_lightpos:s,u_lightintensity:a.properties.get("intensity"),u_lightcolor:[u.r,u.g,u.b],u_vertical_gradient:+n,u_opacity:i}},Pr=function(t,r,n,i,a,o,s){return e.extend(Sr(t,r,n,i),wr(o,r,s),{u_height_factor:-Math.pow(2,a.overscaledZ)/s.tileSize/8})},kr=function(e){return{u_matrix:e}},Er=function(t,r,n,i){return e.extend(kr(t),wr(n,r,i))},Cr=function(e,t){return{u_matrix:e,u_world:t}},Ar=function(t,r,n,i,a){return e.extend(Er(t,r,n,i),{u_world:a})},Tr=function(t,r,n,i){var a,o,s=t.transform;if("map"===i.paint.get("circle-pitch-alignment")){var l=pt(n,1,s.zoom);a=!0,o=[l,l]}else a=!1,o=s.pixelsToGLUnits;return{u_camera_to_center_distance:s.cameraToCenterDistance,u_scale_with_map:+("map"===i.paint.get("circle-pitch-scale")),u_matrix:t.translatePosMatrix(r.posMatrix,n,i.paint.get("circle-translate"),i.paint.get("circle-translate-anchor")),u_pitch_with_map:+a,u_device_pixel_ratio:e.browser.devicePixelRatio,u_extrude_scale:o}},Or=function(e,t,r){var n=pt(r,1,t.zoom),i=Math.pow(2,t.zoom-r.tileID.overscaledZ),a=r.tileID.overscaleFactor();return{u_matrix:e,u_camera_to_center_distance:t.cameraToCenterDistance,u_pixels_to_tile_units:n,u_extrude_scale:[t.pixelsToGLUnits[0]/(n*i),t.pixelsToGLUnits[1]/(n*i)],u_overscale_factor:a}},Mr=function(e,t,r){return{u_matrix:e,u_inv_matrix:t,u_camera_to_center_distance:r.cameraToCenterDistance,u_viewport_size:[r.width,r.height]}},Ir=function(e,t,r){return void 0===r&&(r=1),{u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:r}},Fr=function(e){return{u_matrix:e}},Rr=function(e,t,r,n){return{u_matrix:e,u_extrude_scale:pt(t,1,r),u_intensity:n}},Dr=function(t,r,n){var i=t.transform;return{u_matrix:Br(t,r,n),u_ratio:1/pt(r,1,i.zoom),u_device_pixel_ratio:e.browser.devicePixelRatio,u_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}},jr=function(t,r,n,i){return e.extend(Dr(t,r,n),{u_image:0,u_image_height:i})},Lr=function(t,r,n,i){var a=t.transform,o=zr(r,a);return{u_matrix:Br(t,r,n),u_texsize:r.imageAtlasTexture.size,u_ratio:1/pt(r,1,a.zoom),u_device_pixel_ratio:e.browser.devicePixelRatio,u_image:0,u_scale:[o,i.fromScale,i.toScale],u_fade:i.t,u_units_to_pixels:[1/a.pixelsToGLUnits[0],1/a.pixelsToGLUnits[1]]}},Nr=function(t,r,n,i,a){var o=t.lineAtlas,s=zr(r,t.transform),l="round"===n.layout.get("line-cap"),u=o.getDash(i.from,l),c=o.getDash(i.to,l),f=u.width*a.fromScale,p=c.width*a.toScale;return e.extend(Dr(t,r,n),{u_patternscale_a:[s/f,-u.height/2],u_patternscale_b:[s/p,-c.height/2],u_sdfgamma:o.width/(256*Math.min(f,p)*e.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:u.y,u_tex_y_b:c.y,u_mix:a.t})};function zr(e,t){return 1/pt(e,1,t.tileZoom)}function Br(e,t,r){return e.translatePosMatrix(t.tileID.posMatrix,t,r.paint.get("line-translate"),r.paint.get("line-translate-anchor"))}var Zr=function(e,t,r,n,i){return{u_matrix:e,u_tl_parent:t,u_scale_parent:r,u_buffer_scale:1,u_fade_t:n.mix,u_opacity:n.opacity*i.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:i.paint.get("raster-brightness-min"),u_brightness_high:i.paint.get("raster-brightness-max"),u_saturation_factor:(o=i.paint.get("raster-saturation"),o>0?1-1/(1.001-o):-o),u_contrast_factor:(a=i.paint.get("raster-contrast"),a>0?1/(1-a):1+a),u_spin_weights:Ur(i.paint.get("raster-hue-rotate"))};var a,o};function Ur(e){e*=Math.PI/180;var t=Math.sin(e),r=Math.cos(e);return[(2*r+1)/3,(-Math.sqrt(3)*t-r+1)/3,(Math.sqrt(3)*t-r+1)/3]}var Vr,Gr=function(e,t,r,n,i,a,o,s,l,u){var c=i.transform;return{u_is_size_zoom_constant:+("constant"===e||"source"===e),u_is_size_feature_constant:+("constant"===e||"camera"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:c.cameraToCenterDistance,u_pitch:c.pitch/360*2*Math.PI,u_rotate_symbol:+r,u_aspect_ratio:c.width/c.height,u_fade_change:i.options.fadeDuration?i.symbolFadeChange:1,u_matrix:a,u_label_plane_matrix:o,u_coord_matrix:s,u_is_text:+l,u_pitch_with_map:+n,u_texsize:u,u_texture:0}},Wr=function(t,r,n,i,a,o,s,l,u,c,f){var p=a.transform;return e.extend(Gr(t,r,n,i,a,o,s,l,u,c),{u_gamma_scale:i?Math.cos(p._pitch)*p.cameraToCenterDistance:1,u_device_pixel_ratio:e.browser.devicePixelRatio,u_is_halo:+f})},qr=function(t,r,n,i,a,o,s,l,u,c){return e.extend(Wr(t,r,n,i,a,o,s,l,!0,u,!0),{u_texsize_icon:c,u_texture_icon:1})},Hr=function(e,t,r){return{u_matrix:e,u_opacity:t,u_color:r}},Yr=function(t,r,n,i,a,o){return e.extend(function(e,t,r,n){var i=r.imageManager.getPattern(e.from.toString()),a=r.imageManager.getPattern(e.to.toString()),o=r.imageManager.getPixelSize(),s=o.width,l=o.height,u=Math.pow(2,n.tileID.overscaledZ),c=n.tileSize*Math.pow(2,r.transform.tileZoom)/u,f=c*(n.tileID.canonical.x+n.tileID.wrap*u),p=c*n.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:i.tl,u_pattern_br_a:i.br,u_pattern_tl_b:a.tl,u_pattern_br_b:a.br,u_texsize:[s,l],u_mix:t.t,u_pattern_size_a:i.displaySize,u_pattern_size_b:a.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/pt(n,1,r.transform.tileZoom),u_pixel_coord_upper:[f>>16,p>>16],u_pixel_coord_lower:[65535&f,65535&p]}}(i,o,n,a),{u_matrix:t,u_opacity:r})},Xr={fillExtrusion:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_lightpos:new e.Uniform3f(t,r.u_lightpos),u_lightintensity:new e.Uniform1f(t,r.u_lightintensity),u_lightcolor:new e.Uniform3f(t,r.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,r.u_vertical_gradient),u_opacity:new e.Uniform1f(t,r.u_opacity)}},fillExtrusionPattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_lightpos:new e.Uniform3f(t,r.u_lightpos),u_lightintensity:new e.Uniform1f(t,r.u_lightintensity),u_lightcolor:new e.Uniform3f(t,r.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,r.u_vertical_gradient),u_height_factor:new e.Uniform1f(t,r.u_height_factor),u_image:new e.Uniform1i(t,r.u_image),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade),u_opacity:new e.Uniform1f(t,r.u_opacity)}},fill:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},fillPattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image:new e.Uniform1i(t,r.u_image),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}},fillOutline:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world)}},fillOutlinePattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world),u_image:new e.Uniform1i(t,r.u_image),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}},circle:function(t,r){return{u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_scale_with_map:new e.Uniform1i(t,r.u_scale_with_map),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_extrude_scale:new e.Uniform2f(t,r.u_extrude_scale),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},collisionBox:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pixels_to_tile_units:new e.Uniform1f(t,r.u_pixels_to_tile_units),u_extrude_scale:new e.Uniform2f(t,r.u_extrude_scale),u_overscale_factor:new e.Uniform1f(t,r.u_overscale_factor)}},collisionCircle:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_inv_matrix:new e.UniformMatrix4f(t,r.u_inv_matrix),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_viewport_size:new e.Uniform2f(t,r.u_viewport_size)}},debug:function(t,r){return{u_color:new e.UniformColor(t,r.u_color),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_overlay:new e.Uniform1i(t,r.u_overlay),u_overlay_scale:new e.Uniform1f(t,r.u_overlay_scale)}},clippingMask:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},heatmap:function(t,r){return{u_extrude_scale:new e.Uniform1f(t,r.u_extrude_scale),u_intensity:new e.Uniform1f(t,r.u_intensity),u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},heatmapTexture:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world),u_image:new e.Uniform1i(t,r.u_image),u_color_ramp:new e.Uniform1i(t,r.u_color_ramp),u_opacity:new e.Uniform1f(t,r.u_opacity)}},hillshade:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image:new e.Uniform1i(t,r.u_image),u_latrange:new e.Uniform2f(t,r.u_latrange),u_light:new e.Uniform2f(t,r.u_light),u_shadow:new e.UniformColor(t,r.u_shadow),u_highlight:new e.UniformColor(t,r.u_highlight),u_accent:new e.UniformColor(t,r.u_accent)}},hillshadePrepare:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image:new e.Uniform1i(t,r.u_image),u_dimension:new e.Uniform2f(t,r.u_dimension),u_zoom:new e.Uniform1f(t,r.u_zoom),u_unpack:new e.Uniform4f(t,r.u_unpack)}},line:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_ratio:new e.Uniform1f(t,r.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,r.u_units_to_pixels)}},lineGradient:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_ratio:new e.Uniform1f(t,r.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,r.u_units_to_pixels),u_image:new e.Uniform1i(t,r.u_image),u_image_height:new e.Uniform1f(t,r.u_image_height)}},linePattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_texsize:new e.Uniform2f(t,r.u_texsize),u_ratio:new e.Uniform1f(t,r.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_image:new e.Uniform1i(t,r.u_image),u_units_to_pixels:new e.Uniform2f(t,r.u_units_to_pixels),u_scale:new e.Uniform3f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}},lineSDF:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_ratio:new e.Uniform1f(t,r.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,r.u_units_to_pixels),u_patternscale_a:new e.Uniform2f(t,r.u_patternscale_a),u_patternscale_b:new e.Uniform2f(t,r.u_patternscale_b),u_sdfgamma:new e.Uniform1f(t,r.u_sdfgamma),u_image:new e.Uniform1i(t,r.u_image),u_tex_y_a:new e.Uniform1f(t,r.u_tex_y_a),u_tex_y_b:new e.Uniform1f(t,r.u_tex_y_b),u_mix:new e.Uniform1f(t,r.u_mix)}},raster:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_tl_parent:new e.Uniform2f(t,r.u_tl_parent),u_scale_parent:new e.Uniform1f(t,r.u_scale_parent),u_buffer_scale:new e.Uniform1f(t,r.u_buffer_scale),u_fade_t:new e.Uniform1f(t,r.u_fade_t),u_opacity:new e.Uniform1f(t,r.u_opacity),u_image0:new e.Uniform1i(t,r.u_image0),u_image1:new e.Uniform1i(t,r.u_image1),u_brightness_low:new e.Uniform1f(t,r.u_brightness_low),u_brightness_high:new e.Uniform1f(t,r.u_brightness_high),u_saturation_factor:new e.Uniform1f(t,r.u_saturation_factor),u_contrast_factor:new e.Uniform1f(t,r.u_contrast_factor),u_spin_weights:new e.Uniform3f(t,r.u_spin_weights)}},symbolIcon:function(t,r){return{u_is_size_zoom_constant:new e.Uniform1i(t,r.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,r.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,r.u_size_t),u_size:new e.Uniform1f(t,r.u_size),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,r.u_pitch),u_rotate_symbol:new e.Uniform1i(t,r.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,r.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,r.u_fade_change),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,r.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,r.u_coord_matrix),u_is_text:new e.Uniform1i(t,r.u_is_text),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_texsize:new e.Uniform2f(t,r.u_texsize),u_texture:new e.Uniform1i(t,r.u_texture)}},symbolSDF:function(t,r){return{u_is_size_zoom_constant:new e.Uniform1i(t,r.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,r.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,r.u_size_t),u_size:new e.Uniform1f(t,r.u_size),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,r.u_pitch),u_rotate_symbol:new e.Uniform1i(t,r.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,r.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,r.u_fade_change),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,r.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,r.u_coord_matrix),u_is_text:new e.Uniform1i(t,r.u_is_text),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_texsize:new e.Uniform2f(t,r.u_texsize),u_texture:new e.Uniform1i(t,r.u_texture),u_gamma_scale:new e.Uniform1f(t,r.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,r.u_is_halo)}},symbolTextAndIcon:function(t,r){return{u_is_size_zoom_constant:new e.Uniform1i(t,r.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,r.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,r.u_size_t),u_size:new e.Uniform1f(t,r.u_size),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,r.u_pitch),u_rotate_symbol:new e.Uniform1i(t,r.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,r.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,r.u_fade_change),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,r.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,r.u_coord_matrix),u_is_text:new e.Uniform1i(t,r.u_is_text),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_texsize:new e.Uniform2f(t,r.u_texsize),u_texsize_icon:new e.Uniform2f(t,r.u_texsize_icon),u_texture:new e.Uniform1i(t,r.u_texture),u_texture_icon:new e.Uniform1i(t,r.u_texture_icon),u_gamma_scale:new e.Uniform1f(t,r.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,r.u_is_halo)}},background:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_opacity:new e.Uniform1f(t,r.u_opacity),u_color:new e.UniformColor(t,r.u_color)}},backgroundPattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_opacity:new e.Uniform1f(t,r.u_opacity),u_image:new e.Uniform1i(t,r.u_image),u_pattern_tl_a:new e.Uniform2f(t,r.u_pattern_tl_a),u_pattern_br_a:new e.Uniform2f(t,r.u_pattern_br_a),u_pattern_tl_b:new e.Uniform2f(t,r.u_pattern_tl_b),u_pattern_br_b:new e.Uniform2f(t,r.u_pattern_br_b),u_texsize:new e.Uniform2f(t,r.u_texsize),u_mix:new e.Uniform1f(t,r.u_mix),u_pattern_size_a:new e.Uniform2f(t,r.u_pattern_size_a),u_pattern_size_b:new e.Uniform2f(t,r.u_pattern_size_b),u_scale_a:new e.Uniform1f(t,r.u_scale_a),u_scale_b:new e.Uniform1f(t,r.u_scale_b),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_tile_units_to_pixels:new e.Uniform1f(t,r.u_tile_units_to_pixels)}}};function Kr(t,r,n,i,a,o,s){for(var l=t.context,u=l.gl,c=t.useProgram("collisionBox"),f=[],p=0,h=0,d=0;d<i.length;d++){var v=i[d],m=r.getTile(v),y=m.getBucket(n);if(y){var g=v.posMatrix;0===a[0]&&0===a[1]||(g=t.translatePosMatrix(v.posMatrix,m,a,o));var _=s?y.textCollisionBox:y.iconCollisionBox,b=y.collisionCircleArray;if(b.length>0){var x=e.create(),w=g;e.mul(x,y.placementInvProjMatrix,t.transform.glCoordMatrix),e.mul(x,x,y.placementViewportMatrix),f.push({circleArray:b,circleOffset:h,transform:w,invTransform:x}),h=p+=b.length/4}_&&c.draw(l,u.LINES,ke.disabled,Ee.disabled,t.colorModeForRenderPass(),Ae.disabled,Or(g,t.transform,m),n.id,_.layoutVertexBuffer,_.indexBuffer,_.segments,null,t.transform.zoom,null,null,_.collisionVertexBuffer)}}if(s&&f.length){var S=t.useProgram("collisionCircle"),P=new e.StructArrayLayout2f1f2i16;P.resize(4*p),P._trim();for(var k=0,E=0,C=f;E<C.length;E+=1)for(var A=C[E],T=0;T<A.circleArray.length/4;T++){var O=4*T,M=A.circleArray[O+0],I=A.circleArray[O+1],F=A.circleArray[O+2],R=A.circleArray[O+3];P.emplace(k++,M,I,F,R,0),P.emplace(k++,M,I,F,R,1),P.emplace(k++,M,I,F,R,2),P.emplace(k++,M,I,F,R,3)}(!Vr||Vr.length<2*p)&&(Vr=function(t){var r=2*t,n=new e.StructArrayLayout3ui6;n.resize(r),n._trim();for(var i=0;i<r;i++){var a=6*i;n.uint16[a+0]=4*i+0,n.uint16[a+1]=4*i+1,n.uint16[a+2]=4*i+2,n.uint16[a+3]=4*i+2,n.uint16[a+4]=4*i+3,n.uint16[a+5]=4*i+0}return n}(p));for(var D=l.createIndexBuffer(Vr,!0),j=l.createVertexBuffer(P,e.collisionCircleLayout.members,!0),L=0,N=f;L<N.length;L+=1){var z=N[L],B=Mr(z.transform,z.invTransform,t.transform);S.draw(l,u.TRIANGLES,ke.disabled,Ee.disabled,t.colorModeForRenderPass(),Ae.disabled,B,n.id,j,D,e.SegmentVector.simpleSegment(0,2*z.circleOffset,z.circleArray.length,z.circleArray.length/2),null,t.transform.zoom,null,null,null)}j.destroy(),D.destroy()}}var $r=e.identity(new Float32Array(16));function Jr(t,r,n,i,a,o){var s=e.getAnchorAlignment(t),l=-(s.horizontalAlign-.5)*r,u=-(s.verticalAlign-.5)*n,c=e.evaluateVariableOffset(t,i);return new e.Point((l/a+c[0])*o,(u/a+c[1])*o)}function Qr(t,r,n,i,a,o,s,l,u,c,f){var p=t.text.placedSymbolArray,h=t.text.dynamicLayoutVertexArray,d=t.icon.dynamicLayoutVertexArray,v={};h.clear();for(var m=0;m<p.length;m++){var y=p.get(m),g=y.hidden||!y.crossTileID||t.allowVerticalPlacement&&!y.placedOrientation?null:i[y.crossTileID];if(g){var _=new e.Point(y.anchorX,y.anchorY),b=Qe(_,n?l:s),x=et(o.cameraToCenterDistance,b.signedDistanceFromCamera),w=a.evaluateSizeForFeature(t.textSizeData,c,y)*x/e.ONE_EM;n&&(w*=t.tilePixelRatio/u);for(var S=Jr(g.anchor,g.width,g.height,g.textOffset,g.textBoxScale,w),P=n?Qe(_.add(S),s).point:b.point.add(r?S.rotate(-o.angle):S),k=t.allowVerticalPlacement&&y.placedOrientation===e.WritingMode.vertical?Math.PI/2:0,E=0;E<y.numGlyphs;E++)e.addDynamicAttributes(h,P,k);f&&y.associatedIconIndex>=0&&(v[y.associatedIconIndex]={shiftedAnchor:P,angle:k})}else ut(y.numGlyphs,h)}if(f){d.clear();for(var C=t.icon.placedSymbolArray,A=0;A<C.length;A++){var T=C.get(A);if(T.hidden)ut(T.numGlyphs,d);else{var O=v[A];if(O)for(var M=0;M<T.numGlyphs;M++)e.addDynamicAttributes(d,O.shiftedAnchor,O.angle);else ut(T.numGlyphs,d)}}t.icon.dynamicLayoutVertexBuffer.updateData(d)}t.text.dynamicLayoutVertexBuffer.updateData(h)}function en(e,t,r){return r.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function tn(t,r,n,i,a,o,s,l,u,c,f,p){for(var h=t.context,d=h.gl,v=t.transform,m="map"===l,y="map"===u,g=m&&"point"!==n.layout.get("symbol-placement"),_=m&&!y&&!g,b=void 0!==n.layout.get("symbol-sort-key").constantOr(1),x=!1,w=t.depthModeForSublayer(0,ke.ReadOnly),S=n.layout.get("text-variable-anchor"),P=[],k=0,E=i;k<E.length;k+=1){var C=E[k],A=r.getTile(C),T=A.getBucket(n);if(T){var O=a?T.text:T.icon;if(O&&O.segments.get().length){var M=O.programConfigurations.get(n.id),I=a||T.sdfIcons,F=a?T.textSizeData:T.iconSizeData,R=y||0!==v.pitch,D=t.useProgram(en(I,a,T),M),j=e.evaluateSizeForZoom(F,v.zoom),L=void 0,N=[0,0],z=void 0,B=void 0,Z=null,U=void 0;if(a)z=A.glyphAtlasTexture,B=d.LINEAR,L=A.glyphAtlasTexture.size,T.iconsInText&&(N=A.imageAtlasTexture.size,Z=A.imageAtlasTexture,U=R||t.options.rotating||t.options.zooming||"composite"===F.kind||"camera"===F.kind?d.LINEAR:d.NEAREST);else{var V=1!==n.layout.get("icon-size").constantOr(0)||T.iconsNeedLinear;z=A.imageAtlasTexture,B=I||t.options.rotating||t.options.zooming||V||R?d.LINEAR:d.NEAREST,L=A.imageAtlasTexture.size}var G=pt(A,1,t.transform.zoom),W=$e(C.posMatrix,y,m,t.transform,G),q=Je(C.posMatrix,y,m,t.transform,G),H=S&&T.hasTextData(),Y="none"!==n.layout.get("icon-text-fit")&&H&&T.hasIconData();g&&rt(T,C.posMatrix,t,a,W,q,y,c);var X=t.translatePosMatrix(C.posMatrix,A,o,s),K=g||a&&S||Y?$r:W,$=t.translatePosMatrix(q,A,o,s,!0),J=I&&0!==n.paint.get(a?"text-halo-width":"icon-halo-width").constantOr(1),Q={program:D,buffers:O,uniformValues:I?T.iconsInText?qr(F.kind,j,_,y,t,X,K,$,L,N):Wr(F.kind,j,_,y,t,X,K,$,a,L,!0):Gr(F.kind,j,_,y,t,X,K,$,a,L),atlasTexture:z,atlasTextureIcon:Z,atlasInterpolation:B,atlasInterpolationIcon:U,isSDF:I,hasHalo:J};if(b&&T.canOverlap){x=!0;for(var ee=0,te=O.segments.get();ee<te.length;ee+=1){var re=te[ee];P.push({segments:new e.SegmentVector([re]),sortKey:re.sortKey,state:Q})}}else P.push({segments:O.segments,sortKey:0,state:Q})}}}x&&P.sort((function(e,t){return e.sortKey-t.sortKey}));for(var ne=0,ie=P;ne<ie.length;ne+=1){var ae=ie[ne],oe=ae.state;if(h.activeTexture.set(d.TEXTURE0),oe.atlasTexture.bind(oe.atlasInterpolation,d.CLAMP_TO_EDGE),oe.atlasTextureIcon&&(h.activeTexture.set(d.TEXTURE1),oe.atlasTextureIcon&&oe.atlasTextureIcon.bind(oe.atlasInterpolationIcon,d.CLAMP_TO_EDGE)),oe.isSDF){var se=oe.uniformValues;oe.hasHalo&&(se.u_is_halo=1,rn(oe.buffers,ae.segments,n,t,oe.program,w,f,p,se)),se.u_is_halo=0}rn(oe.buffers,ae.segments,n,t,oe.program,w,f,p,oe.uniformValues)}}function rn(e,t,r,n,i,a,o,s,l){var u=n.context;i.draw(u,u.gl.TRIANGLES,a,o,s,Ae.disabled,l,r.id,e.layoutVertexBuffer,e.indexBuffer,t,r.paint,n.transform.zoom,e.programConfigurations.get(r.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function nn(e,t,r,n,i,a,o){var s,l,u,c,f,p=e.context.gl,h=r.paint.get("fill-pattern"),d=h&&h.constantOr(1),v=r.getCrossfadeParameters();o?(l=d&&!r.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=p.LINES):(l=d?"fillPattern":"fill",s=p.TRIANGLES);for(var m=0,y=n;m<y.length;m+=1){var g=y[m],_=t.getTile(g);if(!d||_.patternsLoaded()){var b=_.getBucket(r);if(b){var x=b.programConfigurations.get(r.id),w=e.useProgram(l,x);d&&(e.context.activeTexture.set(p.TEXTURE0),_.imageAtlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE),x.updatePaintBuffers(v));var S=h.constantOr(null);if(S&&_.imageAtlas){var P=_.imageAtlas,k=P.patternPositions[S.to.toString()],E=P.patternPositions[S.from.toString()];k&&E&&x.setConstantPatternPositions(k,E)}var C=e.translatePosMatrix(g.posMatrix,_,r.paint.get("fill-translate"),r.paint.get("fill-translate-anchor"));if(o){c=b.indexBuffer2,f=b.segments2;var A=[p.drawingBufferWidth,p.drawingBufferHeight];u="fillOutlinePattern"===l&&d?Ar(C,e,v,_,A):Cr(C,A)}else c=b.indexBuffer,f=b.segments,u=d?Er(C,e,v,_):kr(C);w.draw(e.context,s,i,e.stencilModeForClipping(g),a,Ae.disabled,u,r.id,b.layoutVertexBuffer,c,f,r.paint,e.transform.zoom,x)}}}}function an(e,t,r,n,i,a,o){for(var s=e.context,l=s.gl,u=r.paint.get("fill-extrusion-pattern"),c=u.constantOr(1),f=r.getCrossfadeParameters(),p=r.paint.get("fill-extrusion-opacity"),h=0,d=n;h<d.length;h+=1){var v=d[h],m=t.getTile(v),y=m.getBucket(r);if(y){var g=y.programConfigurations.get(r.id),_=e.useProgram(c?"fillExtrusionPattern":"fillExtrusion",g);c&&(e.context.activeTexture.set(l.TEXTURE0),m.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),g.updatePaintBuffers(f));var b=u.constantOr(null);if(b&&m.imageAtlas){var x=m.imageAtlas,w=x.patternPositions[b.to.toString()],S=x.patternPositions[b.from.toString()];w&&S&&g.setConstantPatternPositions(w,S)}var P=e.translatePosMatrix(v.posMatrix,m,r.paint.get("fill-extrusion-translate"),r.paint.get("fill-extrusion-translate-anchor")),k=r.paint.get("fill-extrusion-vertical-gradient"),E=c?Pr(P,e,k,p,v,f,m):Sr(P,e,k,p);_.draw(s,s.gl.TRIANGLES,i,a,o,Ae.backCCW,E,r.id,y.layoutVertexBuffer,y.indexBuffer,y.segments,r.paint,e.transform.zoom,g)}}}function on(t,r,n,i,a,o){var s=t.context,l=s.gl,u=r.fbo;if(u){var c=t.useProgram("hillshade");s.activeTexture.set(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,u.colorAttachment.get());var f=function(t,r,n){var i=n.paint.get("hillshade-shadow-color"),a=n.paint.get("hillshade-highlight-color"),o=n.paint.get("hillshade-accent-color"),s=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(s-=t.transform.angle);var l,u,c,f=!t.options.moving;return{u_matrix:t.transform.calculatePosMatrix(r.tileID.toUnwrapped(),f),u_image:0,u_latrange:(l=r.tileID,u=Math.pow(2,l.canonical.z),c=l.canonical.y,[new e.MercatorCoordinate(0,c/u).toLngLat().lat,new e.MercatorCoordinate(0,(c+1)/u).toLngLat().lat]),u_light:[n.paint.get("hillshade-exaggeration"),s],u_shadow:i,u_highlight:a,u_accent:o}}(t,r,n);c.draw(s,l.TRIANGLES,i,a,o,Ae.disabled,f,n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}}function sn(t,r,n,i,a,o){var s=t.context,l=s.gl,u=r.dem;if(u&&u.data){var c=u.dim,f=u.stride,p=u.getPixels();if(s.activeTexture.set(l.TEXTURE1),s.pixelStoreUnpackPremultiplyAlpha.set(!1),r.demTexture=r.demTexture||t.getTileTexture(f),r.demTexture){var h=r.demTexture;h.update(p,{premultiply:!1}),h.bind(l.NEAREST,l.CLAMP_TO_EDGE)}else r.demTexture=new e.Texture(s,p,l.RGBA,{premultiply:!1}),r.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);s.activeTexture.set(l.TEXTURE0);var d=r.fbo;if(!d){var v=new e.Texture(s,{width:c,height:c,data:null},l.RGBA);v.bind(l.LINEAR,l.CLAMP_TO_EDGE),(d=r.fbo=s.createFramebuffer(c,c,!0)).colorAttachment.set(v.texture)}s.bindFramebuffer.set(d.framebuffer),s.viewport.set([0,0,c,c]),t.useProgram("hillshadePrepare").draw(s,l.TRIANGLES,i,a,o,Ae.disabled,function(t,r){var n=r.stride,i=e.create();return e.ortho(i,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(i,i,[0,-e.EXTENT,0]),{u_matrix:i,u_image:1,u_dimension:[n,n],u_zoom:t.overscaledZ,u_unpack:r.getUnpackVector()}}(r.tileID,u),n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments),r.needsHillshadePrepare=!1}}function ln(t,r,n,i,a){var o=i.paint.get("raster-fade-duration");if(o>0){var s=e.browser.now(),l=(s-t.timeAdded)/o,u=r?(s-r.timeAdded)/o:-1,c=n.getSource(),f=a.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),p=!r||Math.abs(r.tileID.overscaledZ-f)>Math.abs(t.tileID.overscaledZ-f),h=p&&t.refreshedUponExpiration?1:e.clamp(p?l:1-u,0,1);return t.refreshedUponExpiration&&l>=1&&(t.refreshedUponExpiration=!1),r?{opacity:1,mix:1-h}:{opacity:h,mix:0}}return{opacity:1,mix:0}}var un=new e.Color(1,0,0,1),cn=new e.Color(0,1,0,1),fn=new e.Color(0,0,1,1),pn=new e.Color(1,0,1,1),hn=new e.Color(0,1,1,1);function dn(e,t,r,n){mn(e,0,t+r/2,e.transform.width,r,n)}function vn(e,t,r,n){mn(e,t-r/2,0,r,e.transform.height,n)}function mn(t,r,n,i,a,o){var s=t.context,l=s.gl;l.enable(l.SCISSOR_TEST),l.scissor(r*e.browser.devicePixelRatio,n*e.browser.devicePixelRatio,i*e.browser.devicePixelRatio,a*e.browser.devicePixelRatio),s.clear({color:o}),l.disable(l.SCISSOR_TEST)}function yn(t,r,n){var i=t.context,a=i.gl,o=n.posMatrix,s=t.useProgram("debug"),l=ke.disabled,u=Ee.disabled,c=t.colorModeForRenderPass();i.activeTexture.set(a.TEXTURE0),t.emptyTexture.bind(a.LINEAR,a.CLAMP_TO_EDGE),s.draw(i,a.LINE_STRIP,l,u,c,Ae.disabled,Ir(o,e.Color.red),"$debug",t.debugBuffer,t.tileBorderIndexBuffer,t.debugSegments);var f=r.getTileByID(n.key).latestRawTileData,p=Math.floor((f&&f.byteLength||0)/1024),h=r.getTile(n).tileSize,d=512/Math.min(h,512)*(n.overscaledZ/t.transform.zoom)*.5,v=n.canonical.toString();n.overscaledZ!==n.canonical.z&&(v+=" => "+n.overscaledZ),function(e,t){e.initDebugOverlayCanvas();var r=e.debugOverlayCanvas,n=e.context.gl,i=e.debugOverlayCanvas.getContext("2d");i.clearRect(0,0,r.width,r.height),i.shadowColor="white",i.shadowBlur=2,i.lineWidth=1.5,i.strokeStyle="white",i.textBaseline="top",i.font="bold 36px Open Sans, sans-serif",i.fillText(t,5,5),i.strokeText(t,5,5),e.debugOverlayTexture.update(r),e.debugOverlayTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)}(t,v+" "+p+"kb"),s.draw(i,a.TRIANGLES,l,u,Ce.alphaBlended,Ae.disabled,Ir(o,e.Color.transparent,d),"$debug",t.debugBuffer,t.quadTriangleIndexBuffer,t.debugSegments)}var gn={symbol:function(t,r,n,i,a){if("translucent"===t.renderPass){var o=Ee.disabled,s=t.colorModeForRenderPass();n.layout.get("text-variable-anchor")&&function(t,r,n,i,a,o,s){for(var l=r.transform,u="map"===a,c="map"===o,f=0,p=t;f<p.length;f+=1){var h=p[f],d=i.getTile(h),v=d.getBucket(n);if(v&&v.text&&v.text.segments.get().length){var m=e.evaluateSizeForZoom(v.textSizeData,l.zoom),y=pt(d,1,r.transform.zoom),g=$e(h.posMatrix,c,u,r.transform,y),_="none"!==n.layout.get("icon-text-fit")&&v.hasIconData();if(m){var b=Math.pow(2,l.zoom-d.tileID.overscaledZ);Qr(v,u,c,s,e.symbolSize,l,g,h.posMatrix,b,m,_)}}}}(i,t,n,r,n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),a),0!==n.paint.get("icon-opacity").constantOr(1)&&tn(t,r,n,i,!1,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),n.layout.get("icon-rotation-alignment"),n.layout.get("icon-pitch-alignment"),n.layout.get("icon-keep-upright"),o,s),0!==n.paint.get("text-opacity").constantOr(1)&&tn(t,r,n,i,!0,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),n.layout.get("text-keep-upright"),o,s),r.map.showCollisionBoxes&&(Kr(t,r,n,i,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),!0),Kr(t,r,n,i,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),!1))}},circle:function(t,r,n,i){if("translucent"===t.renderPass){var a=n.paint.get("circle-opacity"),o=n.paint.get("circle-stroke-width"),s=n.paint.get("circle-stroke-opacity"),l=void 0!==n.layout.get("circle-sort-key").constantOr(1);if(0!==a.constantOr(1)||0!==o.constantOr(1)&&0!==s.constantOr(1)){for(var u=t.context,c=u.gl,f=t.depthModeForSublayer(0,ke.ReadOnly),p=Ee.disabled,h=t.colorModeForRenderPass(),d=[],v=0;v<i.length;v++){var m=i[v],y=r.getTile(m),g=y.getBucket(n);if(g){var _=g.programConfigurations.get(n.id),b={programConfiguration:_,program:t.useProgram("circle",_),layoutVertexBuffer:g.layoutVertexBuffer,indexBuffer:g.indexBuffer,uniformValues:Tr(t,m,y,n)};if(l)for(var x=0,w=g.segments.get();x<w.length;x+=1){var S=w[x];d.push({segments:new e.SegmentVector([S]),sortKey:S.sortKey,state:b})}else d.push({segments:g.segments,sortKey:0,state:b})}}l&&d.sort((function(e,t){return e.sortKey-t.sortKey}));for(var P=0,k=d;P<k.length;P+=1){var E=k[P],C=E.state;C.program.draw(u,c.TRIANGLES,f,p,h,Ae.disabled,C.uniformValues,n.id,C.layoutVertexBuffer,C.indexBuffer,E.segments,n.paint,t.transform.zoom,C.programConfiguration)}}}},heatmap:function(t,r,n,i){if(0!==n.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){var a=t.context,o=a.gl,s=Ee.disabled,l=new Ce([o.ONE,o.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,r){var n=e.gl;e.activeTexture.set(n.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);var i=r.heatmapFbo;if(i)n.bindTexture(n.TEXTURE_2D,i.colorAttachment.get()),e.bindFramebuffer.set(i.framebuffer);else{var a=n.createTexture();n.bindTexture(n.TEXTURE_2D,a),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),i=r.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4,!1),function(e,t,r,n){var i=e.gl;i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t.width/4,t.height/4,0,i.RGBA,e.extRenderToTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:i.UNSIGNED_BYTE,null),n.colorAttachment.set(r)}(e,t,a,i)}}(a,t,n),a.clear({color:e.Color.transparent});for(var u=0;u<i.length;u++){var c=i[u];if(!r.hasRenderableParent(c)){var f=r.getTile(c),p=f.getBucket(n);if(p){var h=p.programConfigurations.get(n.id);t.useProgram("heatmap",h).draw(a,o.TRIANGLES,ke.disabled,s,l,Ae.disabled,Rr(c.posMatrix,f,t.transform.zoom,n.paint.get("heatmap-intensity")),n.id,p.layoutVertexBuffer,p.indexBuffer,p.segments,n.paint,t.transform.zoom,h)}}}a.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,r){var n=t.context,i=n.gl,a=r.heatmapFbo;if(a){n.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,a.colorAttachment.get()),n.activeTexture.set(i.TEXTURE1);var o=r.colorRampTexture;o||(o=r.colorRampTexture=new e.Texture(n,r.colorRamp,i.RGBA)),o.bind(i.LINEAR,i.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(n,i.TRIANGLES,ke.disabled,Ee.disabled,t.colorModeForRenderPass(),Ae.disabled,function(t,r,n,i){var a=e.create();e.ortho(a,0,t.width,t.height,0,0,1);var o=t.context.gl;return{u_matrix:a,u_world:[o.drawingBufferWidth,o.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:r.paint.get("heatmap-opacity")}}(t,r),r.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,r.paint,t.transform.zoom)}}(t,n))},line:function(t,r,n,i){if("translucent"===t.renderPass){var a=n.paint.get("line-opacity"),o=n.paint.get("line-width");if(0!==a.constantOr(1)&&0!==o.constantOr(1))for(var s=t.depthModeForSublayer(0,ke.ReadOnly),l=t.colorModeForRenderPass(),u=n.paint.get("line-dasharray"),c=n.paint.get("line-pattern"),f=c.constantOr(1),p=n.paint.get("line-gradient"),h=n.getCrossfadeParameters(),d=f?"linePattern":u?"lineSDF":p?"lineGradient":"line",v=t.context,m=v.gl,y=!0,g=0,_=i;g<_.length;g+=1){var b=_[g],x=r.getTile(b);if(!f||x.patternsLoaded()){var w=x.getBucket(n);if(w){var S=w.programConfigurations.get(n.id),P=t.context.program.get(),k=t.useProgram(d,S),E=y||k.program!==P,C=c.constantOr(null);if(C&&x.imageAtlas){var A=x.imageAtlas,T=A.patternPositions[C.to.toString()],O=A.patternPositions[C.from.toString()];T&&O&&S.setConstantPatternPositions(T,O)}var M=f?Lr(t,x,n,h):u?Nr(t,x,n,u,h):p?jr(t,x,n,w.lineClipsArray.length):Dr(t,x,n);if(f)v.activeTexture.set(m.TEXTURE0),x.imageAtlasTexture.bind(m.LINEAR,m.CLAMP_TO_EDGE),S.updatePaintBuffers(h);else if(u&&(E||t.lineAtlas.dirty))v.activeTexture.set(m.TEXTURE0),t.lineAtlas.bind(v);else if(p){var I=w.gradients[n.id],F=I.texture;if(n.gradientVersion!==I.version){var R=256;if(n.stepInterpolant){var D=r.getSource().maxzoom,j=b.canonical.z===D?Math.ceil(1<<t.transform.maxZoom-b.canonical.z):1;R=e.clamp(e.nextPowerOfTwo(w.maxLineLength/e.EXTENT*1024*j),256,v.maxTextureSize)}I.gradient=e.renderColorRamp({expression:n.gradientExpression(),evaluationKey:"lineProgress",resolution:R,image:I.gradient||void 0,clips:w.lineClipsArray}),I.texture?I.texture.update(I.gradient):I.texture=new e.Texture(v,I.gradient,m.RGBA),I.version=n.gradientVersion,F=I.texture}v.activeTexture.set(m.TEXTURE0),F.bind(n.stepInterpolant?m.NEAREST:m.LINEAR,m.CLAMP_TO_EDGE)}k.draw(v,m.TRIANGLES,s,t.stencilModeForClipping(b),l,Ae.disabled,M,n.id,w.layoutVertexBuffer,w.indexBuffer,w.segments,n.paint,t.transform.zoom,S,w.layoutVertexBuffer2),y=!1}}}}},fill:function(t,r,n,i){var a=n.paint.get("fill-color"),o=n.paint.get("fill-opacity");if(0!==o.constantOr(1)){var s=t.colorModeForRenderPass(),l=n.paint.get("fill-pattern"),u=t.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===a.constantOr(e.Color.transparent).a&&1===o.constantOr(0)?"opaque":"translucent";if(t.renderPass===u){var c=t.depthModeForSublayer(1,"opaque"===t.renderPass?ke.ReadWrite:ke.ReadOnly);nn(t,r,n,i,c,s,!1)}if("translucent"===t.renderPass&&n.paint.get("fill-antialias")){var f=t.depthModeForSublayer(n.getPaintProperty("fill-outline-color")?2:0,ke.ReadOnly);nn(t,r,n,i,f,s,!0)}}},"fill-extrusion":function(e,t,r,n){var i=r.paint.get("fill-extrusion-opacity");if(0!==i&&"translucent"===e.renderPass){var a=new ke(e.context.gl.LEQUAL,ke.ReadWrite,e.depthRangeFor3D);if(1!==i||r.paint.get("fill-extrusion-pattern").constantOr(1))an(e,t,r,n,a,Ee.disabled,Ce.disabled),an(e,t,r,n,a,e.stencilModeFor3D(),e.colorModeForRenderPass());else{var o=e.colorModeForRenderPass();an(e,t,r,n,a,Ee.disabled,o)}}},hillshade:function(e,t,r,n){if("offscreen"===e.renderPass||"translucent"===e.renderPass){for(var i=e.context,a=e.depthModeForSublayer(0,ke.ReadOnly),o=e.colorModeForRenderPass(),s="translucent"===e.renderPass?e.stencilConfigForOverlap(n):[{},n],l=s[0],u=0,c=s[1];u<c.length;u+=1){var f=c[u],p=t.getTile(f);p.needsHillshadePrepare&&"offscreen"===e.renderPass?sn(e,p,r,a,Ee.disabled,o):"translucent"===e.renderPass&&on(e,p,r,a,l[f.overscaledZ],o)}i.viewport.set([0,0,e.width,e.height])}},raster:function(e,t,r,n){if("translucent"===e.renderPass&&0!==r.paint.get("raster-opacity")&&n.length)for(var i=e.context,a=i.gl,o=t.getSource(),s=e.useProgram("raster"),l=e.colorModeForRenderPass(),u=o instanceof I?[{},n]:e.stencilConfigForOverlap(n),c=u[0],f=u[1],p=f[f.length-1].overscaledZ,h=!e.options.moving,d=0,v=f;d<v.length;d+=1){var m=v[d],y=e.depthModeForSublayer(m.overscaledZ-p,1===r.paint.get("raster-opacity")?ke.ReadWrite:ke.ReadOnly,a.LESS),g=t.getTile(m),_=e.transform.calculatePosMatrix(m.toUnwrapped(),h);g.registerFadeDuration(r.paint.get("raster-fade-duration"));var b=t.findLoadedParent(m,0),x=ln(g,b,t,r,e.transform),w=void 0,S=void 0,P="nearest"===r.paint.get("raster-resampling")?a.NEAREST:a.LINEAR;i.activeTexture.set(a.TEXTURE0),g.texture.bind(P,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),i.activeTexture.set(a.TEXTURE1),b?(b.texture.bind(P,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),w=Math.pow(2,b.tileID.overscaledZ-g.tileID.overscaledZ),S=[g.tileID.canonical.x*w%1,g.tileID.canonical.y*w%1]):g.texture.bind(P,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST);var k=Zr(_,S||[0,0],w||1,x,r);o instanceof I?s.draw(i,a.TRIANGLES,y,Ee.disabled,l,Ae.disabled,k,r.id,o.boundsBuffer,e.quadTriangleIndexBuffer,o.boundsSegments):s.draw(i,a.TRIANGLES,y,c[m.overscaledZ],l,Ae.disabled,k,r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}},background:function(e,t,r){var n=r.paint.get("background-color"),i=r.paint.get("background-opacity");if(0!==i){var a=e.context,o=a.gl,s=e.transform,l=s.tileSize,u=r.paint.get("background-pattern");if(!e.isPatternMissing(u)){var c=!u&&1===n.a&&1===i&&e.opaquePassEnabledForLayer()?"opaque":"translucent";if(e.renderPass===c){var f=Ee.disabled,p=e.depthModeForSublayer(0,"opaque"===c?ke.ReadWrite:ke.ReadOnly),h=e.colorModeForRenderPass(),d=e.useProgram(u?"backgroundPattern":"background"),v=s.coveringTiles({tileSize:l});u&&(a.activeTexture.set(o.TEXTURE0),e.imageManager.bind(e.context));for(var m=r.getCrossfadeParameters(),y=0,g=v;y<g.length;y+=1){var _=g[y],b=e.transform.calculatePosMatrix(_.toUnwrapped()),x=u?Yr(b,i,e,u,{tileID:_,tileSize:l},m):Hr(b,i,n);d.draw(a,o.TRIANGLES,p,f,h,Ae.disabled,x,r.id,e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments)}}}}},debug:function(e,t,r){for(var n=0;n<r.length;n++)yn(e,t,r[n])},custom:function(e,t,r){var n=e.context,i=r.implementation;if("offscreen"===e.renderPass){var a=i.prerender;a&&(e.setCustomLayerDefaults(),n.setColorMode(e.colorModeForRenderPass()),a.call(i,n.gl,e.transform.customLayerMatrix()),n.setDirty(),e.setBaseState())}else if("translucent"===e.renderPass){e.setCustomLayerDefaults(),n.setColorMode(e.colorModeForRenderPass()),n.setStencilMode(Ee.disabled);var o="3d"===i.renderingMode?new ke(e.context.gl.LEQUAL,ke.ReadWrite,e.depthRangeFor3D):e.depthModeForSublayer(0,ke.ReadOnly);n.setDepthMode(o),i.render(n.gl,e.transform.customLayerMatrix()),n.setDirty(),e.setBaseState(),n.bindFramebuffer.set(null)}}},_n=function(e,t){this.context=new Te(e),this.transform=t,this._tileTextures={},this.setup(),this.numSublayers=Oe.maxUnderzooming+Oe.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Nt,this.gpuTimers={}};_n.prototype.resize=function(t,r){if(this.width=t*e.browser.devicePixelRatio,this.height=r*e.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var n=0,i=this.style._order;n<i.length;n+=1)this.style._layers[i[n]].resize()},_n.prototype.setup=function(){var t=this.context,r=new e.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(e.EXTENT,0),r.emplaceBack(0,e.EXTENT),r.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(r,Gt.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);var n=new e.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(n,Gt.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);var i=new e.StructArrayLayout4i8;i.emplaceBack(0,0,0,0),i.emplaceBack(e.EXTENT,0,e.EXTENT,0),i.emplaceBack(0,e.EXTENT,0,e.EXTENT),i.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.rasterBoundsBuffer=t.createVertexBuffer(i,M.members),this.rasterBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);var a=new e.StructArrayLayout2i4;a.emplaceBack(0,0),a.emplaceBack(1,0),a.emplaceBack(0,1),a.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(a,Gt.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);var o=new e.StructArrayLayout1ui2;o.emplaceBack(0),o.emplaceBack(1),o.emplaceBack(3),o.emplaceBack(2),o.emplaceBack(0),this.tileBorderIndexBuffer=t.createIndexBuffer(o);var s=new e.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(s),this.emptyTexture=new e.Texture(t,{width:1,height:1,data:new Uint8Array([0,0,0,0])},t.gl.RGBA);var l=this.context.gl;this.stencilClearMode=new Ee({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO)},_n.prototype.clearStencil=function(){var t=this.context,r=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var n=e.create();e.ortho(n,0,this.width,this.height,0,0,1),e.scale(n,n,[r.drawingBufferWidth,r.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(t,r.TRIANGLES,ke.disabled,this.stencilClearMode,Ce.disabled,Ae.disabled,Fr(n),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},_n.prototype._renderTileClippingMasks=function(e,t){if(this.currentStencilSource!==e.source&&e.isTileClipped()&&t&&t.length){this.currentStencilSource=e.source;var r=this.context,n=r.gl;this.nextStencilID+t.length>256&&this.clearStencil(),r.setColorMode(Ce.disabled),r.setDepthMode(ke.disabled);var i=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var a=0,o=t;a<o.length;a+=1){var s=o[a],l=this._tileClippingMaskIDs[s.key]=this.nextStencilID++;i.draw(r,n.TRIANGLES,ke.disabled,new Ee({func:n.ALWAYS,mask:0},l,255,n.KEEP,n.KEEP,n.REPLACE),Ce.disabled,Ae.disabled,Fr(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},_n.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var e=this.nextStencilID++,t=this.context.gl;return new Ee({func:t.NOTEQUAL,mask:255},e,255,t.KEEP,t.KEEP,t.REPLACE)},_n.prototype.stencilModeForClipping=function(e){var t=this.context.gl;return new Ee({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)},_n.prototype.stencilConfigForOverlap=function(e){var t,r=this.context.gl,n=e.sort((function(e,t){return t.overscaledZ-e.overscaledZ})),i=n[n.length-1].overscaledZ,a=n[0].overscaledZ-i+1;if(a>1){this.currentStencilSource=void 0,this.nextStencilID+a>256&&this.clearStencil();for(var o={},s=0;s<a;s++)o[s+i]=new Ee({func:r.GEQUAL,mask:255},s+this.nextStencilID,255,r.KEEP,r.KEEP,r.REPLACE);return this.nextStencilID+=a,[o,n]}return[(t={},t[i]=Ee.disabled,t),n]},_n.prototype.colorModeForRenderPass=function(){var t=this.context.gl;return this._showOverdrawInspector?new Ce([t.CONSTANT_COLOR,t.ONE],new e.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?Ce.unblended:Ce.alphaBlended},_n.prototype.depthModeForSublayer=function(e,t,r){if(!this.opaquePassEnabledForLayer())return ke.disabled;var n=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new ke(r||this.context.gl.LEQUAL,t,[n,n])},_n.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},_n.prototype.render=function(t,r){var n=this;this.style=t,this.options=r,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.browser.now()),this.imageManager.beginFrame();var i=this.style._order,a=this.style.sourceCaches;for(var o in a){var s=a[o];s.used&&s.prepare(this.context)}var l,u,c={},f={},p={};for(var h in a){var d=a[h];c[h]=d.getVisibleCoordinates(),f[h]=c[h].slice().reverse(),p[h]=d.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var v=0;v<i.length;v++)if(this.style._layers[i[v]].is3D()){this.opaquePassCutoff=v;break}this.renderPass="offscreen";for(var m=0,y=i;m<y.length;m+=1){var g=this.style._layers[y[m]];if(g.hasOffscreenPass()&&!g.isHidden(this.transform.zoom)){var _=f[g.source];("custom"===g.type||_.length)&&this.renderLayer(this,a[g.source],g,_)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:r.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=r.showOverdrawInspector,this.depthRangeFor3D=[0,1-(t._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=i.length-1;this.currentLayer>=0;this.currentLayer--){var b=this.style._layers[i[this.currentLayer]],x=a[b.source],w=c[b.source];this._renderTileClippingMasks(b,w),this.renderLayer(this,x,b,w)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<i.length;this.currentLayer++){var S=this.style._layers[i[this.currentLayer]],P=a[S.source],k=("symbol"===S.type?p:f)[S.source];this._renderTileClippingMasks(S,c[S.source]),this.renderLayer(this,P,S,k)}this.options.showTileBoundaries&&(e.values(this.style._layers).forEach((function(e){e.source&&!e.isHidden(n.transform.zoom)&&(e.source!==(u&&u.id)&&(u=n.style.sourceCaches[e.source]),(!l||l.getSource().maxzoom<u.getSource().maxzoom)&&(l=u))})),l&&gn.debug(this,l,l.getVisibleCoordinates())),this.options.showPadding&&function(e){var t=e.transform.padding;dn(e,e.transform.height-(t.top||0),3,un),dn(e,t.bottom||0,3,cn),vn(e,t.left||0,3,fn),vn(e,e.transform.width-(t.right||0),3,pn);var r=e.transform.centerPoint;!function(e,t,r,n){mn(e,t-1,r-10,2,20,n),mn(e,t-10,r-1,20,2,n)}(e,r.x,e.transform.height-r.y,hn)}(this),this.context.setDefault()},_n.prototype.renderLayer=function(e,t,r,n){r.isHidden(this.transform.zoom)||("background"===r.type||"custom"===r.type||n.length)&&(this.id=r.id,this.gpuTimingStart(r),gn[r.type](e,t,r,n,this.style.placement.variableOffsets),this.gpuTimingEnd())},_n.prototype.gpuTimingStart=function(e){if(this.options.gpuTiming){var t=this.context.extTimerQuery,r=this.gpuTimers[e.id];r||(r=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),r.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,r.query)}},_n.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}},_n.prototype.collectGpuTimers=function(){var e=this.gpuTimers;return this.gpuTimers={},e},_n.prototype.queryGpuTimers=function(e){var t={};for(var r in e){var n=e[r],i=this.context.extTimerQuery,a=i.getQueryObjectEXT(n.query,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(n.query),t[r]=a}return t},_n.prototype.translatePosMatrix=function(t,r,n,i,a){if(!n[0]&&!n[1])return t;var o=a?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(o){var s=Math.sin(o),l=Math.cos(o);n=[n[0]*l-n[1]*s,n[0]*s+n[1]*l]}var u=[a?n[0]:pt(r,n[0],this.transform.zoom),a?n[1]:pt(r,n[1],this.transform.zoom),0],c=new Float32Array(16);return e.translate(c,t,u),c},_n.prototype.saveTileTexture=function(e){var t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]},_n.prototype.getTileTexture=function(e){var t=this._tileTextures[e];return t&&t.length>0?t.pop():null},_n.prototype.isPatternMissing=function(e){if(!e)return!1;if(!e.from||!e.to)return!0;var t=this.imageManager.getPattern(e.from.toString()),r=this.imageManager.getPattern(e.to.toString());return!t||!r},_n.prototype.useProgram=function(e,t){this.cache=this.cache||{};var r=""+e+(t?t.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[r]||(this.cache[r]=new xr(this.context,e,gr[e],t,Xr[e],this._showOverdrawInspector)),this.cache[r]},_n.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},_n.prototype.setBaseState=function(){var e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)},_n.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=e.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new e.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},_n.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var bn=function(e,t){this.points=e,this.planes=t};bn.fromInvProjectionMatrix=function(t,r,n){var i=Math.pow(2,n),a=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((function(r){return e.transformMat4([],r,t)})).map((function(t){return e.scale$1([],t,1/t[3]/r*i)})),o=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((function(t){var r=e.sub([],a[t[0]],a[t[1]]),n=e.sub([],a[t[2]],a[t[1]]),i=e.normalize([],e.cross([],r,n)),o=-e.dot(i,a[t[1]]);return i.concat(o)}));return new bn(a,o)};var xn=function(t,r){this.min=t,this.max=r,this.center=e.scale$2([],e.add([],this.min,this.max),.5)};xn.prototype.quadrant=function(t){for(var r=[t%2==0,t<2],n=e.clone$2(this.min),i=e.clone$2(this.max),a=0;a<r.length;a++)n[a]=r[a]?this.min[a]:this.center[a],i[a]=r[a]?this.center[a]:this.max[a];return i[2]=this.max[2],new xn(n,i)},xn.prototype.distanceX=function(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]},xn.prototype.distanceY=function(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]},xn.prototype.intersects=function(t){for(var r=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],n=!0,i=0;i<t.planes.length;i++){for(var a=t.planes[i],o=0,s=0;s<r.length;s++)o+=e.dot$1(a,r[s])>=0;if(0===o)return 0;o!==r.length&&(n=!1)}if(n)return 2;for(var l=0;l<3;l++){for(var u=Number.MAX_VALUE,c=-Number.MAX_VALUE,f=0;f<t.points.length;f++){var p=t.points[f][l]-this.min[l];u=Math.min(u,p),c=Math.max(c,p)}if(c<0||u>this.max[l]-this.min[l])return 0}return 1};var wn=function(e,t,r,n){if(void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),void 0===n&&(n=0),isNaN(e)||e<0||isNaN(t)||t<0||isNaN(r)||r<0||isNaN(n)||n<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=t,this.left=r,this.right=n};wn.prototype.interpolate=function(t,r,n){return null!=r.top&&null!=t.top&&(this.top=e.number(t.top,r.top,n)),null!=r.bottom&&null!=t.bottom&&(this.bottom=e.number(t.bottom,r.bottom,n)),null!=r.left&&null!=t.left&&(this.left=e.number(t.left,r.left,n)),null!=r.right&&null!=t.right&&(this.right=e.number(t.right,r.right,n)),this},wn.prototype.getCenter=function(t,r){var n=e.clamp((this.left+t-this.right)/2,0,t),i=e.clamp((this.top+r-this.bottom)/2,0,r);return new e.Point(n,i)},wn.prototype.equals=function(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right},wn.prototype.clone=function(){return new wn(this.top,this.bottom,this.left,this.right)},wn.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Sn=function(t,r,n,i,a){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===a||a,this._minZoom=t||0,this._maxZoom=r||22,this._minPitch=null==n?0:n,this._maxPitch=null==i?60:i,this.setMaxBounds(),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new wn,this._posMatrixCache={},this._alignedPosMatrixCache={}},Pn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Sn.prototype.clone=function(){var e=new Sn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return e.tileSize=this.tileSize,e.latRange=this.latRange,e.width=this.width,e.height=this.height,e._center=this._center,e.zoom=this.zoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._calcMatrices(),e},Pn.minZoom.get=function(){return this._minZoom},Pn.minZoom.set=function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))},Pn.maxZoom.get=function(){return this._maxZoom},Pn.maxZoom.set=function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))},Pn.minPitch.get=function(){return this._minPitch},Pn.minPitch.set=function(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))},Pn.maxPitch.get=function(){return this._maxPitch},Pn.maxPitch.set=function(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))},Pn.renderWorldCopies.get=function(){return this._renderWorldCopies},Pn.renderWorldCopies.set=function(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e},Pn.worldSize.get=function(){return this.tileSize*this.scale},Pn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Pn.size.get=function(){return new e.Point(this.width,this.height)},Pn.bearing.get=function(){return-this.angle/Math.PI*180},Pn.bearing.set=function(t){var r=-e.wrap(t,-180,180)*Math.PI/180;this.angle!==r&&(this._unmodified=!1,this.angle=r,this._calcMatrices(),this.rotationMatrix=e.create$2(),e.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Pn.pitch.get=function(){return this._pitch/Math.PI*180},Pn.pitch.set=function(t){var r=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==r&&(this._unmodified=!1,this._pitch=r,this._calcMatrices())},Pn.fov.get=function(){return this._fov/Math.PI*180},Pn.fov.set=function(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())},Pn.zoom.get=function(){return this._zoom},Pn.zoom.set=function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this._constrain(),this._calcMatrices())},Pn.center.get=function(){return this._center},Pn.center.set=function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())},Pn.padding.get=function(){return this._edgeInsets.toJSON()},Pn.padding.set=function(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())},Pn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Sn.prototype.isPaddingEqual=function(e){return this._edgeInsets.equals(e)},Sn.prototype.interpolatePadding=function(e,t,r){this._unmodified=!1,this._edgeInsets.interpolate(e,t,r),this._constrain(),this._calcMatrices()},Sn.prototype.coveringZoomLevel=function(e){var t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)},Sn.prototype.getVisibleUnwrappedCoordinates=function(t){var r=[new e.UnwrappedTileID(0,t)];if(this._renderWorldCopies)for(var n=this.pointCoordinate(new e.Point(0,0)),i=this.pointCoordinate(new e.Point(this.width,0)),a=this.pointCoordinate(new e.Point(this.width,this.height)),o=this.pointCoordinate(new e.Point(0,this.height)),s=Math.floor(Math.min(n.x,i.x,a.x,o.x)),l=Math.floor(Math.max(n.x,i.x,a.x,o.x)),u=s-1;u<=l+1;u++)0!==u&&r.push(new e.UnwrappedTileID(u,t));return r},Sn.prototype.coveringTiles=function(t){var r=this.coveringZoomLevel(t),n=r;if(void 0!==t.minzoom&&r<t.minzoom)return[];void 0!==t.maxzoom&&r>t.maxzoom&&(r=t.maxzoom);var i=e.MercatorCoordinate.fromLngLat(this.center),a=Math.pow(2,r),o=[a*i.x,a*i.y,0],s=bn.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,r),l=t.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(l=r);var u=function(e){return{aabb:new xn([e*a,0,0],[(e+1)*a,a,0]),zoom:0,x:0,y:0,wrap:e,fullyVisible:!1}},c=[],f=[],p=r,h=t.reparseOverscaled?n:r;if(this._renderWorldCopies)for(var d=1;d<=3;d++)c.push(u(-d)),c.push(u(d));for(c.push(u(0));c.length>0;){var v=c.pop(),m=v.x,y=v.y,g=v.fullyVisible;if(!g){var _=v.aabb.intersects(s);if(0===_)continue;g=2===_}var b=v.aabb.distanceX(o),x=v.aabb.distanceY(o),w=Math.max(Math.abs(b),Math.abs(x));if(v.zoom===p||w>3+(1<<p-v.zoom)-2&&v.zoom>=l)f.push({tileID:new e.OverscaledTileID(v.zoom===p?h:v.zoom,v.wrap,v.zoom,m,y),distanceSq:e.sqrLen([o[0]-.5-m,o[1]-.5-y])});else for(var S=0;S<4;S++){var P=(m<<1)+S%2,k=(y<<1)+(S>>1);c.push({aabb:v.aabb.quadrant(S),zoom:v.zoom+1,x:P,y:k,wrap:v.wrap,fullyVisible:g})}}return f.sort((function(e,t){return e.distanceSq-t.distanceSq})).map((function(e){return e.tileID}))},Sn.prototype.resize=function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()},Pn.unmodified.get=function(){return this._unmodified},Sn.prototype.zoomScale=function(e){return Math.pow(2,e)},Sn.prototype.scaleZoom=function(e){return Math.log(e)/Math.LN2},Sn.prototype.project=function(t){var r=e.clamp(t.lat,-this.maxValidLatitude,this.maxValidLatitude);return new e.Point(e.mercatorXfromLng(t.lng)*this.worldSize,e.mercatorYfromLat(r)*this.worldSize)},Sn.prototype.unproject=function(t){return new e.MercatorCoordinate(t.x/this.worldSize,t.y/this.worldSize).toLngLat()},Pn.point.get=function(){return this.project(this.center)},Sn.prototype.setLocationAtPoint=function(t,r){var n=this.pointCoordinate(r),i=this.pointCoordinate(this.centerPoint),a=this.locationCoordinate(t),o=new e.MercatorCoordinate(a.x-(n.x-i.x),a.y-(n.y-i.y));this.center=this.coordinateLocation(o),this._renderWorldCopies&&(this.center=this.center.wrap())},Sn.prototype.locationPoint=function(e){return this.coordinatePoint(this.locationCoordinate(e))},Sn.prototype.pointLocation=function(e){return this.coordinateLocation(this.pointCoordinate(e))},Sn.prototype.locationCoordinate=function(t){return e.MercatorCoordinate.fromLngLat(t)},Sn.prototype.coordinateLocation=function(e){return e.toLngLat()},Sn.prototype.pointCoordinate=function(t){var r=[t.x,t.y,0,1],n=[t.x,t.y,1,1];e.transformMat4(r,r,this.pixelMatrixInverse),e.transformMat4(n,n,this.pixelMatrixInverse);var i=r[3],a=n[3],o=r[1]/i,s=n[1]/a,l=r[2]/i,u=n[2]/a,c=l===u?0:(0-l)/(u-l);return new e.MercatorCoordinate(e.number(r[0]/i,n[0]/a,c)/this.worldSize,e.number(o,s,c)/this.worldSize)},Sn.prototype.coordinatePoint=function(t){var r=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(r,r,this.pixelMatrix),new e.Point(r[0]/r[3],r[1]/r[3])},Sn.prototype.getBounds=function(){return(new e.LngLatBounds).extend(this.pointLocation(new e.Point(0,0))).extend(this.pointLocation(new e.Point(this.width,0))).extend(this.pointLocation(new e.Point(this.width,this.height))).extend(this.pointLocation(new e.Point(0,this.height)))},Sn.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new e.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Sn.prototype.setMaxBounds=function(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Sn.prototype.calculatePosMatrix=function(t,r){void 0===r&&(r=!1);var n=t.key,i=r?this._alignedPosMatrixCache:this._posMatrixCache;if(i[n])return i[n];var a=t.canonical,o=this.worldSize/this.zoomScale(a.z),s=a.x+Math.pow(2,a.z)*t.wrap,l=e.identity(new Float64Array(16));return e.translate(l,l,[s*o,a.y*o,0]),e.scale(l,l,[o/e.EXTENT,o/e.EXTENT,1]),e.multiply(l,r?this.alignedProjMatrix:this.projMatrix,l),i[n]=new Float32Array(l),i[n]},Sn.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Sn.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,r,n,i,a=-90,o=90,s=-180,l=180,u=this.size,c=this._unmodified;if(this.latRange){var f=this.latRange;a=e.mercatorYfromLat(f[1])*this.worldSize,t=(o=e.mercatorYfromLat(f[0])*this.worldSize)-a<u.y?u.y/(o-a):0}if(this.lngRange){var p=this.lngRange;s=e.mercatorXfromLng(p[0])*this.worldSize,r=(l=e.mercatorXfromLng(p[1])*this.worldSize)-s<u.x?u.x/(l-s):0}var h=this.point,d=Math.max(r||0,t||0);if(d)return this.center=this.unproject(new e.Point(r?(l+s)/2:h.x,t?(o+a)/2:h.y)),this.zoom+=this.scaleZoom(d),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var v=h.y,m=u.y/2;v-m<a&&(i=a+m),v+m>o&&(i=o-m)}if(this.lngRange){var y=h.x,g=u.x/2;y-g<s&&(n=s+g),y+g>l&&(n=l-g)}void 0===n&&void 0===i||(this.center=this.unproject(new e.Point(void 0!==n?n:h.x,void 0!==i?i:h.y))),this._unmodified=c,this._constraining=!1}},Sn.prototype._calcMatrices=function(){if(this.height){var t=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var r=Math.PI/2+this._pitch,n=this._fov*(.5+t.y/this.height),i=Math.sin(n)*this.cameraToCenterDistance/Math.sin(e.clamp(Math.PI-r-n,.01,Math.PI-.01)),a=this.point,o=a.x,s=a.y,l=1.01*(Math.cos(Math.PI/2-this._pitch)*i+this.cameraToCenterDistance),u=this.height/50,c=new Float64Array(16);e.perspective(c,this._fov,this.width/this.height,u,l),c[8]=2*-t.x/this.width,c[9]=2*t.y/this.height,e.scale(c,c,[1,-1,1]),e.translate(c,c,[0,0,-this.cameraToCenterDistance]),e.rotateX(c,c,this._pitch),e.rotateZ(c,c,this.angle),e.translate(c,c,[-o,-s,0]),this.mercatorMatrix=e.scale([],c,[this.worldSize,this.worldSize,this.worldSize]),e.scale(c,c,[1,1,e.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=c,this.invProjMatrix=e.invert([],this.projMatrix);var f=this.width%2/2,p=this.height%2/2,h=Math.cos(this.angle),d=Math.sin(this.angle),v=o-Math.round(o)+h*f+d*p,m=s-Math.round(s)+h*p+d*f,y=new Float64Array(c);if(e.translate(y,y,[v>.5?v-1:v,m>.5?m-1:m,0]),this.alignedProjMatrix=y,c=e.create(),e.scale(c,c,[this.width/2,-this.height/2,1]),e.translate(c,c,[1,-1,0]),this.labelPlaneMatrix=c,c=e.create(),e.scale(c,c,[1,-1,1]),e.translate(c,c,[-1,-1,0]),e.scale(c,c,[2/this.width,2/this.height,1]),this.glCoordMatrix=c,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(c=e.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=c,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Sn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var t=this.pointCoordinate(new e.Point(0,0)),r=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(r,r,this.pixelMatrix)[3]/this.cameraToCenterDistance},Sn.prototype.getCameraPoint=function(){var t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.Point(0,t))},Sn.prototype.getCameraQueryGeometry=function(t){var r=this.getCameraPoint();if(1===t.length)return[t[0],r];for(var n=r.x,i=r.y,a=r.x,o=r.y,s=0,l=t;s<l.length;s+=1){var u=l[s];n=Math.min(n,u.x),i=Math.min(i,u.y),a=Math.max(a,u.x),o=Math.max(o,u.y)}return[new e.Point(n,i),new e.Point(a,i),new e.Point(a,o),new e.Point(n,o),new e.Point(n,i)]},Object.defineProperties(Sn.prototype,Pn);var kn=function(t){var r,n,i,a;this._hashName=t&&encodeURIComponent(t),e.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(r=this._updateHashUnthrottled.bind(this),n=!1,i=null,a=function(){i=null,n&&(r(),i=setTimeout(a,300),n=!1)},function(){return n=!0,i||a(),i})};kn.prototype.addTo=function(t){return this._map=t,e.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},kn.prototype.remove=function(){return e.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},kn.prototype.getHashString=function(t){var r=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,i=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),a=Math.pow(10,i),o=Math.round(r.lng*a)/a,s=Math.round(r.lat*a)/a,l=this._map.getBearing(),u=this._map.getPitch(),c="";if(c+=t?"/"+o+"/"+s+"/"+n:n+"/"+s+"/"+o,(l||u)&&(c+="/"+Math.round(10*l)/10),u&&(c+="/"+Math.round(u)),this._hashName){var f=this._hashName,p=!1,h=e.window.location.hash.slice(1).split("&").map((function(e){var t=e.split("=")[0];return t===f?(p=!0,t+"="+c):e})).filter((function(e){return e}));return p||h.push(f+"="+c),"#"+h.join("&")}return"#"+c},kn.prototype._getCurrentHash=function(){var t,r=this,n=e.window.location.hash.replace("#","");return this._hashName?(n.split("&").map((function(e){return e.split("=")})).forEach((function(e){e[0]===r._hashName&&(t=e)})),(t&&t[1]||"").split("/")):n.split("/")},kn.prototype._onHashChange=function(){var e=this._getCurrentHash();if(e.length>=3&&!e.some((function(e){return isNaN(e)}))){var t=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(e[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:t,pitch:+(e[4]||0)}),!0}return!1},kn.prototype._updateHashUnthrottled=function(){var t=e.window.location.href.replace(/(#.+)?$/,this.getHashString());try{e.window.history.replaceState(e.window.history.state,null,t)}catch(e){}};var En={linearity:.3,easing:e.bezier(0,0,.3,1)},Cn=e.extend({deceleration:2500,maxSpeed:1400},En),An=e.extend({deceleration:20,maxSpeed:1400},En),Tn=e.extend({deceleration:1e3,maxSpeed:360},En),On=e.extend({deceleration:1e3,maxSpeed:90},En),Mn=function(e){this._map=e,this.clear()};function In(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function Fn(t,r,n){var i=n.maxSpeed,a=n.linearity,o=n.deceleration,s=e.clamp(t*a/(r/1e3),-i,i),l=Math.abs(s)/(o*a);return{easing:n.easing,duration:1e3*l,amount:s*(l/2)}}Mn.prototype.clear=function(){this._inertiaBuffer=[]},Mn.prototype.record=function(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.browser.now(),settings:t})},Mn.prototype._drainInertiaBuffer=function(){for(var t=this._inertiaBuffer,r=e.browser.now();t.length>0&&r-t[0].time>160;)t.shift()},Mn.prototype._onMoveEnd=function(t){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var r={zoom:0,bearing:0,pitch:0,pan:new e.Point(0,0),pinchAround:void 0,around:void 0},n=0,i=this._inertiaBuffer;n<i.length;n+=1){var a=i[n].settings;r.zoom+=a.zoomDelta||0,r.bearing+=a.bearingDelta||0,r.pitch+=a.pitchDelta||0,a.panDelta&&r.pan._add(a.panDelta),a.around&&(r.around=a.around),a.pinchAround&&(r.pinchAround=a.pinchAround)}var o=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,s={};if(r.pan.mag()){var l=Fn(r.pan.mag(),o,e.extend({},Cn,t||{}));s.offset=r.pan.mult(l.amount/r.pan.mag()),s.center=this._map.transform.center,In(s,l)}if(r.zoom){var u=Fn(r.zoom,o,An);s.zoom=this._map.transform.zoom+u.amount,In(s,u)}if(r.bearing){var c=Fn(r.bearing,o,Tn);s.bearing=this._map.transform.bearing+e.clamp(c.amount,-179,179),In(s,c)}if(r.pitch){var f=Fn(r.pitch,o,On);s.pitch=this._map.transform.pitch+f.amount,In(s,f)}if(s.zoom||s.bearing){var p=void 0===r.pinchAround?r.around:r.pinchAround;s.around=p?this._map.unproject(p):this._map.getCenter()}return this.clear(),e.extend(s,{noMoveStart:!0})}};var Rn=function(t){function n(n,i,a,o){void 0===o&&(o={});var s=r.mousePos(i.getCanvasContainer(),a),l=i.unproject(s);t.call(this,n,e.extend({point:s,lngLat:l,originalEvent:a},o)),this._defaultPrevented=!1,this.target=i}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var i={defaultPrevented:{configurable:!0}};return n.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(n.prototype,i),n}(e.Event),Dn=function(t){function n(n,i,a){var o="touchend"===n?a.changedTouches:a.touches,s=r.touchPos(i.getCanvasContainer(),o),l=s.map((function(e){return i.unproject(e)})),u=s.reduce((function(e,t,r,n){return e.add(t.div(n.length))}),new e.Point(0,0)),c=i.unproject(u);t.call(this,n,{points:s,point:u,lngLats:l,lngLat:c,originalEvent:a}),this._defaultPrevented=!1}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var i={defaultPrevented:{configurable:!0}};return n.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(n.prototype,i),n}(e.Event),jn=function(e){function t(t,r,n){e.call(this,t,{originalEvent:n}),this._defaultPrevented=!1}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var r={defaultPrevented:{configurable:!0}};return t.prototype.preventDefault=function(){this._defaultPrevented=!0},r.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(t.prototype,r),t}(e.Event),Ln=function(e,t){this._map=e,this._clickTolerance=t.clickTolerance};Ln.prototype.reset=function(){delete this._mousedownPos},Ln.prototype.wheel=function(e){return this._firePreventable(new jn(e.type,this._map,e))},Ln.prototype.mousedown=function(e,t){return this._mousedownPos=t,this._firePreventable(new Rn(e.type,this._map,e))},Ln.prototype.mouseup=function(e){this._map.fire(new Rn(e.type,this._map,e))},Ln.prototype.click=function(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||this._map.fire(new Rn(e.type,this._map,e))},Ln.prototype.dblclick=function(e){return this._firePreventable(new Rn(e.type,this._map,e))},Ln.prototype.mouseover=function(e){this._map.fire(new Rn(e.type,this._map,e))},Ln.prototype.mouseout=function(e){this._map.fire(new Rn(e.type,this._map,e))},Ln.prototype.touchstart=function(e){return this._firePreventable(new Dn(e.type,this._map,e))},Ln.prototype.touchmove=function(e){this._map.fire(new Dn(e.type,this._map,e))},Ln.prototype.touchend=function(e){this._map.fire(new Dn(e.type,this._map,e))},Ln.prototype.touchcancel=function(e){this._map.fire(new Dn(e.type,this._map,e))},Ln.prototype._firePreventable=function(e){if(this._map.fire(e),e.defaultPrevented)return{}},Ln.prototype.isEnabled=function(){return!0},Ln.prototype.isActive=function(){return!1},Ln.prototype.enable=function(){},Ln.prototype.disable=function(){};var Nn=function(e){this._map=e};Nn.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Nn.prototype.mousemove=function(e){this._map.fire(new Rn(e.type,this._map,e))},Nn.prototype.mousedown=function(){this._delayContextMenu=!0},Nn.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Rn("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Nn.prototype.contextmenu=function(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new Rn(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()},Nn.prototype.isEnabled=function(){return!0},Nn.prototype.isActive=function(){return!1},Nn.prototype.enable=function(){},Nn.prototype.disable=function(){};var zn=function(e,t){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1};function Bn(e,t){for(var r={},n=0;n<e.length;n++)r[e[n].identifier]=t[n];return r}zn.prototype.isEnabled=function(){return!!this._enabled},zn.prototype.isActive=function(){return!!this._active},zn.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},zn.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},zn.prototype.mousedown=function(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(r.disableDrag(),this._startPos=this._lastPos=t,this._active=!0)},zn.prototype.mousemoveWindow=function(e,t){if(this._active){var n=t;if(!(this._lastPos.equals(n)||!this._box&&n.dist(this._startPos)<this._clickTolerance)){var i=this._startPos;this._lastPos=n,this._box||(this._box=r.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));var a=Math.min(i.x,n.x),o=Math.max(i.x,n.x),s=Math.min(i.y,n.y),l=Math.max(i.y,n.y);r.setTransform(this._box,"translate("+a+"px,"+s+"px)"),this._box.style.width=o-a+"px",this._box.style.height=l-s+"px"}}},zn.prototype.mouseupWindow=function(t,n){var i=this;if(this._active&&0===t.button){var a=this._startPos,o=n;if(this.reset(),r.suppressClick(),a.x!==o.x||a.y!==o.y)return this._map.fire(new e.Event("boxzoomend",{originalEvent:t})),{cameraAnimation:function(e){return e.fitScreenCoordinates(a,o,i._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",t)}},zn.prototype.keydown=function(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))},zn.prototype.blur=function(){this.reset()},zn.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(r.remove(this._box),this._box=null),r.enableDrag(),delete this._startPos,delete this._lastPos},zn.prototype._fireEvent=function(t,r){return this._map.fire(new e.Event(t,{originalEvent:r}))};var Zn=function(e){this.reset(),this.numTouches=e.numTouches};Zn.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Zn.prototype.touchstart=function(t,r,n){(this.centroid||n.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=t.timeStamp),n.length===this.numTouches&&(this.centroid=function(t){for(var r=new e.Point(0,0),n=0,i=t;n<i.length;n+=1)r._add(i[n]);return r.div(t.length)}(r),this.touches=Bn(n,r)))},Zn.prototype.touchmove=function(e,t,r){if(!this.aborted&&this.centroid){var n=Bn(r,t);for(var i in this.touches){var a=n[i];(!a||a.dist(this.touches[i])>30)&&(this.aborted=!0)}}},Zn.prototype.touchend=function(e,t,r){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===r.length){var n=!this.aborted&&this.centroid;if(this.reset(),n)return n}};var Un=function(e){this.singleTap=new Zn(e),this.numTaps=e.numTaps,this.reset()};Un.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Un.prototype.touchstart=function(e,t,r){this.singleTap.touchstart(e,t,r)},Un.prototype.touchmove=function(e,t,r){this.singleTap.touchmove(e,t,r)},Un.prototype.touchend=function(e,t,r){var n=this.singleTap.touchend(e,t,r);if(n){var i=e.timeStamp-this.lastTime<500,a=!this.lastTap||this.lastTap.dist(n)<30;if(i&&a||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=n,this.count===this.numTaps)return this.reset(),n}};var Vn=function(){this._zoomIn=new Un({numTouches:1,numTaps:2}),this._zoomOut=new Un({numTouches:2,numTaps:1}),this.reset()};Vn.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Vn.prototype.touchstart=function(e,t,r){this._zoomIn.touchstart(e,t,r),this._zoomOut.touchstart(e,t,r)},Vn.prototype.touchmove=function(e,t,r){this._zoomIn.touchmove(e,t,r),this._zoomOut.touchmove(e,t,r)},Vn.prototype.touchend=function(e,t,r){var n=this,i=this._zoomIn.touchend(e,t,r),a=this._zoomOut.touchend(e,t,r);return i?(this._active=!0,e.preventDefault(),setTimeout((function(){return n.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(i)},{originalEvent:e})}}):a?(this._active=!0,e.preventDefault(),setTimeout((function(){return n.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(a)},{originalEvent:e})}}):void 0},Vn.prototype.touchcancel=function(){this.reset()},Vn.prototype.enable=function(){this._enabled=!0},Vn.prototype.disable=function(){this._enabled=!1,this.reset()},Vn.prototype.isEnabled=function(){return this._enabled},Vn.prototype.isActive=function(){return this._active};var Gn={0:1,2:2},Wn=function(e){this.reset(),this._clickTolerance=e.clickTolerance||1};Wn.prototype.blur=function(){this.reset()},Wn.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Wn.prototype._correctButton=function(e,t){return!1},Wn.prototype._move=function(e,t){return{}},Wn.prototype.mousedown=function(e,t){if(!this._lastPoint){var n=r.mouseButton(e);this._correctButton(e,n)&&(this._lastPoint=t,this._eventButton=n)}},Wn.prototype.mousemoveWindow=function(e,t){var r=this._lastPoint;if(r)if(e.preventDefault(),function(e,t){var r=Gn[t];return void 0===e.buttons||(e.buttons&r)!==r}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(r)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(r,t)},Wn.prototype.mouseupWindow=function(e){this._lastPoint&&r.mouseButton(e)===this._eventButton&&(this._moved&&r.suppressClick(),this.reset())},Wn.prototype.enable=function(){this._enabled=!0},Wn.prototype.disable=function(){this._enabled=!1,this.reset()},Wn.prototype.isEnabled=function(){return this._enabled},Wn.prototype.isActive=function(){return this._active};var qn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.mousedown=function(t,r){e.prototype.mousedown.call(this,t,r),this._lastPoint&&(this._active=!0)},t.prototype._correctButton=function(e,t){return 0===t&&!e.ctrlKey},t.prototype._move=function(e,t){return{around:t,panDelta:t.sub(e)}},t}(Wn),Hn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._correctButton=function(e,t){return 0===t&&e.ctrlKey||2===t},t.prototype._move=function(e,t){var r=.8*(t.x-e.x);if(r)return this._active=!0,{bearingDelta:r}},t.prototype.contextmenu=function(e){e.preventDefault()},t}(Wn),Yn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._correctButton=function(e,t){return 0===t&&e.ctrlKey||2===t},t.prototype._move=function(e,t){var r=-.5*(t.y-e.y);if(r)return this._active=!0,{pitchDelta:r}},t.prototype.contextmenu=function(e){e.preventDefault()},t}(Wn),Xn=function(e){this._minTouches=1,this._clickTolerance=e.clickTolerance||1,this.reset()};Xn.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new e.Point(0,0)},Xn.prototype.touchstart=function(e,t,r){return this._calculateTransform(e,t,r)},Xn.prototype.touchmove=function(e,t,r){if(this._active&&!(r.length<this._minTouches))return e.preventDefault(),this._calculateTransform(e,t,r)},Xn.prototype.touchend=function(e,t,r){this._calculateTransform(e,t,r),this._active&&r.length<this._minTouches&&this.reset()},Xn.prototype.touchcancel=function(){this.reset()},Xn.prototype._calculateTransform=function(t,r,n){n.length>0&&(this._active=!0);var i=Bn(n,r),a=new e.Point(0,0),o=new e.Point(0,0),s=0;for(var l in i){var u=i[l],c=this._touches[l];c&&(a._add(u),o._add(u.sub(c)),s++,i[l]=u)}if(this._touches=i,!(s<this._minTouches)&&o.mag()){var f=o.div(s);if(this._sum._add(f),!(this._sum.mag()<this._clickTolerance))return{around:a.div(s),panDelta:f}}},Xn.prototype.enable=function(){this._enabled=!0},Xn.prototype.disable=function(){this._enabled=!1,this.reset()},Xn.prototype.isEnabled=function(){return this._enabled},Xn.prototype.isActive=function(){return this._active};var Kn=function(){this.reset()};function $n(e,t,r){for(var n=0;n<e.length;n++)if(e[n].identifier===r)return t[n]}function Jn(e,t){return Math.log(e/t)/Math.LN2}Kn.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Kn.prototype._start=function(e){},Kn.prototype._move=function(e,t,r){return{}},Kn.prototype.touchstart=function(e,t,r){this._firstTwoTouches||r.length<2||(this._firstTwoTouches=[r[0].identifier,r[1].identifier],this._start([t[0],t[1]]))},Kn.prototype.touchmove=function(e,t,r){if(this._firstTwoTouches){e.preventDefault();var n=this._firstTwoTouches,i=n[1],a=$n(r,t,n[0]),o=$n(r,t,i);if(a&&o){var s=this._aroundCenter?null:a.add(o).div(2);return this._move([a,o],s,e)}}},Kn.prototype.touchend=function(e,t,n){if(this._firstTwoTouches){var i=this._firstTwoTouches,a=i[1],o=$n(n,t,i[0]),s=$n(n,t,a);o&&s||(this._active&&r.suppressClick(),this.reset())}},Kn.prototype.touchcancel=function(){this.reset()},Kn.prototype.enable=function(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around},Kn.prototype.disable=function(){this._enabled=!1,this.reset()},Kn.prototype.isEnabled=function(){return this._enabled},Kn.prototype.isActive=function(){return this._active};var Qn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),delete this._distance,delete this._startDistance},t.prototype._start=function(e){this._startDistance=this._distance=e[0].dist(e[1])},t.prototype._move=function(e,t){var r=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(Jn(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Jn(this._distance,r),pinchAround:t}},t}(Kn);function ei(e,t){return 180*e.angleWith(t)/Math.PI}var ti=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},t.prototype._start=function(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])},t.prototype._move=function(e,t){var r=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:ei(this._vector,r),pinchAround:t}},t.prototype._isBelowThreshold=function(e){this._minDiameter=Math.min(this._minDiameter,e.mag());var t=25/(Math.PI*this._minDiameter)*360,r=ei(e,this._startVector);return Math.abs(r)<t},t}(Kn);function ri(e){return Math.abs(e.y)>Math.abs(e.x)}var ni=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},t.prototype._start=function(e){this._lastPoints=e,ri(e[0].sub(e[1]))&&(this._valid=!1)},t.prototype._move=function(e,t,r){var n=e[0].sub(this._lastPoints[0]),i=e[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(n,i,r.timeStamp),this._valid)return this._lastPoints=e,this._active=!0,{pitchDelta:(n.y+i.y)/2*-.5}},t.prototype.gestureBeginsVertically=function(e,t,r){if(void 0!==this._valid)return this._valid;var n=e.mag()>=2,i=t.mag()>=2;if(n||i){if(!n||!i)return void 0===this._firstMove&&(this._firstMove=r),r-this._firstMove<100&&void 0;var a=e.y>0==t.y>0;return ri(e)&&ri(t)&&a}},t}(Kn),ii={panStep:100,bearingStep:15,pitchStep:10},ai=function(){var e=ii;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1};function oi(e){return e*(2-e)}ai.prototype.blur=function(){this.reset()},ai.prototype.reset=function(){this._active=!1},ai.prototype.keydown=function(e){var t=this;if(!(e.altKey||e.ctrlKey||e.metaKey)){var r=0,n=0,i=0,a=0,o=0;switch(e.keyCode){case 61:case 107:case 171:case 187:r=1;break;case 189:case 109:case 173:r=-1;break;case 37:e.shiftKey?n=-1:(e.preventDefault(),a=-1);break;case 39:e.shiftKey?n=1:(e.preventDefault(),a=1);break;case 38:e.shiftKey?i=1:(e.preventDefault(),o=-1);break;case 40:e.shiftKey?i=-1:(e.preventDefault(),o=1);break;default:return}return this._rotationDisabled&&(n=0,i=0),{cameraAnimation:function(s){var l=s.getZoom();s.easeTo({duration:300,easeId:"keyboardHandler",easing:oi,zoom:r?Math.round(l)+r*(e.shiftKey?2:1):l,bearing:s.getBearing()+n*t._bearingStep,pitch:s.getPitch()+i*t._pitchStep,offset:[-a*t._panStep,-o*t._panStep],center:s.getCenter()},{originalEvent:e})}}}},ai.prototype.enable=function(){this._enabled=!0},ai.prototype.disable=function(){this._enabled=!1,this.reset()},ai.prototype.isEnabled=function(){return this._enabled},ai.prototype.isActive=function(){return this._active},ai.prototype.disableRotation=function(){this._rotationDisabled=!0},ai.prototype.enableRotation=function(){this._rotationDisabled=!1};var si=function(t,r){this._map=t,this._el=t.getCanvasContainer(),this._handler=r,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,e.bindAll(["_onTimeout"],this)};si.prototype.setZoomRate=function(e){this._defaultZoomRate=e},si.prototype.setWheelZoomRate=function(e){this._wheelZoomRate=e},si.prototype.isEnabled=function(){return!!this._enabled},si.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},si.prototype.isZooming=function(){return!!this._zooming},si.prototype.enable=function(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=e&&"center"===e.around)},si.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},si.prototype.wheel=function(t){if(this.isEnabled()){var r=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY,n=e.browser.now(),i=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==r&&r%4.000244140625==0?this._type="wheel":0!==r&&Math.abs(r)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=r,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(i*r)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,r+=this._lastValue)),t.shiftKey&&r&&(r/=4),this._type&&(this._lastWheelEvent=t,this._delta-=r,this._active||this._start(t)),t.preventDefault()}},si.prototype._onTimeout=function(e){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)},si.prototype._start=function(t){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var n=r.mousePos(this._el,t);this._around=e.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(n)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},si.prototype.renderFrame=function(){var t=this;if(this._frameId&&(this._frameId=null,this.isActive())){var r=this._map.transform;if(0!==this._delta){var n="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,i=2/(1+Math.exp(-Math.abs(this._delta*n)));this._delta<0&&0!==i&&(i=1/i);var a="number"==typeof this._targetZoom?r.zoomScale(this._targetZoom):r.scale;this._targetZoom=Math.min(r.maxZoom,Math.max(r.minZoom,r.scaleZoom(a*i))),"wheel"===this._type&&(this._startZoom=r.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var o,s="number"==typeof this._targetZoom?this._targetZoom:r.zoom,l=this._startZoom,u=this._easing,c=!1;if("wheel"===this._type&&l&&u){var f=Math.min((e.browser.now()-this._lastWheelEventTime)/200,1),p=u(f);o=e.number(l,s,p),f<1?this._frameId||(this._frameId=!0):c=!0}else o=s,c=!0;return this._active=!0,c&&(this._active=!1,this._finishTimeout=setTimeout((function(){t._zooming=!1,t._handler._triggerRenderFrame(),delete t._targetZoom,delete t._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!c,zoomDelta:o-r.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},si.prototype._smoothOutEasing=function(t){var r=e.ease;if(this._prevEase){var n=this._prevEase,i=(e.browser.now()-n.start)/n.duration,a=n.easing(i+.01)-n.easing(i),o=.27/Math.sqrt(a*a+1e-4)*.01,s=Math.sqrt(.0729-o*o);r=e.bezier(o,s,.25,1)}return this._prevEase={start:e.browser.now(),duration:t,easing:r},r},si.prototype.blur=function(){this.reset()},si.prototype.reset=function(){this._active=!1};var li=function(e,t){this._clickZoom=e,this._tapZoom=t};li.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},li.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},li.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},li.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var ui=function(){this.reset()};ui.prototype.reset=function(){this._active=!1},ui.prototype.blur=function(){this.reset()},ui.prototype.dblclick=function(e,t){return e.preventDefault(),{cameraAnimation:function(r){r.easeTo({duration:300,zoom:r.getZoom()+(e.shiftKey?-1:1),around:r.unproject(t)},{originalEvent:e})}}},ui.prototype.enable=function(){this._enabled=!0},ui.prototype.disable=function(){this._enabled=!1,this.reset()},ui.prototype.isEnabled=function(){return this._enabled},ui.prototype.isActive=function(){return this._active};var ci=function(){this._tap=new Un({numTouches:1,numTaps:1}),this.reset()};ci.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},ci.prototype.touchstart=function(e,t,r){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?r.length>0&&(this._swipePoint=t[0],this._swipeTouch=r[0].identifier):this._tap.touchstart(e,t,r))},ci.prototype.touchmove=function(e,t,r){if(this._tapTime){if(this._swipePoint){if(r[0].identifier!==this._swipeTouch)return;var n=t[0],i=n.y-this._swipePoint.y;return this._swipePoint=n,e.preventDefault(),this._active=!0,{zoomDelta:i/128}}}else this._tap.touchmove(e,t,r)},ci.prototype.touchend=function(e,t,r){this._tapTime?this._swipePoint&&0===r.length&&this.reset():this._tap.touchend(e,t,r)&&(this._tapTime=e.timeStamp)},ci.prototype.touchcancel=function(){this.reset()},ci.prototype.enable=function(){this._enabled=!0},ci.prototype.disable=function(){this._enabled=!1,this.reset()},ci.prototype.isEnabled=function(){return this._enabled},ci.prototype.isActive=function(){return this._active};var fi=function(e,t,r){this._el=e,this._mousePan=t,this._touchPan=r};fi.prototype.enable=function(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},fi.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},fi.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},fi.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var pi=function(e,t,r){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=r};pi.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},pi.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},pi.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},pi.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var hi=function(e,t,r,n){this._el=e,this._touchZoom=t,this._touchRotate=r,this._tapDragZoom=n,this._rotationDisabled=!1,this._enabled=!0};hi.prototype.enable=function(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},hi.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},hi.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},hi.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},hi.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},hi.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var di=function(e){return e.zoom||e.drag||e.pitch||e.rotate},vi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(e.Event);function mi(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}var yi=function(t,n){this._map=t,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Mn(t),this._bearingSnap=n.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(n),e.bindAll(["handleEvent","handleWindowEvent"],this);var i=this._el;this._listeners=[[i,"touchstart",{passive:!0}],[i,"touchmove",{passive:!1}],[i,"touchend",void 0],[i,"touchcancel",void 0],[i,"mousedown",void 0],[i,"mousemove",void 0],[i,"mouseup",void 0],[e.window.document,"mousemove",{capture:!0}],[e.window.document,"mouseup",void 0],[i,"mouseover",void 0],[i,"mouseout",void 0],[i,"dblclick",void 0],[i,"click",void 0],[i,"keydown",{capture:!1}],[i,"keyup",void 0],[i,"wheel",{passive:!1}],[i,"contextmenu",void 0],[e.window,"blur",void 0]];for(var a=0,o=this._listeners;a<o.length;a+=1){var s=o[a],l=s[0];r.addEventListener(l,s[1],l===e.window.document?this.handleWindowEvent:this.handleEvent,s[2])}};yi.prototype.destroy=function(){for(var t=0,n=this._listeners;t<n.length;t+=1){var i=n[t],a=i[0];r.removeEventListener(a,i[1],a===e.window.document?this.handleWindowEvent:this.handleEvent,i[2])}},yi.prototype._addDefaultHandlers=function(e){var t=this._map,r=t.getCanvasContainer();this._add("mapEvent",new Ln(t,e));var n=t.boxZoom=new zn(t,e);this._add("boxZoom",n);var i=new Vn,a=new ui;t.doubleClickZoom=new li(a,i),this._add("tapZoom",i),this._add("clickZoom",a);var o=new ci;this._add("tapDragZoom",o);var s=t.touchPitch=new ni;this._add("touchPitch",s);var l=new Hn(e),u=new Yn(e);t.dragRotate=new pi(e,l,u),this._add("mouseRotate",l,["mousePitch"]),this._add("mousePitch",u,["mouseRotate"]);var c=new qn(e),f=new Xn(e);t.dragPan=new fi(r,c,f),this._add("mousePan",c),this._add("touchPan",f,["touchZoom","touchRotate"]);var p=new ti,h=new Qn;t.touchZoomRotate=new hi(r,h,p,o),this._add("touchRotate",p,["touchPan","touchZoom"]),this._add("touchZoom",h,["touchPan","touchRotate"]);var d=t.scrollZoom=new si(t,this);this._add("scrollZoom",d,["mousePan"]);var v=t.keyboard=new ai;this._add("keyboard",v),this._add("blockableMapEvent",new Nn(t));for(var m=0,y=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];m<y.length;m+=1){var g=y[m];e.interactive&&e[g]&&t[g].enable(e[g])}},yi.prototype._add=function(e,t,r){this._handlers.push({handlerName:e,handler:t,allowed:r}),this._handlersById[e]=t},yi.prototype.stop=function(e){if(!this._updatingCamera){for(var t=0,r=this._handlers;t<r.length;t+=1)r[t].handler.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}},yi.prototype.isActive=function(){for(var e=0,t=this._handlers;e<t.length;e+=1)if(t[e].handler.isActive())return!0;return!1},yi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},yi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},yi.prototype.isMoving=function(){return Boolean(di(this._eventsInProgress))||this.isZooming()},yi.prototype._blockedByActive=function(e,t,r){for(var n in e)if(n!==r&&(!t||t.indexOf(n)<0))return!0;return!1},yi.prototype.handleWindowEvent=function(e){this.handleEvent(e,e.type+"Window")},yi.prototype._getMapTouches=function(e){for(var t=[],r=0,n=e;r<n.length;r+=1){var i=n[r];this._el.contains(i.target)&&t.push(i)}return t},yi.prototype.handleEvent=function(e,t){this._updatingCamera=!0;for(var n="renderFrame"===e.type?void 0:e,i={needsRenderFrame:!1},a={},o={},s=e.touches?this._getMapTouches(e.touches):void 0,l=s?r.touchPos(this._el,s):r.mousePos(this._el,e),u=0,c=this._handlers;u<c.length;u+=1){var f=c[u],p=f.handlerName,h=f.handler,d=f.allowed;if(h.isEnabled()){var v=void 0;this._blockedByActive(o,d,p)?h.reset():h[t||e.type]&&(v=h[t||e.type](e,l,s),this.mergeHandlerResult(i,a,v,p,n),v&&v.needsRenderFrame&&this._triggerRenderFrame()),(v||h.isActive())&&(o[p]=h)}}var m={};for(var y in this._previousActiveHandlers)o[y]||(m[y]=n);this._previousActiveHandlers=o,(Object.keys(m).length||mi(i))&&(this._changes.push([i,a,m]),this._triggerRenderFrame()),(Object.keys(o).length||mi(i))&&this._map._stop(!0),this._updatingCamera=!1;var g=i.cameraAnimation;g&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],g(this._map))},yi.prototype.mergeHandlerResult=function(t,r,n,i,a){if(n){e.extend(t,n);var o={handlerName:i,originalEvent:n.originalEvent||a};void 0!==n.zoomDelta&&(r.zoom=o),void 0!==n.panDelta&&(r.drag=o),void 0!==n.pitchDelta&&(r.pitch=o),void 0!==n.bearingDelta&&(r.rotate=o)}},yi.prototype._applyChanges=function(){for(var t={},r={},n={},i=0,a=this._changes;i<a.length;i+=1){var o=a[i],s=o[0],l=o[1],u=o[2];s.panDelta&&(t.panDelta=(t.panDelta||new e.Point(0,0))._add(s.panDelta)),s.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+s.zoomDelta),s.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+s.bearingDelta),s.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+s.pitchDelta),void 0!==s.around&&(t.around=s.around),void 0!==s.pinchAround&&(t.pinchAround=s.pinchAround),s.noInertia&&(t.noInertia=s.noInertia),e.extend(r,l),e.extend(n,u)}this._updateMapTransform(t,r,n),this._changes=[]},yi.prototype._updateMapTransform=function(e,t,r){var n=this._map,i=n.transform;if(!mi(e))return this._fireEvents(t,r,!0);var a=e.panDelta,o=e.zoomDelta,s=e.bearingDelta,l=e.pitchDelta,u=e.around,c=e.pinchAround;void 0!==c&&(u=c),n._stop(!0),u=u||n.transform.centerPoint;var f=i.pointLocation(a?u.sub(a):u);s&&(i.bearing+=s),l&&(i.pitch+=l),o&&(i.zoom+=o),i.setLocationAtPoint(f,u),this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(t,r,!0)},yi.prototype._fireEvents=function(t,r,n){var i=this,a=di(this._eventsInProgress),o=di(t),s={};for(var l in t)this._eventsInProgress[l]||(s[l+"start"]=t[l].originalEvent),this._eventsInProgress[l]=t[l];for(var u in!a&&o&&this._fireEvent("movestart",o.originalEvent),s)this._fireEvent(u,s[u]);for(var c in o&&this._fireEvent("move",o.originalEvent),t)this._fireEvent(c,t[c].originalEvent);var f,p={};for(var h in this._eventsInProgress){var d=this._eventsInProgress[h],v=d.handlerName,m=d.originalEvent;this._handlersById[v].isActive()||(delete this._eventsInProgress[h],p[h+"end"]=f=r[v]||m)}for(var y in p)this._fireEvent(y,p[y]);var g=di(this._eventsInProgress);if(n&&(a||o)&&!g){this._updatingCamera=!0;var _=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),b=function(e){return 0!==e&&-i._bearingSnap<e&&e<i._bearingSnap};_?(b(_.bearing||this._map.getBearing())&&(_.bearing=0),this._map.easeTo(_,{originalEvent:f})):(this._map.fire(new e.Event("moveend",{originalEvent:f})),b(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},yi.prototype._fireEvent=function(t,r){this._map.fire(new e.Event(t,r?{originalEvent:r}:{}))},yi.prototype._requestFrame=function(){var e=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add((function(t){delete e._frameId,e.handleEvent(new vi("renderFrame",{timeStamp:t})),e._applyChanges()}))},yi.prototype._triggerRenderFrame=function(){void 0===this._frameId&&(this._frameId=this._requestFrame())};var gi=function(t){function r(r,n){t.call(this),this._moving=!1,this._zooming=!1,this.transform=r,this._bearingSnap=n.bearingSnap,e.bindAll(["_renderFrameCallback"],this)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.getCenter=function(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)},r.prototype.setCenter=function(e,t){return this.jumpTo({center:e},t)},r.prototype.panBy=function(t,r,n){return t=e.Point.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},r),n)},r.prototype.panTo=function(t,r,n){return this.easeTo(e.extend({center:t},r),n)},r.prototype.getZoom=function(){return this.transform.zoom},r.prototype.setZoom=function(e,t){return this.jumpTo({zoom:e},t),this},r.prototype.zoomTo=function(t,r,n){return this.easeTo(e.extend({zoom:t},r),n)},r.prototype.zoomIn=function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this},r.prototype.zoomOut=function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this},r.prototype.getBearing=function(){return this.transform.bearing},r.prototype.setBearing=function(e,t){return this.jumpTo({bearing:e},t),this},r.prototype.getPadding=function(){return this.transform.padding},r.prototype.setPadding=function(e,t){return this.jumpTo({padding:e},t),this},r.prototype.rotateTo=function(t,r,n){return this.easeTo(e.extend({bearing:t},r),n)},r.prototype.resetNorth=function(t,r){return this.rotateTo(0,e.extend({duration:1e3},t),r),this},r.prototype.resetNorthPitch=function(t,r){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),r),this},r.prototype.snapToNorth=function(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this},r.prototype.getPitch=function(){return this.transform.pitch},r.prototype.setPitch=function(e,t){return this.jumpTo({pitch:e},t),this},r.prototype.cameraForBounds=function(t,r){t=e.LngLatBounds.convert(t);var n=r&&r.bearing||0;return this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),n,r)},r.prototype._cameraForBoxAndBearing=function(t,r,n,i){var a={top:0,bottom:0,right:0,left:0};if("number"==typeof(i=e.extend({padding:a,offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding){var o=i.padding;i.padding={top:o,bottom:o,right:o,left:o}}i.padding=e.extend(a,i.padding);var s=this.transform,l=s.padding,u=s.project(e.LngLat.convert(t)),c=s.project(e.LngLat.convert(r)),f=u.rotate(-n*Math.PI/180),p=c.rotate(-n*Math.PI/180),h=new e.Point(Math.max(f.x,p.x),Math.max(f.y,p.y)),d=new e.Point(Math.min(f.x,p.x),Math.min(f.y,p.y)),v=h.sub(d),m=(s.width-(l.left+l.right+i.padding.left+i.padding.right))/v.x,y=(s.height-(l.top+l.bottom+i.padding.top+i.padding.bottom))/v.y;if(!(y<0||m<0)){var g=Math.min(s.scaleZoom(s.scale*Math.min(m,y)),i.maxZoom),_="number"==typeof i.offset.x?new e.Point(i.offset.x,i.offset.y):e.Point.convert(i.offset),b=new e.Point((i.padding.left-i.padding.right)/2,(i.padding.top-i.padding.bottom)/2).rotate(n*Math.PI/180),x=_.add(b).mult(s.scale/s.zoomScale(g));return{center:s.unproject(u.add(c).div(2).sub(x)),zoom:g,bearing:n}}e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},r.prototype.fitBounds=function(e,t,r){return this._fitInternal(this.cameraForBounds(e,t),t,r)},r.prototype.fitScreenCoordinates=function(t,r,n,i,a){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(e.Point.convert(t)),this.transform.pointLocation(e.Point.convert(r)),n,i),i,a)},r.prototype._fitInternal=function(t,r,n){return t?(delete(r=e.extend(t,r)).padding,r.linear?this.easeTo(r,n):this.flyTo(r,n)):this},r.prototype.jumpTo=function(t,r){this.stop();var n=this.transform,i=!1,a=!1,o=!1;return"zoom"in t&&n.zoom!==+t.zoom&&(i=!0,n.zoom=+t.zoom),void 0!==t.center&&(n.center=e.LngLat.convert(t.center)),"bearing"in t&&n.bearing!==+t.bearing&&(a=!0,n.bearing=+t.bearing),"pitch"in t&&n.pitch!==+t.pitch&&(o=!0,n.pitch=+t.pitch),null==t.padding||n.isPaddingEqual(t.padding)||(n.padding=t.padding),this.fire(new e.Event("movestart",r)).fire(new e.Event("move",r)),i&&this.fire(new e.Event("zoomstart",r)).fire(new e.Event("zoom",r)).fire(new e.Event("zoomend",r)),a&&this.fire(new e.Event("rotatestart",r)).fire(new e.Event("rotate",r)).fire(new e.Event("rotateend",r)),o&&this.fire(new e.Event("pitchstart",r)).fire(new e.Event("pitch",r)).fire(new e.Event("pitchend",r)),this.fire(new e.Event("moveend",r))},r.prototype.easeTo=function(t,r){var n=this;this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.browser.prefersReducedMotion)&&(t.duration=0);var i=this.transform,a=this.getZoom(),o=this.getBearing(),s=this.getPitch(),l=this.getPadding(),u="zoom"in t?+t.zoom:a,c="bearing"in t?this._normalizeBearing(t.bearing,o):o,f="pitch"in t?+t.pitch:s,p="padding"in t?t.padding:i.padding,h=e.Point.convert(t.offset),d=i.centerPoint.add(h),v=i.pointLocation(d),m=e.LngLat.convert(t.center||v);this._normalizeCenter(m);var y,g,_=i.project(v),b=i.project(m).sub(_),x=i.zoomScale(u-a);t.around&&(y=e.LngLat.convert(t.around),g=i.locationPoint(y));var w={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||u!==a,this._rotating=this._rotating||o!==c,this._pitching=this._pitching||f!==s,this._padding=!i.isPaddingEqual(p),this._easeId=t.easeId,this._prepareEase(r,t.noMoveStart,w),this._ease((function(t){if(n._zooming&&(i.zoom=e.number(a,u,t)),n._rotating&&(i.bearing=e.number(o,c,t)),n._pitching&&(i.pitch=e.number(s,f,t)),n._padding&&(i.interpolatePadding(l,p,t),d=i.centerPoint.add(h)),y)i.setLocationAtPoint(y,g);else{var v=i.zoomScale(i.zoom-a),m=u>a?Math.min(2,x):Math.max(.5,x),w=Math.pow(m,1-t),S=i.unproject(_.add(b.mult(t*w)).mult(v));i.setLocationAtPoint(i.renderWorldCopies?S.wrap():S,d)}n._fireMoveEvents(r)}),(function(e){n._afterEase(r,e)}),t),this},r.prototype._prepareEase=function(t,r,n){void 0===n&&(n={}),this._moving=!0,r||n.moving||this.fire(new e.Event("movestart",t)),this._zooming&&!n.zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&!n.rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&!n.pitching&&this.fire(new e.Event("pitchstart",t))},r.prototype._fireMoveEvents=function(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))},r.prototype._afterEase=function(t,r){if(!this._easeId||!r||this._easeId!==r){delete this._easeId;var n=this._zooming,i=this._rotating,a=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,n&&this.fire(new e.Event("zoomend",t)),i&&this.fire(new e.Event("rotateend",t)),a&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))}},r.prototype.flyTo=function(t,r){var n=this;if(!t.essential&&e.browser.prefersReducedMotion){var i=e.pick(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(i,r)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);var a=this.transform,o=this.getZoom(),s=this.getBearing(),l=this.getPitch(),u=this.getPadding(),c="zoom"in t?e.clamp(+t.zoom,a.minZoom,a.maxZoom):o,f="bearing"in t?this._normalizeBearing(t.bearing,s):s,p="pitch"in t?+t.pitch:l,h="padding"in t?t.padding:a.padding,d=a.zoomScale(c-o),v=e.Point.convert(t.offset),m=a.centerPoint.add(v),y=a.pointLocation(m),g=e.LngLat.convert(t.center||y);this._normalizeCenter(g);var _=a.project(y),b=a.project(g).sub(_),x=t.curve,w=Math.max(a.width,a.height),S=w/d,P=b.mag();if("minZoom"in t){var k=e.clamp(Math.min(t.minZoom,o,c),a.minZoom,a.maxZoom),E=w/a.zoomScale(k-o);x=Math.sqrt(E/P*2)}var C=x*x;function A(e){var t=(S*S-w*w+(e?-1:1)*C*C*P*P)/(2*(e?S:w)*C*P);return Math.log(Math.sqrt(t*t+1)-t)}function T(e){return(Math.exp(e)-Math.exp(-e))/2}function O(e){return(Math.exp(e)+Math.exp(-e))/2}var M=A(0),I=function(e){return O(M)/O(M+x*e)},F=function(e){return w*((O(M)*(T(t=M+x*e)/O(t))-T(M))/C)/P;var t},R=(A(1)-M)/x;if(Math.abs(P)<1e-6||!isFinite(R)){if(Math.abs(w-S)<1e-6)return this.easeTo(t,r);var D=S<w?-1:1;R=Math.abs(Math.log(S/w))/x,F=function(){return 0},I=function(e){return Math.exp(D*x*e)}}return t.duration="duration"in t?+t.duration:1e3*R/("screenSpeed"in t?+t.screenSpeed/x:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=s!==f,this._pitching=p!==l,this._padding=!a.isPaddingEqual(h),this._prepareEase(r,!1),this._ease((function(t){var i=t*R,d=1/I(i);a.zoom=1===t?c:o+a.scaleZoom(d),n._rotating&&(a.bearing=e.number(s,f,t)),n._pitching&&(a.pitch=e.number(l,p,t)),n._padding&&(a.interpolatePadding(u,h,t),m=a.centerPoint.add(v));var y=1===t?g:a.unproject(_.add(b.mult(F(i))).mult(d));a.setLocationAtPoint(a.renderWorldCopies?y.wrap():y,m),n._fireMoveEvents(r)}),(function(){return n._afterEase(r)}),t),this},r.prototype.isEasing=function(){return!!this._easeFrameId},r.prototype.stop=function(){return this._stop()},r.prototype._stop=function(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var r=this._onEaseEnd;delete this._onEaseEnd,r.call(this,t)}if(!e){var n=this.handlers;n&&n.stop(!1)}return this},r.prototype._ease=function(t,r,n){!1===n.animate||0===n.duration?(t(1),r()):(this._easeStart=e.browser.now(),this._easeOptions=n,this._onEaseFrame=t,this._onEaseEnd=r,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},r.prototype._renderFrameCallback=function(){var t=Math.min((e.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},r.prototype._normalizeBearing=function(t,r){t=e.wrap(t,-180,180);var n=Math.abs(t-r);return Math.abs(t-360-r)<n&&(t-=360),Math.abs(t+360-r)<n&&(t+=360),t},r.prototype._normalizeCenter=function(e){var t=this.transform;if(t.renderWorldCopies&&!t.lngRange){var r=e.lng-t.center.lng;e.lng+=r>180?-360:r<-180?360:0}},r}(e.Evented),_i=function(t){void 0===t&&(t={}),this.options=t,e.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};_i.prototype.getDefaultPosition=function(){return"bottom-right"},_i.prototype.onAdd=function(e){var t=this.options&&this.options.compact;return this._map=e,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=r.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=r.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},_i.prototype.onRemove=function(){r.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},_i.prototype._setElementTitle=function(e,t){var r=this._map._getUIString("AttributionControl."+t);e.title=r,e.setAttribute("aria-label",r)},_i.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},_i.prototype._updateEditLink=function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var r=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||e.config.ACCESS_TOKEN}];if(t){var n=r.reduce((function(e,t,n){return t.value&&(e+=t.key+"="+t.value+(n<r.length-1?"&":"")),e}),"?");t.href=e.config.FEEDBACK_URL+"/"+n+(this._map._hash?this._map._hash.getHashString(!0):""),t.rel="noopener nofollow",this._setElementTitle(t,"MapFeedback")}},_i.prototype._updateData=function(e){!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType||(this._updateAttributions(),this._updateEditLink())},_i.prototype._updateAttributions=function(){if(this._map.style){var e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map((function(e){return"string"!=typeof e?"":e}))):"string"==typeof this.options.customAttribution&&e.push(this.options.customAttribution)),this._map.style.stylesheet){var t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}var r=this._map.style.sourceCaches;for(var n in r){var i=r[n];if(i.used){var a=i.getSource();a.attribution&&e.indexOf(a.attribution)<0&&e.push(a.attribution)}}e.sort((function(e,t){return e.length-t.length}));var o=(e=e.filter((function(t,r){for(var n=r+1;n<e.length;n++)if(e[n].indexOf(t)>=0)return!1;return!0}))).join(" | ");o!==this._attribHTML&&(this._attribHTML=o,e.length?(this._innerContainer.innerHTML=o,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},_i.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var bi=function(){e.bindAll(["_updateLogo"],this),e.bindAll(["_updateCompact"],this)};bi.prototype.onAdd=function(e){this._map=e,this._container=r.create("div","mapboxgl-ctrl");var t=r.create("a","mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://www.mapbox.com/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},bi.prototype.onRemove=function(){r.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},bi.prototype.getDefaultPosition=function(){return"bottom-left"},bi.prototype._updateLogo=function(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},bi.prototype._logoRequired=function(){if(this._map.style){var e=this._map.style.sourceCaches;for(var t in e)if(e[t].getSource().mapbox_logo)return!0;return!1}},bi.prototype._updateCompact=function(){var e=this._container.children;if(e.length){var t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add("mapboxgl-compact"):t.classList.remove("mapboxgl-compact")}};var xi=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};xi.prototype.add=function(e){var t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t},xi.prototype.remove=function(e){for(var t=this._currentlyRunning,r=0,n=t?this._queue.concat(t):this._queue;r<n.length;r+=1){var i=n[r];if(i.id===e)return void(i.cancelled=!0)}},xi.prototype.run=function(e){void 0===e&&(e=0);var t=this._currentlyRunning=this._queue;this._queue=[];for(var r=0,n=t;r<n.length;r+=1){var i=n[r];if(!i.cancelled&&(i.callback(e),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},xi.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var wi={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Si=e.window.HTMLImageElement,Pi=e.window.HTMLElement,ki=e.window.ImageBitmap,Ei={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Ci=function(n){function i(t){var r=this;if(null!=(t=e.extend({},Ei,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=t.maxPitch&&t.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var i=new Sn(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies);if(n.call(this,i,t),this._interactive=t.interactive,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._crossSourceCollisions=t.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=t.collectResourceTiming,this._renderTaskQueue=new xi,this._controls=[],this._mapId=e.uniqueId(),this._locale=e.extend({},wi,t.locale),this._clickTolerance=t.clickTolerance,this._requestManager=new e.RequestManager(t.transformRequest,t.accessToken),"string"==typeof t.container){if(this._container=e.window.document.getElementById(t.container),!this._container)throw new Error("Container '"+t.container+"' not found.")}else{if(!(t.container instanceof Pi))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}if(t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(function(){return r._update(!1)})),this.on("moveend",(function(){return r._update(!1)})),this.on("zoom",(function(){return r._update(!0)})),void 0!==e.window&&(e.window.addEventListener("online",this._onWindowOnline,!1),e.window.addEventListener("resize",this._onWindowResize,!1),e.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new yi(this,t),this._hash=t.hash&&new kn("string"==typeof t.hash&&t.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&this.setStyle(t.style,{localIdeographFontFamily:t.localIdeographFontFamily}),t.attributionControl&&this.addControl(new _i({customAttribution:t.customAttribution})),this.addControl(new bi,t.logoPosition),this.on("style.load",(function(){r.transform.unmodified&&r.jumpTo(r.style.stylesheet)})),this.on("data",(function(t){r._update("style"===t.dataType),r.fire(new e.Event(t.dataType+"data",t))})),this.on("dataloading",(function(t){r.fire(new e.Event(t.dataType+"dataloading",t))}))}n&&(i.__proto__=n),(i.prototype=Object.create(n&&n.prototype)).constructor=i;var a={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return i.prototype._getMapId=function(){return this._mapId},i.prototype.addControl=function(t,r){if(void 0===r&&(r=t.getDefaultPosition?t.getDefaultPosition():"top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var n=t.onAdd(this);this._controls.push(t);var i=this._controlPositions[r];return-1!==r.indexOf("bottom")?i.insertBefore(n,i.firstChild):i.appendChild(n),this},i.prototype.removeControl=function(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var r=this._controls.indexOf(t);return r>-1&&this._controls.splice(r,1),t.onRemove(this),this},i.prototype.hasControl=function(e){return this._controls.indexOf(e)>-1},i.prototype.resize=function(t){var r=this._containerDimensions(),n=r[0],i=r[1];if(n===this.transform.width&&i===this.transform.height)return this;this._resizeCanvas(n,i),this.transform.resize(n,i),this.painter.resize(n,i);var a=!this._moving;return a&&this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t)),this.fire(new e.Event("resize",t)),a&&this.fire(new e.Event("moveend",t)),this},i.prototype.getBounds=function(){return this.transform.getBounds()},i.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},i.prototype.setMaxBounds=function(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()},i.prototype.setMinZoom=function(e){if((e=null==e?-2:e)>=-2&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},i.prototype.getMinZoom=function(){return this.transform.minZoom},i.prototype.setMaxZoom=function(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")},i.prototype.getMaxZoom=function(){return this.transform.maxZoom},i.prototype.setMinPitch=function(e){if((e=null==e?0:e)<0)throw new Error("minPitch must be greater than or equal to 0");if(e>=0&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this._update(),this.getPitch()<e&&this.setPitch(e),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},i.prototype.getMinPitch=function(){return this.transform.minPitch},i.prototype.setMaxPitch=function(e){if((e=null==e?60:e)>60)throw new Error("maxPitch must be less than or equal to 60");if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this._update(),this.getPitch()>e&&this.setPitch(e),this;throw new Error("maxPitch must be greater than the current minPitch")},i.prototype.getMaxPitch=function(){return this.transform.maxPitch},i.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},i.prototype.setRenderWorldCopies=function(e){return this.transform.renderWorldCopies=e,this._update()},i.prototype.project=function(t){return this.transform.locationPoint(e.LngLat.convert(t))},i.prototype.unproject=function(t){return this.transform.pointLocation(e.Point.convert(t))},i.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},i.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},i.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},i.prototype._createDelegatedListener=function(e,t,r){var n,i=this;if("mouseenter"===e||"mouseover"===e){var a=!1;return{layer:t,listener:r,delegates:{mousemove:function(n){var o=i.getLayer(t)?i.queryRenderedFeatures(n.point,{layers:[t]}):[];o.length?a||(a=!0,r.call(i,new Rn(e,i,n.originalEvent,{features:o}))):a=!1},mouseout:function(){a=!1}}}}if("mouseleave"===e||"mouseout"===e){var o=!1;return{layer:t,listener:r,delegates:{mousemove:function(n){(i.getLayer(t)?i.queryRenderedFeatures(n.point,{layers:[t]}):[]).length?o=!0:o&&(o=!1,r.call(i,new Rn(e,i,n.originalEvent)))},mouseout:function(t){o&&(o=!1,r.call(i,new Rn(e,i,t.originalEvent)))}}}}return{layer:t,listener:r,delegates:(n={},n[e]=function(e){var n=i.getLayer(t)?i.queryRenderedFeatures(e.point,{layers:[t]}):[];n.length&&(e.features=n,r.call(i,e),delete e.features)},n)}},i.prototype.on=function(e,t,r){if(void 0===r)return n.prototype.on.call(this,e,t);var i=this._createDelegatedListener(e,t,r);for(var a in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(i),i.delegates)this.on(a,i.delegates[a]);return this},i.prototype.once=function(e,t,r){if(void 0===r)return n.prototype.once.call(this,e,t);var i=this._createDelegatedListener(e,t,r);for(var a in i.delegates)this.once(a,i.delegates[a]);return this},i.prototype.off=function(e,t,r){var i=this;return void 0===r?n.prototype.off.call(this,e,t):(this._delegatedListeners&&this._delegatedListeners[e]&&function(n){for(var a=n[e],o=0;o<a.length;o++){var s=a[o];if(s.layer===t&&s.listener===r){for(var l in s.delegates)i.off(l,s.delegates[l]);return a.splice(o,1),i}}}(this._delegatedListeners),this)},i.prototype.queryRenderedFeatures=function(t,r){if(!this.style)return[];var n;if(void 0!==r||void 0===t||t instanceof e.Point||Array.isArray(t)||(r=t,t=void 0),r=r||{},(t=t||[[0,0],[this.transform.width,this.transform.height]])instanceof e.Point||"number"==typeof t[0])n=[e.Point.convert(t)];else{var i=e.Point.convert(t[0]),a=e.Point.convert(t[1]);n=[i,new e.Point(a.x,i.y),a,new e.Point(i.x,a.y),i]}return this.style.queryRenderedFeatures(n,r,this.transform)},i.prototype.querySourceFeatures=function(e,t){return this.style.querySourceFeatures(e,t)},i.prototype.setStyle=function(t,r){return!1!==(r=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},r)).diff&&r.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&t?(this._diffStyle(t,r),this):(this._localIdeographFontFamily=r.localIdeographFontFamily,this._updateStyle(t,r))},i.prototype._getUIString=function(e){var t=this._locale[e];if(null==t)throw new Error("Missing UI string '"+e+"'");return t},i.prototype._updateStyle=function(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new Vt(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)},i.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Vt(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},i.prototype._diffStyle=function(t,r){var n=this;if("string"==typeof t){var i=this._requestManager.normalizeStyleURL(t),a=this._requestManager.transformRequest(i,e.ResourceType.Style);e.getJSON(a,(function(t,i){t?n.fire(new e.ErrorEvent(t)):i&&n._updateDiff(i,r)}))}else"object"==typeof t&&this._updateDiff(t,r)},i.prototype._updateDiff=function(t,r){try{this.style.setState(t)&&this._update(!0)}catch(n){e.warnOnce("Unable to perform style diff: "+(n.message||n.error||n)+".  Rebuilding the style from scratch."),this._updateStyle(t,r)}},i.prototype.getStyle=function(){if(this.style)return this.style.serialize()},i.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():e.warnOnce("There is no style added to the map.")},i.prototype.addSource=function(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)},i.prototype.isSourceLoaded=function(t){var r=this.style&&this.style.sourceCaches[t];if(void 0!==r)return r.loaded();this.fire(new e.ErrorEvent(new Error("There is no source with ID '"+t+"'")))},i.prototype.areTilesLoaded=function(){var e=this.style&&this.style.sourceCaches;for(var t in e){var r=e[t]._tiles;for(var n in r){var i=r[n];if("loaded"!==i.state&&"errored"!==i.state)return!1}}return!0},i.prototype.addSourceType=function(e,t,r){return this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,r)},i.prototype.removeSource=function(e){return this.style.removeSource(e),this._update(!0)},i.prototype.getSource=function(e){return this.style.getSource(e)},i.prototype.addImage=function(t,r,n){void 0===n&&(n={});var i=n.pixelRatio;void 0===i&&(i=1);var a=n.sdf;void 0===a&&(a=!1);var o=n.stretchX,s=n.stretchY,l=n.content;if(this._lazyInitEmptyStyle(),r instanceof Si||ki&&r instanceof ki){var u=e.browser.getImageData(r);this.style.addImage(t,{data:new e.RGBAImage({width:u.width,height:u.height},u.data),pixelRatio:i,stretchX:o,stretchY:s,content:l,sdf:a,version:0})}else{if(void 0===r.width||void 0===r.height)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var c=r;this.style.addImage(t,{data:new e.RGBAImage({width:r.width,height:r.height},new Uint8Array(r.data)),pixelRatio:i,stretchX:o,stretchY:s,content:l,sdf:a,version:0,userImage:c}),c.onAdd&&c.onAdd(this,t)}},i.prototype.updateImage=function(t,r){var n=this.style.getImage(t);if(!n)return this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var i=r instanceof Si||ki&&r instanceof ki?e.browser.getImageData(r):r,a=i.width,o=i.height,s=i.data;return void 0===a||void 0===o?this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):a!==n.data.width||o!==n.data.height?this.fire(new e.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(n.data.replace(s,!(r instanceof Si||ki&&r instanceof ki)),void this.style.updateImage(t,n))},i.prototype.hasImage=function(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)},i.prototype.removeImage=function(e){this.style.removeImage(e)},i.prototype.loadImage=function(t,r){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),r)},i.prototype.listImages=function(){return this.style.listImages()},i.prototype.addLayer=function(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)},i.prototype.moveLayer=function(e,t){return this.style.moveLayer(e,t),this._update(!0)},i.prototype.removeLayer=function(e){return this.style.removeLayer(e),this._update(!0)},i.prototype.getLayer=function(e){return this.style.getLayer(e)},i.prototype.setLayerZoomRange=function(e,t,r){return this.style.setLayerZoomRange(e,t,r),this._update(!0)},i.prototype.setFilter=function(e,t,r){return void 0===r&&(r={}),this.style.setFilter(e,t,r),this._update(!0)},i.prototype.getFilter=function(e){return this.style.getFilter(e)},i.prototype.setPaintProperty=function(e,t,r,n){return void 0===n&&(n={}),this.style.setPaintProperty(e,t,r,n),this._update(!0)},i.prototype.getPaintProperty=function(e,t){return this.style.getPaintProperty(e,t)},i.prototype.setLayoutProperty=function(e,t,r,n){return void 0===n&&(n={}),this.style.setLayoutProperty(e,t,r,n),this._update(!0)},i.prototype.getLayoutProperty=function(e,t){return this.style.getLayoutProperty(e,t)},i.prototype.setLight=function(e,t){return void 0===t&&(t={}),this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)},i.prototype.getLight=function(){return this.style.getLight()},i.prototype.setFeatureState=function(e,t){return this.style.setFeatureState(e,t),this._update()},i.prototype.removeFeatureState=function(e,t){return this.style.removeFeatureState(e,t),this._update()},i.prototype.getFeatureState=function(e){return this.style.getFeatureState(e)},i.prototype.getContainer=function(){return this._container},i.prototype.getCanvasContainer=function(){return this._canvasContainer},i.prototype.getCanvas=function(){return this._canvas},i.prototype._containerDimensions=function(){var e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]},i.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&e.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},i.prototype._setupContainer=function(){var e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSCanary=r.create("div","mapboxgl-canary",e)).style.visibility="hidden",this._detectMissingCSS();var t=this._canvasContainer=r.create("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=r.create("canvas","mapboxgl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var n=this._containerDimensions();this._resizeCanvas(n[0],n[1]);var i=this._controlContainer=r.create("div","mapboxgl-control-container",e),a=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(e){a[e]=r.create("div","mapboxgl-ctrl-"+e,i)})),this._container.addEventListener("scroll",this._onMapScroll,!1)},i.prototype._resizeCanvas=function(t,r){var n=e.browser.devicePixelRatio||1;this._canvas.width=n*t,this._canvas.height=n*r,this._canvas.style.width=t+"px",this._canvas.style.height=r+"px"},i.prototype._setupPainter=function(){var r=e.extend({},t.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),n=this._canvas.getContext("webgl",r)||this._canvas.getContext("experimental-webgl",r);n?(this.painter=new _n(n,this.transform),e.webpSupported.testSupport(n)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))},i.prototype._contextLost=function(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))},i.prototype._contextRestored=function(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))},i.prototype._onMapScroll=function(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},i.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},i.prototype._update=function(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this},i.prototype._requestRenderFrame=function(e){return this._update(),this._renderTaskQueue.add(e)},i.prototype._cancelRenderFrame=function(e){this._renderTaskQueue.remove(e)},i.prototype._render=function(t){var r,n=this,i=0,a=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(r=a.createQueryEXT(),a.beginQueryEXT(a.TIME_ELAPSED_EXT,r),i=e.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(t),!this._removed){var o=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var s=this.transform.zoom,l=e.browser.now();this.style.zoomHistory.update(s,l);var u=new e.EvaluationParameters(s,{now:l,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),c=u.crossFadingFactor();1===c&&c===this._crossFadingFactor||(o=!0,this._crossFadingFactor=c),this.style.update(u)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event("load"))),this.style&&(this.style.hasTransitions()||o)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var f=e.browser.now()-i;a.endQueryEXT(a.TIME_ELAPSED_EXT,r),setTimeout((function(){var t=a.getQueryObjectEXT(r,a.QUERY_RESULT_EXT)/1e6;a.deleteQueryEXT(r),n.fire(new e.Event("gpu-timing-frame",{cpuTime:f,gpuTime:t}))}),50)}if(this.listens("gpu-timing-layer")){var p=this.painter.collectGpuTimers();setTimeout((function(){var t=n.painter.queryGpuTimers(p);n.fire(new e.Event("gpu-timing-layer",{layerTimes:t}))}),50)}var h=this._sourcesDirty||this._styleDirty||this._placementDirty;return h||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new e.Event("idle")),!this._loaded||this._fullyLoaded||h||(this._fullyLoaded=!0),this}},i.prototype.remove=function(){this._hash&&this._hash.remove();for(var t=0,r=this._controls;t<r.length;t+=1)r[t].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==e.window&&(e.window.removeEventListener("resize",this._onWindowResize,!1),e.window.removeEventListener("orientationchange",this._onWindowResize,!1),e.window.removeEventListener("online",this._onWindowOnline,!1));var n=this.painter.context.gl.getExtension("WEBGL_lose_context");n&&n.loseContext(),Ai(this._canvasContainer),Ai(this._controlContainer),Ai(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new e.Event("remove"))},i.prototype.triggerRepaint=function(){var t=this;this.style&&!this._frame&&(this._frame=e.browser.frame((function(e){t._frame=null,t._render(e)})))},i.prototype._onWindowOnline=function(){this._update()},i.prototype._onWindowResize=function(e){this._trackResize&&this.resize({originalEvent:e})._update()},a.showTileBoundaries.get=function(){return!!this._showTileBoundaries},a.showTileBoundaries.set=function(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())},a.showPadding.get=function(){return!!this._showPadding},a.showPadding.set=function(e){this._showPadding!==e&&(this._showPadding=e,this._update())},a.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},a.showCollisionBoxes.set=function(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())},a.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},a.showOverdrawInspector.set=function(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())},a.repaint.get=function(){return!!this._repaint},a.repaint.set=function(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())},a.vertices.get=function(){return!!this._vertices},a.vertices.set=function(e){this._vertices=e,this._update()},i.prototype._setCacheLimits=function(t,r){e.setCacheLimits(t,r)},a.version.get=function(){return e.version},Object.defineProperties(i.prototype,a),i}(gi);function Ai(e){e.parentNode&&e.parentNode.removeChild(e)}var Ti={showCompass:!0,showZoom:!0,visualizePitch:!1},Oi=function(t){var n=this;this.options=e.extend({},Ti,t),this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this.options.showZoom&&(e.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(function(e){return n._map.zoomIn({},{originalEvent:e})})),r.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(function(e){return n._map.zoomOut({},{originalEvent:e})})),r.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(function(e){n.options.visualizePitch?n._map.resetNorthPitch({},{originalEvent:e}):n._map.resetNorth({},{originalEvent:e})})),this._compassIcon=r.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Oi.prototype._updateZoomButtons=function(){var e=this._map.getZoom(),t=e===this._map.getMaxZoom(),r=e===this._map.getMinZoom();this._zoomInButton.disabled=t,this._zoomOutButton.disabled=r,this._zoomInButton.setAttribute("aria-disabled",t.toString()),this._zoomOutButton.setAttribute("aria-disabled",r.toString())},Oi.prototype._rotateCompassArrow=function(){var e=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=e},Oi.prototype.onAdd=function(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Mi(this._map,this._compass,this.options.visualizePitch)),this._container},Oi.prototype.onRemove=function(){r.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Oi.prototype._createButton=function(e,t){var n=r.create("button",e,this._container);return n.type="button",n.addEventListener("click",t),n},Oi.prototype._setButtonTitle=function(e,t){var r=this._map._getUIString("NavigationControl."+t);e.title=r,e.setAttribute("aria-label",r)};var Mi=function(t,n,i){void 0===i&&(i=!1),this._clickTolerance=10,this.element=n,this.mouseRotate=new Hn({clickTolerance:t.dragRotate._mouseRotate._clickTolerance}),this.map=t,i&&(this.mousePitch=new Yn({clickTolerance:t.dragRotate._mousePitch._clickTolerance})),e.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),r.addEventListener(n,"mousedown",this.mousedown),r.addEventListener(n,"touchstart",this.touchstart,{passive:!1}),r.addEventListener(n,"touchmove",this.touchmove),r.addEventListener(n,"touchend",this.touchend),r.addEventListener(n,"touchcancel",this.reset)};function Ii(t,r,n){if(t=new e.LngLat(t.lng,t.lat),r){var i=new e.LngLat(t.lng-360,t.lat),a=new e.LngLat(t.lng+360,t.lat),o=n.locationPoint(t).distSqr(r);n.locationPoint(i).distSqr(r)<o?t=i:n.locationPoint(a).distSqr(r)<o&&(t=a)}for(;Math.abs(t.lng-n.center.lng)>180;){var s=n.locationPoint(t);if(s.x>=0&&s.y>=0&&s.x<=n.width&&s.y<=n.height)break;t.lng>n.center.lng?t.lng-=360:t.lng+=360}return t}Mi.prototype.down=function(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),r.disableDrag()},Mi.prototype.move=function(e,t){var r=this.map,n=this.mouseRotate.mousemoveWindow(e,t);if(n&&n.bearingDelta&&r.setBearing(r.getBearing()+n.bearingDelta),this.mousePitch){var i=this.mousePitch.mousemoveWindow(e,t);i&&i.pitchDelta&&r.setPitch(r.getPitch()+i.pitchDelta)}},Mi.prototype.off=function(){var e=this.element;r.removeEventListener(e,"mousedown",this.mousedown),r.removeEventListener(e,"touchstart",this.touchstart,{passive:!1}),r.removeEventListener(e,"touchmove",this.touchmove),r.removeEventListener(e,"touchend",this.touchend),r.removeEventListener(e,"touchcancel",this.reset),this.offTemp()},Mi.prototype.offTemp=function(){r.enableDrag(),r.removeEventListener(e.window,"mousemove",this.mousemove),r.removeEventListener(e.window,"mouseup",this.mouseup)},Mi.prototype.mousedown=function(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:function(){return t.preventDefault()}}),r.mousePos(this.element,t)),r.addEventListener(e.window,"mousemove",this.mousemove),r.addEventListener(e.window,"mouseup",this.mouseup)},Mi.prototype.mousemove=function(e){this.move(e,r.mousePos(this.element,e))},Mi.prototype.mouseup=function(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp()},Mi.prototype.touchstart=function(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=r.touchPos(this.element,e.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return e.preventDefault()}},this._startPos))},Mi.prototype.touchmove=function(e){1!==e.targetTouches.length?this.reset():(this._lastPos=r.touchPos(this.element,e.targetTouches)[0],this.move({preventDefault:function(){return e.preventDefault()}},this._lastPos))},Mi.prototype.touchend=function(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Mi.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Fi={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Ri(e,t,r){var n=e.classList;for(var i in Fi)n.remove("mapboxgl-"+r+"-anchor-"+i);n.add("mapboxgl-"+r+"-anchor-"+t)}var Di,ji=function(t){function n(n,i){if(t.call(this),(n instanceof e.window.HTMLElement||i)&&(n=e.extend({element:n},i)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=n&&n.anchor||"center",this._color=n&&n.color||"#3FB1CE",this._scale=n&&n.scale||1,this._draggable=n&&n.draggable||!1,this._clickTolerance=n&&n.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=n&&n.rotation||0,this._rotationAlignment=n&&n.rotationAlignment||"auto",this._pitchAlignment=n&&n.pitchAlignment&&"auto"!==n.pitchAlignment?n.pitchAlignment:this._rotationAlignment,n&&n.element)this._element=n.element,this._offset=e.Point.convert(n&&n.offset||[0,0]);else{this._defaultMarker=!0,this._element=r.create("div"),this._element.setAttribute("aria-label","Map marker");var a=r.createNS("http://www.w3.org/2000/svg","svg");a.setAttributeNS(null,"display","block"),a.setAttributeNS(null,"height","41px"),a.setAttributeNS(null,"width","27px"),a.setAttributeNS(null,"viewBox","0 0 27 41");var o=r.createNS("http://www.w3.org/2000/svg","g");o.setAttributeNS(null,"stroke","none"),o.setAttributeNS(null,"stroke-width","1"),o.setAttributeNS(null,"fill","none"),o.setAttributeNS(null,"fill-rule","evenodd");var s=r.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"fill-rule","nonzero");var l=r.createNS("http://www.w3.org/2000/svg","g");l.setAttributeNS(null,"transform","translate(3.0, 29.0)"),l.setAttributeNS(null,"fill","#000000");for(var u=0,c=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];u<c.length;u+=1){var f=c[u],p=r.createNS("http://www.w3.org/2000/svg","ellipse");p.setAttributeNS(null,"opacity","0.04"),p.setAttributeNS(null,"cx","10.5"),p.setAttributeNS(null,"cy","5.80029008"),p.setAttributeNS(null,"rx",f.rx),p.setAttributeNS(null,"ry",f.ry),l.appendChild(p)}var h=r.createNS("http://www.w3.org/2000/svg","g");h.setAttributeNS(null,"fill",this._color);var d=r.createNS("http://www.w3.org/2000/svg","path");d.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),h.appendChild(d);var v=r.createNS("http://www.w3.org/2000/svg","g");v.setAttributeNS(null,"opacity","0.25"),v.setAttributeNS(null,"fill","#000000");var m=r.createNS("http://www.w3.org/2000/svg","path");m.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),v.appendChild(m);var y=r.createNS("http://www.w3.org/2000/svg","g");y.setAttributeNS(null,"transform","translate(6.0, 7.0)"),y.setAttributeNS(null,"fill","#FFFFFF");var g=r.createNS("http://www.w3.org/2000/svg","g");g.setAttributeNS(null,"transform","translate(8.0, 8.0)");var _=r.createNS("http://www.w3.org/2000/svg","circle");_.setAttributeNS(null,"fill","#000000"),_.setAttributeNS(null,"opacity","0.25"),_.setAttributeNS(null,"cx","5.5"),_.setAttributeNS(null,"cy","5.5"),_.setAttributeNS(null,"r","5.4999962");var b=r.createNS("http://www.w3.org/2000/svg","circle");b.setAttributeNS(null,"fill","#FFFFFF"),b.setAttributeNS(null,"cx","5.5"),b.setAttributeNS(null,"cy","5.5"),b.setAttributeNS(null,"r","5.4999962"),g.appendChild(_),g.appendChild(b),s.appendChild(l),s.appendChild(h),s.appendChild(v),s.appendChild(y),s.appendChild(g),a.appendChild(s),a.setAttributeNS(null,"height",41*this._scale+"px"),a.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(a),this._offset=e.Point.convert(n&&n.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(function(e){e.preventDefault()})),this._element.addEventListener("mousedown",(function(e){e.preventDefault()})),Ri(this._element,this._anchor,"marker"),this._popup=null}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.addTo=function(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},n.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),r.remove(this._element),this._popup&&this._popup.remove(),this},n.prototype.getLngLat=function(){return this._lngLat},n.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},n.prototype.getElement=function(){return this._element},n.prototype.setPopup=function(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){var t=Math.sqrt(Math.pow(13.5,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[t,-1*(24.6+t)],"bottom-right":[-t,-1*(24.6+t)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},n.prototype._onKeyPress=function(e){var t=e.code,r=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==r&&13!==r||this.togglePopup()},n.prototype._onMapClick=function(e){var t=e.originalEvent.target,r=this._element;this._popup&&(t===r||r.contains(t))&&this.togglePopup()},n.prototype.getPopup=function(){return this._popup},n.prototype.togglePopup=function(){var e=this._popup;return e?(e.isOpen()?e.remove():e.addTo(this._map),this):this},n.prototype._update=function(e){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Ii(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var t="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?t="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(t="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var n="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?n="rotateX(0deg)":"map"===this._pitchAlignment&&(n="rotateX("+this._map.getPitch()+"deg)"),e&&"moveend"!==e.type||(this._pos=this._pos.round()),r.setTransform(this._element,Fi[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+n+" "+t)}},n.prototype.getOffset=function(){return this._offset},n.prototype.setOffset=function(t){return this._offset=e.Point.convert(t),this._update(),this},n.prototype._onMove=function(t){if(!this._isDragging){var r=this._clickTolerance||this._map._clickTolerance;this._isDragging=t.point.dist(this._pointerdownPos)>=r}this._isDragging&&(this._pos=t.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag")))},n.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"},n.prototype._addDragHandler=function(e){this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._offset),this._pointerdownPos=e.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},n.prototype.setDraggable=function(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},n.prototype.isDraggable=function(){return this._draggable},n.prototype.setRotation=function(e){return this._rotation=e||0,this._update(),this},n.prototype.getRotation=function(){return this._rotation},n.prototype.setRotationAlignment=function(e){return this._rotationAlignment=e||"auto",this._update(),this},n.prototype.getRotationAlignment=function(){return this._rotationAlignment},n.prototype.setPitchAlignment=function(e){return this._pitchAlignment=e&&"auto"!==e?e:this._rotationAlignment,this._update(),this},n.prototype.getPitchAlignment=function(){return this._pitchAlignment},n}(e.Evented),Li={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Ni=0,zi=!1,Bi=function(t){function n(r){t.call(this),this.options=e.extend({},Li,r),e.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.onAdd=function(t){var n;return this._map=t,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),n=this._setupUI,void 0!==Di?n(Di):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:"geolocation"}).then((function(e){n(Di="denied"!==e.state)})):n(Di=!!e.window.navigator.geolocation),this._container},n.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),r.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Ni=0,zi=!1},n.prototype._isOutOfMapMaxBounds=function(e){var t=this._map.getMaxBounds(),r=e.coords;return t&&(r.longitude<t.getWest()||r.longitude>t.getEast()||r.latitude<t.getSouth()||r.latitude>t.getNorth())},n.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},n.prototype._onSuccess=function(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()}},n.prototype._updateCamera=function(t){var r=new e.LngLat(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy,i=this._map.getBearing(),a=e.extend({bearing:i},this.options.fitBoundsOptions);this._map.fitBounds(r.toBounds(n),a,{geolocateSource:!0})},n.prototype._updateMarker=function(t){if(t){var r=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(r).addTo(this._map),this._userLocationDotMarker.setLngLat(r).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},n.prototype._updateCircleRadius=function(){var e=this._map._container.clientHeight/2,t=this._map.unproject([0,e]),r=this._map.unproject([1,e]),n=t.distanceTo(r),i=Math.ceil(2*this._accuracy/n);this._circleElement.style.width=i+"px",this._circleElement.style.height=i+"px"},n.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},n.prototype._onError=function(t){if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=r,this._geolocateButton.setAttribute("aria-label",r),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===t.code&&zi)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()}},n.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},n.prototype._setupUI=function(t){var n=this;if(this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this._geolocateButton=r.create("button","mapboxgl-ctrl-geolocate",this._container),r.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===t){e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var i=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i)}else{var a=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=a,this._geolocateButton.setAttribute("aria-label",a)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=r.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new ji(this._dotElement),this._circleElement=r.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new ji({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(t){t.geolocateSource||"ACTIVE_LOCK"!==n._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(n._watchState="BACKGROUND",n._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),n._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),n.fire(new e.Event("trackuserlocationend")))}))},n.prototype.trigger=function(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Ni--,zi=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var t;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Ni>1?(t={maximumAge:6e5,timeout:0},zi=!0):(t=this.options.positionOptions,zi=!1),this._geolocationWatchID=e.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,t)}}else e.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},n.prototype._clearWatch=function(){e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},n}(e.Evented),Zi={maxWidth:100,unit:"metric"},Ui=function(t){this.options=e.extend({},Zi,t),e.bindAll(["_onMove","setUnit"],this)};function Vi(e,t,r){var n=r&&r.maxWidth||100,i=e._container.clientHeight/2,a=e.unproject([0,i]),o=e.unproject([n,i]),s=a.distanceTo(o);if(r&&"imperial"===r.unit){var l=3.2808*s;l>5280?Gi(t,n,l/5280,e._getUIString("ScaleControl.Miles")):Gi(t,n,l,e._getUIString("ScaleControl.Feet"))}else r&&"nautical"===r.unit?Gi(t,n,s/1852,e._getUIString("ScaleControl.NauticalMiles")):s>=1e3?Gi(t,n,s/1e3,e._getUIString("ScaleControl.Kilometers")):Gi(t,n,s,e._getUIString("ScaleControl.Meters"))}function Gi(e,t,r,n){var i,a,o,s=(i=r,(a=Math.pow(10,(""+Math.floor(i)).length-1))*(o=(o=i/a)>=10?10:o>=5?5:o>=3?3:o>=2?2:o>=1?1:function(e){var t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(o)));e.style.width=t*(s/r)+"px",e.innerHTML=s+"&nbsp;"+n}Ui.prototype.getDefaultPosition=function(){return"bottom-left"},Ui.prototype._onMove=function(){Vi(this._map,this._container,this.options)},Ui.prototype.onAdd=function(e){return this._map=e,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Ui.prototype.onRemove=function(){r.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Ui.prototype.setUnit=function(e){this.options.unit=e,Vi(this._map,this._container,this.options)};var Wi=function(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof e.window.HTMLElement?this._container=t.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in e.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in e.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in e.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in e.window.document&&(this._fullscreenchange="MSFullscreenChange")};Wi.prototype.onAdd=function(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Wi.prototype.onRemove=function(){r.remove(this._controlContainer),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Wi.prototype._checkFullscreenSupport=function(){return!!(e.window.document.fullscreenEnabled||e.window.document.mozFullScreenEnabled||e.window.document.msFullscreenEnabled||e.window.document.webkitFullscreenEnabled)},Wi.prototype._setupUI=function(){var t=this._fullscreenButton=r.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);r.create("span","mapboxgl-ctrl-icon",t).setAttribute("aria-hidden",!0),t.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Wi.prototype._updateTitle=function(){var e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.title=e},Wi.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Wi.prototype._isFullscreen=function(){return this._fullscreen},Wi.prototype._changeIcon=function(){(e.window.document.fullscreenElement||e.window.document.mozFullScreenElement||e.window.document.webkitFullscreenElement||e.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Wi.prototype._onClickFullscreen=function(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.mozCancelFullScreen?e.window.document.mozCancelFullScreen():e.window.document.msExitFullscreen?e.window.document.msExitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var qi={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Hi=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Yi=function(t){function n(r){t.call(this),this.options=e.extend(Object.create(qi),r),e.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.addTo=function(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new e.Event("open")),this},n.prototype.isOpen=function(){return!!this._map},n.prototype.remove=function(){return this._content&&r.remove(this._content),this._container&&(r.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new e.Event("close")),this},n.prototype.getLngLat=function(){return this._lngLat},n.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},n.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},n.prototype.getElement=function(){return this._container},n.prototype.setText=function(t){return this.setDOMContent(e.window.document.createTextNode(t))},n.prototype.setHTML=function(t){var r,n=e.window.document.createDocumentFragment(),i=e.window.document.createElement("body");for(i.innerHTML=t;r=i.firstChild;)n.appendChild(r);return this.setDOMContent(n)},n.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},n.prototype.setMaxWidth=function(e){return this.options.maxWidth=e,this._update(),this},n.prototype.setDOMContent=function(e){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=r.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(e),this._createCloseButton(),this._update(),this._focusFirstElement(),this},n.prototype.addClassName=function(e){this._container&&this._container.classList.add(e)},n.prototype.removeClassName=function(e){this._container&&this._container.classList.remove(e)},n.prototype.setOffset=function(e){return this.options.offset=e,this._update(),this},n.prototype.toggleClassName=function(e){if(this._container)return this._container.classList.toggle(e)},n.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=r.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},n.prototype._onMouseUp=function(e){this._update(e.point)},n.prototype._onMouseMove=function(e){this._update(e.point)},n.prototype._onDrag=function(e){this._update(e.point)},n.prototype._update=function(t){var n=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=r.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=r.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((function(e){return n._container.classList.add(e)})),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Ii(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||t)){var i=this._pos=this._trackPointer&&t?t:this._map.project(this._lngLat),a=this.options.anchor,o=function t(r){if(r){if("number"==typeof r){var n=Math.round(Math.sqrt(.5*Math.pow(r,2)));return{center:new e.Point(0,0),top:new e.Point(0,r),"top-left":new e.Point(n,n),"top-right":new e.Point(-n,n),bottom:new e.Point(0,-r),"bottom-left":new e.Point(n,-n),"bottom-right":new e.Point(-n,-n),left:new e.Point(r,0),right:new e.Point(-r,0)}}if(r instanceof e.Point||Array.isArray(r)){var i=e.Point.convert(r);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:e.Point.convert(r.center||[0,0]),top:e.Point.convert(r.top||[0,0]),"top-left":e.Point.convert(r["top-left"]||[0,0]),"top-right":e.Point.convert(r["top-right"]||[0,0]),bottom:e.Point.convert(r.bottom||[0,0]),"bottom-left":e.Point.convert(r["bottom-left"]||[0,0]),"bottom-right":e.Point.convert(r["bottom-right"]||[0,0]),left:e.Point.convert(r.left||[0,0]),right:e.Point.convert(r.right||[0,0])}}return t(new e.Point(0,0))}(this.options.offset);if(!a){var s,l=this._container.offsetWidth,u=this._container.offsetHeight;s=i.y+o.bottom.y<u?["top"]:i.y>this._map.transform.height-u?["bottom"]:[],i.x<l/2?s.push("left"):i.x>this._map.transform.width-l/2&&s.push("right"),a=0===s.length?"bottom":s.join("-")}var c=i.add(o[a]).round();r.setTransform(this._container,Fi[a]+" translate("+c.x+"px,"+c.y+"px)"),Ri(this._container,a,"popup")}},n.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var e=this._container.querySelector(Hi);e&&e.focus()}},n.prototype._onClose=function(){this.remove()},n}(e.Evented),Xi={version:e.version,supported:t,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:Ci,NavigationControl:Oi,GeolocateControl:Bi,AttributionControl:_i,ScaleControl:Ui,FullscreenControl:Wi,Popup:Yi,Marker:ji,Style:Vt,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.Point,MercatorCoordinate:e.MercatorCoordinate,Evented:e.Evented,config:e.config,prewarm:function(){Ne().acquire(Re)},clearPrewarmedResources:function(){var e=je;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(Re),je=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t},get workerCount(){return De.workerCount},set workerCount(e){De.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage:function(t){e.clearTileCache(t)},workerUrl:""};return Xi})),r}()},83329:function(e,t,r){!function(){var t=r(72358),n=r(74383).utf8,i=r(25586),a=r(74383).bin,o=function e(r,o){r.constructor==String?r=o&&"binary"===o.encoding?a.stringToBytes(r):n.stringToBytes(r):i(r)?r=Array.prototype.slice.call(r,0):Array.isArray(r)||r.constructor===Uint8Array||(r=r.toString());for(var s=t.bytesToWords(r),l=8*r.length,u=1732584193,c=-271733879,f=-1732584194,p=271733878,h=0;h<s.length;h++)s[h]=16711935&(s[h]<<8|s[h]>>>24)|4278255360&(s[h]<<24|s[h]>>>8);s[l>>>5]|=128<<l%32,s[14+(l+64>>>9<<4)]=l;var d=e._ff,v=e._gg,m=e._hh,y=e._ii;for(h=0;h<s.length;h+=16){var g=u,_=c,b=f,x=p;u=d(u,c,f,p,s[h+0],7,-680876936),p=d(p,u,c,f,s[h+1],12,-389564586),f=d(f,p,u,c,s[h+2],17,606105819),c=d(c,f,p,u,s[h+3],22,-1044525330),u=d(u,c,f,p,s[h+4],7,-176418897),p=d(p,u,c,f,s[h+5],12,1200080426),f=d(f,p,u,c,s[h+6],17,-1473231341),c=d(c,f,p,u,s[h+7],22,-45705983),u=d(u,c,f,p,s[h+8],7,1770035416),p=d(p,u,c,f,s[h+9],12,-1958414417),f=d(f,p,u,c,s[h+10],17,-42063),c=d(c,f,p,u,s[h+11],22,-1990404162),u=d(u,c,f,p,s[h+12],7,1804603682),p=d(p,u,c,f,s[h+13],12,-40341101),f=d(f,p,u,c,s[h+14],17,-1502002290),u=v(u,c=d(c,f,p,u,s[h+15],22,1236535329),f,p,s[h+1],5,-165796510),p=v(p,u,c,f,s[h+6],9,-1069501632),f=v(f,p,u,c,s[h+11],14,643717713),c=v(c,f,p,u,s[h+0],20,-373897302),u=v(u,c,f,p,s[h+5],5,-701558691),p=v(p,u,c,f,s[h+10],9,38016083),f=v(f,p,u,c,s[h+15],14,-660478335),c=v(c,f,p,u,s[h+4],20,-405537848),u=v(u,c,f,p,s[h+9],5,568446438),p=v(p,u,c,f,s[h+14],9,-1019803690),f=v(f,p,u,c,s[h+3],14,-187363961),c=v(c,f,p,u,s[h+8],20,1163531501),u=v(u,c,f,p,s[h+13],5,-1444681467),p=v(p,u,c,f,s[h+2],9,-51403784),f=v(f,p,u,c,s[h+7],14,1735328473),u=m(u,c=v(c,f,p,u,s[h+12],20,-1926607734),f,p,s[h+5],4,-378558),p=m(p,u,c,f,s[h+8],11,-2022574463),f=m(f,p,u,c,s[h+11],16,1839030562),c=m(c,f,p,u,s[h+14],23,-35309556),u=m(u,c,f,p,s[h+1],4,-1530992060),p=m(p,u,c,f,s[h+4],11,1272893353),f=m(f,p,u,c,s[h+7],16,-155497632),c=m(c,f,p,u,s[h+10],23,-1094730640),u=m(u,c,f,p,s[h+13],4,681279174),p=m(p,u,c,f,s[h+0],11,-358537222),f=m(f,p,u,c,s[h+3],16,-722521979),c=m(c,f,p,u,s[h+6],23,76029189),u=m(u,c,f,p,s[h+9],4,-640364487),p=m(p,u,c,f,s[h+12],11,-421815835),f=m(f,p,u,c,s[h+15],16,530742520),u=y(u,c=m(c,f,p,u,s[h+2],23,-995338651),f,p,s[h+0],6,-198630844),p=y(p,u,c,f,s[h+7],10,1126891415),f=y(f,p,u,c,s[h+14],15,-1416354905),c=y(c,f,p,u,s[h+5],21,-57434055),u=y(u,c,f,p,s[h+12],6,1700485571),p=y(p,u,c,f,s[h+3],10,-1894986606),f=y(f,p,u,c,s[h+10],15,-1051523),c=y(c,f,p,u,s[h+1],21,-2054922799),u=y(u,c,f,p,s[h+8],6,1873313359),p=y(p,u,c,f,s[h+15],10,-30611744),f=y(f,p,u,c,s[h+6],15,-1560198380),c=y(c,f,p,u,s[h+13],21,1309151649),u=y(u,c,f,p,s[h+4],6,-145523070),p=y(p,u,c,f,s[h+11],10,-1120210379),f=y(f,p,u,c,s[h+2],15,718787259),c=y(c,f,p,u,s[h+9],21,-343485551),u=u+g>>>0,c=c+_>>>0,f=f+b>>>0,p=p+x>>>0}return t.endian([u,c,f,p])};o._ff=function(e,t,r,n,i,a,o){var s=e+(t&r|~t&n)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},o._gg=function(e,t,r,n,i,a,o){var s=e+(t&n|r&~n)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},o._hh=function(e,t,r,n,i,a,o){var s=e+(t^r^n)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},o._ii=function(e,t,r,n,i,a,o){var s=e+(r^(t|~n))+(i>>>0)+o;return(s<<a|s>>>32-a)+t},o._blocksize=16,o._digestsize=16,e.exports=function(e,r){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var n=t.wordsToBytes(o(e,r));return r&&r.asBytes?n:r&&r.asString?a.bytesToString(n):t.bytesToHex(n)}}()},85781:function(e,t,r){"use strict";r.r(t);var n=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function i(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(i=e[r],a=t[r],!(i===a||n(i)&&n(a)))return!1;var i,a;return!0}t.default=function(e,t){var r;void 0===t&&(t=i);var n,a=[],o=!1;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return o&&r===this&&t(i,a)||(n=e.apply(this,i),o=!0,r=this,a=i),n}}},72426:function(e,t,r){(e=r.nmd(e)).exports=function(){"use strict";var t,r;function n(){return t.apply(null,arguments)}function i(e){t=e}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function u(e){return void 0===e}function c(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function f(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function p(e,t){var r,n=[],i=e.length;for(r=0;r<i;++r)n.push(t(e[r],r));return n}function h(e,t){for(var r in t)s(t,r)&&(e[r]=t[r]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,r,n){return Hr(e,t,r,n,!0).utc()}function v(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function m(e){return null==e._pf&&(e._pf=v()),e._pf}function y(e){if(null==e._isValid){var t=m(e),n=r.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function g(e){var t=d(NaN);return null!=e?h(m(t),e):m(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){var t,r=Object(this),n=r.length>>>0;for(t=0;t<n;t++)if(t in r&&e.call(this,r[t],t,r))return!0;return!1};var _=n.momentProperties=[],b=!1;function x(e,t){var r,n,i,a=_.length;if(u(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),u(t._i)||(e._i=t._i),u(t._f)||(e._f=t._f),u(t._l)||(e._l=t._l),u(t._strict)||(e._strict=t._strict),u(t._tzm)||(e._tzm=t._tzm),u(t._isUTC)||(e._isUTC=t._isUTC),u(t._offset)||(e._offset=t._offset),u(t._pf)||(e._pf=m(t)),u(t._locale)||(e._locale=t._locale),a>0)for(r=0;r<a;r++)u(i=t[n=_[r]])||(e[n]=i);return e}function w(e){x(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,n.updateOffset(this),b=!1)}function S(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function P(e){!1===n.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function k(e,t){var r=!0;return h((function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),r){var i,a,o,l=[],u=arguments.length;for(a=0;a<u;a++){if(i="","object"===typeof arguments[a]){for(o in i+="\n["+a+"] ",arguments[0])s(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[a];l.push(i)}P(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),r=!1}return t.apply(this,arguments)}),t)}var E,C={};function A(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),C[e]||(P(t),C[e]=!0)}function T(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function O(e){var t,r;for(r in e)s(e,r)&&(T(t=e[r])?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function M(e,t){var r,n=h({},e);for(r in t)s(t,r)&&(o(e[r])&&o(t[r])?(n[r]={},h(n[r],e[r]),h(n[r],t[r])):null!=t[r]?n[r]=t[r]:delete n[r]);for(r in e)s(e,r)&&!s(t,r)&&o(e[r])&&(n[r]=h({},n[r]));return n}function I(e){null!=e&&this.set(e)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,E=Object.keys?Object.keys:function(e){var t,r=[];for(t in e)s(e,t)&&r.push(t);return r};var F={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function R(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return T(n)?n.call(t,r):n}function D(e,t,r){var n=""+Math.abs(e),i=t-n.length;return(e>=0?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+n}var j=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,L=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,N={},z={};function B(e,t,r,n){var i=n;"string"===typeof n&&(i=function(){return this[n]()}),e&&(z[e]=i),t&&(z[t[0]]=function(){return D(i.apply(this,arguments),t[1],t[2])}),r&&(z[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function Z(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function U(e){var t,r,n=e.match(j);for(t=0,r=n.length;t<r;t++)z[n[t]]?n[t]=z[n[t]]:n[t]=Z(n[t]);return function(t){var i,a="";for(i=0;i<r;i++)a+=T(n[i])?n[i].call(t,e):n[i];return a}}function V(e,t){return e.isValid()?(t=G(t,e.localeData()),N[t]=N[t]||U(t),N[t](e)):e.localeData().invalidDate()}function G(e,t){var r=5;function n(e){return t.longDateFormat(e)||e}for(L.lastIndex=0;r>=0&&L.test(e);)e=e.replace(L,n),L.lastIndex=0,r-=1;return e}var W={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function q(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(j).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var H="Invalid date";function Y(){return this._invalidDate}var X="%d",K=/\d{1,2}/;function $(e){return this._ordinal.replace("%d",e)}var J={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Q(e,t,r,n){var i=this._relativeTime[r];return T(i)?i(e,t,r,n):i.replace(/%d/i,e)}function ee(e,t){var r=this._relativeTime[e>0?"future":"past"];return T(r)?r(t):r.replace(/%s/i,t)}var te={};function re(e,t){var r=e.toLowerCase();te[r]=te[r+"s"]=te[t]=e}function ne(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ie(e){var t,r,n={};for(r in e)s(e,r)&&(t=ne(r))&&(n[t]=e[r]);return n}var ae={};function oe(e,t){ae[e]=t}function se(e){var t,r=[];for(t in e)s(e,t)&&r.push({unit:t,priority:ae[t]});return r.sort((function(e,t){return e.priority-t.priority})),r}function le(e){return e%4===0&&e%100!==0||e%400===0}function ue(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function ce(e){var t=+e,r=0;return 0!==t&&isFinite(t)&&(r=ue(t)),r}function fe(e,t){return function(r){return null!=r?(he(this,e,r),n.updateOffset(this,t),this):pe(this,e)}}function pe(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function he(e,t,r){e.isValid()&&!isNaN(r)&&("FullYear"===t&&le(e.year())&&1===e.month()&&29===e.date()?(r=ce(r),e._d["set"+(e._isUTC?"UTC":"")+t](r,e.month(),Qe(r,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](r))}function de(e){return T(this[e=ne(e)])?this[e]():this}function ve(e,t){if("object"===typeof e){var r,n=se(e=ie(e)),i=n.length;for(r=0;r<i;r++)this[n[r].unit](e[n[r].unit])}else if(T(this[e=ne(e)]))return this[e](t);return this}var me,ye=/\d/,ge=/\d\d/,_e=/\d{3}/,be=/\d{4}/,xe=/[+-]?\d{6}/,we=/\d\d?/,Se=/\d\d\d\d?/,Pe=/\d\d\d\d\d\d?/,ke=/\d{1,3}/,Ee=/\d{1,4}/,Ce=/[+-]?\d{1,6}/,Ae=/\d+/,Te=/[+-]?\d+/,Oe=/Z|[+-]\d\d:?\d\d/gi,Me=/Z|[+-]\d\d(?::?\d\d)?/gi,Ie=/[+-]?\d+(\.\d{1,3})?/,Fe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Re(e,t,r){me[e]=T(t)?t:function(e,n){return e&&r?r:t}}function De(e,t){return s(me,e)?me[e](t._strict,t._locale):new RegExp(je(e))}function je(e){return Le(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,r,n,i){return t||r||n||i})))}function Le(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}me={};var Ne={};function ze(e,t){var r,n,i=t;for("string"===typeof e&&(e=[e]),c(t)&&(i=function(e,r){r[t]=ce(e)}),n=e.length,r=0;r<n;r++)Ne[e[r]]=i}function Be(e,t){ze(e,(function(e,r,n,i){n._w=n._w||{},t(e,n._w,n,i)}))}function Ze(e,t,r){null!=t&&s(Ne,e)&&Ne[e](t,r._a,r,e)}var Ue,Ve=0,Ge=1,We=2,qe=3,He=4,Ye=5,Xe=6,Ke=7,$e=8;function Je(e,t){return(e%t+t)%t}function Qe(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=Je(t,12);return e+=(t-r)/12,1===r?le(e)?29:28:31-r%7%2}Ue=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},B("M",["MM",2],"Mo",(function(){return this.month()+1})),B("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),B("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),re("month","M"),oe("month",8),Re("M",we),Re("MM",we,ge),Re("MMM",(function(e,t){return t.monthsShortRegex(e)})),Re("MMMM",(function(e,t){return t.monthsRegex(e)})),ze(["M","MM"],(function(e,t){t[Ge]=ce(e)-1})),ze(["MMM","MMMM"],(function(e,t,r,n){var i=r._locale.monthsParse(e,n,r._strict);null!=i?t[Ge]=i:m(r).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),rt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,nt=Fe,it=Fe;function at(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||rt).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone}function ot(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[rt.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function st(e,t,r){var n,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)a=d([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(a,"").toLocaleLowerCase();return r?"MMM"===t?-1!==(i=Ue.call(this._shortMonthsParse,o))?i:null:-1!==(i=Ue.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=Ue.call(this._shortMonthsParse,o))||-1!==(i=Ue.call(this._longMonthsParse,o))?i:null:-1!==(i=Ue.call(this._longMonthsParse,o))||-1!==(i=Ue.call(this._shortMonthsParse,o))?i:null}function lt(e,t,r){var n,i,a;if(this._monthsParseExact)return st.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(i=d([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),r||this._monthsParse[n]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(a.replace(".",""),"i")),r&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(r&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}}function ut(e,t){var r;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=ce(t);else if(!c(t=e.localeData().monthsParse(t)))return e;return r=Math.min(e.date(),Qe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,r),e}function ct(e){return null!=e?(ut(this,e),n.updateOffset(this,!0),this):pe(this,"Month")}function ft(){return Qe(this.year(),this.month())}function pt(e){return this._monthsParseExact?(s(this,"_monthsRegex")||dt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=nt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ht(e){return this._monthsParseExact?(s(this,"_monthsRegex")||dt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=it),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function dt(){function e(e,t){return t.length-e.length}var t,r,n=[],i=[],a=[];for(t=0;t<12;t++)r=d([2e3,t]),n.push(this.monthsShort(r,"")),i.push(this.months(r,"")),a.push(this.months(r,"")),a.push(this.monthsShort(r,""));for(n.sort(e),i.sort(e),a.sort(e),t=0;t<12;t++)n[t]=Le(n[t]),i[t]=Le(i[t]);for(t=0;t<24;t++)a[t]=Le(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function vt(e){return le(e)?366:365}B("Y",0,0,(function(){var e=this.year();return e<=9999?D(e,4):"+"+e})),B(0,["YY",2],0,(function(){return this.year()%100})),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),re("year","y"),oe("year",1),Re("Y",Te),Re("YY",we,ge),Re("YYYY",Ee,be),Re("YYYYY",Ce,xe),Re("YYYYYY",Ce,xe),ze(["YYYYY","YYYYYY"],Ve),ze("YYYY",(function(e,t){t[Ve]=2===e.length?n.parseTwoDigitYear(e):ce(e)})),ze("YY",(function(e,t){t[Ve]=n.parseTwoDigitYear(e)})),ze("Y",(function(e,t){t[Ve]=parseInt(e,10)})),n.parseTwoDigitYear=function(e){return ce(e)+(ce(e)>68?1900:2e3)};var mt=fe("FullYear",!0);function yt(){return le(this.year())}function gt(e,t,r,n,i,a,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,r,n,i,a,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,r,n,i,a,o),s}function _t(e){var t,r;return e<100&&e>=0?((r=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function bt(e,t,r){var n=7+t-r;return-(7+_t(e,0,n).getUTCDay()-t)%7+n-1}function xt(e,t,r,n,i){var a,o,s=1+7*(t-1)+(7+r-n)%7+bt(e,n,i);return s<=0?o=vt(a=e-1)+s:s>vt(e)?(a=e+1,o=s-vt(e)):(a=e,o=s),{year:a,dayOfYear:o}}function wt(e,t,r){var n,i,a=bt(e.year(),t,r),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?n=o+St(i=e.year()-1,t,r):o>St(e.year(),t,r)?(n=o-St(e.year(),t,r),i=e.year()+1):(i=e.year(),n=o),{week:n,year:i}}function St(e,t,r){var n=bt(e,t,r),i=bt(e+1,t,r);return(vt(e)-n+i)/7}function Pt(e){return wt(e,this._week.dow,this._week.doy).week}B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),re("week","w"),re("isoWeek","W"),oe("week",5),oe("isoWeek",5),Re("w",we),Re("ww",we,ge),Re("W",we),Re("WW",we,ge),Be(["w","ww","W","WW"],(function(e,t,r,n){t[n.substr(0,1)]=ce(e)}));var kt={dow:0,doy:6};function Et(){return this._week.dow}function Ct(){return this._week.doy}function At(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Tt(e){var t=wt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Ot(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Mt(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function It(e,t){return e.slice(t,7).concat(e.slice(0,t))}B("d",0,"do","day"),B("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),B("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),B("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),re("day","d"),re("weekday","e"),re("isoWeekday","E"),oe("day",11),oe("weekday",11),oe("isoWeekday",11),Re("d",we),Re("e",we),Re("E",we),Re("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Re("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Re("dddd",(function(e,t){return t.weekdaysRegex(e)})),Be(["dd","ddd","dddd"],(function(e,t,r,n){var i=r._locale.weekdaysParse(e,n,r._strict);null!=i?t.d=i:m(r).invalidWeekday=e})),Be(["d","e","E"],(function(e,t,r,n){t[n]=ce(e)}));var Ft="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Rt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Dt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),jt=Fe,Lt=Fe,Nt=Fe;function zt(e,t){var r=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?It(r,this._week.dow):e?r[e.day()]:r}function Bt(e){return!0===e?It(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Zt(e){return!0===e?It(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ut(e,t,r){var n,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)a=d([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(a,"").toLocaleLowerCase();return r?"dddd"===t?-1!==(i=Ue.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Ue.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=Ue.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=Ue.call(this._weekdaysParse,o))||-1!==(i=Ue.call(this._shortWeekdaysParse,o))||-1!==(i=Ue.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Ue.call(this._shortWeekdaysParse,o))||-1!==(i=Ue.call(this._weekdaysParse,o))||-1!==(i=Ue.call(this._minWeekdaysParse,o))?i:null:-1!==(i=Ue.call(this._minWeekdaysParse,o))||-1!==(i=Ue.call(this._weekdaysParse,o))||-1!==(i=Ue.call(this._shortWeekdaysParse,o))?i:null}function Vt(e,t,r){var n,i,a;if(this._weekdaysParseExact)return Ut.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(i=d([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[n]=new RegExp(a.replace(".",""),"i")),r&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(r&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(r&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}}function Gt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ot(e,this.localeData()),this.add(e-t,"d")):t}function Wt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function qt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Mt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Ht(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Kt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=jt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Yt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Kt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Lt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Xt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Kt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Nt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Kt(){function e(e,t){return t.length-e.length}var t,r,n,i,a,o=[],s=[],l=[],u=[];for(t=0;t<7;t++)r=d([2e3,1]).day(t),n=Le(this.weekdaysMin(r,"")),i=Le(this.weekdaysShort(r,"")),a=Le(this.weekdays(r,"")),o.push(n),s.push(i),l.push(a),u.push(n),u.push(i),u.push(a);o.sort(e),s.sort(e),l.sort(e),u.sort(e),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function $t(){return this.hours()%12||12}function Jt(){return this.hours()||24}function Qt(e,t){B(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function er(e,t){return t._meridiemParse}function tr(e){return"p"===(e+"").toLowerCase().charAt(0)}B("H",["HH",2],0,"hour"),B("h",["hh",2],0,$t),B("k",["kk",2],0,Jt),B("hmm",0,0,(function(){return""+$t.apply(this)+D(this.minutes(),2)})),B("hmmss",0,0,(function(){return""+$t.apply(this)+D(this.minutes(),2)+D(this.seconds(),2)})),B("Hmm",0,0,(function(){return""+this.hours()+D(this.minutes(),2)})),B("Hmmss",0,0,(function(){return""+this.hours()+D(this.minutes(),2)+D(this.seconds(),2)})),Qt("a",!0),Qt("A",!1),re("hour","h"),oe("hour",13),Re("a",er),Re("A",er),Re("H",we),Re("h",we),Re("k",we),Re("HH",we,ge),Re("hh",we,ge),Re("kk",we,ge),Re("hmm",Se),Re("hmmss",Pe),Re("Hmm",Se),Re("Hmmss",Pe),ze(["H","HH"],qe),ze(["k","kk"],(function(e,t,r){var n=ce(e);t[qe]=24===n?0:n})),ze(["a","A"],(function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e})),ze(["h","hh"],(function(e,t,r){t[qe]=ce(e),m(r).bigHour=!0})),ze("hmm",(function(e,t,r){var n=e.length-2;t[qe]=ce(e.substr(0,n)),t[He]=ce(e.substr(n)),m(r).bigHour=!0})),ze("hmmss",(function(e,t,r){var n=e.length-4,i=e.length-2;t[qe]=ce(e.substr(0,n)),t[He]=ce(e.substr(n,2)),t[Ye]=ce(e.substr(i)),m(r).bigHour=!0})),ze("Hmm",(function(e,t,r){var n=e.length-2;t[qe]=ce(e.substr(0,n)),t[He]=ce(e.substr(n))})),ze("Hmmss",(function(e,t,r){var n=e.length-4,i=e.length-2;t[qe]=ce(e.substr(0,n)),t[He]=ce(e.substr(n,2)),t[Ye]=ce(e.substr(i))}));var rr=/[ap]\.?m?\.?/i,nr=fe("Hours",!0);function ir(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var ar,or={calendar:F,longDateFormat:W,invalidDate:H,ordinal:X,dayOfMonthOrdinalParse:K,relativeTime:J,months:et,monthsShort:tt,week:kt,weekdays:Ft,weekdaysMin:Dt,weekdaysShort:Rt,meridiemParse:rr},sr={},lr={};function ur(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function cr(e){return e?e.toLowerCase().replace("_","-"):e}function fr(e){for(var t,r,n,i,a=0;a<e.length;){for(t=(i=cr(e[a]).split("-")).length,r=(r=cr(e[a+1]))?r.split("-"):null;t>0;){if(n=hr(i.slice(0,t).join("-")))return n;if(r&&r.length>=t&&ur(i,r)>=t-1)break;t--}a++}return ar}function pr(e){return null!=e.match("^[^/\\\\]*$")}function hr(t){var r=null;if(void 0===sr[t]&&e&&e.exports&&pr(t))try{r=ar._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),dr(r)}catch(n){sr[t]=null}return sr[t]}function dr(e,t){var r;return e&&((r=u(t)?yr(e):vr(e,t))?ar=r:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ar._abbr}function vr(e,t){if(null!==t){var r,n=or;if(t.abbr=e,null!=sr[e])A("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=sr[e]._config;else if(null!=t.parentLocale)if(null!=sr[t.parentLocale])n=sr[t.parentLocale]._config;else{if(null==(r=hr(t.parentLocale)))return lr[t.parentLocale]||(lr[t.parentLocale]=[]),lr[t.parentLocale].push({name:e,config:t}),null;n=r._config}return sr[e]=new I(M(n,t)),lr[e]&&lr[e].forEach((function(e){vr(e.name,e.config)})),dr(e),sr[e]}return delete sr[e],null}function mr(e,t){if(null!=t){var r,n,i=or;null!=sr[e]&&null!=sr[e].parentLocale?sr[e].set(M(sr[e]._config,t)):(null!=(n=hr(e))&&(i=n._config),t=M(i,t),null==n&&(t.abbr=e),(r=new I(t)).parentLocale=sr[e],sr[e]=r),dr(e)}else null!=sr[e]&&(null!=sr[e].parentLocale?(sr[e]=sr[e].parentLocale,e===dr()&&dr(e)):null!=sr[e]&&delete sr[e]);return sr[e]}function yr(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ar;if(!a(e)){if(t=hr(e))return t;e=[e]}return fr(e)}function gr(){return E(sr)}function _r(e){var t,r=e._a;return r&&-2===m(e).overflow&&(t=r[Ge]<0||r[Ge]>11?Ge:r[We]<1||r[We]>Qe(r[Ve],r[Ge])?We:r[qe]<0||r[qe]>24||24===r[qe]&&(0!==r[He]||0!==r[Ye]||0!==r[Xe])?qe:r[He]<0||r[He]>59?He:r[Ye]<0||r[Ye]>59?Ye:r[Xe]<0||r[Xe]>999?Xe:-1,m(e)._overflowDayOfYear&&(t<Ve||t>We)&&(t=We),m(e)._overflowWeeks&&-1===t&&(t=Ke),m(e)._overflowWeekday&&-1===t&&(t=$e),m(e).overflow=t),e}var br=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wr=/Z|[+-]\d\d(?::?\d\d)?/,Sr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Pr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],kr=/^\/?Date\((-?\d+)/i,Er=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Cr={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ar(e){var t,r,n,i,a,o,s=e._i,l=br.exec(s)||xr.exec(s),u=Sr.length,c=Pr.length;if(l){for(m(e).iso=!0,t=0,r=u;t<r;t++)if(Sr[t][1].exec(l[1])){i=Sr[t][0],n=!1!==Sr[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,r=c;t<r;t++)if(Pr[t][1].exec(l[3])){a=(l[2]||" ")+Pr[t][0];break}if(null==a)return void(e._isValid=!1)}if(!n&&null!=a)return void(e._isValid=!1);if(l[4]){if(!wr.exec(l[4]))return void(e._isValid=!1);o="Z"}e._f=i+(a||"")+(o||""),Br(e)}else e._isValid=!1}function Tr(e,t,r,n,i,a){var o=[Or(e),tt.indexOf(t),parseInt(r,10),parseInt(n,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}function Or(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Mr(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Ir(e,t,r){return!e||Rt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(m(r).weekdayMismatch=!0,r._isValid=!1,!1)}function Fr(e,t,r){if(e)return Cr[e];if(t)return 0;var n=parseInt(r,10),i=n%100;return(n-i)/100*60+i}function Rr(e){var t,r=Er.exec(Mr(e._i));if(r){if(t=Tr(r[4],r[3],r[2],r[5],r[6],r[7]),!Ir(r[1],t,e))return;e._a=t,e._tzm=Fr(r[8],r[9],r[10]),e._d=_t.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0}else e._isValid=!1}function Dr(e){var t=kr.exec(e._i);null===t?(Ar(e),!1===e._isValid&&(delete e._isValid,Rr(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:n.createFromInputFallback(e)))):e._d=new Date(+t[1])}function jr(e,t,r){return null!=e?e:null!=t?t:r}function Lr(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Nr(e){var t,r,n,i,a,o=[];if(!e._d){for(n=Lr(e),e._w&&null==e._a[We]&&null==e._a[Ge]&&zr(e),null!=e._dayOfYear&&(a=jr(e._a[Ve],n[Ve]),(e._dayOfYear>vt(a)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),r=_t(a,0,e._dayOfYear),e._a[Ge]=r.getUTCMonth(),e._a[We]=r.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=n[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[qe]&&0===e._a[He]&&0===e._a[Ye]&&0===e._a[Xe]&&(e._nextDay=!0,e._a[qe]=0),e._d=(e._useUTC?_t:gt).apply(null,o),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[qe]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(m(e).weekdayMismatch=!0)}}function zr(e){var t,r,n,i,a,o,s,l,u;null!=(t=e._w).GG||null!=t.W||null!=t.E?(a=1,o=4,r=jr(t.GG,e._a[Ve],wt(Yr(),1,4).year),n=jr(t.W,1),((i=jr(t.E,1))<1||i>7)&&(l=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,u=wt(Yr(),a,o),r=jr(t.gg,e._a[Ve],u.year),n=jr(t.w,u.week),null!=t.d?((i=t.d)<0||i>6)&&(l=!0):null!=t.e?(i=t.e+a,(t.e<0||t.e>6)&&(l=!0)):i=a),n<1||n>St(r,a,o)?m(e)._overflowWeeks=!0:null!=l?m(e)._overflowWeekday=!0:(s=xt(r,n,i,a,o),e._a[Ve]=s.year,e._dayOfYear=s.dayOfYear)}function Br(e){if(e._f!==n.ISO_8601)if(e._f!==n.RFC_2822){e._a=[],m(e).empty=!0;var t,r,i,a,o,s,l,u=""+e._i,c=u.length,f=0;for(l=(i=G(e._f,e._locale).match(j)||[]).length,t=0;t<l;t++)a=i[t],(r=(u.match(De(a,e))||[])[0])&&((o=u.substr(0,u.indexOf(r))).length>0&&m(e).unusedInput.push(o),u=u.slice(u.indexOf(r)+r.length),f+=r.length),z[a]?(r?m(e).empty=!1:m(e).unusedTokens.push(a),Ze(a,r,e)):e._strict&&!r&&m(e).unusedTokens.push(a);m(e).charsLeftOver=c-f,u.length>0&&m(e).unusedInput.push(u),e._a[qe]<=12&&!0===m(e).bigHour&&e._a[qe]>0&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[qe]=Zr(e._locale,e._a[qe],e._meridiem),null!==(s=m(e).era)&&(e._a[Ve]=e._locale.erasConvertYear(s,e._a[Ve])),Nr(e),_r(e)}else Rr(e);else Ar(e)}function Zr(e,t,r){var n;return null==r?t:null!=e.meridiemHour?e.meridiemHour(t,r):null!=e.isPM?((n=e.isPM(r))&&t<12&&(t+=12),n||12!==t||(t=0),t):t}function Ur(e){var t,r,n,i,a,o,s=!1,l=e._f.length;if(0===l)return m(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<l;i++)a=0,o=!1,t=x({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Br(t),y(t)&&(o=!0),a+=m(t).charsLeftOver,a+=10*m(t).unusedTokens.length,m(t).score=a,s?a<n&&(n=a,r=t):(null==n||a<n||o)&&(n=a,r=t,o&&(s=!0));h(e,r||t)}function Vr(e){if(!e._d){var t=ie(e._i),r=void 0===t.day?t.date:t.day;e._a=p([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Nr(e)}}function Gr(e){var t=new w(_r(Wr(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Wr(e){var t=e._i,r=e._f;return e._locale=e._locale||yr(e._l),null===t||void 0===r&&""===t?g({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),S(t)?new w(_r(t)):(f(t)?e._d=t:a(r)?Ur(e):r?Br(e):qr(e),y(e)||(e._d=null),e))}function qr(e){var t=e._i;u(t)?e._d=new Date(n.now()):f(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Dr(e):a(t)?(e._a=p(t.slice(0),(function(e){return parseInt(e,10)})),Nr(e)):o(t)?Vr(e):c(t)?e._d=new Date(t):n.createFromInputFallback(e)}function Hr(e,t,r,n,i){var s={};return!0!==t&&!1!==t||(n=t,t=void 0),!0!==r&&!1!==r||(n=r,r=void 0),(o(e)&&l(e)||a(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=r,s._i=e,s._f=t,s._strict=n,Gr(s)}function Yr(e,t,r,n){return Hr(e,t,r,n,!1)}n.createFromInputFallback=k("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),n.ISO_8601=function(){},n.RFC_2822=function(){};var Xr=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Yr.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()})),Kr=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Yr.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}));function $r(e,t){var r,n;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return Yr();for(r=t[0],n=1;n<t.length;++n)t[n].isValid()&&!t[n][e](r)||(r=t[n]);return r}function Jr(){return $r("isBefore",[].slice.call(arguments,0))}function Qr(){return $r("isAfter",[].slice.call(arguments,0))}var en=function(){return Date.now?Date.now():+new Date},tn=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rn(e){var t,r,n=!1,i=tn.length;for(t in e)if(s(e,t)&&(-1===Ue.call(tn,t)||null!=e[t]&&isNaN(e[t])))return!1;for(r=0;r<i;++r)if(e[tn[r]]){if(n)return!1;parseFloat(e[tn[r]])!==ce(e[tn[r]])&&(n=!0)}return!0}function nn(){return this._isValid}function an(){return An(NaN)}function on(e){var t=ie(e),r=t.year||0,n=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=rn(t),this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+o+7*a,this._months=+i+3*n+12*r,this._data={},this._locale=yr(),this._bubble()}function sn(e){return e instanceof on}function ln(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function un(e,t,r){var n,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(n=0;n<i;n++)(r&&e[n]!==t[n]||!r&&ce(e[n])!==ce(t[n]))&&o++;return o+a}function cn(e,t){B(e,0,0,(function(){var e=this.utcOffset(),r="+";return e<0&&(e=-e,r="-"),r+D(~~(e/60),2)+t+D(~~e%60,2)}))}cn("Z",":"),cn("ZZ",""),Re("Z",Me),Re("ZZ",Me),ze(["Z","ZZ"],(function(e,t,r){r._useUTC=!0,r._tzm=pn(Me,e)}));var fn=/([\+\-]|\d\d)/gi;function pn(e,t){var r,n,i=(t||"").match(e);return null===i?null:0===(n=60*(r=((i[i.length-1]||[])+"").match(fn)||["-",0,0])[1]+ce(r[2]))?0:"+"===r[0]?n:-n}function hn(e,t){var r,i;return t._isUTC?(r=t.clone(),i=(S(e)||f(e)?e.valueOf():Yr(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),n.updateOffset(r,!1),r):Yr(e).local()}function dn(e){return-Math.round(e._d.getTimezoneOffset())}function vn(e,t,r){var i,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=pn(Me,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&t&&(i=dn(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==e&&(!t||this._changeInProgress?Fn(this,An(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:dn(this)}function mn(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function yn(e){return this.utcOffset(0,e)}function gn(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(dn(this),"m")),this}function _n(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=pn(Oe,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function bn(e){return!!this.isValid()&&(e=e?Yr(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function xn(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function wn(){if(!u(this._isDSTShifted))return this._isDSTShifted;var e,t={};return x(t,this),(t=Wr(t))._a?(e=t._isUTC?d(t._a):Yr(t._a),this._isDSTShifted=this.isValid()&&un(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Sn(){return!!this.isValid()&&!this._isUTC}function Pn(){return!!this.isValid()&&this._isUTC}function kn(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var En=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Cn=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function An(e,t){var r,n,i,a=e,o=null;return sn(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:c(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(o=En.exec(e))?(r="-"===o[1]?-1:1,a={y:0,d:ce(o[We])*r,h:ce(o[qe])*r,m:ce(o[He])*r,s:ce(o[Ye])*r,ms:ce(ln(1e3*o[Xe]))*r}):(o=Cn.exec(e))?(r="-"===o[1]?-1:1,a={y:Tn(o[2],r),M:Tn(o[3],r),w:Tn(o[4],r),d:Tn(o[5],r),h:Tn(o[6],r),m:Tn(o[7],r),s:Tn(o[8],r)}):null==a?a={}:"object"===typeof a&&("from"in a||"to"in a)&&(i=Mn(Yr(a.from),Yr(a.to)),(a={}).ms=i.milliseconds,a.M=i.months),n=new on(a),sn(e)&&s(e,"_locale")&&(n._locale=e._locale),sn(e)&&s(e,"_isValid")&&(n._isValid=e._isValid),n}function Tn(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function On(e,t){var r={};return r.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function Mn(e,t){var r;return e.isValid()&&t.isValid()?(t=hn(t,e),e.isBefore(t)?r=On(e,t):((r=On(t,e)).milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function In(e,t){return function(r,n){var i;return null===n||isNaN(+n)||(A(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=r,r=n,n=i),Fn(this,An(r,n),e),this}}function Fn(e,t,r,i){var a=t._milliseconds,o=ln(t._days),s=ln(t._months);e.isValid()&&(i=null==i||i,s&&ut(e,pe(e,"Month")+s*r),o&&he(e,"Date",pe(e,"Date")+o*r),a&&e._d.setTime(e._d.valueOf()+a*r),i&&n.updateOffset(e,o||s))}An.fn=on.prototype,An.invalid=an;var Rn=In(1,"add"),Dn=In(-1,"subtract");function jn(e){return"string"===typeof e||e instanceof String}function Ln(e){return S(e)||f(e)||jn(e)||c(e)||zn(e)||Nn(e)||null===e||void 0===e}function Nn(e){var t,r,n=o(e)&&!l(e),i=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],u=a.length;for(t=0;t<u;t+=1)r=a[t],i=i||s(e,r);return n&&i}function zn(e){var t=a(e),r=!1;return t&&(r=0===e.filter((function(t){return!c(t)&&jn(e)})).length),t&&r}function Bn(e){var t,r,n=o(e)&&!l(e),i=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<a.length;t+=1)r=a[t],i=i||s(e,r);return n&&i}function Zn(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function Un(e,t){1===arguments.length&&(arguments[0]?Ln(arguments[0])?(e=arguments[0],t=void 0):Bn(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||Yr(),i=hn(r,this).startOf("day"),a=n.calendarFormat(this,i)||"sameElse",o=t&&(T(t[a])?t[a].call(this,r):t[a]);return this.format(o||this.localeData().calendar(a,this,Yr(r)))}function Vn(){return new w(this)}function Gn(e,t){var r=S(e)?e:Yr(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf())}function Wn(e,t){var r=S(e)?e:Yr(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf())}function qn(e,t,r,n){var i=S(e)?e:Yr(e),a=S(t)?t:Yr(t);return!!(this.isValid()&&i.isValid()&&a.isValid())&&("("===(n=n||"()")[0]?this.isAfter(i,r):!this.isBefore(i,r))&&(")"===n[1]?this.isBefore(a,r):!this.isAfter(a,r))}function Hn(e,t){var r,n=S(e)?e:Yr(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf()))}function Yn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Xn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Kn(e,t,r){var n,i,a;if(!this.isValid())return NaN;if(!(n=hn(e,this)).isValid())return NaN;switch(i=6e4*(n.utcOffset()-this.utcOffset()),t=ne(t)){case"year":a=$n(this,n)/12;break;case"month":a=$n(this,n);break;case"quarter":a=$n(this,n)/3;break;case"second":a=(this-n)/1e3;break;case"minute":a=(this-n)/6e4;break;case"hour":a=(this-n)/36e5;break;case"day":a=(this-n-i)/864e5;break;case"week":a=(this-n-i)/6048e5;break;default:a=this-n}return r?a:ue(a)}function $n(e,t){if(e.date()<t.date())return-$n(t,e);var r=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(r,"months");return-(r+(t-n<0?(t-n)/(n-e.clone().add(r-1,"months")):(t-n)/(e.clone().add(r+1,"months")-n)))||0}function Jn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Qn(e){if(!this.isValid())return null;var t=!0!==e,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?V(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):T(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",V(r,"Z")):V(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ei(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,r,n,i="moment",a="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",n=a+'[")]',this.format(e+t+r+n)}function ti(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=V(this,e);return this.localeData().postformat(t)}function ri(e,t){return this.isValid()&&(S(e)&&e.isValid()||Yr(e).isValid())?An({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ni(e){return this.from(Yr(),e)}function ii(e,t){return this.isValid()&&(S(e)&&e.isValid()||Yr(e).isValid())?An({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ai(e){return this.to(Yr(),e)}function oi(e){var t;return void 0===e?this._locale._abbr:(null!=(t=yr(e))&&(this._locale=t),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var si=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function li(){return this._locale}var ui=1e3,ci=60*ui,fi=60*ci,pi=3506328*fi;function hi(e,t){return(e%t+t)%t}function di(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-pi:new Date(e,t,r).valueOf()}function vi(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-pi:Date.UTC(e,t,r)}function mi(e){var t,r;if(void 0===(e=ne(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?vi:di,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=hi(t+(this._isUTC?0:this.utcOffset()*ci),fi);break;case"minute":t=this._d.valueOf(),t-=hi(t,ci);break;case"second":t=this._d.valueOf(),t-=hi(t,ui)}return this._d.setTime(t),n.updateOffset(this,!0),this}function yi(e){var t,r;if(void 0===(e=ne(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?vi:di,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=fi-hi(t+(this._isUTC?0:this.utcOffset()*ci),fi)-1;break;case"minute":t=this._d.valueOf(),t+=ci-hi(t,ci)-1;break;case"second":t=this._d.valueOf(),t+=ui-hi(t,ui)-1}return this._d.setTime(t),n.updateOffset(this,!0),this}function gi(){return this._d.valueOf()-6e4*(this._offset||0)}function _i(){return Math.floor(this.valueOf()/1e3)}function bi(){return new Date(this.valueOf())}function xi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function wi(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Si(){return this.isValid()?this.toISOString():null}function Pi(){return y(this)}function ki(){return h({},m(this))}function Ei(){return m(this).overflow}function Ci(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ai(e,t){var r,i,a,o=this._eras||yr("en")._eras;for(r=0,i=o.length;r<i;++r)switch("string"===typeof o[r].since&&(a=n(o[r].since).startOf("day"),o[r].since=a.valueOf()),typeof o[r].until){case"undefined":o[r].until=1/0;break;case"string":a=n(o[r].until).startOf("day").valueOf(),o[r].until=a.valueOf()}return o}function Ti(e,t,r){var n,i,a,o,s,l=this.eras();for(e=e.toUpperCase(),n=0,i=l.length;n<i;++n)if(a=l[n].name.toUpperCase(),o=l[n].abbr.toUpperCase(),s=l[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(o===e)return l[n];break;case"NNNN":if(a===e)return l[n];break;case"NNNNN":if(s===e)return l[n]}else if([a,o,s].indexOf(e)>=0)return l[n]}function Oi(e,t){var r=e.since<=e.until?1:-1;return void 0===t?n(e.since).year():n(e.since).year()+(t-e.offset)*r}function Mi(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until)return n[e].name;if(n[e].until<=r&&r<=n[e].since)return n[e].name}return""}function Ii(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until)return n[e].narrow;if(n[e].until<=r&&r<=n[e].since)return n[e].narrow}return""}function Fi(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until)return n[e].abbr;if(n[e].until<=r&&r<=n[e].since)return n[e].abbr}return""}function Ri(){var e,t,r,i,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(r=a[e].since<=a[e].until?1:-1,i=this.clone().startOf("day").valueOf(),a[e].since<=i&&i<=a[e].until||a[e].until<=i&&i<=a[e].since)return(this.year()-n(a[e].since).year())*r+a[e].offset;return this.year()}function Di(e){return s(this,"_erasNameRegex")||Ui.call(this),e?this._erasNameRegex:this._erasRegex}function ji(e){return s(this,"_erasAbbrRegex")||Ui.call(this),e?this._erasAbbrRegex:this._erasRegex}function Li(e){return s(this,"_erasNarrowRegex")||Ui.call(this),e?this._erasNarrowRegex:this._erasRegex}function Ni(e,t){return t.erasAbbrRegex(e)}function zi(e,t){return t.erasNameRegex(e)}function Bi(e,t){return t.erasNarrowRegex(e)}function Zi(e,t){return t._eraYearOrdinalRegex||Ae}function Ui(){var e,t,r=[],n=[],i=[],a=[],o=this.eras();for(e=0,t=o.length;e<t;++e)n.push(Le(o[e].name)),r.push(Le(o[e].abbr)),i.push(Le(o[e].narrow)),a.push(Le(o[e].name)),a.push(Le(o[e].abbr)),a.push(Le(o[e].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+n.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function Vi(e,t){B(0,[e,e.length],0,t)}function Gi(e){return Ki.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Wi(e){return Ki.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function qi(){return St(this.year(),1,4)}function Hi(){return St(this.isoWeekYear(),1,4)}function Yi(){var e=this.localeData()._week;return St(this.year(),e.dow,e.doy)}function Xi(){var e=this.localeData()._week;return St(this.weekYear(),e.dow,e.doy)}function Ki(e,t,r,n,i){var a;return null==e?wt(this,n,i).year:(t>(a=St(e,n,i))&&(t=a),$i.call(this,e,t,r,n,i))}function $i(e,t,r,n,i){var a=xt(e,t,r,n,i),o=_t(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Ji(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}B("N",0,0,"eraAbbr"),B("NN",0,0,"eraAbbr"),B("NNN",0,0,"eraAbbr"),B("NNNN",0,0,"eraName"),B("NNNNN",0,0,"eraNarrow"),B("y",["y",1],"yo","eraYear"),B("y",["yy",2],0,"eraYear"),B("y",["yyy",3],0,"eraYear"),B("y",["yyyy",4],0,"eraYear"),Re("N",Ni),Re("NN",Ni),Re("NNN",Ni),Re("NNNN",zi),Re("NNNNN",Bi),ze(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,r,n){var i=r._locale.erasParse(e,n,r._strict);i?m(r).era=i:m(r).invalidEra=e})),Re("y",Ae),Re("yy",Ae),Re("yyy",Ae),Re("yyyy",Ae),Re("yo",Zi),ze(["y","yy","yyy","yyyy"],Ve),ze(["yo"],(function(e,t,r,n){var i;r._locale._eraYearOrdinalRegex&&(i=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[Ve]=r._locale.eraYearOrdinalParse(e,i):t[Ve]=parseInt(e,10)})),B(0,["gg",2],0,(function(){return this.weekYear()%100})),B(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Vi("gggg","weekYear"),Vi("ggggg","weekYear"),Vi("GGGG","isoWeekYear"),Vi("GGGGG","isoWeekYear"),re("weekYear","gg"),re("isoWeekYear","GG"),oe("weekYear",1),oe("isoWeekYear",1),Re("G",Te),Re("g",Te),Re("GG",we,ge),Re("gg",we,ge),Re("GGGG",Ee,be),Re("gggg",Ee,be),Re("GGGGG",Ce,xe),Re("ggggg",Ce,xe),Be(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,r,n){t[n.substr(0,2)]=ce(e)})),Be(["gg","GG"],(function(e,t,r,i){t[i]=n.parseTwoDigitYear(e)})),B("Q",0,"Qo","quarter"),re("quarter","Q"),oe("quarter",7),Re("Q",ye),ze("Q",(function(e,t){t[Ge]=3*(ce(e)-1)})),B("D",["DD",2],"Do","date"),re("date","D"),oe("date",9),Re("D",we),Re("DD",we,ge),Re("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),ze(["D","DD"],We),ze("Do",(function(e,t){t[We]=ce(e.match(we)[0])}));var Qi=fe("Date",!0);function ea(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}B("DDD",["DDDD",3],"DDDo","dayOfYear"),re("dayOfYear","DDD"),oe("dayOfYear",4),Re("DDD",ke),Re("DDDD",_e),ze(["DDD","DDDD"],(function(e,t,r){r._dayOfYear=ce(e)})),B("m",["mm",2],0,"minute"),re("minute","m"),oe("minute",14),Re("m",we),Re("mm",we,ge),ze(["m","mm"],He);var ta=fe("Minutes",!1);B("s",["ss",2],0,"second"),re("second","s"),oe("second",15),Re("s",we),Re("ss",we,ge),ze(["s","ss"],Ye);var ra,na,ia=fe("Seconds",!1);for(B("S",0,0,(function(){return~~(this.millisecond()/100)})),B(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),B(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),B(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),B(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),B(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),B(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),re("millisecond","ms"),oe("millisecond",16),Re("S",ke,ye),Re("SS",ke,ge),Re("SSS",ke,_e),ra="SSSS";ra.length<=9;ra+="S")Re(ra,Ae);function aa(e,t){t[Xe]=ce(1e3*("0."+e))}for(ra="S";ra.length<=9;ra+="S")ze(ra,aa);function oa(){return this._isUTC?"UTC":""}function sa(){return this._isUTC?"Coordinated Universal Time":""}na=fe("Milliseconds",!1),B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var la=w.prototype;function ua(e){return Yr(1e3*e)}function ca(){return Yr.apply(null,arguments).parseZone()}function fa(e){return e}la.add=Rn,la.calendar=Un,la.clone=Vn,la.diff=Kn,la.endOf=yi,la.format=ti,la.from=ri,la.fromNow=ni,la.to=ii,la.toNow=ai,la.get=de,la.invalidAt=Ei,la.isAfter=Gn,la.isBefore=Wn,la.isBetween=qn,la.isSame=Hn,la.isSameOrAfter=Yn,la.isSameOrBefore=Xn,la.isValid=Pi,la.lang=si,la.locale=oi,la.localeData=li,la.max=Kr,la.min=Xr,la.parsingFlags=ki,la.set=ve,la.startOf=mi,la.subtract=Dn,la.toArray=xi,la.toObject=wi,la.toDate=bi,la.toISOString=Qn,la.inspect=ei,"undefined"!==typeof Symbol&&null!=Symbol.for&&(la[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),la.toJSON=Si,la.toString=Jn,la.unix=_i,la.valueOf=gi,la.creationData=Ci,la.eraName=Mi,la.eraNarrow=Ii,la.eraAbbr=Fi,la.eraYear=Ri,la.year=mt,la.isLeapYear=yt,la.weekYear=Gi,la.isoWeekYear=Wi,la.quarter=la.quarters=Ji,la.month=ct,la.daysInMonth=ft,la.week=la.weeks=At,la.isoWeek=la.isoWeeks=Tt,la.weeksInYear=Yi,la.weeksInWeekYear=Xi,la.isoWeeksInYear=qi,la.isoWeeksInISOWeekYear=Hi,la.date=Qi,la.day=la.days=Gt,la.weekday=Wt,la.isoWeekday=qt,la.dayOfYear=ea,la.hour=la.hours=nr,la.minute=la.minutes=ta,la.second=la.seconds=ia,la.millisecond=la.milliseconds=na,la.utcOffset=vn,la.utc=yn,la.local=gn,la.parseZone=_n,la.hasAlignedHourOffset=bn,la.isDST=xn,la.isLocal=Sn,la.isUtcOffset=Pn,la.isUtc=kn,la.isUTC=kn,la.zoneAbbr=oa,la.zoneName=sa,la.dates=k("dates accessor is deprecated. Use date instead.",Qi),la.months=k("months accessor is deprecated. Use month instead",ct),la.years=k("years accessor is deprecated. Use year instead",mt),la.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",mn),la.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",wn);var pa=I.prototype;function ha(e,t,r,n){var i=yr(),a=d().set(n,t);return i[r](a,e)}function da(e,t,r){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return ha(e,t,r,"month");var n,i=[];for(n=0;n<12;n++)i[n]=ha(e,n,r,"month");return i}function va(e,t,r,n){"boolean"===typeof e?(c(t)&&(r=t,t=void 0),t=t||""):(r=t=e,e=!1,c(t)&&(r=t,t=void 0),t=t||"");var i,a=yr(),o=e?a._week.dow:0,s=[];if(null!=r)return ha(t,(r+o)%7,n,"day");for(i=0;i<7;i++)s[i]=ha(t,(i+o)%7,n,"day");return s}function ma(e,t){return da(e,t,"months")}function ya(e,t){return da(e,t,"monthsShort")}function ga(e,t,r){return va(e,t,r,"weekdays")}function _a(e,t,r){return va(e,t,r,"weekdaysShort")}function ba(e,t,r){return va(e,t,r,"weekdaysMin")}pa.calendar=R,pa.longDateFormat=q,pa.invalidDate=Y,pa.ordinal=$,pa.preparse=fa,pa.postformat=fa,pa.relativeTime=Q,pa.pastFuture=ee,pa.set=O,pa.eras=Ai,pa.erasParse=Ti,pa.erasConvertYear=Oi,pa.erasAbbrRegex=ji,pa.erasNameRegex=Di,pa.erasNarrowRegex=Li,pa.months=at,pa.monthsShort=ot,pa.monthsParse=lt,pa.monthsRegex=ht,pa.monthsShortRegex=pt,pa.week=Pt,pa.firstDayOfYear=Ct,pa.firstDayOfWeek=Et,pa.weekdays=zt,pa.weekdaysMin=Zt,pa.weekdaysShort=Bt,pa.weekdaysParse=Vt,pa.weekdaysRegex=Ht,pa.weekdaysShortRegex=Yt,pa.weekdaysMinRegex=Xt,pa.isPM=tr,pa.meridiem=ir,dr("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===ce(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.lang=k("moment.lang is deprecated. Use moment.locale instead.",dr),n.langData=k("moment.langData is deprecated. Use moment.localeData instead.",yr);var xa=Math.abs;function wa(){var e=this._data;return this._milliseconds=xa(this._milliseconds),this._days=xa(this._days),this._months=xa(this._months),e.milliseconds=xa(e.milliseconds),e.seconds=xa(e.seconds),e.minutes=xa(e.minutes),e.hours=xa(e.hours),e.months=xa(e.months),e.years=xa(e.years),this}function Sa(e,t,r,n){var i=An(t,r);return e._milliseconds+=n*i._milliseconds,e._days+=n*i._days,e._months+=n*i._months,e._bubble()}function Pa(e,t){return Sa(this,e,t,1)}function ka(e,t){return Sa(this,e,t,-1)}function Ea(e){return e<0?Math.floor(e):Math.ceil(e)}function Ca(){var e,t,r,n,i,a=this._milliseconds,o=this._days,s=this._months,l=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*Ea(Ta(s)+o),o=0,s=0),l.milliseconds=a%1e3,e=ue(a/1e3),l.seconds=e%60,t=ue(e/60),l.minutes=t%60,r=ue(t/60),l.hours=r%24,o+=ue(r/24),s+=i=ue(Aa(o)),o-=Ea(Ta(i)),n=ue(s/12),s%=12,l.days=o,l.months=s,l.years=n,this}function Aa(e){return 4800*e/146097}function Ta(e){return 146097*e/4800}function Oa(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if("month"===(e=ne(e))||"quarter"===e||"year"===e)switch(t=this._days+n/864e5,r=this._months+Aa(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(Ta(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}}function Ma(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*ce(this._months/12):NaN}function Ia(e){return function(){return this.as(e)}}var Fa=Ia("ms"),Ra=Ia("s"),Da=Ia("m"),ja=Ia("h"),La=Ia("d"),Na=Ia("w"),za=Ia("M"),Ba=Ia("Q"),Za=Ia("y");function Ua(){return An(this)}function Va(e){return e=ne(e),this.isValid()?this[e+"s"]():NaN}function Ga(e){return function(){return this.isValid()?this._data[e]:NaN}}var Wa=Ga("milliseconds"),qa=Ga("seconds"),Ha=Ga("minutes"),Ya=Ga("hours"),Xa=Ga("days"),Ka=Ga("months"),$a=Ga("years");function Ja(){return ue(this.days()/7)}var Qa=Math.round,eo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function to(e,t,r,n,i){return i.relativeTime(t||1,!!r,e,n)}function ro(e,t,r,n){var i=An(e).abs(),a=Qa(i.as("s")),o=Qa(i.as("m")),s=Qa(i.as("h")),l=Qa(i.as("d")),u=Qa(i.as("M")),c=Qa(i.as("w")),f=Qa(i.as("y")),p=a<=r.ss&&["s",a]||a<r.s&&["ss",a]||o<=1&&["m"]||o<r.m&&["mm",o]||s<=1&&["h"]||s<r.h&&["hh",s]||l<=1&&["d"]||l<r.d&&["dd",l];return null!=r.w&&(p=p||c<=1&&["w"]||c<r.w&&["ww",c]),(p=p||u<=1&&["M"]||u<r.M&&["MM",u]||f<=1&&["y"]||["yy",f])[2]=t,p[3]=+e>0,p[4]=n,to.apply(null,p)}function no(e){return void 0===e?Qa:"function"===typeof e&&(Qa=e,!0)}function io(e,t){return void 0!==eo[e]&&(void 0===t?eo[e]:(eo[e]=t,"s"===e&&(eo.ss=t-1),!0))}function ao(e,t){if(!this.isValid())return this.localeData().invalidDate();var r,n,i=!1,a=eo;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(a=Object.assign({},eo,t),null!=t.s&&null==t.ss&&(a.ss=t.s-1)),n=ro(this,!i,a,r=this.localeData()),i&&(n=r.pastFuture(+this,n)),r.postformat(n)}var oo=Math.abs;function so(e){return(e>0)-(e<0)||+e}function lo(){if(!this.isValid())return this.localeData().invalidDate();var e,t,r,n,i,a,o,s,l=oo(this._milliseconds)/1e3,u=oo(this._days),c=oo(this._months),f=this.asSeconds();return f?(e=ue(l/60),t=ue(e/60),l%=60,e%=60,r=ue(c/12),c%=12,n=l?l.toFixed(3).replace(/\.?0+$/,""):"",i=f<0?"-":"",a=so(this._months)!==so(f)?"-":"",o=so(this._days)!==so(f)?"-":"",s=so(this._milliseconds)!==so(f)?"-":"",i+"P"+(r?a+r+"Y":"")+(c?a+c+"M":"")+(u?o+u+"D":"")+(t||e||l?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(l?s+n+"S":"")):"P0D"}var uo=on.prototype;return uo.isValid=nn,uo.abs=wa,uo.add=Pa,uo.subtract=ka,uo.as=Oa,uo.asMilliseconds=Fa,uo.asSeconds=Ra,uo.asMinutes=Da,uo.asHours=ja,uo.asDays=La,uo.asWeeks=Na,uo.asMonths=za,uo.asQuarters=Ba,uo.asYears=Za,uo.valueOf=Ma,uo._bubble=Ca,uo.clone=Ua,uo.get=Va,uo.milliseconds=Wa,uo.seconds=qa,uo.minutes=Ha,uo.hours=Ya,uo.days=Xa,uo.weeks=Ja,uo.months=Ka,uo.years=$a,uo.humanize=ao,uo.toISOString=lo,uo.toString=lo,uo.toJSON=lo,uo.locale=oi,uo.localeData=li,uo.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",lo),uo.lang=si,B("X",0,0,"unix"),B("x",0,0,"valueOf"),Re("x",Te),Re("X",Ie),ze("X",(function(e,t,r){r._d=new Date(1e3*parseFloat(e))})),ze("x",(function(e,t,r){r._d=new Date(ce(e))})),n.version="2.29.4",i(Yr),n.fn=la,n.min=Jr,n.max=Qr,n.now=en,n.utc=d,n.unix=ua,n.months=ma,n.isDate=f,n.locale=dr,n.invalid=g,n.duration=An,n.isMoment=S,n.weekdays=ga,n.parseZone=ca,n.localeData=yr,n.isDuration=sn,n.monthsShort=ya,n.weekdaysMin=ba,n.defineLocale=vr,n.updateLocale=mr,n.locales=gr,n.weekdaysShort=_a,n.normalizeUnits=ne,n.relativeTimeRounding=no,n.relativeTimeThreshold=io,n.calendarFormat=Zn,n.prototype=la,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n}()},22592:function(e){"use strict";var t=function(e){return e!==e};e.exports=function(e,r){return 0===e&&0===r?1/e===1/r:e===r||!(!t(e)||!t(r))}},33454:function(e,t,r){"use strict";var n=r(9396),i=r(19722),a=r(22592),o=r(83355),s=r(13118),l=i(o(),Object);n(l,{getPolyfill:o,implementation:a,shim:s}),e.exports=l},83355:function(e,t,r){"use strict";var n=r(22592);e.exports=function(){return"function"===typeof Object.is?Object.is:n}},13118:function(e,t,r){"use strict";var n=r(83355),i=r(9396);e.exports=function(){var e=n();return i(Object,{is:e},{is:function(){return Object.is!==e}}),e}},41949:function(e,t,r){"use strict";var n;if(!Object.keys){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,o=r(27635),s=Object.prototype.propertyIsEnumerable,l=!s.call({toString:null},"toString"),u=s.call((function(){}),"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"===typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"===typeof window[e])try{f(window[e])}catch(t){return!0}}catch(t){return!0}return!1}();n=function(e){var t=null!==e&&"object"===typeof e,r="[object Function]"===a.call(e),n=o(e),s=t&&"[object String]"===a.call(e),p=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var d=u&&r;if(s&&e.length>0&&!i.call(e,0))for(var v=0;v<e.length;++v)p.push(String(v));if(n&&e.length>0)for(var m=0;m<e.length;++m)p.push(String(m));else for(var y in e)d&&"prototype"===y||!i.call(e,y)||p.push(String(y));if(l)for(var g=function(e){if("undefined"===typeof window||!h)return f(e);try{return f(e)}catch(t){return!1}}(e),_=0;_<c.length;++_)g&&"constructor"===c[_]||!i.call(e,c[_])||p.push(c[_]);return p}}e.exports=n},24892:function(e,t,r){"use strict";var n=Array.prototype.slice,i=r(27635),a=Object.keys,o=a?function(e){return a(e)}:r(41949),s=Object.keys;o.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return i(e)?s(n.call(e)):s(e)})}else Object.keys=o;return Object.keys||o},e.exports=o},27635:function(e){"use strict";var t=Object.prototype.toString;e.exports=function(e){var r=t.call(e),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),n}},43661:function(module,__unused_webpack_exports,__webpack_require__){var _classStaticPrivateMethodGet=__webpack_require__(55764).default,_objectSpread=__webpack_require__(42122).default,_get=__webpack_require__(41588).default,_getPrototypeOf=__webpack_require__(73808).default,_defineProperty=__webpack_require__(38416).default,_assertThisInitialized=__webpack_require__(66115).default,_classPrivateMethodInitSpec=__webpack_require__(71860).default,_classPrivateMethodGet=__webpack_require__(54467).default,_regeneratorRuntime=__webpack_require__(17061).default,_classStaticPrivateFieldSpecSet=__webpack_require__(62306).default,_classStaticPrivateFieldSpecGet=__webpack_require__(61280).default,_asyncToGenerator=__webpack_require__(17156).default,_classPrivateFieldInitSpec=__webpack_require__(19159).default,_classPrivateFieldGet=__webpack_require__(50468).default,_classPrivateFieldSet=__webpack_require__(65661).default,_toConsumableArray=__webpack_require__(861).default,_slicedToArray=__webpack_require__(27424).default,_createForOfIteratorHelper=__webpack_require__(74704).default,_createClass=__webpack_require__(89728).default,_classCallCheck=__webpack_require__(56690).default,_inherits=__webpack_require__(61655).default,_createSuper=__webpack_require__(26389).default,factory;globalThis,factory=function(){return function(){"use strict";var __webpack_modules__=[,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.VerbosityLevel=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.RenderingIntentFlag=t.PromiseCapability=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.MAX_IMAGE_SIZE_TO_CACHE=t.LINE_FACTOR=t.LINE_DESCENT_FACTOR=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FeatureTest=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.BASELINE_FACTOR=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMode=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationEditorType=t.AnnotationEditorPrefix=t.AnnotationEditorParamsType=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,t.assert=function(e,t){e||a(t)},t.bytesToString=function(e){"object"===typeof e&&void 0!==(null===e||void 0===e?void 0:e.length)||a("Invalid argument for bytesToString");var t=e.length,r=8192;if(t<r)return String.fromCharCode.apply(null,e);for(var n=[],i=0;i<t;i+=r){var o=Math.min(i+r,t),s=e.subarray(i,o);n.push(String.fromCharCode.apply(null,s))}return n.join("")},t.createValidAbsoluteUrl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;try{if(r&&"string"===typeof e){if(r.addDefaultProtocol&&e.startsWith("www.")){var n=e.match(/\./g);(null===n||void 0===n?void 0:n.length)>=2&&(e="http://".concat(e))}if(r.tryConvertEncoding)try{e=x(e)}catch(a){}}var i=t?new URL(e,t):new URL(e);if(o(i))return i}catch(a){}return null},t.getModificationDate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=[e.getUTCFullYear().toString(),(e.getUTCMonth()+1).toString().padStart(2,"0"),e.getUTCDate().toString().padStart(2,"0"),e.getUTCHours().toString().padStart(2,"0"),e.getUTCMinutes().toString().padStart(2,"0"),e.getUTCSeconds().toString().padStart(2,"0")];return t.join("")},t.getVerbosityLevel=function(){return n},t.info=function(e){n>=r.INFOS&&console.log("Info: ".concat(e))},t.isArrayBuffer=function(e){return"object"===typeof e&&void 0!==(null===e||void 0===e?void 0:e.byteLength)},t.isArrayEqual=function(e,t){if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0},t.normalizeUnicode=function(e){return P||(P=/([\xA0\xB5\u037E\u0EB3\u2000-\u200A\u202F\u2126\uFB00-\uFB04\uFB06\uFB20-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBA1\uFBA4-\uFBA9\uFBAE-\uFBB1\uFBD3-\uFBDC\uFBDE-\uFBE7\uFBEA-\uFBF8\uFBFC\uFBFD\uFC00-\uFC5D\uFC64-\uFCF1\uFCF5-\uFD3D\uFD88\uFDF4\uFDFA\uFDFB\uFE71\uFE77\uFE79\uFE7B\uFE7D]+)|(\uFB05+)/g,k=new Map([["\ufb05","\u017ft"]])),e.replaceAll(P,(function(e,t,r){return t?t.normalize("NFKC"):k.get(r)}))},t.objectFromMap=function(e){var t,r=Object.create(null),n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var i=_slicedToArray(t.value,2),a=i[0],o=i[1];r[a]=o}}catch(s){n.e(s)}finally{n.f()}return r},t.objectSize=function(e){return Object.keys(e).length},t.setVerbosityLevel=function(e){Number.isInteger(e)&&(n=e)},t.shadow=s,t.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},t.stringToBytes=m,t.stringToPDFString=function(e){var t;if(e[0]>="\xef"&&("\xfe"===e[0]&&"\xff"===e[1]?t="utf-16be":"\xff"===e[0]&&"\xfe"===e[1]?t="utf-16le":"\xef"===e[0]&&"\xbb"===e[1]&&"\xbf"===e[2]&&(t="utf-8"),t))try{var r=new TextDecoder(t,{fatal:!0}),n=m(e);return r.decode(n)}catch(u){i('stringToPDFString: "'.concat(u,'".'))}for(var a=[],o=0,s=e.length;o<s;o++){var l=b[e.charCodeAt(o)];a.push(l?String.fromCharCode(l):e.charAt(o))}return a.join("")},t.stringToUTF8String=x,t.unreachable=a,t.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},t.warn=i,t.IDENTITY_MATRIX=[1,0,0,1,0,0],t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],t.MAX_IMAGE_SIZE_TO_CACHE=1e7,t.LINE_FACTOR=1.35,t.LINE_DESCENT_FACTOR=.35,t.BASELINE_FACTOR=.25925925925925924,t.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},t.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},t.AnnotationEditorPrefix="pdfjs_internal_editor_",t.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,INK:15},t.AnnotationEditorParamsType={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13},t.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},t.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},t.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},t.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},t.AnnotationReplyType={GROUP:"Group",REPLY:"R"},t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},t.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},t.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},t.PageActionEventType={O:"PageOpen",C:"PageClose"};var r={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=r,t.CMapCompressionType={NONE:0,BINARY:1},t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var n=r.WARNINGS;function i(e){n>=r.WARNINGS&&console.log("Warning: ".concat(e))}function a(e){throw new Error(e)}function o(e){switch(null===e||void 0===e?void 0:e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function s(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!0,writable:!1}),r}var l=function(){function e(t,r){this.constructor===e&&a("Cannot initialize BaseException."),this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e}();t.BaseException=l;var u=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n){var i;return _classCallCheck(this,r),(i=t.call(this,e,"PasswordException")).code=n,i}return _createClass(r)}(l);t.PasswordException=u;var c=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n){var i;return _classCallCheck(this,r),(i=t.call(this,e,"UnknownErrorException")).details=n,i}return _createClass(r)}(l);t.UnknownErrorException=c;var f=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){return _classCallCheck(this,r),t.call(this,e,"InvalidPDFException")}return _createClass(r)}(l);t.InvalidPDFException=f;var p=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){return _classCallCheck(this,r),t.call(this,e,"MissingPDFException")}return _createClass(r)}(l);t.MissingPDFException=p;var h=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n){var i;return _classCallCheck(this,r),(i=t.call(this,e,"UnexpectedResponseException")).status=n,i}return _createClass(r)}(l);t.UnexpectedResponseException=h;var d=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){return _classCallCheck(this,r),t.call(this,e,"FormatError")}return _createClass(r)}(l);t.FormatError=d;var v=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){return _classCallCheck(this,r),t.call(this,e,"AbortException")}return _createClass(r)}(l);function m(e){"string"!==typeof e&&a("Invalid argument for stringToBytes");for(var t=e.length,r=new Uint8Array(t),n=0;n<t;++n)r[n]=255&e.charCodeAt(n);return r}t.AbortException=v;var y=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"isLittleEndian",get:function(){return s(this,"isLittleEndian",function(){var e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}},{key:"isEvalSupported",get:function(){return s(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(e){return!1}}())}},{key:"isOffscreenCanvasSupported",get:function(){return s(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}},{key:"platform",get:function(){return"undefined"===typeof navigator?s(this,"platform",{isWin:!1,isMac:!1}):s(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}}]),e}();t.FeatureTest=y;var g=_toConsumableArray(Array(256).keys()).map((function(e){return e.toString(16).padStart(2,"0")})),_=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"makeHexColor",value:function(e,t,r){return"#".concat(g[e]).concat(g[t]).concat(g[r])}},{key:"scaleMinMax",value:function(e,t){var r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[1],t[1]=r),t[0]*=e[0],t[1]*=e[0],e[3]<0&&(r=t[2],t[2]=t[3],t[3]=r),t[2]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[2],t[2]=r,r=t[1],t[1]=t[3],t[3]=r,e[1]<0&&(r=t[2],t[2]=t[3],t[3]=r),t[2]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[1],t[1]=r),t[0]*=e[2],t[1]*=e[2]),t[0]+=e[4],t[1]+=e[4],t[2]+=e[5],t[3]+=e[5]}},{key:"transform",value:function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}},{key:"applyTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}},{key:"applyInverseTransform",value:function(e,t){var r=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r]}},{key:"getAxialAlignedBoundingBox",value:function(t,r){var n=e.applyTransform(t,r),i=e.applyTransform(t.slice(2,4),r),a=e.applyTransform([t[0],t[3]],r),o=e.applyTransform([t[2],t[1]],r);return[Math.min(n[0],i[0],a[0],o[0]),Math.min(n[1],i[1],a[1],o[1]),Math.max(n[0],i[0],a[0],o[0]),Math.max(n[1],i[1],a[1],o[1])]}},{key:"inverseTransform",value:function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}},{key:"singularValueDecompose2dScale",value:function(e){var t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],n=e[0]*t[1]+e[1]*t[3],i=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],o=(r+a)/2,s=Math.sqrt(Math.pow(r+a,2)-4*(r*a-i*n))/2,l=o+s||1,u=o-s||1;return[Math.sqrt(l),Math.sqrt(u)]}},{key:"normalizeRect",value:function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}},{key:"intersect",value:function(e,t){var r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),n=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>n)return null;var i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>a?null:[r,i,n,a]}},{key:"bezierBoundingBox",value:function(e,t,r,n,i,a,o,s){for(var l,u,c,f,p,h,d,v,m=[],y=[[],[]],g=0;g<2;++g)if(0===g?(u=6*e-12*r+6*i,l=-3*e+9*r-9*i+3*o,c=3*r-3*e):(u=6*t-12*n+6*a,l=-3*t+9*n-9*a+3*s,c=3*n-3*t),Math.abs(l)<1e-12){if(Math.abs(u)<1e-12)continue;0<(f=-c/u)&&f<1&&m.push(f)}else d=u*u-4*c*l,v=Math.sqrt(d),d<0||(0<(p=(-u+v)/(2*l))&&p<1&&m.push(p),0<(h=(-u-v)/(2*l))&&h<1&&m.push(h));for(var _,b=m.length,x=b;b--;)_=1-(f=m[b]),y[0][b]=_*_*_*e+3*_*_*f*r+3*_*f*f*i+f*f*f*o,y[1][b]=_*_*_*t+3*_*_*f*n+3*_*f*f*a+f*f*f*s;return y[0][x]=e,y[1][x]=t,y[0][x+1]=o,y[1][x+1]=s,y[0].length=y[1].length=x+2,[Math.min.apply(Math,_toConsumableArray(y[0])),Math.min.apply(Math,_toConsumableArray(y[1])),Math.max.apply(Math,_toConsumableArray(y[0])),Math.max.apply(Math,_toConsumableArray(y[1]))]}}]),e}();t.Util=_;var b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function x(e){return decodeURIComponent(escape(e))}var w=new WeakMap,S=function(){function e(){var t=this;_classCallCheck(this,e),_classPrivateFieldInitSpec(this,w,{writable:!0,value:!1}),this.promise=new Promise((function(e,r){t.resolve=function(r){_classPrivateFieldSet(t,w,!0),e(r)},t.reject=function(e){_classPrivateFieldSet(t,w,!0),r(e)}}))}return _createClass(e,[{key:"settled",get:function(){return _classPrivateFieldGet(this,w)}}]),e}();t.PromiseCapability=S;var P=null,k=null},function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19),DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;var DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;var DefaultFilterFactory=_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;var DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){var _w_pdfjs_require__=__w_pdfjs_require__(20),NodeCanvasFactory=_w_pdfjs_require__.NodeCanvasFactory,NodeCMapReaderFactory=_w_pdfjs_require__.NodeCMapReaderFactory,NodeFilterFactory=_w_pdfjs_require__.NodeFilterFactory,NodeStandardFontDataFactory=_w_pdfjs_require__.NodeStandardFontDataFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory=NodeCanvasFactory,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=NodeCMapReaderFactory,exports.DefaultFilterFactory=DefaultFilterFactory=NodeFilterFactory,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=NodeStandardFontDataFactory}if(_is_node.isNodeJS){var _w_pdfjs_require__2=__w_pdfjs_require__(21),PDFNodeStream=_w_pdfjs_require__2.PDFNodeStream;createPDFNetworkStream=function(e){return new PDFNodeStream(e)}}else{var _w_pdfjs_require__3=__w_pdfjs_require__(24),PDFNetworkStream=_w_pdfjs_require__3.PDFNetworkStream,_w_pdfjs_require__4=__w_pdfjs_require__(25),PDFFetchStream=_w_pdfjs_require__4.PDFFetchStream;createPDFNetworkStream=function(e){return(0,_display_utils.isValidFetchUrl)(e.url)?new PDFFetchStream(e):new PDFNetworkStream(e)}}function getDocument(e){var t,r;if("string"===typeof e||e instanceof URL?e={url:e}:(0,_util.isArrayBuffer)(e)&&(e={data:e}),"object"!==typeof e)throw new Error("Invalid parameter in getDocument, need parameter object.");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");var n=new PDFDocumentLoadingTask,i=n.docId,a=e.url?getUrlProp(e.url):null,o=e.data?getDataProp(e.data):null,s=e.httpHeaders||null,l=!0===e.withCredentials,u=null!==(t=e.password)&&void 0!==t?t:null,c=e.range instanceof PDFDataRangeTransport?e.range:null,f=Number.isInteger(e.rangeChunkSize)&&e.rangeChunkSize>0?e.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE,p=e.worker instanceof PDFWorker?e.worker:null,h=e.verbosity,d="string"!==typeof e.docBaseUrl||(0,_display_utils.isDataScheme)(e.docBaseUrl)?null:e.docBaseUrl,v="string"===typeof e.cMapUrl?e.cMapUrl:null,m=!1!==e.cMapPacked,y=e.CMapReaderFactory||DefaultCMapReaderFactory,g="string"===typeof e.standardFontDataUrl?e.standardFontDataUrl:null,_=e.StandardFontDataFactory||DefaultStandardFontDataFactory,b=!0!==e.stopAtErrors,x=Number.isInteger(e.maxImageSize)&&e.maxImageSize>-1?e.maxImageSize:-1,w=!1!==e.isEvalSupported,S="boolean"===typeof e.isOffscreenCanvasSupported?e.isOffscreenCanvasSupported:!_is_node.isNodeJS,P=Number.isInteger(e.canvasMaxAreaInBytes)?e.canvasMaxAreaInBytes:-1,k="boolean"===typeof e.disableFontFace?e.disableFontFace:_is_node.isNodeJS,E=!0===e.fontExtraProperties,C=!0===e.enableXfa,A=e.ownerDocument||globalThis.document,T=!0===e.disableRange,O=!0===e.disableStream,M=!0===e.disableAutoFetch,I=!0===e.pdfBug,F=c?c.length:null!==(r=e.length)&&void 0!==r?r:NaN,R="boolean"===typeof e.useSystemFonts?e.useSystemFonts:!_is_node.isNodeJS&&!k,D="boolean"===typeof e.useWorkerFetch?e.useWorkerFetch:y===_display_utils.DOMCMapReaderFactory&&_===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)(v,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(g,document.baseURI),j=e.canvasFactory||new DefaultCanvasFactory({ownerDocument:A}),L=e.filterFactory||new DefaultFilterFactory({docId:i,ownerDocument:A});(0,_util.setVerbosityLevel)(h);var N={canvasFactory:j,filterFactory:L};if(D||(N.cMapReaderFactory=new y({baseUrl:v,isCompressed:m}),N.standardFontDataFactory=new _({baseUrl:g})),!p){var z={verbosity:h,port:_worker_options.GlobalWorkerOptions.workerPort};p=z.port?PDFWorker.fromPort(z):new PDFWorker(z),n._worker=p}var B={docId:i,apiVersion:"3.6.172",data:o,password:u,disableAutoFetch:M,rangeChunkSize:f,length:F,docBaseUrl:d,enableXfa:C,evaluatorOptions:{maxImageSize:x,disableFontFace:k,ignoreErrors:b,isEvalSupported:w,isOffscreenCanvasSupported:S,canvasMaxAreaInBytes:P,fontExtraProperties:E,useSystemFonts:R,cMapUrl:D?v:null,standardFontDataUrl:D?g:null}},Z={ignoreErrors:b,isEvalSupported:w,disableFontFace:k,fontExtraProperties:E,enableXfa:C,ownerDocument:A,disableAutoFetch:M,pdfBug:I,styleElement:null};return p.promise.then((function(){if(n.destroyed)throw new Error("Loading aborted");var e=_fetchDocument(p,B),t=new Promise((function(e){var t;c?t=new _transport_stream.PDFDataTransportStream({length:F,initialData:c.initialData,progressiveDone:c.progressiveDone,contentDispositionFilename:c.contentDispositionFilename,disableRange:T,disableStream:O},c):o||(t=createPDFNetworkStream({url:a,length:F,httpHeaders:s,withCredentials:l,rangeChunkSize:f,disableRange:T,disableStream:O})),e(t)}));return Promise.all([e,t]).then((function(e){var t=_slicedToArray(e,2),r=t[0],a=t[1];if(n.destroyed)throw new Error("Loading aborted");var o=new _message_handler.MessageHandler(i,r,p.port),s=new WorkerTransport(o,n,a,Z,N);n._transport=s,o.send("Ready",null)}))})).catch(n._capability.reject),n}function _fetchDocument(e,t){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.destroyed){e.next=2;break}throw new Error("Worker was destroyed");case 2:return e.next=4,t.messageHandler.sendWithPromise("GetDocRequest",r,r.data?[r.data.buffer]:null);case 4:if(n=e.sent,!t.destroyed){e.next=7;break}throw new Error("Worker was destroyed");case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function getUrlProp(e){if(e instanceof URL)return e.href;try{return new URL(e,window.location).href}catch(t){if(_is_node.isNodeJS&&"string"===typeof e)return e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(e){if(_is_node.isNodeJS&&"undefined"!==typeof Buffer&&e instanceof Buffer)return(0,_display_utils.deprecated)("Please provide binary data as `Uint8Array`, rather than `Buffer`."),new Uint8Array(e);if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"===typeof e)return(0,_util.stringToBytes)(e);if("object"===typeof e&&!isNaN(null===e||void 0===e?void 0:e.length)||(0,_util.isArrayBuffer)(e))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}var PDFDocumentLoadingTask=function(){function e(){var t,r;_classCallCheck(this,e),this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId="d".concat((_classStaticPrivateFieldSpecSet(e,e,_docId,(t=_classStaticPrivateFieldSpecGet(e,e,_docId),r=t++,t)),r)),this.destroyed=!1,this.onPassword=null,this.onProgress=null}return _createClass(e,[{key:"promise",get:function(){return this._capability.promise}},{key:"destroy",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.destroyed=!0,e.next=3,null===(t=this._transport)||void 0===t?void 0:t.destroy();case 3:this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),_docId={writable:!0,value:0};exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;var PDFDataRangeTransport=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.length=t,this.initialData=r,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}return _createClass(e,[{key:"addRangeListener",value:function(e){this._rangeListeners.push(e)}},{key:"addProgressListener",value:function(e){this._progressListeners.push(e)}},{key:"addProgressiveReadListener",value:function(e){this._progressiveReadListeners.push(e)}},{key:"addProgressiveDoneListener",value:function(e){this._progressiveDoneListeners.push(e)}},{key:"onDataRange",value:function(e,t){var r,n=_createForOfIteratorHelper(this._rangeListeners);try{for(n.s();!(r=n.n()).done;)(0,r.value)(e,t)}catch(i){n.e(i)}finally{n.f()}}},{key:"onDataProgress",value:function(e,t){var r=this;this._readyCapability.promise.then((function(){var n,i=_createForOfIteratorHelper(r._progressListeners);try{for(i.s();!(n=i.n()).done;)(0,n.value)(e,t)}catch(a){i.e(a)}finally{i.f()}}))}},{key:"onDataProgressiveRead",value:function(e){var t=this;this._readyCapability.promise.then((function(){var r,n=_createForOfIteratorHelper(t._progressiveReadListeners);try{for(n.s();!(r=n.n()).done;)(0,r.value)(e)}catch(i){n.e(i)}finally{n.f()}}))}},{key:"onDataProgressiveDone",value:function(){var e=this;this._readyCapability.promise.then((function(){var t,r=_createForOfIteratorHelper(e._progressiveDoneListeners);try{for(r.s();!(t=r.n()).done;)(0,t.value)()}catch(n){r.e(n)}finally{r.f()}}))}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(e,t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),e}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function e(t,r){_classCallCheck(this,e),this._pdfInfo=t,this._transport=r}return _createClass(e,[{key:"annotationStorage",get:function(){return this._transport.annotationStorage}},{key:"filterFactory",get:function(){return this._transport.filterFactory}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprints",get:function(){return this._pdfInfo.fingerprints}},{key:"isPureXfa",get:function(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}},{key:"allXfaHtml",get:function(){return this._transport._htmlForXfa}},{key:"getPage",value:function(e){return this._transport.getPage(e)}},{key:"getPageIndex",value:function(e){return this._transport.getPageIndex(e)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(e){return this._transport.getDestination(e)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getJSActions",value:function(){return this._transport.getDocJSActions()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function(){return this._transport.getOptionalContentConfig()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getMarkInfo",value:function(){return this._transport.getMarkInfo()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"saveDocument",value:function(){return this._transport.saveDocument()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"cleanup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}},{key:"getFieldObjects",value:function(){return this._transport.getFieldObjects()}},{key:"hasJSActions",value:function(){return this._transport.hasJSActions()}},{key:"getCalculationOrderIds",value:function(){return this._transport.getCalculationOrderIds()}}]),e}();exports.PDFDocumentProxy=PDFDocumentProxy;var _delayedCleanupTimeout=new WeakMap,_pendingCleanup=new WeakMap,_tryCleanup=new WeakSet,_abortDelayedCleanup=new WeakSet,PDFPageProxy=function(){function e(t,r,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];_classCallCheck(this,e),_classPrivateMethodInitSpec(this,_abortDelayedCleanup),_classPrivateMethodInitSpec(this,_tryCleanup),_classPrivateFieldInitSpec(this,_delayedCleanupTimeout,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pendingCleanup,{writable:!0,value:!1}),this._pageIndex=t,this._pageInfo=r,this._transport=n,this._stats=i?new _display_utils.StatTimer:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}return _createClass(e,[{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"getViewport",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scale,r=e.rotation,n=void 0===r?this.rotate:r,i=e.offsetX,a=void 0===i?0:i,o=e.offsetY,s=void 0===o?0:o,l=e.dontFlip,u=void 0!==l&&l;return new _display_utils.PageViewport({viewBox:this.view,scale:t,rotation:n,offsetX:a,offsetY:s,dontFlip:u})}},{key:"getAnnotations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.intent,r=void 0===t?"display":t,n=this._transport.getRenderingIntent(r);return this._transport.getAnnotations(this._pageIndex,n.renderingIntent)}},{key:"getJSActions",value:function(){return this._transport.getPageJSActions(this._pageIndex)}},{key:"isPureXfa",get:function(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}},{key:"getXfa",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(null===(t=this._transport._htmlForXfa)||void 0===t?void 0:t.children[this._pageIndex])||null);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(e){var t,r,n,i=this,a=e.canvasContext,o=e.viewport,s=e.intent,l=void 0===s?"display":s,u=e.annotationMode,c=void 0===u?_util.AnnotationMode.ENABLE:u,f=e.transform,p=void 0===f?null:f,h=e.background,d=void 0===h?null:h,v=e.optionalContentConfigPromise,m=void 0===v?null:v,y=e.annotationCanvasMap,g=void 0===y?null:y,_=e.pageColors,b=void 0===_?null:_,x=e.printAnnotationStorage,w=void 0===x?null:x;if(null!==(t=arguments[0])&&void 0!==t&&t.canvasFactory)throw new Error("render no longer accepts the `canvasFactory`-option, please pass it to the `getDocument`-function instead.");null===(r=this._stats)||void 0===r||r.time("Overall");var S=this._transport.getRenderingIntent(l,c,w);_classPrivateFieldSet(this,_pendingCleanup,!1),_classPrivateMethodGet(this,_abortDelayedCleanup,_abortDelayedCleanup2).call(this),m||(m=this._transport.getOptionalContentConfig());var P=this._intentStates.get(S.cacheKey);P||(P=Object.create(null),this._intentStates.set(S.cacheKey,P)),P.streamReaderCancelTimeout&&(clearTimeout(P.streamReaderCancelTimeout),P.streamReaderCancelTimeout=null);var k,E=!!(S.renderingIntent&_util.RenderingIntentFlag.PRINT);P.displayReadyCapability||(P.displayReadyCapability=new _util.PromiseCapability,P.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(k=this._stats)||void 0===k||k.time("Page Request"),this._pumpOperatorList(S));var C=function(e){var t,r;P.renderTasks.delete(A),(i._maybeCleanupAfterRender||E)&&_classPrivateFieldSet(i,_pendingCleanup,!0),_classPrivateMethodGet(i,_tryCleanup,_tryCleanup2).call(i,!E),e?(A.capability.reject(e),i._abortOperatorList({intentState:P,reason:e instanceof Error?e:new Error(e)})):A.capability.resolve(),null===(t=i._stats)||void 0===t||t.timeEnd("Rendering"),null===(r=i._stats)||void 0===r||r.timeEnd("Overall")},A=new InternalRenderTask({callback:C,params:{canvasContext:a,viewport:o,transform:p,background:d},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:g,operatorList:P.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!E,pdfBug:this._pdfBug,pageColors:b});((n=P).renderTasks||(n.renderTasks=new Set)).add(A);var T=A.task;return Promise.all([P.displayReadyCapability.promise,m]).then((function(e){var t,r=_slicedToArray(e,2),n=r[0],a=r[1];_classPrivateFieldGet(i,_pendingCleanup)?C():(null===(t=i._stats)||void 0===t||t.time("Rendering"),A.initializeGraphics({transparency:n,optionalContentConfig:a}),A.operatorListChanged())})).catch(C),T}},{key:"getOperatorList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.intent,r=void 0===t?"display":t,n=e.annotationMode,i=void 0===n?_util.AnnotationMode.ENABLE:n,a=e.printAnnotationStorage,o=void 0===a?null:a;function s(){p.operatorList.lastChunk&&(p.opListReadCapability.resolve(p.operatorList),p.renderTasks.delete(l))}var l,u,c,f=this._transport.getRenderingIntent(r,i,o,!0),p=this._intentStates.get(f.cacheKey);return p||(p=Object.create(null),this._intentStates.set(f.cacheKey,p)),p.opListReadCapability||((l=Object.create(null)).operatorListChanged=s,p.opListReadCapability=new _util.PromiseCapability,((u=p).renderTasks||(u.renderTasks=new Set)).add(l),p.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(c=this._stats)||void 0===c||c.time("Page Request"),this._pumpOperatorList(f)),p.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.includeMarkedContent,r=void 0!==t&&t,n=e.disableNormalization,i=void 0!==n&&n,a=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===r,disableNormalization:!0===i},{highWaterMark:a,size:function(e){return e.items.length}})}},{key:"getTextContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((function(e){return _xfa_text.XfaText.textContent(e)}));var t=this.streamTextContent(e);return new Promise((function(e,r){var n=t.getReader(),i={items:[],styles:Object.create(null)};!function t(){n.read().then((function(r){var n,a=r.value;r.done?e(i):(Object.assign(i.styles,a.styles),(n=i.items).push.apply(n,_toConsumableArray(a.items)),t())}),r)}()}))}},{key:"getStructTree",value:function(){return this._transport.getStructTree(this._pageIndex)}},{key:"_destroy",value:function(){this.destroyed=!0;var e,t=[],r=_createForOfIteratorHelper(this._intentStates.values());try{for(r.s();!(e=r.n()).done;){var n=e.value;if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability){var i,a=_createForOfIteratorHelper(n.renderTasks);try{for(a.s();!(i=a.n()).done;){var o=i.value;t.push(o.completed),o.cancel()}}catch(s){a.e(s)}finally{a.f()}}}}catch(s){r.e(s)}finally{r.f()}return this.objs.clear(),_classPrivateFieldSet(this,_pendingCleanup,!1),_classPrivateMethodGet(this,_abortDelayedCleanup,_abortDelayedCleanup2).call(this),Promise.all(t)}},{key:"cleanup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];_classPrivateFieldSet(this,_pendingCleanup,!0);var t=_classPrivateMethodGet(this,_tryCleanup,_tryCleanup2).call(this,!1);return e&&t&&this._stats&&(this._stats=new _display_utils.StatTimer),t}},{key:"_startRenderPage",value:function(e,t){var r,n,i=this._intentStates.get(t);i&&(null===(r=this._stats)||void 0===r||r.timeEnd("Page Request"),null===(n=i.displayReadyCapability)||void 0===n||n.resolve(e))}},{key:"_renderPageChunk",value:function(e,t){for(var r=0,n=e.length;r<n;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;var i,a=_createForOfIteratorHelper(t.renderTasks);try{for(a.s();!(i=a.n()).done;)i.value.operatorListChanged()}catch(o){a.e(o)}finally{a.f()}e.lastChunk&&_classPrivateMethodGet(this,_tryCleanup,_tryCleanup2).call(this,!0)}},{key:"_pumpOperatorList",value:function(e){var t=this,r=e.renderingIntent,n=e.cacheKey,i=e.annotationStorageMap,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:r,cacheKey:n,annotationStorage:i}).getReader(),o=this._intentStates.get(n);o.streamReader=a,function e(){a.read().then((function(r){var n=r.value;r.done?o.streamReader=null:t._transport.destroyed||(t._renderPageChunk(n,o),e())}),(function(e){if(o.streamReader=null,!t._transport.destroyed){if(o.operatorList){o.operatorList.lastChunk=!0;var r,n=_createForOfIteratorHelper(o.renderTasks);try{for(n.s();!(r=n.n()).done;)r.value.operatorListChanged()}catch(i){n.e(i)}finally{n.f()}_classPrivateMethodGet(t,_tryCleanup,_tryCleanup2).call(t,!0)}if(o.displayReadyCapability)o.displayReadyCapability.reject(e);else{if(!o.opListReadCapability)throw e;o.opListReadCapability.reject(e)}}}))}()}},{key:"_abortOperatorList",value:function(e){var t=this,r=e.intentState,n=e.reason,i=e.force,a=void 0!==i&&i;if(r.streamReader){if(r.streamReaderCancelTimeout&&(clearTimeout(r.streamReaderCancelTimeout),r.streamReaderCancelTimeout=null),!a){if(r.renderTasks.size>0)return;if(n instanceof _display_utils.RenderingCancelledException){var o=RENDERING_CANCELLED_TIMEOUT;return n.extraDelay>0&&n.extraDelay<1e3&&(o+=n.extraDelay),void(r.streamReaderCancelTimeout=setTimeout((function(){r.streamReaderCancelTimeout=null,t._abortOperatorList({intentState:r,reason:n,force:!0})}),o))}}if(r.streamReader.cancel(new _util.AbortException(n.message)).catch((function(){})),r.streamReader=null,!this._transport.destroyed){var s,l=_createForOfIteratorHelper(this._intentStates);try{for(l.s();!(s=l.n()).done;){var u=_slicedToArray(s.value,2),c=u[0];if(u[1]===r){this._intentStates.delete(c);break}}}catch(f){l.e(f)}finally{l.f()}this.cleanup()}}}},{key:"stats",get:function(){return this._stats}}]),e}();function _tryCleanup2(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(_classPrivateMethodGet(this,_abortDelayedCleanup,_abortDelayedCleanup2).call(this),!_classPrivateFieldGet(this,_pendingCleanup))return!1;if(t)return _classPrivateFieldSet(this,_delayedCleanupTimeout,setTimeout((function(){_classPrivateFieldSet(e,_delayedCleanupTimeout,null),_classPrivateMethodGet(e,_tryCleanup,_tryCleanup2).call(e,!1)}),DELAYED_CLEANUP_TIMEOUT)),!1;var r,n=_createForOfIteratorHelper(this._intentStates.values());try{for(n.s();!(r=n.n()).done;){var i=r.value,a=i.renderTasks,o=i.operatorList;if(a.size>0||!o.lastChunk)return!1}}catch(s){n.e(s)}finally{n.f()}return this._intentStates.clear(),this.objs.clear(),_classPrivateFieldSet(this,_pendingCleanup,!1),!0}function _abortDelayedCleanup2(){_classPrivateFieldGet(this,_delayedCleanupTimeout)&&(clearTimeout(_classPrivateFieldGet(this,_delayedCleanupTimeout)),_classPrivateFieldSet(this,_delayedCleanupTimeout,null))}exports.PDFPageProxy=PDFPageProxy;var _listeners=new WeakMap,_deferred=new WeakMap,LoopbackPort=function(){function e(){_classCallCheck(this,e),_classPrivateFieldInitSpec(this,_listeners,{writable:!0,value:new Set}),_classPrivateFieldInitSpec(this,_deferred,{writable:!0,value:Promise.resolve()})}return _createClass(e,[{key:"postMessage",value:function(e,t){var r=this,n={data:structuredClone(e,t?{transfer:t}:null)};_classPrivateFieldGet(this,_deferred).then((function(){var e,t=_createForOfIteratorHelper(_classPrivateFieldGet(r,_listeners));try{for(t.s();!(e=t.n()).done;)e.value.call(r,n)}catch(i){t.e(i)}finally{t.f()}}))}},{key:"addEventListener",value:function(e,t){_classPrivateFieldGet(this,_listeners).add(t)}},{key:"removeEventListener",value:function(e,t){_classPrivateFieldGet(this,_listeners).delete(t)}},{key:"terminate",value:function(){_classPrivateFieldGet(this,_listeners).clear()}}]),e}();exports.LoopbackPort=LoopbackPort;var PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"===typeof document){var _document,_document$currentScri,pdfjsFilePath=null===(_document=document)||void 0===_document||null===(_document$currentScri=_document.currentScript)||void 0===_document$currentScri?void 0:_document$currentScri.src;pdfjsFilePath&&(PDFWorkerUtil.fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(e,t){var r;try{if(!(r=new URL(e)).origin||"null"===r.origin)return!1}catch(i){return!1}var n=new URL(t,r);return r.origin===n.origin},PDFWorkerUtil.createCDNWrapper=function(e){var t='importScripts("'.concat(e,'");');return URL.createObjectURL(new Blob([t]))};var PDFWorker=function(){function PDFWorker(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,r=void 0===t?null:t,n=e.port,i=void 0===n?null:n,a=e.verbosity,o=void 0===a?(0,_util.getVerbosityLevel)():a;if(_classCallCheck(this,PDFWorker),i&&_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).has(i))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=r,this.destroyed=!1,this.verbosity=o,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,i)return _classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).set(i,this),void this._initializeFromPort(i);this._initialize()}return _createClass(PDFWorker,[{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}},{key:"_initializeFromPort",value:function(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}},{key:"_initialize",value:function(){var e=this;if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){var t=PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,t)||(t=PDFWorkerUtil.createCDNWrapper(new URL(t,window.location).href));var r=new Worker(t),n=new _message_handler.MessageHandler("main","worker",r),i=function(){r.removeEventListener("error",a),n.destroy(),r.terminate(),e.destroyed?e._readyCapability.reject(new Error("Worker was destroyed")):e._setupFakeWorker()},a=function(){e._webWorker||i()};r.addEventListener("error",a),n.on("test",(function(t){r.removeEventListener("error",a),e.destroyed?i():t?(e._messageHandler=n,e._port=r,e._webWorker=r,e._readyCapability.resolve(),n.send("configure",{verbosity:e.verbosity})):(e._setupFakeWorker(),n.destroy(),r.terminate())})),n.on("ready",(function(t){if(r.removeEventListener("error",a),e.destroyed)i();else try{o()}catch(n){e._setupFakeWorker()}}));var o=function(){var e=new Uint8Array;n.send("test",e,[e.buffer])};return void o()}catch(s){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var e=this;PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then((function(t){if(e.destroyed)e._readyCapability.reject(new Error("Worker was destroyed"));else{var r=new LoopbackPort;e._port=r;var n="fake".concat(PDFWorkerUtil.fakeWorkerId++),i=new _message_handler.MessageHandler(n+"_worker",n,r);t.setup(i,r);var a=new _message_handler.MessageHandler(n,n+"_worker",r);e._messageHandler=a,e._readyCapability.resolve(),a.send("configure",{verbosity:e.verbosity})}})).catch((function(t){e._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(t.message,'".')))}))}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}}],[{key:"fromPort",value:function(e){if(null===e||void 0===e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _classStaticPrivateFieldSpecGet(this,PDFWorker,_workerPorts).has(e.port)?_classStaticPrivateFieldSpecGet(this,PDFWorker,_workerPorts).get(e.port):new PDFWorker(e)}},{key:"workerSrc",get:function(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}},{key:"_mainThreadWorkerMessageHandler",get:function(){try{var e;return(null===(e=globalThis.pdfjsWorker)||void 0===e?void 0:e.WorkerMessageHandler)||null}catch(t){return null}}},{key:"_setupFakeWorkerGlobal",get:function get(){var _this14=this,loader=function(){var _ref15=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(){var mainWorkerMessageHandler,worker;return _regeneratorRuntime().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(mainWorkerMessageHandler=_this14._mainThreadWorkerMessageHandler,!mainWorkerMessageHandler){_context3.next=3;break}return _context3.abrupt("return",mainWorkerMessageHandler);case 3:if(!_is_node.isNodeJS){_context3.next=6;break}return worker=eval("require")(_this14.workerSrc),_context3.abrupt("return",worker.WorkerMessageHandler);case 6:return _context3.next=8,(0,_display_utils.loadScript)(_this14.workerSrc);case 8:return _context3.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context3.stop()}}),_callee3)})));return function(){return _ref15.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}]),PDFWorker}(),_workerPorts={writable:!0,value:new WeakMap};exports.PDFWorker=PDFWorker;var _methodPromises=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_cacheSimpleMethod=new WeakSet,WorkerTransport=function(){function e(t,r,n,i,a){_classCallCheck(this,e),_classPrivateMethodInitSpec(this,_cacheSimpleMethod),_classPrivateFieldInitSpec(this,_methodPromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),this.messageHandler=t,this.loadingTask=r,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this._params=i,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}return _createClass(e,[{key:"annotationStorage",get:function(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}},{key:"getRenderingIntent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_util.AnnotationMode.ENABLE,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=_util.RenderingIntentFlag.DISPLAY,a=null;switch(e){case"any":i=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":i=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)("getRenderingIntent - invalid intent: ".concat(e))}switch(t){case _util.AnnotationMode.DISABLE:i+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:i+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:var o=(i+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE)&_util.RenderingIntentFlag.PRINT&&r instanceof _annotation_storage.PrintAnnotationStorage?r:this.annotationStorage;a=o.serializable;break;default:(0,_util.warn)("getRenderingIntent - invalid annotationMode: ".concat(t))}return n&&(i+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:i,cacheKey:"".concat(i,"_").concat(_annotation_storage.AnnotationStorage.getHash(a)),annotationStorageMap:a}}},{key:"destroy",value:function(){var e=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var t,r=[],n=_createForOfIteratorHelper(_classPrivateFieldGet(this,_pageCache).values());try{for(n.s();!(t=n.n()).done;){var i=t.value;r.push(i._destroy())}}catch(o){n.e(o)}finally{n.f()}_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();var a=this.messageHandler.sendWithPromise("Terminate",null);return r.push(a),Promise.all(r).then((function(){e.commonObjs.clear(),e.fontLoader.clear(),_classPrivateFieldGet(e,_methodPromises).clear(),e.filterFactory.destroy(),e._networkStream&&e._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),e.messageHandler&&(e.messageHandler.destroy(),e.messageHandler=null),e.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var e=this,t=this.messageHandler,r=this.loadingTask;t.on("GetReader",(function(t,r){(0,_util.assert)(e._networkStream,"GetReader - no `IPDFStream` instance available."),e._fullReader=e._networkStream.getFullReader(),e._fullReader.onProgress=function(t){e._lastProgress={loaded:t.loaded,total:t.total}},r.onPull=function(){e._fullReader.read().then((function(e){var t=e.value;e.done?r.close():((0,_util.assert)(t instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(t),1,[t]))})).catch((function(e){r.error(e)}))},r.onCancel=function(t){e._fullReader.cancel(t),r.ready.catch((function(t){if(!e.destroyed)throw t}))}})),t.on("ReaderHeadersReady",(function(t){var n=new _util.PromiseCapability,i=e._fullReader;return i.headersReady.then((function(){var t;i.isStreamingSupported&&i.isRangeSupported||(e._lastProgress&&(null===(t=r.onProgress)||void 0===t||t.call(r,e._lastProgress)),i.onProgress=function(e){var t;null===(t=r.onProgress)||void 0===t||t.call(r,{loaded:e.loaded,total:e.total})});n.resolve({isStreamingSupported:i.isStreamingSupported,isRangeSupported:i.isRangeSupported,contentLength:i.contentLength})}),n.reject),n.promise})),t.on("GetRangeReader",(function(t,r){(0,_util.assert)(e._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var n=e._networkStream.getRangeReader(t.begin,t.end);n?(r.onPull=function(){n.read().then((function(e){var t=e.value;e.done?r.close():((0,_util.assert)(t instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(t),1,[t]))})).catch((function(e){r.error(e)}))},r.onCancel=function(t){n.cancel(t),r.ready.catch((function(t){if(!e.destroyed)throw t}))}):r.close()})),t.on("GetDoc",(function(t){var n=t.pdfInfo;e._numPages=n.numPages,e._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,r._capability.resolve(new PDFDocumentProxy(n,e))})),t.on("DocException",(function(e){var t;switch(e.name){case"PasswordException":t=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":t=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":t=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":t=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":t=new _util.UnknownErrorException(e.message,e.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}r._capability.reject(t)})),t.on("PasswordRequest",(function(t){if(e._passwordCapability=new _util.PromiseCapability,r.onPassword)try{r.onPassword((function(t){t instanceof Error?e._passwordCapability.reject(t):e._passwordCapability.resolve({password:t})}),t.code)}catch(n){e._passwordCapability.reject(n)}else e._passwordCapability.reject(new _util.PasswordException(t.message,t.code));return e._passwordCapability.promise})),t.on("DataLoaded",(function(t){var n;null===(n=r.onProgress)||void 0===n||n.call(r,{loaded:t.length,total:t.length}),e.downloadInfoCapability.resolve(t)})),t.on("StartRenderPage",(function(t){e.destroyed||_classPrivateFieldGet(e,_pageCache).get(t.pageIndex)._startRenderPage(t.transparency,t.cacheKey)})),t.on("commonobj",(function(r){var n,i=_slicedToArray(r,3),a=i[0],o=i[1],s=i[2];if(!e.destroyed&&!e.commonObjs.has(a))switch(o){case"Font":var l=e._params;if("error"in s){var u=s.error;(0,_util.warn)("Error during font loading: ".concat(u)),e.commonObjs.resolve(a,u);break}var c=l.pdfBug&&null!==(n=globalThis.FontInspector)&&void 0!==n&&n.enabled?function(e,t){return globalThis.FontInspector.fontAdded(e,t)}:null,f=new _font_loader.FontFaceObject(s,{isEvalSupported:l.isEvalSupported,disableFontFace:l.disableFontFace,ignoreErrors:l.ignoreErrors,inspectFont:c});e.fontLoader.bind(f).catch((function(e){return t.sendWithPromise("FontFallback",{id:a})})).finally((function(){!l.fontExtraProperties&&f.data&&(f.data=null),e.commonObjs.resolve(a,f)}));break;case"FontPath":case"Image":case"Pattern":e.commonObjs.resolve(a,s);break;default:throw new Error("Got unknown common object type ".concat(o))}})),t.on("obj",(function(t){var r=_slicedToArray(t,4),n=r[0],i=r[1],a=r[2],o=r[3];if(!e.destroyed){var s=_classPrivateFieldGet(e,_pageCache).get(i);if(!s.objs.has(n))switch(a){case"Image":var l;if(s.objs.resolve(n,o),o)(o.bitmap?o.width*o.height*4:(null===(l=o.data)||void 0===l?void 0:l.length)||0)>_util.MAX_IMAGE_SIZE_TO_CACHE&&(s._maybeCleanupAfterRender=!0);break;case"Pattern":s.objs.resolve(n,o);break;default:throw new Error("Got unknown object type ".concat(a))}}})),t.on("DocProgress",(function(t){var n;e.destroyed||null===(n=r.onProgress)||void 0===n||n.call(r,{loaded:t.loaded,total:t.total})})),t.on("FetchBuiltInCMap",(function(t){return e.destroyed?Promise.reject(new Error("Worker was destroyed.")):e.cMapReaderFactory?e.cMapReaderFactory.fetch(t):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))})),t.on("FetchStandardFontData",(function(t){return e.destroyed?Promise.reject(new Error("Worker was destroyed.")):e.standardFontDataFactory?e.standardFontDataFactory.fetch(t):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))}))}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"saveDocument",value:function(){var e,t,r=this;return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!==(e=null===(t=this._fullReader)||void 0===t?void 0:t.filename)&&void 0!==e?e:null}).finally((function(){r.annotationStorage.resetModified()}))}},{key:"getPage",value:function(e){var t=this;if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));var r=e-1,n=_classPrivateFieldGet(this,_pagePromises).get(r);if(n)return n;var i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:r}).then((function(e){if(t.destroyed)throw new Error("Transport destroyed");var n=new PDFPageProxy(r,e,t,t._params.pdfBug);return _classPrivateFieldGet(t,_pageCache).set(r,n),n}));return _classPrivateFieldGet(this,_pagePromises).set(r,i),i}},{key:"getPageIndex",value:function(e){return"object"!==typeof e||null===e||!Number.isInteger(e.num)||e.num<0||!Number.isInteger(e.gen)||e.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen})}},{key:"getAnnotations",value:function(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}},{key:"getFieldObjects",value:function(){return _classPrivateMethodGet(this,_cacheSimpleMethod,_cacheSimpleMethod2).call(this,"GetFieldObjects")}},{key:"hasJSActions",value:function(){return _classPrivateMethodGet(this,_cacheSimpleMethod,_cacheSimpleMethod2).call(this,"HasJSActions")}},{key:"getCalculationOrderIds",value:function(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(e){return"string"!==typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getDocJSActions",value:function(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}},{key:"getPageJSActions",value:function(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}},{key:"getStructTree",value:function(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then((function(e){return new _optional_content_config.OptionalContentConfig(e)}))}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var e=this,t="GetMetadata",r=_classPrivateFieldGet(this,_methodPromises).get(t);if(r)return r;var n=this.messageHandler.sendWithPromise(t,null).then((function(t){var r,n,i,a;return{info:t[0],metadata:t[1]?new _metadata.Metadata(t[1]):null,contentDispositionFilename:null!==(r=null===(n=e._fullReader)||void 0===n?void 0:n.filename)&&void 0!==r?r:null,contentLength:null!==(i=null===(a=e._fullReader)||void 0===a?void 0:a.contentLength)&&void 0!==i?i:null}}));return _classPrivateFieldGet(this,_methodPromises).set(t,n),n}},{key:"getMarkInfo",value:function(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}},{key:"startCleanup",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,r,n,i,a=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]&&a[0],!this.destroyed){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.messageHandler.sendWithPromise("Cleanup",null);case 5:r=_createForOfIteratorHelper(_classPrivateFieldGet(this,_pageCache).values()),e.prev=6,r.s();case 8:if((n=r.n()).done){e.next=15;break}if((i=n.value).cleanup()){e.next=13;break}throw new Error("startCleanup: Page ".concat(i.pageNumber," is currently rendering."));case 13:e.next=8;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),r.e(e.t0);case 20:return e.prev=20,r.f(),e.finish(20);case 23:this.commonObjs.clear(),t||this.fontLoader.clear(),_classPrivateFieldGet(this,_methodPromises).clear(),this.filterFactory.destroy(!0);case 27:case"end":return e.stop()}}),e,this,[[6,17,20,23]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadingParams",get:function(){var e=this._params,t=e.disableAutoFetch,r=e.enableXfa;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:t,enableXfa:r})}}]),e}();function _cacheSimpleMethod2(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=_classPrivateFieldGet(this,_methodPromises).get(e);if(r)return r;var n=this.messageHandler.sendWithPromise(e,t);return _classPrivateFieldGet(this,_methodPromises).set(e,n),n}var _objs=new WeakMap,_ensureObj=new WeakSet,PDFObjects=function(){function e(){_classCallCheck(this,e),_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){var r=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,e);return r.capability.promise.then((function(){return t(r.data)})),null}var n=_classPrivateFieldGet(this,_objs)[e];if(null===n||void 0===n||!n.capability.settled)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return n.data}},{key:"has",value:function(e){var t=_classPrivateFieldGet(this,_objs)[e];return(null===t||void 0===t?void 0:t.capability.settled)||!1}},{key:"resolve",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,e);r.data=t,r.capability.resolve()}},{key:"clear",value:function(){for(var e in _classPrivateFieldGet(this,_objs)){var t,r=_classPrivateFieldGet(this,_objs)[e].data;null===r||void 0===r||null===(t=r.bitmap)||void 0===t||t.close()}_classPrivateFieldSet(this,_objs,Object.create(null))}}]),e}();function _ensureObj2(e){var t=_classPrivateFieldGet(this,_objs)[e];return t||(_classPrivateFieldGet(this,_objs)[e]={capability:new _util.PromiseCapability,data:null})}var _internalRenderTask=new WeakMap,RenderTask=function(){function e(t){_classCallCheck(this,e),_classPrivateFieldInitSpec(this,_internalRenderTask,{writable:!0,value:null}),_classPrivateFieldSet(this,_internalRenderTask,t),this.onContinue=null}return _createClass(e,[{key:"promise",get:function(){return _classPrivateFieldGet(this,_internalRenderTask).capability.promise}},{key:"cancel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;_classPrivateFieldGet(this,_internalRenderTask).cancel(null,e)}},{key:"separateAnnots",get:function(){var e=_classPrivateFieldGet(this,_internalRenderTask).operatorList.separateAnnots;if(!e)return!1;var t=_classPrivateFieldGet(this,_internalRenderTask).annotationCanvasMap;return e.form||e.canvas&&(null===t||void 0===t?void 0:t.size)>0}}]),e}();exports.RenderTask=RenderTask;var InternalRenderTask=function(){function e(t){var r=t.callback,n=t.params,i=t.objs,a=t.commonObjs,o=t.annotationCanvasMap,s=t.operatorList,l=t.pageIndex,u=t.canvasFactory,c=t.filterFactory,f=t.useRequestAnimationFrame,p=void 0!==f&&f,h=t.pdfBug,d=void 0!==h&&h,v=t.pageColors,m=void 0===v?null:v;_classCallCheck(this,e),this.callback=r,this.params=n,this.objs=i,this.commonObjs=a,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=l,this.canvasFactory=u,this.filterFactory=c,this._pdfBug=d,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===p&&"undefined"!==typeof window,this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}return _createClass(e,[{key:"completed",get:function(){return this.capability.promise.catch((function(){}))}},{key:"initializeGraphics",value:function(t){var r,n,i=t.transparency,a=void 0!==i&&i,o=t.optionalContentConfig;if(!this.cancelled){if(this._canvas){if(_classStaticPrivateFieldSpecGet(e,e,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(e,e,_canvasInUse).add(this._canvas)}this._pdfBug&&null!==(r=globalThis.StepperManager)&&void 0!==r&&r.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var s=this.params,l=s.canvasContext,u=s.viewport,c=s.transform,f=s.background;this.gfx=new _canvas.CanvasGraphics(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:o},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:c,viewport:u,transparency:a,background:f}),this.operatorListIdx=0,this.graphicsReady=!0,null===(n=this.graphicsReadyCallback)||void 0===n||n.call(this)}}},{key:"cancel",value:function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,null===(t=this.gfx)||void 0===t||t.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(e,e,_canvasInUse).delete(this._canvas),this.callback(r||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas",n))}},{key:"operatorListChanged",value:function(){var e;this.graphicsReady?(null===(e=this.stepper)||void 0===e||e.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var e=this;this._useRequestAnimationFrame?window.requestAnimationFrame((function(){e._nextBound().catch(e._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}},{key:"_next",value:function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.cancelled){t.next=2;break}return t.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(this.pageColors),this._canvas&&_classStaticPrivateFieldSpecGet(e,e,_canvasInUse).delete(this._canvas),this.callback()));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),e}(),_canvasInUse={writable:!0,value:new WeakSet},version="3.6.172";exports.version=version;var build="4d3dfe254";exports.build=build},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.PrintAnnotationStorage=t.AnnotationStorage=void 0;var n=r(1),i=r(4),a=r(8),o=new WeakMap,s=new WeakMap,l=new WeakSet,u=function(){function e(){_classCallCheck(this,e),_classPrivateMethodInitSpec(this,l),_classPrivateFieldInitSpec(this,o,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,s,{writable:!0,value:new Map}),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}return _createClass(e,[{key:"getValue",value:function(e,t){var r=_classPrivateFieldGet(this,s).get(e);return void 0===r?t:Object.assign(t,r)}},{key:"getRawValue",value:function(e){return _classPrivateFieldGet(this,s).get(e)}},{key:"remove",value:function(e){if(_classPrivateFieldGet(this,s).delete(e),0===_classPrivateFieldGet(this,s).size&&this.resetModified(),"function"===typeof this.onAnnotationEditor){var t,r=_createForOfIteratorHelper(_classPrivateFieldGet(this,s).values());try{for(r.s();!(t=r.n()).done;)if(t.value instanceof i.AnnotationEditor)return}catch(n){r.e(n)}finally{r.f()}this.onAnnotationEditor(null)}}},{key:"setValue",value:function(e,t){var r=_classPrivateFieldGet(this,s).get(e),n=!1;if(void 0!==r)for(var a=0,o=Object.entries(t);a<o.length;a++){var u=_slicedToArray(o[a],2),f=u[0],p=u[1];r[f]!==p&&(n=!0,r[f]=p)}else n=!0,_classPrivateFieldGet(this,s).set(e,t);n&&_classPrivateMethodGet(this,l,c).call(this),t instanceof i.AnnotationEditor&&"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}},{key:"has",value:function(e){return _classPrivateFieldGet(this,s).has(e)}},{key:"getAll",value:function(){return _classPrivateFieldGet(this,s).size>0?(0,n.objectFromMap)(_classPrivateFieldGet(this,s)):null}},{key:"setAll",value:function(e){for(var t=0,r=Object.entries(e);t<r.length;t++){var n=_slicedToArray(r[t],2),i=n[0],a=n[1];this.setValue(i,a)}}},{key:"size",get:function(){return _classPrivateFieldGet(this,s).size}},{key:"resetModified",value:function(){_classPrivateFieldGet(this,o)&&(_classPrivateFieldSet(this,o,!1),"function"===typeof this.onResetModified&&this.onResetModified())}},{key:"print",get:function(){return new p(this)}},{key:"serializable",get:function(){if(0===_classPrivateFieldGet(this,s).size)return null;var e,t=new Map,r=_createForOfIteratorHelper(_classPrivateFieldGet(this,s));try{for(r.s();!(e=r.n()).done;){var n=_slicedToArray(e.value,2),a=n[0],o=n[1],l=o instanceof i.AnnotationEditor?o.serialize():o;l&&t.set(a,l)}}catch(u){r.e(u)}finally{r.f()}return t}}],[{key:"getHash",value:function(e){if(!e)return"";var t,r=new a.MurmurHash3_64,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var i=_slicedToArray(t.value,2),o=i[0],s=i[1];r.update("".concat(o,":").concat(JSON.stringify(s)))}}catch(l){n.e(l)}finally{n.f()}return r.hexdigest()}}]),e}();function c(){_classPrivateFieldGet(this,o)||(_classPrivateFieldSet(this,o,!0),"function"===typeof this.onSetModified&&this.onSetModified())}t.AnnotationStorage=u;var f=new WeakMap,p=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n;return _classCallCheck(this,r),n=t.call(this),_classPrivateFieldInitSpec(_assertThisInitialized(n),f,{writable:!0,value:null}),_classPrivateFieldSet(_assertThisInitialized(n),f,structuredClone(e.serializable)),n}return _createClass(r,[{key:"print",get:function(){(0,n.unreachable)("Should not call PrintAnnotationStorage.print")}},{key:"serializable",get:function(){return _classPrivateFieldGet(this,f)}}]),r}(u);t.PrintAnnotationStorage=p},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditor=void 0;var n=r(5),i=r(1),a=new WeakMap,o=new WeakMap,s=new WeakMap,l=new WeakMap,u=new WeakMap,c=new WeakMap,f=function(){function e(t){_classCallCheck(this,e),_classPrivateFieldInitSpec(this,a,{writable:!0,value:this.focusin.bind(this)}),_classPrivateFieldInitSpec(this,o,{writable:!0,value:this.focusout.bind(this)}),_classPrivateFieldInitSpec(this,s,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,l,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,u,{writable:!0,value:!1}),_defineProperty(this,"_uiManager",null),_classPrivateFieldInitSpec(this,c,{writable:!0,value:e._zIndex++}),this.constructor===e&&(0,i.unreachable)("Cannot initialize AnnotationEditor."),this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager;var r=this.parent.viewport,n=r.rotation,f=r.rawDims,p=f.pageWidth,h=f.pageHeight,d=f.pageX,v=f.pageY;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[p,h],this.pageTranslation=[d,v];var m=_slicedToArray(this.parentDimensions,2),y=m[0],g=m[1];this.x=t.x/y,this.y=t.y/g,this.isAttachedToDOM=!1}return _createClass(e,[{key:"addCommands",value:function(e){this._uiManager.addCommands(e)}},{key:"currentLayer",get:function(){return this._uiManager.currentLayer}},{key:"setInBackground",value:function(){this.div.style.zIndex=0}},{key:"setInForeground",value:function(){this.div.style.zIndex=_classPrivateFieldGet(this,c)}},{key:"setParent",value:function(e){null!==e&&(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions),this.parent=e}},{key:"focusin",value:function(e){_classPrivateFieldGet(this,s)?_classPrivateFieldSet(this,s,!1):this.parent.setSelected(this)}},{key:"focusout",value:function(e){var t;if(this.isAttachedToDOM){var r=e.relatedTarget;null!==r&&void 0!==r&&r.closest("#".concat(this.id))||(e.preventDefault(),null!==(t=this.parent)&&void 0!==t&&t.isMultipleSelection||this.commitOrRemove())}}},{key:"commitOrRemove",value:function(){this.isEmpty()?this.remove():this.commit()}},{key:"commit",value:function(){this.addToAnnotationStorage()}},{key:"addToAnnotationStorage",value:function(){this._uiManager.addToAnnotationStorage(this)}},{key:"dragstart",value:function(e){var t=this.parent.div.getBoundingClientRect();this.startX=e.clientX-t.x,this.startY=e.clientY-t.y,e.dataTransfer.setData("text/plain",this.id),e.dataTransfer.effectAllowed="move"}},{key:"setAt",value:function(e,t,r,n){var i=_slicedToArray(this.parentDimensions,2),a=i[0],o=i[1],s=this.screenToPageTranslation(r,n),l=_slicedToArray(s,2);r=l[0],n=l[1],this.x=(e+r)/a,this.y=(t+n)/o,this.div.style.left="".concat(100*this.x,"%"),this.div.style.top="".concat(100*this.y,"%")}},{key:"translate",value:function(e,t){var r=_slicedToArray(this.parentDimensions,2),n=r[0],i=r[1],a=this.screenToPageTranslation(e,t),o=_slicedToArray(a,2);e=o[0],t=o[1],this.x+=e/n,this.y+=t/i,this.div.style.left="".concat(100*this.x,"%"),this.div.style.top="".concat(100*this.y,"%")}},{key:"screenToPageTranslation",value:function(e,t){switch(this.parentRotation){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}},{key:"parentScale",get:function(){return this._uiManager.viewParameters.realScale}},{key:"parentRotation",get:function(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}},{key:"parentDimensions",get:function(){var e=this._uiManager.viewParameters.realScale,t=_slicedToArray(this.pageDimensions,2);return[t[0]*e,t[1]*e]}},{key:"setDims",value:function(e,t){var r=_slicedToArray(this.parentDimensions,2),n=r[0],i=r[1];this.div.style.width="".concat(100*e/n,"%"),this.div.style.height="".concat(100*t/i,"%")}},{key:"fixDims",value:function(){var e=this.div.style,t=e.height,r=e.width,n=r.endsWith("%"),i=t.endsWith("%");if(!n||!i){var a=_slicedToArray(this.parentDimensions,2),o=a[0],s=a[1];n||(e.width="".concat(100*parseFloat(r)/o,"%")),i||(e.height="".concat(100*parseFloat(t)/s,"%"))}}},{key:"getInitialTranslation",value:function(){return[0,0]}},{key:"render",value:function(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",_classPrivateFieldGet(this,a)),this.div.addEventListener("focusout",_classPrivateFieldGet(this,o));var e=this.getInitialTranslation(),t=_slicedToArray(e,2),r=t[0],i=t[1];return this.translate(r,i),(0,n.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}},{key:"pointerdown",value:function(e){var t=i.FeatureTest.platform.isMac;0!==e.button||e.ctrlKey&&t?e.preventDefault():(e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this),_classPrivateFieldSet(this,s,!0))}},{key:"getRect",value:function(e,t){var r=this.parentScale,n=_slicedToArray(this.pageDimensions,2),i=n[0],a=n[1],o=_slicedToArray(this.pageTranslation,2),s=o[0],l=o[1],u=e/r,c=t/r,f=this.x*i,p=this.y*a,h=this.width*i,d=this.height*a;switch(this.rotation){case 0:return[f+u+s,a-p-c-d+l,f+u+h+s,a-p-c+l];case 90:return[f+c+s,a-p+u+l,f+c+d+s,a-p+u+h+l];case 180:return[f-u-h+s,a-p+c+l,f-u+s,a-p+c+d+l];case 270:return[f-c-d+s,a-p-u-h+l,f-c+s,a-p-u+l];default:throw new Error("Invalid rotation")}}},{key:"getRectInCurrentCoords",value:function(e,t){var r=_slicedToArray(e,4),n=r[0],i=r[1],a=r[2],o=r[3],s=a-n,l=o-i;switch(this.rotation){case 0:return[n,t-o,s,l];case 90:return[n,t-i,l,s];case 180:return[a,t-i,s,l];case 270:return[a,t-o,l,s];default:throw new Error("Invalid rotation")}}},{key:"onceAdded",value:function(){}},{key:"isEmpty",value:function(){return!1}},{key:"enableEditMode",value:function(){_classPrivateFieldSet(this,u,!0)}},{key:"disableEditMode",value:function(){_classPrivateFieldSet(this,u,!1)}},{key:"isInEditMode",value:function(){return _classPrivateFieldGet(this,u)}},{key:"shouldGetKeyboardEvents",value:function(){return!1}},{key:"needsToBeRebuilt",value:function(){return this.div&&!this.isAttachedToDOM}},{key:"rebuild",value:function(){var e;null===(e=this.div)||void 0===e||e.addEventListener("focusin",_classPrivateFieldGet(this,a))}},{key:"serialize",value:function(){(0,i.unreachable)("An editor must be serializable")}},{key:"remove",value:function(){this.div.removeEventListener("focusin",_classPrivateFieldGet(this,a)),this.div.removeEventListener("focusout",_classPrivateFieldGet(this,o)),this.isEmpty()||this.commit(),this.parent.remove(this)}},{key:"select",value:function(){var e;null===(e=this.div)||void 0===e||e.classList.add("selectedEditor")}},{key:"unselect",value:function(){var e;null===(e=this.div)||void 0===e||e.classList.remove("selectedEditor")}},{key:"updateParams",value:function(e,t){}},{key:"disableEditing",value:function(){}},{key:"enableEditing",value:function(){}},{key:"propertiesToUpdate",get:function(){return{}}},{key:"contentDiv",get:function(){return this.div}},{key:"isEditing",get:function(){return _classPrivateFieldGet(this,l)},set:function(e){_classPrivateFieldSet(this,l,e),e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}],[{key:"_defaultLineColor",get:function(){return(0,i.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}},{key:"deserialize",value:function(e,t,r){var n=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r});n.rotation=e.rotation;var i=_slicedToArray(n.pageDimensions,2),a=i[0],o=i[1],s=n.getRectInCurrentCoords(e.rect,o),l=_slicedToArray(s,4),u=l[0],c=l[1],f=l[2],p=l[3];return n.x=u/a,n.y=c/o,n.width=f/a,n.height=p/o,n}}]),e}();_defineProperty(f,"_colorManager",new n.ColorManager),_defineProperty(f,"_zIndex",1),t.AnnotationEditor=f},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardManager=t.CommandManager=t.ColorManager=t.AnnotationEditorUIManager=void 0,t.bindEvents=function(e,t,r){var n,i=_createForOfIteratorHelper(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;t.addEventListener(a,e[a].bind(e))}}catch(o){i.e(o)}finally{i.f()}},t.opacityToHex=function(e){return Math.round(Math.min(255,Math.max(1,255*e))).toString(16).padStart(2,"0")};var n=r(1),i=r(6),a=new WeakMap,o=function(){function e(){_classCallCheck(this,e),_classPrivateFieldInitSpec(this,a,{writable:!0,value:0})}return _createClass(e,[{key:"getId",value:function(){var e,t;return"".concat(n.AnnotationEditorPrefix).concat((_classPrivateFieldSet(this,a,(e=_classPrivateFieldGet(this,a),t=e++,e)),t))}}]),e}(),s=new WeakMap,l=new WeakMap,u=new WeakMap,c=new WeakMap,f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;_classCallCheck(this,e),_classPrivateFieldInitSpec(this,s,{writable:!0,value:[]}),_classPrivateFieldInitSpec(this,l,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,u,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,c,{writable:!0,value:-1}),_classPrivateFieldSet(this,u,t)}return _createClass(e,[{key:"add",value:function(e){var t=e.cmd,r=e.undo,n=e.mustExec,i=e.type,a=void 0===i?NaN:i,o=e.overwriteIfSameType,f=void 0!==o&&o,p=e.keepUndo,h=void 0!==p&&p;if(n&&t(),!_classPrivateFieldGet(this,l)){var d={cmd:t,undo:r,type:a};if(-1===_classPrivateFieldGet(this,c))return _classPrivateFieldGet(this,s).length>0&&(_classPrivateFieldGet(this,s).length=0),_classPrivateFieldSet(this,c,0),void _classPrivateFieldGet(this,s).push(d);if(f&&_classPrivateFieldGet(this,s)[_classPrivateFieldGet(this,c)].type===a)return h&&(d.undo=_classPrivateFieldGet(this,s)[_classPrivateFieldGet(this,c)].undo),void(_classPrivateFieldGet(this,s)[_classPrivateFieldGet(this,c)]=d);var v=_classPrivateFieldGet(this,c)+1;v===_classPrivateFieldGet(this,u)?_classPrivateFieldGet(this,s).splice(0,1):(_classPrivateFieldSet(this,c,v),v<_classPrivateFieldGet(this,s).length&&_classPrivateFieldGet(this,s).splice(v)),_classPrivateFieldGet(this,s).push(d)}}},{key:"undo",value:function(){-1!==_classPrivateFieldGet(this,c)&&(_classPrivateFieldSet(this,l,!0),_classPrivateFieldGet(this,s)[_classPrivateFieldGet(this,c)].undo(),_classPrivateFieldSet(this,l,!1),_classPrivateFieldSet(this,c,_classPrivateFieldGet(this,c)-1))}},{key:"redo",value:function(){_classPrivateFieldGet(this,c)<_classPrivateFieldGet(this,s).length-1&&(_classPrivateFieldSet(this,c,_classPrivateFieldGet(this,c)+1),_classPrivateFieldSet(this,l,!0),_classPrivateFieldGet(this,s)[_classPrivateFieldGet(this,c)].cmd(),_classPrivateFieldSet(this,l,!1))}},{key:"hasSomethingToUndo",value:function(){return-1!==_classPrivateFieldGet(this,c)}},{key:"hasSomethingToRedo",value:function(){return _classPrivateFieldGet(this,c)<_classPrivateFieldGet(this,s).length-1}},{key:"destroy",value:function(){_classPrivateFieldSet(this,s,null)}}]),e}();t.CommandManager=f;var p=new WeakSet,h=function(){function e(t){_classCallCheck(this,e),_classPrivateMethodInitSpec(this,p),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;var r,i=n.FeatureTest.platform.isMac,a=_createForOfIteratorHelper(t);try{for(a.s();!(r=a.n()).done;){var o,s=_slicedToArray(r.value,2),l=s[0],u=s[1],c=_createForOfIteratorHelper(l);try{for(c.s();!(o=c.n()).done;){var f=o.value,h=f.startsWith("mac+");i&&h?(this.callbacks.set(f.slice(4),u),this.allKeys.add(f.split("+").at(-1))):i||h||(this.callbacks.set(f,u),this.allKeys.add(f.split("+").at(-1)))}}catch(d){c.e(d)}finally{c.f()}}}catch(d){a.e(d)}finally{a.f()}}return _createClass(e,[{key:"exec",value:function(e,t){if(this.allKeys.has(t.key)){var r=this.callbacks.get(_classPrivateMethodGet(this,p,d).call(this,t));r&&(r.bind(e)(),t.stopPropagation(),t.preventDefault())}}}]),e}();function d(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);var t=this.buffer.join("+");return this.buffer.length=0,t}t.KeyboardManager=h;var v=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"_colors",get:function(){var e=new Map([["CanvasText",null],["Canvas",null]]);return(0,i.getColorValues)(e),(0,n.shadow)(this,"_colors",e)}},{key:"convert",value:function(t){var r=(0,i.getRGB)(t);if(!window.matchMedia("(forced-colors: active)").matches)return r;var n,a=_createForOfIteratorHelper(this._colors);try{for(a.s();!(n=a.n()).done;){var o=_slicedToArray(n.value,2),s=o[0];if(o[1].every((function(e,t){return e===r[t]})))return e._colorsMapping.get(s)}}catch(l){a.e(l)}finally{a.f()}return r}},{key:"getHexCode",value:function(e){var t,r=this._colors.get(e);return r?(t=n.Util).makeHexColor.apply(t,_toConsumableArray(r)):e}}]),e}();_defineProperty(v,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),t.ColorManager=v;var m=new WeakMap,y=new WeakMap,g=new WeakMap,_=new WeakMap,b=new WeakMap,x=new WeakMap,w=new WeakMap,S=new WeakMap,P=new WeakMap,k=new WeakMap,E=new WeakMap,C=new WeakMap,A=new WeakMap,T=new WeakMap,O=new WeakMap,M=new WeakMap,I=new WeakMap,F=new WeakMap,R=new WeakMap,D=new WeakMap,j=new WeakMap,L=new WeakMap,N=new WeakMap,z=new WeakSet,B=new WeakSet,Z=new WeakSet,U=new WeakSet,V=new WeakSet,G=new WeakSet,W=new WeakSet,q=new WeakSet,H=new WeakSet,Y=new WeakSet,X=new WeakSet,K=function(){function e(t,r,a){_classCallCheck(this,e),_classPrivateMethodInitSpec(this,X),_classPrivateMethodInitSpec(this,Y),_classPrivateMethodInitSpec(this,H),_classPrivateMethodInitSpec(this,q),_classPrivateMethodInitSpec(this,W),_classPrivateMethodInitSpec(this,G),_classPrivateMethodInitSpec(this,V),_classPrivateMethodInitSpec(this,U),_classPrivateMethodInitSpec(this,Z),_classPrivateMethodInitSpec(this,B),_classPrivateMethodInitSpec(this,z),_classPrivateFieldInitSpec(this,m,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,y,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,g,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,b,{writable:!0,value:new f}),_classPrivateFieldInitSpec(this,x,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,w,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,S,{writable:!0,value:new Set}),_classPrivateFieldInitSpec(this,P,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,k,{writable:!0,value:new o}),_classPrivateFieldInitSpec(this,E,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,C,{writable:!0,value:n.AnnotationEditorType.NONE}),_classPrivateFieldInitSpec(this,A,{writable:!0,value:new Set}),_classPrivateFieldInitSpec(this,T,{writable:!0,value:this.copy.bind(this)}),_classPrivateFieldInitSpec(this,O,{writable:!0,value:this.cut.bind(this)}),_classPrivateFieldInitSpec(this,M,{writable:!0,value:this.paste.bind(this)}),_classPrivateFieldInitSpec(this,I,{writable:!0,value:this.keydown.bind(this)}),_classPrivateFieldInitSpec(this,F,{writable:!0,value:this.onEditingAction.bind(this)}),_classPrivateFieldInitSpec(this,R,{writable:!0,value:this.onPageChanging.bind(this)}),_classPrivateFieldInitSpec(this,D,{writable:!0,value:this.onScaleChanging.bind(this)}),_classPrivateFieldInitSpec(this,j,{writable:!0,value:this.onRotationChanging.bind(this)}),_classPrivateFieldInitSpec(this,L,{writable:!0,value:{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1}}),_classPrivateFieldInitSpec(this,N,{writable:!0,value:null}),_classPrivateFieldSet(this,N,t),_classPrivateFieldSet(this,P,r),_classPrivateFieldGet(this,P)._on("editingaction",_classPrivateFieldGet(this,F)),_classPrivateFieldGet(this,P)._on("pagechanging",_classPrivateFieldGet(this,R)),_classPrivateFieldGet(this,P)._on("scalechanging",_classPrivateFieldGet(this,D)),_classPrivateFieldGet(this,P)._on("rotationchanging",_classPrivateFieldGet(this,j)),_classPrivateFieldSet(this,_,a),this.viewParameters={realScale:i.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}return _createClass(e,[{key:"destroy",value:function(){_classPrivateMethodGet(this,B,J).call(this),_classPrivateFieldGet(this,P)._off("editingaction",_classPrivateFieldGet(this,F)),_classPrivateFieldGet(this,P)._off("pagechanging",_classPrivateFieldGet(this,R)),_classPrivateFieldGet(this,P)._off("scalechanging",_classPrivateFieldGet(this,D)),_classPrivateFieldGet(this,P)._off("rotationchanging",_classPrivateFieldGet(this,j));var e,t=_createForOfIteratorHelper(_classPrivateFieldGet(this,g).values());try{for(t.s();!(e=t.n()).done;)e.value.destroy()}catch(r){t.e(r)}finally{t.f()}_classPrivateFieldGet(this,g).clear(),_classPrivateFieldGet(this,y).clear(),_classPrivateFieldGet(this,S).clear(),_classPrivateFieldSet(this,m,null),_classPrivateFieldGet(this,A).clear(),_classPrivateFieldGet(this,b).destroy()}},{key:"onPageChanging",value:function(e){var t=e.pageNumber;_classPrivateFieldSet(this,x,t-1)}},{key:"focusMainContainer",value:function(){_classPrivateFieldGet(this,N).focus()}},{key:"addShouldRescale",value:function(e){_classPrivateFieldGet(this,S).add(e)}},{key:"removeShouldRescale",value:function(e){_classPrivateFieldGet(this,S).delete(e)}},{key:"onScaleChanging",value:function(e){var t=e.scale;this.commitOrRemove(),this.viewParameters.realScale=t*i.PixelsPerInch.PDF_TO_CSS_UNITS;var r,n=_createForOfIteratorHelper(_classPrivateFieldGet(this,S));try{for(n.s();!(r=n.n()).done;)r.value.onScaleChanging()}catch(a){n.e(a)}finally{n.f()}}},{key:"onRotationChanging",value:function(e){var t=e.pagesRotation;this.commitOrRemove(),this.viewParameters.rotation=t}},{key:"addToAnnotationStorage",value:function(e){e.isEmpty()||!_classPrivateFieldGet(this,_)||_classPrivateFieldGet(this,_).has(e.id)||_classPrivateFieldGet(this,_).setValue(e.id,e)}},{key:"copy",value:function(e){if(e.preventDefault(),_classPrivateFieldGet(this,m)&&_classPrivateFieldGet(this,m).commitOrRemove(),this.hasSelection){var t,r=[],n=_createForOfIteratorHelper(_classPrivateFieldGet(this,A));try{for(n.s();!(t=n.n()).done;){var i=t.value;i.isEmpty()||r.push(i.serialize())}}catch(a){n.e(a)}finally{n.f()}0!==r.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(r))}}},{key:"cut",value:function(e){this.copy(e),this.delete()}},{key:"paste",value:function(e){var t=this;e.preventDefault();var r=e.clipboardData.getData("application/pdfjs");if(r){try{r=JSON.parse(r)}catch(c){return void(0,n.warn)('paste: "'.concat(c.message,'".'))}if(Array.isArray(r)){this.unselectAll();var i=_classPrivateFieldGet(this,g).get(_classPrivateFieldGet(this,x));try{var a,o=[],s=_createForOfIteratorHelper(r);try{for(s.s();!(a=s.n()).done;){var l=a.value,u=i.deserialize(l);if(!u)return;o.push(u)}}catch(f){s.e(f)}finally{s.f()}this.addCommands({cmd:function(){var e,r=_createForOfIteratorHelper(o);try{for(r.s();!(e=r.n()).done;){var n=e.value;_classPrivateMethodGet(t,H,ae).call(t,n)}}catch(f){r.e(f)}finally{r.f()}_classPrivateMethodGet(t,X,se).call(t,o)},undo:function(){var e,t=_createForOfIteratorHelper(o);try{for(t.s();!(e=t.n()).done;)e.value.remove()}catch(f){t.e(f)}finally{t.f()}},mustExec:!0})}catch(c){(0,n.warn)('paste: "'.concat(c.message,'".'))}}}}},{key:"keydown",value:function(t){var r;null!==(r=this.getActive())&&void 0!==r&&r.shouldGetKeyboardEvents()||e._keyboardManager.exec(this,t)}},{key:"onEditingAction",value:function(e){["undo","redo","delete","selectAll"].includes(e.name)&&this[e.name]()}},{key:"setEditingState",value:function(e){e?(_classPrivateMethodGet(this,z,$).call(this),_classPrivateMethodGet(this,Z,Q).call(this),_classPrivateMethodGet(this,V,te).call(this,{isEditing:_classPrivateFieldGet(this,C)!==n.AnnotationEditorType.NONE,isEmpty:_classPrivateMethodGet(this,Y,oe).call(this),hasSomethingToUndo:_classPrivateFieldGet(this,b).hasSomethingToUndo(),hasSomethingToRedo:_classPrivateFieldGet(this,b).hasSomethingToRedo(),hasSelectedEditor:!1})):(_classPrivateMethodGet(this,B,J).call(this),_classPrivateMethodGet(this,U,ee).call(this),_classPrivateMethodGet(this,V,te).call(this,{isEditing:!1}))}},{key:"registerEditorTypes",value:function(e){if(!_classPrivateFieldGet(this,w)){_classPrivateFieldSet(this,w,e);var t,r=_createForOfIteratorHelper(_classPrivateFieldGet(this,w));try{for(r.s();!(t=r.n()).done;){var n=t.value;_classPrivateMethodGet(this,G,re).call(this,n.defaultPropertiesToUpdate)}}catch(i){r.e(i)}finally{r.f()}}}},{key:"getId",value:function(){return _classPrivateFieldGet(this,k).getId()}},{key:"currentLayer",get:function(){return _classPrivateFieldGet(this,g).get(_classPrivateFieldGet(this,x))}},{key:"currentPageIndex",get:function(){return _classPrivateFieldGet(this,x)}},{key:"addLayer",value:function(e){_classPrivateFieldGet(this,g).set(e.pageIndex,e),_classPrivateFieldGet(this,E)?e.enable():e.disable()}},{key:"removeLayer",value:function(e){_classPrivateFieldGet(this,g).delete(e.pageIndex)}},{key:"updateMode",value:function(e){if(_classPrivateFieldSet(this,C,e),e===n.AnnotationEditorType.NONE)this.setEditingState(!1),_classPrivateMethodGet(this,q,ie).call(this);else{this.setEditingState(!0),_classPrivateMethodGet(this,W,ne).call(this);var t,r=_createForOfIteratorHelper(_classPrivateFieldGet(this,g).values());try{for(r.s();!(t=r.n()).done;)t.value.updateMode(e)}catch(i){r.e(i)}finally{r.f()}}}},{key:"updateToolbar",value:function(e){e!==_classPrivateFieldGet(this,C)&&_classPrivateFieldGet(this,P).dispatch("switchannotationeditormode",{source:this,mode:e})}},{key:"updateParams",value:function(e,t){if(_classPrivateFieldGet(this,w)){var r,n=_createForOfIteratorHelper(_classPrivateFieldGet(this,A));try{for(n.s();!(r=n.n()).done;)r.value.updateParams(e,t)}catch(o){n.e(o)}finally{n.f()}var i,a=_createForOfIteratorHelper(_classPrivateFieldGet(this,w));try{for(a.s();!(i=a.n()).done;)i.value.updateDefaultParams(e,t)}catch(o){a.e(o)}finally{a.f()}}}},{key:"getEditors",value:function(e){var t,r=[],n=_createForOfIteratorHelper(_classPrivateFieldGet(this,y).values());try{for(n.s();!(t=n.n()).done;){var i=t.value;i.pageIndex===e&&r.push(i)}}catch(a){n.e(a)}finally{n.f()}return r}},{key:"getEditor",value:function(e){return _classPrivateFieldGet(this,y).get(e)}},{key:"addEditor",value:function(e){_classPrivateFieldGet(this,y).set(e.id,e)}},{key:"removeEditor",value:function(e){var t;_classPrivateFieldGet(this,y).delete(e.id),this.unselect(e),null===(t=_classPrivateFieldGet(this,_))||void 0===t||t.remove(e.id)}},{key:"setActiveEditor",value:function(e){_classPrivateFieldGet(this,m)!==e&&(_classPrivateFieldSet(this,m,e),e&&_classPrivateMethodGet(this,G,re).call(this,e.propertiesToUpdate))}},{key:"toggleSelected",value:function(e){if(_classPrivateFieldGet(this,A).has(e))return _classPrivateFieldGet(this,A).delete(e),e.unselect(),void _classPrivateMethodGet(this,V,te).call(this,{hasSelectedEditor:this.hasSelection});_classPrivateFieldGet(this,A).add(e),e.select(),_classPrivateMethodGet(this,G,re).call(this,e.propertiesToUpdate),_classPrivateMethodGet(this,V,te).call(this,{hasSelectedEditor:!0})}},{key:"setSelected",value:function(e){var t,r=_createForOfIteratorHelper(_classPrivateFieldGet(this,A));try{for(r.s();!(t=r.n()).done;){var n=t.value;n!==e&&n.unselect()}}catch(i){r.e(i)}finally{r.f()}_classPrivateFieldGet(this,A).clear(),_classPrivateFieldGet(this,A).add(e),e.select(),_classPrivateMethodGet(this,G,re).call(this,e.propertiesToUpdate),_classPrivateMethodGet(this,V,te).call(this,{hasSelectedEditor:!0})}},{key:"isSelected",value:function(e){return _classPrivateFieldGet(this,A).has(e)}},{key:"unselect",value:function(e){e.unselect(),_classPrivateFieldGet(this,A).delete(e),_classPrivateMethodGet(this,V,te).call(this,{hasSelectedEditor:this.hasSelection})}},{key:"hasSelection",get:function(){return 0!==_classPrivateFieldGet(this,A).size}},{key:"undo",value:function(){_classPrivateFieldGet(this,b).undo(),_classPrivateMethodGet(this,V,te).call(this,{hasSomethingToUndo:_classPrivateFieldGet(this,b).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_classPrivateMethodGet(this,Y,oe).call(this)})}},{key:"redo",value:function(){_classPrivateFieldGet(this,b).redo(),_classPrivateMethodGet(this,V,te).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:_classPrivateFieldGet(this,b).hasSomethingToRedo(),isEmpty:_classPrivateMethodGet(this,Y,oe).call(this)})}},{key:"addCommands",value:function(e){_classPrivateFieldGet(this,b).add(e),_classPrivateMethodGet(this,V,te).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_classPrivateMethodGet(this,Y,oe).call(this)})}},{key:"delete",value:function(){var e=this;if(this.commitOrRemove(),this.hasSelection){var t=_toConsumableArray(_classPrivateFieldGet(this,A));this.addCommands({cmd:function(){var e,r=_createForOfIteratorHelper(t);try{for(r.s();!(e=r.n()).done;)e.value.remove()}catch(n){r.e(n)}finally{r.f()}},undo:function(){var r,n=_createForOfIteratorHelper(t);try{for(n.s();!(r=n.n()).done;){var i=r.value;_classPrivateMethodGet(e,H,ae).call(e,i)}}catch(a){n.e(a)}finally{n.f()}},mustExec:!0})}}},{key:"commitOrRemove",value:function(){var e;null===(e=_classPrivateFieldGet(this,m))||void 0===e||e.commitOrRemove()}},{key:"selectAll",value:function(){var e,t=_createForOfIteratorHelper(_classPrivateFieldGet(this,A));try{for(t.s();!(e=t.n()).done;)e.value.commit()}catch(r){t.e(r)}finally{t.f()}_classPrivateMethodGet(this,X,se).call(this,_classPrivateFieldGet(this,y).values())}},{key:"unselectAll",value:function(){if(_classPrivateFieldGet(this,m))_classPrivateFieldGet(this,m).commitOrRemove();else if(0!==_classPrivateFieldGet(this,A).size){var e,t=_createForOfIteratorHelper(_classPrivateFieldGet(this,A));try{for(t.s();!(e=t.n()).done;)e.value.unselect()}catch(r){t.e(r)}finally{t.f()}_classPrivateFieldGet(this,A).clear(),_classPrivateMethodGet(this,V,te).call(this,{hasSelectedEditor:!1})}}},{key:"isActive",value:function(e){return _classPrivateFieldGet(this,m)===e}},{key:"getActive",value:function(){return _classPrivateFieldGet(this,m)}},{key:"getMode",value:function(){return _classPrivateFieldGet(this,C)}}]),e}();function $(){_classPrivateFieldGet(this,N).addEventListener("keydown",_classPrivateFieldGet(this,I))}function J(){_classPrivateFieldGet(this,N).removeEventListener("keydown",_classPrivateFieldGet(this,I))}function Q(){document.addEventListener("copy",_classPrivateFieldGet(this,T)),document.addEventListener("cut",_classPrivateFieldGet(this,O)),document.addEventListener("paste",_classPrivateFieldGet(this,M))}function ee(){document.removeEventListener("copy",_classPrivateFieldGet(this,T)),document.removeEventListener("cut",_classPrivateFieldGet(this,O)),document.removeEventListener("paste",_classPrivateFieldGet(this,M))}function te(e){var t=this;Object.entries(e).some((function(e){var r=_slicedToArray(e,2),n=r[0],i=r[1];return _classPrivateFieldGet(t,L)[n]!==i}))&&_classPrivateFieldGet(this,P).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(_classPrivateFieldGet(this,L),e)})}function re(e){_classPrivateFieldGet(this,P).dispatch("annotationeditorparamschanged",{source:this,details:e})}function ne(){if(!_classPrivateFieldGet(this,E)){_classPrivateFieldSet(this,E,!0);var e,t=_createForOfIteratorHelper(_classPrivateFieldGet(this,g).values());try{for(t.s();!(e=t.n()).done;)e.value.enable()}catch(r){t.e(r)}finally{t.f()}}}function ie(){if(this.unselectAll(),_classPrivateFieldGet(this,E)){_classPrivateFieldSet(this,E,!1);var e,t=_createForOfIteratorHelper(_classPrivateFieldGet(this,g).values());try{for(t.s();!(e=t.n()).done;)e.value.disable()}catch(r){t.e(r)}finally{t.f()}}}function ae(e){var t=_classPrivateFieldGet(this,g).get(e.pageIndex);t?t.addOrRebuild(e):this.addEditor(e)}function oe(){if(0===_classPrivateFieldGet(this,y).size)return!0;if(1===_classPrivateFieldGet(this,y).size){var e,t=_createForOfIteratorHelper(_classPrivateFieldGet(this,y).values());try{for(t.s();!(e=t.n()).done;)return e.value.isEmpty()}catch(r){t.e(r)}finally{t.f()}}return!1}function se(e){_classPrivateFieldGet(this,A).clear();var t,r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.isEmpty()||(_classPrivateFieldGet(this,A).add(n),n.select())}}catch(i){r.e(i)}finally{r.f()}_classPrivateMethodGet(this,V,te).call(this,{hasSelectedEditor:!0})}_defineProperty(K,"_keyboardManager",new h([[["ctrl+a","mac+meta+a"],K.prototype.selectAll],[["ctrl+z","mac+meta+z"],K.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],K.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],K.prototype.delete],[["Escape","mac+Escape"],K.prototype.unselectAll]])),t.AnnotationEditorUIManager=K},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.StatTimer=t.RenderingCancelledException=t.PixelsPerInch=t.PageViewport=t.PDFDateString=t.DOMStandardFontDataFactory=t.DOMSVGFactory=t.DOMFilterFactory=t.DOMCanvasFactory=t.DOMCMapReaderFactory=t.AnnotationPrefix=void 0,t.deprecated=function(e){console.log("Deprecated API usage: "+e)},t.getColorValues=function(e){var t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);var r,n=_createForOfIteratorHelper(e.keys());try{for(n.s();!(r=n.n()).done;){var i=r.value;t.style.color=i;var a=window.getComputedStyle(t).color;e.set(i,D(a))}}catch(o){n.e(o)}finally{n.f()}t.remove()},t.getCurrentTransform=function(e){var t=e.getTransform(),r=t.a,n=t.b,i=t.c,a=t.d,o=t.e,s=t.f;return[r,n,i,a,o,s]},t.getCurrentTransformInverse=function(e){var t=e.getTransform().invertSelf(),r=t.a,n=t.b,i=t.c,a=t.d,o=t.e,s=t.f;return[r,n,i,a,o,s]},t.getFilenameFromUrl=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t){var r=e.split(/[#?]/,1),n=_slicedToArray(r,1);e=n[0]}return e.substring(e.lastIndexOf("/")+1)},t.getPdfFilenameFromUrl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof e)return t;if(O(e))return(0,i.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;var r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,a=r.exec(e),o=n.exec(a[1])||n.exec(a[2])||n.exec(a[3]);if(o&&(o=o[0]).includes("%"))try{o=n.exec(decodeURIComponent(o))[0]}catch(s){}return o||t},t.getRGB=D,t.getXfaPageViewport=function(e,t){var r=t.scale,n=void 0===r?1:r,i=t.rotation,a=void 0===i?0:i,o=e.attributes.style,s=o.width,l=o.height,u=[0,0,parseInt(s),parseInt(l)];return new A({viewBox:u,scale:n,rotation:a})},t.isDataScheme=O,t.isPdfFile=function(e){return"string"===typeof e&&/\.pdf$/i.test(e)},t.isValidFetchUrl=F,t.loadScript=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(r,n){var i=document.createElement("script");i.src=e,i.onload=function(e){t&&i.remove(),r(e)},i.onerror=function(){n(new Error("Cannot load script at: ".concat(i.src)))},(document.head||document.documentElement).append(i)}))},t.setLayerDimensions=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t instanceof A){var i=t.rawDims,a=i.pageWidth,o=i.pageHeight,s=e.style,l="calc(var(--scale-factor) * ".concat(a,"px)"),u="calc(var(--scale-factor) * ".concat(o,"px)");r&&t.rotation%180!==0?(s.width=u,s.height=l):(s.width=l,s.height=u)}n&&e.setAttribute("data-main-rotation",t.rotation)};var n=r(7),i=r(1),a="http://www.w3.org/2000/svg";t.AnnotationPrefix="pdfjs_internal_id_";var o=_createClass((function e(){_classCallCheck(this,e)}));_defineProperty(o,"CSS",96),_defineProperty(o,"PDF",72),_defineProperty(o,"PDF_TO_CSS_UNITS",o.CSS/o.PDF),t.PixelsPerInch=o;var s=new WeakMap,l=new WeakMap,u=new WeakMap,c=new WeakMap,f=new WeakMap,p=new WeakMap,h=new WeakMap,d=new WeakMap,v=new WeakMap,m=new WeakMap,y=new WeakSet,g=function(e){_inherits(r,e);var t=_createSuper(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.docId,a=n.ownerDocument,o=void 0===a?globalThis.document:a;return _classCallCheck(this,r),e=t.call(this),_classPrivateMethodInitSpec(_assertThisInitialized(e),y),_classPrivateFieldInitSpec(_assertThisInitialized(e),m,{get:b,set:void 0}),_classPrivateFieldInitSpec(_assertThisInitialized(e),v,{get:_,set:void 0}),_classPrivateFieldInitSpec(_assertThisInitialized(e),s,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(_assertThisInitialized(e),l,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(_assertThisInitialized(e),u,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(_assertThisInitialized(e),c,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(_assertThisInitialized(e),f,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(_assertThisInitialized(e),p,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(_assertThisInitialized(e),h,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(_assertThisInitialized(e),d,{writable:!0,value:0}),_classPrivateFieldSet(_assertThisInitialized(e),u,i),_classPrivateFieldSet(_assertThisInitialized(e),c,o),e}return _createClass(r,[{key:"addFilter",value:function(e){var t,r;if(!e)return"none";var n,i,o,s,l=_classPrivateFieldGet(this,v).get(e);if(l)return l;if(1===e.length){for(var f=e[0],p=new Array(256),h=0;h<256;h++)p[h]=f[h]/255;s=n=i=o=p.join(",")}else{for(var g=_slicedToArray(e,3),_=g[0],b=g[1],w=g[2],S=new Array(256),P=new Array(256),k=new Array(256),E=0;E<256;E++)S[E]=_[E]/255,P[E]=b[E]/255,k[E]=w[E]/255;n=S.join(","),i=P.join(","),o=k.join(","),s="".concat(n).concat(i).concat(o)}if(l=_classPrivateFieldGet(this,v).get(s))return _classPrivateFieldGet(this,v).set(e,l),l;var C="g_".concat(_classPrivateFieldGet(this,u),"_transfer_map_").concat((_classPrivateFieldSet(this,d,(t=_classPrivateFieldGet(this,d),r=t++,t)),r)),A="url(#".concat(C,")");_classPrivateFieldGet(this,v).set(e,A),_classPrivateFieldGet(this,v).set(s,A);var T=_classPrivateFieldGet(this,c).createElementNS(a,"filter",a);T.setAttribute("id",C),T.setAttribute("color-interpolation-filters","sRGB");var O=_classPrivateFieldGet(this,c).createElementNS(a,"feComponentTransfer");return T.append(O),_classPrivateMethodGet(this,y,x).call(this,O,"feFuncR",n),_classPrivateMethodGet(this,y,x).call(this,O,"feFuncG",i),_classPrivateMethodGet(this,y,x).call(this,O,"feFuncB",o),_classPrivateFieldGet(this,m).append(T),A}},{key:"addHCMFilter",value:function(e,t){var r,n,o,s="".concat(e,"-").concat(t);if(_classPrivateFieldGet(this,p)===s)return _classPrivateFieldGet(this,h);if(_classPrivateFieldSet(this,p,s),_classPrivateFieldSet(this,h,"none"),null===(r=_classPrivateFieldGet(this,f))||void 0===r||r.remove(),!e||!t)return _classPrivateFieldGet(this,h);_classPrivateFieldGet(this,m).style.color=e;var l=D(e=getComputedStyle(_classPrivateFieldGet(this,m)).getPropertyValue("color"));e=(n=i.Util).makeHexColor.apply(n,_toConsumableArray(l)),_classPrivateFieldGet(this,m).style.color=t;var d=D(t=getComputedStyle(_classPrivateFieldGet(this,m)).getPropertyValue("color"));if(t=(o=i.Util).makeHexColor.apply(o,_toConsumableArray(d)),_classPrivateFieldGet(this,m).style.color="","#000000"===e&&"#ffffff"===t||e===t)return _classPrivateFieldGet(this,h);for(var v=new Array(256),g=0;g<=255;g++){var _=g/255;v[g]=_<=.03928?_/12.92:Math.pow((_+.055)/1.055,2.4)}var b=v.join(","),w="g_".concat(_classPrivateFieldGet(this,u),"_hcm_filter"),S=_classPrivateFieldSet(this,f,_classPrivateFieldGet(this,c).createElementNS(a,"filter",a));S.setAttribute("id",w),S.setAttribute("color-interpolation-filters","sRGB");var P=_classPrivateFieldGet(this,c).createElementNS(a,"feComponentTransfer");S.append(P),_classPrivateMethodGet(this,y,x).call(this,P,"feFuncR",b),_classPrivateMethodGet(this,y,x).call(this,P,"feFuncG",b),_classPrivateMethodGet(this,y,x).call(this,P,"feFuncB",b);var k=_classPrivateFieldGet(this,c).createElementNS(a,"feColorMatrix");k.setAttribute("type","matrix"),k.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),S.append(k),P=_classPrivateFieldGet(this,c).createElementNS(a,"feComponentTransfer"),S.append(P);var E=function(e,t){for(var r=l[e]/255,n=d[e]/255,i=new Array(t+1),a=0;a<=t;a++)i[a]=r+a/t*(n-r);return i.join(",")};return _classPrivateMethodGet(this,y,x).call(this,P,"feFuncR",E(0,5)),_classPrivateMethodGet(this,y,x).call(this,P,"feFuncG",E(1,5)),_classPrivateMethodGet(this,y,x).call(this,P,"feFuncB",E(2,5)),_classPrivateFieldGet(this,m).append(S),_classPrivateFieldSet(this,h,"url(#".concat(w,")")),_classPrivateFieldGet(this,h)}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&_classPrivateFieldGet(this,h)||(_classPrivateFieldGet(this,l)&&(_classPrivateFieldGet(this,l).parentNode.parentNode.remove(),_classPrivateFieldSet(this,l,null)),_classPrivateFieldGet(this,s)&&(_classPrivateFieldGet(this,s).clear(),_classPrivateFieldSet(this,s,null)),_classPrivateFieldSet(this,d,0))}}]),r}(n.BaseFilterFactory);function _(){return _classPrivateFieldGet(this,s)||_classPrivateFieldSet(this,s,new Map)}function b(){if(!_classPrivateFieldGet(this,l)){var e=_classPrivateFieldGet(this,c).createElement("div"),t=e.style;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;var r=_classPrivateFieldGet(this,c).createElementNS(a,"svg");r.setAttribute("width",0),r.setAttribute("height",0),_classPrivateFieldSet(this,l,_classPrivateFieldGet(this,c).createElementNS(a,"defs")),e.append(r),r.append(_classPrivateFieldGet(this,l)),_classPrivateFieldGet(this,c).body.append(e)}return _classPrivateFieldGet(this,l)}function x(e,t,r){var n=_classPrivateFieldGet(this,c).createElementNS(a,t);n.setAttribute("type","discrete"),n.setAttribute("tableValues",r),e.append(n)}t.DOMFilterFactory=g;var w=function(e){_inherits(r,e);var t=_createSuper(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.ownerDocument,a=void 0===i?globalThis.document:i;return _classCallCheck(this,r),(e=t.call(this))._document=a,e}return _createClass(r,[{key:"_createCanvas",value:function(e,t){var r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}]),r}(n.BaseCanvasFactory);function S(e){return P.apply(this,arguments)}function P(){return P=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,n,a=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>1&&void 0!==a[1]&&a[1],!F(t,document.baseURI)){e.next=21;break}return e.next=4,fetch(t);case 4:if((n=e.sent).ok){e.next=7;break}throw new Error(n.statusText);case 7:if(!r){e.next=15;break}return e.t1=Uint8Array,e.next=11,n.arrayBuffer();case 11:e.t2=e.sent,e.t0=new e.t1(e.t2),e.next=20;break;case 15:return e.t3=i.stringToBytes,e.next=18,n.text();case 18:e.t4=e.sent,e.t0=(0,e.t3)(e.t4);case 20:return e.abrupt("return",e.t0);case 21:return e.abrupt("return",new Promise((function(e,n){var a=new XMLHttpRequest;a.open("GET",t,!0),r&&(a.responseType="arraybuffer"),a.onreadystatechange=function(){if(a.readyState===XMLHttpRequest.DONE){var t;if((200===a.status||0===a.status)&&(r&&a.response?t=new Uint8Array(a.response):!r&&a.responseText&&(t=(0,i.stringToBytes)(a.responseText)),t))return void e(t);n(new Error(a.statusText))}},a.send(null)})));case 22:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}t.DOMCanvasFactory=w;var k=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"_fetchData",value:function(e,t){return S(e,this.isCompressed).then((function(e){return{cMapData:e,compressionType:t}}))}}]),r}(n.BaseCMapReaderFactory);t.DOMCMapReaderFactory=k;var E=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"_fetchData",value:function(e){return S(e,!0)}}]),r}(n.BaseStandardFontDataFactory);t.DOMStandardFontDataFactory=E;var C=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"_createSVG",value:function(e){return document.createElementNS(a,e)}}]),r}(n.BaseSVGFactory);t.DOMSVGFactory=C;var A=function(){function e(t){var r=t.viewBox,n=t.scale,i=t.rotation,a=t.offsetX,o=void 0===a?0:a,s=t.offsetY,l=void 0===s?0:s,u=t.dontFlip,c=void 0!==u&&u;_classCallCheck(this,e),this.viewBox=r,this.scale=n,this.rotation=i,this.offsetX=o,this.offsetY=l;var f,p,h,d,v,m,y,g,_=(r[2]+r[0])/2,b=(r[3]+r[1])/2;switch((i%=360)<0&&(i+=360),i){case 180:f=-1,p=0,h=0,d=1;break;case 90:f=0,p=1,h=1,d=0;break;case 270:f=0,p=-1,h=-1,d=0;break;case 0:f=1,p=0,h=0,d=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(h=-h,d=-d),0===f?(v=Math.abs(b-r[1])*n+o,m=Math.abs(_-r[0])*n+l,y=(r[3]-r[1])*n,g=(r[2]-r[0])*n):(v=Math.abs(_-r[0])*n+o,m=Math.abs(b-r[1])*n+l,y=(r[2]-r[0])*n,g=(r[3]-r[1])*n),this.transform=[f*n,p*n,h*n,d*n,v-f*n*_-h*n*b,m-p*n*_-d*n*b],this.width=y,this.height=g}return _createClass(e,[{key:"rawDims",get:function(){var e=this.viewBox;return(0,i.shadow)(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.scale,n=void 0===r?this.scale:r,i=t.rotation,a=void 0===i?this.rotation:i,o=t.offsetX,s=void 0===o?this.offsetX:o,l=t.offsetY,u=void 0===l?this.offsetY:l,c=t.dontFlip,f=void 0!==c&&c;return new e({viewBox:this.viewBox.slice(),scale:n,rotation:a,offsetX:s,offsetY:u,dontFlip:f})}},{key:"convertToViewportPoint",value:function(e,t){return i.Util.applyTransform([e,t],this.transform)}},{key:"convertToViewportRectangle",value:function(e){var t=i.Util.applyTransform([e[0],e[1]],this.transform),r=i.Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}},{key:"convertToPdfPoint",value:function(e,t){return i.Util.applyInverseTransform([e,t],this.transform)}}]),e}();t.PageViewport=A;var T=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,r),(i=t.call(this,e,"RenderingCancelledException")).type=n,i.extraDelay=a,i}return _createClass(r)}(i.BaseException);function O(e){for(var t=e.length,r=0;r<t&&""===e[r].trim();)r++;return"data:"===e.substring(r,r+5).toLowerCase()}t.RenderingCancelledException=T;var M,I=function(){function e(){_classCallCheck(this,e),_defineProperty(this,"started",Object.create(null)),_defineProperty(this,"times",[])}return _createClass(e,[{key:"time",value:function(e){e in this.started&&(0,i.warn)("Timer is already running for ".concat(e)),this.started[e]=Date.now()}},{key:"timeEnd",value:function(e){e in this.started||(0,i.warn)("Timer has not been started for ".concat(e)),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}},{key:"toString",value:function(){var e,t=[],r=0,n=_createForOfIteratorHelper(this.times);try{for(n.s();!(e=n.n()).done;){var i=e.value.name;r=Math.max(i.length,r)}}catch(f){n.e(f)}finally{n.f()}var a,o=_createForOfIteratorHelper(this.times);try{for(o.s();!(a=o.n()).done;){var s=a.value,l=s.name,u=s.start,c=s.end;t.push("".concat(l.padEnd(r)," ").concat(c-u,"ms\n"))}}catch(f){o.e(f)}finally{o.f()}return t.join("")}}]),e}();function F(e,t){try{var r=(t?new URL(e,t):new URL(e)).protocol;return"http:"===r||"https:"===r}catch(n){return!1}}t.StatTimer=I;var R=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"toDateObject",value:function(e){if(!e||"string"!==typeof e)return null;M||(M=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var t=M.exec(e);if(!t)return null;var r=parseInt(t[1],10),n=parseInt(t[2],10);n=n>=1&&n<=12?n-1:0;var i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;var a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;var o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;var s=parseInt(t[6],10);s=s>=0&&s<=59?s:0;var l=t[7]||"Z",u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;var c=parseInt(t[9],10)||0;return c=c>=0&&c<=59?c:0,"-"===l?(a+=u,o+=c):"+"===l&&(a-=u,o-=c),new Date(Date.UTC(r,n,i,a,o,s))}}]),e}();function D(e){if(e.startsWith("#")){var t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map((function(e){return parseInt(e)})):e.startsWith("rgba(")?e.slice(5,-1).split(",").map((function(e){return parseInt(e)})).slice(0,3):((0,i.warn)('Not a valid color format: "'.concat(e,'"')),[0,0,0])}t.PDFDateString=R},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStandardFontDataFactory=t.BaseSVGFactory=t.BaseFilterFactory=t.BaseCanvasFactory=t.BaseCMapReaderFactory=void 0;var n=r(1),i=function(){function e(){_classCallCheck(this,e),this.constructor===e&&(0,n.unreachable)("Cannot initialize BaseFilterFactory.")}return _createClass(e,[{key:"addFilter",value:function(e){return"none"}},{key:"addHCMFilter",value:function(e,t){return"none"}},{key:"destroy",value:function(){}}]),e}();t.BaseFilterFactory=i;var a=function(){function e(){_classCallCheck(this,e),this.constructor===e&&(0,n.unreachable)("Cannot initialize BaseCanvasFactory.")}return _createClass(e,[{key:"create",value:function(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");var r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d")}}},{key:"reset",value:function(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}},{key:"destroy",value:function(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}},{key:"_createCanvas",value:function(e,t){(0,n.unreachable)("Abstract method `_createCanvas` called.")}}]),e}();t.BaseCanvasFactory=a;var o=function(){function e(t){var r=t.baseUrl,i=void 0===r?null:r,a=t.isCompressed,o=void 0===a||a;_classCallCheck(this,e),this.constructor===e&&(0,n.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=i,this.isCompressed=o}return _createClass(e,[{key:"fetch",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,i,a,o=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.name,this.baseUrl){e.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(r){e.next=5;break}throw new Error("CMap name must be specified.");case 5:return i=this.baseUrl+r+(this.isCompressed?".bcmap":""),a=this.isCompressed?n.CMapCompressionType.BINARY:n.CMapCompressionType.NONE,e.abrupt("return",this._fetchData(i,a).catch((function(e){throw new Error("Unable to load ".concat(o.isCompressed?"binary ":"","CMap at: ").concat(i))})));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_fetchData",value:function(e,t){(0,n.unreachable)("Abstract method `_fetchData` called.")}}]),e}();t.BaseCMapReaderFactory=o;var s=function(){function e(t){var r=t.baseUrl,i=void 0===r?null:r;_classCallCheck(this,e),this.constructor===e&&(0,n.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=i}return _createClass(e,[{key:"fetch",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.filename,this.baseUrl){e.next=3;break}throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');case 3:if(r){e.next=5;break}throw new Error("Font filename must be specified.");case 5:return n="".concat(this.baseUrl).concat(r),e.abrupt("return",this._fetchData(n).catch((function(e){throw new Error("Unable to load font data at: ".concat(n))})));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_fetchData",value:function(e){(0,n.unreachable)("Abstract method `_fetchData` called.")}}]),e}();t.BaseStandardFontDataFactory=s;var l=function(){function e(){_classCallCheck(this,e),this.constructor===e&&(0,n.unreachable)("Cannot initialize BaseSVGFactory.")}return _createClass(e,[{key:"create",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");var n=this._createSVG("svg:svg");return n.setAttribute("version","1.1"),r||(n.setAttribute("width","".concat(e,"px")),n.setAttribute("height","".concat(t,"px"))),n.setAttribute("preserveAspectRatio","none"),n.setAttribute("viewBox","0 0 ".concat(e," ").concat(t)),n}},{key:"createElement",value:function(e){if("string"!==typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}},{key:"_createSVG",value:function(e){(0,n.unreachable)("Abstract method `_createSVG` called.")}}]),e}();t.BaseSVGFactory=l},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.MurmurHash3_64=void 0;var n=r(1),i=3285377520,a=4294901760,o=65535,s=function(){function e(t){_classCallCheck(this,e),this.h1=t?4294967295&t:i,this.h2=t?4294967295&t:i}return _createClass(e,[{key:"update",value:function(e){var t,r;if("string"===typeof e){t=new Uint8Array(2*e.length),r=0;for(var i=0,s=e.length;i<s;i++){var l=e.charCodeAt(i);l<=255?t[r++]=l:(t[r++]=l>>>8,t[r++]=255&l)}}else{if(!(0,n.isArrayBuffer)(e))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");r=(t=e.slice()).byteLength}for(var u=r>>2,c=r-4*u,f=new Uint32Array(t.buffer,0,u),p=0,h=0,d=this.h1,v=this.h2,m=3432918353,y=461845907,g=11601,_=13715,b=0;b<u;b++)1&b?d=5*(d=(d^=p=(p=(p=(p=f[b])*m&a|p*g&o)<<15|p>>>17)*y&a|p*_&o)<<13|d>>>19)+3864292196:v=5*(v=(v^=h=(h=(h=(h=f[b])*m&a|h*g&o)<<15|h>>>17)*y&a|h*_&o)<<13|v>>>19)+3864292196;switch(p=0,c){case 3:p^=t[4*u+2]<<16;case 2:p^=t[4*u+1]<<8;case 1:p=(p=(p=(p^=t[4*u])*m&a|p*g&o)<<15|p>>>17)*y&a|p*_&o,1&u?d^=p:v^=p}this.h1=d,this.h2=v}},{key:"hexdigest",value:function(){var e=this.h1,t=this.h2;return e=3981806797*(e^=t>>>1)&a|36045*e&o,e=444984403*(e^=(t=4283543511*t&a|(2950163797*(t<<16|e>>>16)&a)>>>16)>>>1)&a|60499*e&o,((e^=(t=3301882366*t&a|(3120437893*(t<<16|e>>>16)&a)>>>16)>>>1)>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}]),e}();t.MurmurHash3_64=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var n=r(1),i=r(10),a=function(){function e(t){var r=t.ownerDocument,n=void 0===r?globalThis.document:r;t.styleElement,_classCallCheck(this,e),this._document=n,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}return _createClass(e,[{key:"addNativeFontFace",value:function(e){this.nativeFontFaces.push(e),this._document.fonts.add(e)}},{key:"insertRule",value:function(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));var t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}},{key:"clear",value:function(){var e,t=_createForOfIteratorHelper(this.nativeFontFaces);try{for(t.s();!(e=t.n()).done;){var r=e.value;this._document.fonts.delete(r)}}catch(n){t.e(n)}finally{t.f()}this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,i,a=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.attached&&!t.missingFile){e.next=2;break}return e.abrupt("return");case 2:if(t.attached=!0,!this.isFontLoadingAPISupported){e.next=18;break}if(!(r=t.createNativeFontFace())){e.next=17;break}return this.addNativeFontFace(r),e.prev=7,e.next=10,r.loaded;case 10:e.next=17;break;case 12:throw e.prev=12,e.t0=e.catch(7),(0,n.warn)("Failed to load font '".concat(r.family,"': '").concat(e.t0,"'.")),t.disableFontFace=!0,e.t0;case 17:return e.abrupt("return");case 18:if(!(i=t.createFontFaceRule())){e.next=25;break}if(this.insertRule(i),!this.isSyncFontLoadingSupported){e.next=23;break}return e.abrupt("return");case 23:return e.next=25,new Promise((function(e){var r=a._queueLoadingCallback(e);a._prepareFontLoadEvent(t,r)}));case 25:case"end":return e.stop()}}),e,this,[[7,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"isFontLoadingAPISupported",get:function(){var e,t=!(null===(e=this._document)||void 0===e||!e.fonts);return(0,n.shadow)(this,"isFontLoadingAPISupported",t)}},{key:"isSyncFontLoadingSupported",get:function(){var e=!1;return(i.isNodeJS||"undefined"!==typeof navigator&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),(0,n.shadow)(this,"isSyncFontLoadingSupported",e)}},{key:"_queueLoadingCallback",value:function(e){var t=this.loadingRequests,r={done:!1,complete:function(){for((0,n.assert)(!r.done,"completeRequest() cannot be called twice."),r.done=!0;t.length>0&&t[0].done;){var e=t.shift();setTimeout(e.callback,0)}},callback:e};return t.push(r),r}},{key:"_loadTestFont",get:function(){var e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,n.shadow)(this,"_loadTestFont",e)}},{key:"_prepareFontLoadEvent",value:function(e,t){function r(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function i(e,t,r,n){return e.substring(0,t)+n+e.substring(t+r)}var a,o,s=this._document.createElement("canvas");s.width=1,s.height=1;var l=s.getContext("2d"),u=0,c="lt".concat(Date.now()).concat(this.loadTestFontId++),f=this._loadTestFont,p=1482184792,h=r(f=i(f,976,c.length,c),16);for(a=0,o=c.length-3;a<o;a+=4)h=h-p+r(c,a)|0;a<c.length&&(h=h-p+r(c+"XXX",a)|0),f=i(f,16,4,(0,n.string32)(h));var d="url(data:font/opentype;base64,".concat(btoa(f),");"),v='@font-face {font-family:"'.concat(c,'";src:').concat(d,"}");this.insertRule(v);var m=this._document.createElement("div");m.style.visibility="hidden",m.style.width=m.style.height="10px",m.style.position="absolute",m.style.top=m.style.left="0px";for(var y=0,g=[e.loadedName,c];y<g.length;y++){var _=g[y],b=this._document.createElement("span");b.textContent="Hi",b.style.fontFamily=_,m.append(b)}this._document.body.append(m),function e(t,r){if(++u>30)return(0,n.warn)("Load test font never loaded."),void r();l.font="30px "+t,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0?r():setTimeout(e.bind(null,t,r))}(c,(function(){m.remove(),t.complete()}))}}]),e}();t.FontLoader=a;var o=function(){function e(t,r){var n=r.isEvalSupported,i=void 0===n||n,a=r.disableFontFace,o=void 0!==a&&a,s=r.ignoreErrors,l=void 0!==s&&s,u=r.inspectFont,c=void 0===u?null:u;for(var f in _classCallCheck(this,e),this.compiledGlyphs=Object.create(null),t)this[f]=t[f];this.isEvalSupported=!1!==i,this.disableFontFace=!0===o,this.ignoreErrors=!0===l,this._inspectFont=c}return _createClass(e,[{key:"createNativeFontFace",value:function(){var e,t;if(!this.data||this.disableFontFace)return null;if(this.cssFontInfo){var r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),t=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}else t=new FontFace(this.loadedName,this.data,{});return null===(e=this._inspectFont)||void 0===e||e.call(this,this),t}},{key:"createFontFaceRule",value:function(){var e;if(!this.data||this.disableFontFace)return null;var t,r=(0,n.bytesToString)(this.data),i="url(data:".concat(this.mimetype,";base64,").concat(btoa(r),");");if(this.cssFontInfo){var a="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(a+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),t='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(a,"src:").concat(i,"}")}else t='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(i,"}");return null===(e=this._inspectFont)||void 0===e||e.call(this,this,i),t}},{key:"getPathGenerator",value:function(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];var r;try{r=e.get(this.loadedName+"_path_"+t)}catch(u){if(!this.ignoreErrors)throw u;return(0,n.warn)('getPathGenerator - ignoring character: "'.concat(u,'".')),this.compiledGlyphs[t]=function(e,t){}}if(this.isEvalSupported&&n.FeatureTest.isEvalSupported){var i,a=[],o=_createForOfIteratorHelper(r);try{for(o.s();!(i=o.n()).done;){var s=i.value,l=void 0!==s.args?s.args.join(","):"";a.push("c.",s.cmd,"(",l,");\n")}}catch(c){o.e(c)}finally{o.f()}return this.compiledGlyphs[t]=new Function("c","size",a.join(""))}return this.compiledGlyphs[t]=function(e,t){var n,i=_createForOfIteratorHelper(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;"scale"===a.cmd&&(a.args=[t,-t]),e[a.cmd].apply(e,a.args)}}catch(c){i.e(c)}finally{i.f()}}}}]),e}();t.FontFaceObject=o},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;var r="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type);t.isNodeJS=r},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var n=r(1),i=r(6),a=r(12),o=r(13),s=r(10),l=4096,u=16,c=function(){function e(t){_classCallCheck(this,e),this.canvasFactory=t,this.cache=Object.create(null)}return _createClass(e,[{key:"getCanvas",value:function(e,t,r){var n;return void 0!==this.cache[e]?(n=this.cache[e],this.canvasFactory.reset(n,t,r)):(n=this.canvasFactory.create(t,r),this.cache[e]=n),n}},{key:"delete",value:function(e){delete this.cache[e]}},{key:"clear",value:function(){for(var e in this.cache){var t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}]),e}();function f(e,t,r,n,a,o,s,l,u,c){var f=(0,i.getCurrentTransform)(e),p=_slicedToArray(f,6),h=p[0],d=p[1],v=p[2],m=p[3],y=p[4],g=p[5];if(0===d&&0===v){var _=s*h+y,b=Math.round(_),x=l*m+g,w=Math.round(x),S=(s+u)*h+y,P=Math.abs(Math.round(S)-b)||1,k=(l+c)*m+g,E=Math.abs(Math.round(k)-w)||1;return e.setTransform(Math.sign(h),0,0,Math.sign(m),b,w),e.drawImage(t,r,n,a,o,0,0,P,E),e.setTransform(h,d,v,m,y,g),[P,E]}if(0===h&&0===m){var C=l*v+y,A=Math.round(C),T=s*d+g,O=Math.round(T),M=(l+c)*v+y,I=Math.abs(Math.round(M)-A)||1,F=(s+u)*d+g,R=Math.abs(Math.round(F)-O)||1;return e.setTransform(0,Math.sign(d),Math.sign(v),0,A,O),e.drawImage(t,r,n,a,o,0,0,R,I),e.setTransform(h,d,v,m,y,g),[R,I]}return e.drawImage(t,r,n,a,o,s,l,u,c),[Math.hypot(h,d)*u,Math.hypot(v,m)*c]}var p=function(){function e(t,r){_classCallCheck(this,e),this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=n.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=n.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,r])}return _createClass(e,[{key:"clone",value:function(){var e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}},{key:"setCurrentPoint",value:function(e,t){this.x=e,this.y=t}},{key:"updatePathMinMax",value:function(e,t,r){var i=n.Util.applyTransform([t,r],e),a=_slicedToArray(i,2);t=a[0],r=a[1],this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,r)}},{key:"updateRectMinMax",value:function(e,t){var r=n.Util.applyTransform(t,e),i=n.Util.applyTransform(t.slice(2),e);this.minX=Math.min(this.minX,r[0],i[0]),this.minY=Math.min(this.minY,r[1],i[1]),this.maxX=Math.max(this.maxX,r[0],i[0]),this.maxY=Math.max(this.maxY,r[1],i[1])}},{key:"updateScalingPathMinMax",value:function(e,t){n.Util.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.maxX=Math.max(this.maxX,t[1]),this.minY=Math.min(this.minY,t[2]),this.maxY=Math.max(this.maxY,t[3])}},{key:"updateCurvePathMinMax",value:function(e,t,r,i,a,o,s,l,u,c){var f=n.Util.bezierBoundingBox(t,r,i,a,o,s,l,u);if(c)return c[0]=Math.min(c[0],f[0],f[2]),c[1]=Math.max(c[1],f[0],f[2]),c[2]=Math.min(c[2],f[1],f[3]),void(c[3]=Math.max(c[3],f[1],f[3]));this.updateRectMinMax(e,f)}},{key:"getPathBoundingBox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.PathType.FILL,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=[this.minX,this.minY,this.maxX,this.maxY];if(e===a.PathType.STROKE){t||(0,n.unreachable)("Stroke bounding box must include transform.");var i=n.Util.singularValueDecompose2dScale(t),o=i[0]*this.lineWidth/2,s=i[1]*this.lineWidth/2;r[0]-=o,r[1]-=s,r[2]+=o,r[3]+=s}return r}},{key:"updateClipFromPath",value:function(){var e=n.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}},{key:"isEmptyClip",value:function(){return this.minX===1/0}},{key:"startNewPathAndClipBox",value:function(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}},{key:"getClippedPathBoundingBox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.PathType.FILL,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n.Util.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}]),e}();function h(e,t){if("undefined"!==typeof ImageData&&t instanceof ImageData)e.putImageData(t,0,0);else{var r,i,a,o,s,l=t.height,c=t.width,f=l%u,p=(l-f)/u,h=0===f?p:p+1,d=e.createImageData(c,u),v=0,m=t.data,y=d.data;if(t.kind===n.ImageKind.GRAYSCALE_1BPP){var g=m.byteLength,_=new Uint32Array(y.buffer,0,y.byteLength>>2),b=_.length,x=c+7>>3,w=4294967295,S=n.FeatureTest.isLittleEndian?4278190080:255;for(i=0;i<h;i++){for(o=i<p?u:f,r=0,a=0;a<o;a++){for(var P=g-v,k=0,E=P>x?c:8*P-7,C=-8&E,A=0,T=0;k<C;k+=8)T=m[v++],_[r++]=128&T?w:S,_[r++]=64&T?w:S,_[r++]=32&T?w:S,_[r++]=16&T?w:S,_[r++]=8&T?w:S,_[r++]=4&T?w:S,_[r++]=2&T?w:S,_[r++]=1&T?w:S;for(;k<E;k++)0===A&&(T=m[v++],A=128),_[r++]=T&A?w:S,A>>=1}for(;r<b;)_[r++]=0;e.putImageData(d,0,i*u)}}else if(t.kind===n.ImageKind.RGBA_32BPP){for(a=0,s=c*u*4,i=0;i<p;i++)y.set(m.subarray(v,v+s)),v+=s,e.putImageData(d,0,a),a+=u;i<h&&(s=c*f*4,y.set(m.subarray(v,v+s)),e.putImageData(d,0,a))}else{if(t.kind!==n.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(t.kind));for(s=c*(o=u),i=0;i<h;i++){for(i>=p&&(s=c*(o=f)),r=0,a=s;a--;)y[r++]=m[v++],y[r++]=m[v++],y[r++]=m[v++],y[r++]=255;e.putImageData(d,0,i*u)}}}}function d(e,t){if(t.bitmap)e.drawImage(t.bitmap,0,0);else for(var r=t.height,n=t.width,i=r%u,a=(r-i)/u,s=0===i?a:a+1,l=e.createImageData(n,u),c=0,f=t.data,p=l.data,h=0;h<s;h++){var d=h<a?u:i;c=(0,o.convertBlackAndWhiteToRGBA)({src:f,srcPos:c,dest:p,width:n,height:d,nonBlackColor:0}).srcPos,e.putImageData(l,0,h*u)}}function v(e,t){for(var r=0,n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];r<n.length;r++){var i=n[r];void 0!==e[i]&&(t[i]=e[i])}void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function m(e){e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0),s.isNodeJS||(e.filter="none")}function y(e,t,r,n){for(var i=e.length,a=3;a<i;a+=4){var o=e[a];if(0===o)e[a-3]=t,e[a-2]=r,e[a-1]=n;else if(o<255){var s=255-o;e[a-3]=e[a-3]*o+t*s>>8,e[a-2]=e[a-2]*o+r*s>>8,e[a-1]=e[a-1]*o+n*s>>8}}}function g(e,t,r){for(var n=e.length,i=3;i<n;i+=4){var a=r?r[e[i]]:e[i];t[i]=t[i]*a*.00392156862745098|0}}function _(e,t,r){for(var n=e.length,i=3;i<n;i+=4){var a=77*e[i-3]+152*e[i-2]+28*e[i-1];t[i]=r?t[i]*r[a>>8]>>8:t[i]*a>>16}}function b(e,t,r,n){var i=n[0],a=n[1],o=n[2]-i,s=n[3]-a;0!==o&&0!==s&&(function(e,t,r,n,i,a,o,s,l,u,c){var f,p=!!a,h=p?a[0]:0,d=p?a[1]:0,v=p?a[2]:0;f="Luminosity"===i?_:g;for(var m=Math.min(n,Math.ceil(1048576/r)),b=0;b<n;b+=m){var x=Math.min(m,n-b),w=e.getImageData(s-u,b+(l-c),r,x),S=t.getImageData(s,b+l,r,x);p&&y(w.data,h,d,v),f(w.data,S.data,o),t.putImageData(S,s,b+l)}}(t.context,r,o,s,t.subtype,t.backdrop,t.transferMap,i,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}function x(e,t){var r=n.Util.singularValueDecompose2dScale(e);r[0]=Math.fround(r[0]),r[1]=Math.fround(r[1]);var a=Math.fround((globalThis.devicePixelRatio||1)*i.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==t?t:r[0]<=a||r[1]<=a}var w=["butt","round","square"],S=["miter","round","bevel"],P={},k={},E=new WeakSet,C=new WeakSet,A=function(){function e(t,r,n,i,a,o,s,l){var u=o.optionalContentConfig,f=o.markedContentStack,h=void 0===f?null:f;_classCallCheck(this,e),_classPrivateMethodInitSpec(this,C),_classPrivateMethodInitSpec(this,E),this.ctx=t,this.current=new p(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=r,this.objs=n,this.canvasFactory=i,this.filterFactory=a,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=h||[],this.optionalContentConfig=u,this.cachedCanvases=new c(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=s,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=l,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}return _createClass(e,[{key:"getObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}},{key:"beginDrawing",value:function(e){var t,r,n=e.transform,a=e.viewport,o=e.transparency,s=void 0!==o&&o,l=e.background,u=void 0===l?null:l,c=this.ctx.canvas.width,f=this.ctx.canvas.height,p=this.ctx.fillStyle;if(this.ctx.fillStyle=u||"#ffffff",this.ctx.fillRect(0,0,c,f),this.ctx.fillStyle=p,s){var h,d=this.cachedCanvases.getCanvas("transparent",c,f);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),(h=this.ctx).transform.apply(h,_toConsumableArray((0,i.getCurrentTransform)(this.compositeCtx)))}this.ctx.save(),m(this.ctx),n&&((r=this.ctx).transform.apply(r,_toConsumableArray(n)),this.outputScaleX=n[0],this.outputScaleY=n[0]),(t=this.ctx).transform.apply(t,_toConsumableArray(a.transform)),this.viewportScale=a.scale,this.baseTransform=(0,i.getCurrentTransform)(this.ctx)}},{key:"executeOperatorList",value:function(e,t,r,i){var a=e.argsArray,o=e.fnArray,s=t||0,l=a.length;if(l===s)return s;for(var u,c=l-s>10&&"function"===typeof r,f=c?Date.now()+15:0,p=0,h=this.commonObjs,d=this.objs;;){if(void 0!==i&&s===i.nextBreakPoint)return i.breakIt(s,r),s;if((u=o[s])!==n.OPS.dependency)this[u].apply(this,a[s]);else{var v,m=_createForOfIteratorHelper(a[s]);try{for(m.s();!(v=m.n()).done;){var y=v.value,g=y.startsWith("g_")?h:d;if(!g.has(y))return g.get(y,r),s}}catch(_){m.e(_)}finally{m.f()}}if(++s===l)return s;if(c&&++p>10){if(Date.now()>f)return r(),s;p=0}}}},{key:"endDrawing",value:function(){_classPrivateMethodGet(this,E,T).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();var e,t=_createForOfIteratorHelper(this._cachedBitmapsMap.values());try{for(t.s();!(e=t.n()).done;){var r,n=e.value,i=_createForOfIteratorHelper(n.values());try{for(i.s();!(r=i.n()).done;){var a=r.value;"undefined"!==typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement&&(a.width=a.height=0)}}catch(o){i.e(o)}finally{i.f()}n.clear()}}catch(o){t.e(o)}finally{t.f()}this._cachedBitmapsMap.clear(),_classPrivateMethodGet(this,C,O).call(this)}},{key:"_scaleImage",value:function(e,t){for(var r,n,i=e.width,a=e.height,o=Math.max(Math.hypot(t[0],t[1]),1),s=Math.max(Math.hypot(t[2],t[3]),1),l=i,u=a,c="prescale1";o>2&&l>1||s>2&&u>1;){var f=l,p=u;o>2&&l>1&&(o/=l/(f=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2))),s>2&&u>1&&(s/=u/(p=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2)),(n=(r=this.cachedCanvases.getCanvas(c,f,p)).context).clearRect(0,0,f,p),n.drawImage(e,0,0,l,u,0,0,f,p),e=r.canvas,l=f,u=p,c="prescale1"===c?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:u}}},{key:"_createMaskCanvas",value:function(e){var t,r,o,s,l=this.ctx,u=e.width,c=e.height,p=this.current.fillColor,h=this.current.patternFill,v=(0,i.getCurrentTransform)(l);if((e.bitmap||e.data)&&e.count>1){var m=e.bitmap||e.data.buffer;r=JSON.stringify(h?v:[v.slice(0,4),p]),(t=this._cachedBitmapsMap.get(m))||(t=new Map,this._cachedBitmapsMap.set(m,t));var y=t.get(r);if(y&&!h)return{canvas:y,offsetX:Math.round(Math.min(v[0],v[2])+v[4]),offsetY:Math.round(Math.min(v[1],v[3])+v[5])};o=y}o||d((s=this.cachedCanvases.getCanvas("maskCanvas",u,c)).context,e);var g=n.Util.transform(v,[1/u,0,0,-1/c,0,0]);g=n.Util.transform(g,[1,0,0,1,0,-c]);var _=n.Util.applyTransform([0,0],g),b=n.Util.applyTransform([u,c],g),w=n.Util.normalizeRect([_[0],_[1],b[0],b[1]]),S=Math.round(w[2]-w[0])||1,P=Math.round(w[3]-w[1])||1,k=this.cachedCanvases.getCanvas("fillCanvas",S,P),E=k.context,C=Math.min(_[0],b[0]),A=Math.min(_[1],b[1]);E.translate(-C,-A),E.transform.apply(E,_toConsumableArray(g)),o||(o=(o=this._scaleImage(s.canvas,(0,i.getCurrentTransformInverse)(E))).img,t&&h&&t.set(r,o)),E.imageSmoothingEnabled=x((0,i.getCurrentTransform)(E),e.interpolate),f(E,o,0,0,o.width,o.height,0,0,u,c),E.globalCompositeOperation="source-in";var T=n.Util.transform((0,i.getCurrentTransformInverse)(E),[1,0,0,1,-C,-A]);return E.fillStyle=h?p.getPattern(l,this,T,a.PathType.FILL):p,E.fillRect(0,0,u,c),t&&!h&&(this.cachedCanvases.delete("fillCanvas"),t.set(r,k.canvas)),{canvas:k.canvas,offsetX:Math.round(C),offsetY:Math.round(A)}}},{key:"setLineWidth",value:function(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=e,this.ctx.lineWidth=e}},{key:"setLineCap",value:function(e){this.ctx.lineCap=w[e]}},{key:"setLineJoin",value:function(e){this.ctx.lineJoin=S[e]}},{key:"setMiterLimit",value:function(e){this.ctx.miterLimit=e}},{key:"setDash",value:function(e,t){var r=this.ctx;void 0!==r.setLineDash&&(r.setLineDash(e),r.lineDashOffset=t)}},{key:"setRenderingIntent",value:function(e){}},{key:"setFlatness",value:function(e){}},{key:"setGState",value:function(e){var t,r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var n=_slicedToArray(t.value,2),i=n[0],a=n[1];switch(i){case"LW":this.setLineWidth(a);break;case"LC":this.setLineCap(a);break;case"LJ":this.setLineJoin(a);break;case"ML":this.setMiterLimit(a);break;case"D":this.setDash(a[0],a[1]);break;case"RI":this.setRenderingIntent(a);break;case"FL":this.setFlatness(a);break;case"Font":this.setFont(a[0],a[1]);break;case"CA":this.current.strokeAlpha=a;break;case"ca":this.current.fillAlpha=a,this.ctx.globalAlpha=a;break;case"BM":this.ctx.globalCompositeOperation=a;break;case"SMask":this.current.activeSMask=a?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(a)}}}catch(o){r.e(o)}finally{r.f()}}},{key:"inSMaskMode",get:function(){return!!this.suspendedCtx}},{key:"checkSMaskState",value:function(){var e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}},{key:"beginSMaskMode",value:function(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");var e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,n=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx,this.ctx=n.context;var a=this.ctx;a.setTransform.apply(a,_toConsumableArray((0,i.getCurrentTransform)(this.suspendedCtx))),v(this.suspendedCtx,a),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=function(){e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,r){t.translate(e,r),this.__originalTranslate(e,r)},e.scale=function(e,r){t.scale(e,r),this.__originalScale(e,r)},e.transform=function(e,r,n,i,a,o){t.transform(e,r,n,i,a,o),this.__originalTransform(e,r,n,i,a,o)},e.setTransform=function(e,r,n,i,a,o){t.setTransform(e,r,n,i,a,o),this.__originalSetTransform(e,r,n,i,a,o)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,r){t.moveTo(e,r),this.__originalMoveTo(e,r)},e.lineTo=function(e,r){t.lineTo(e,r),this.__originalLineTo(e,r)},e.bezierCurveTo=function(e,r,n,i,a,o){t.bezierCurveTo(e,r,n,i,a,o),this.__originalBezierCurveTo(e,r,n,i,a,o)},e.rect=function(e,r,n,i){t.rect(e,r,n,i),this.__originalRect(e,r,n,i)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(a,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}},{key:"endSMaskMode",value:function(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),v(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}},{key:"compose",value:function(e){if(this.current.activeSMask){e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];var t=this.current.activeSMask;b(this.suspendedCtx,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}}},{key:"save",value:function(){this.inSMaskMode?(v(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();var e=this.current;this.stateStack.push(e),this.current=e.clone()}},{key:"restore",value:function(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),v(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}},{key:"transform",value:function(e,t,r,n,i,a){this.ctx.transform(e,t,r,n,i,a),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}},{key:"constructPath",value:function(e,t,r){for(var a,o,s=this.ctx,l=this.current,u=l.x,c=l.y,f=(0,i.getCurrentTransform)(s),p=0===f[0]&&0===f[3]||0===f[1]&&0===f[2],h=p?r.slice(0):null,d=0,v=0,m=e.length;d<m;d++)switch(0|e[d]){case n.OPS.rectangle:u=t[v++],c=t[v++];var y=t[v++],g=t[v++],_=u+y,b=c+g;s.moveTo(u,c),0===y||0===g?s.lineTo(_,b):(s.lineTo(_,c),s.lineTo(_,b),s.lineTo(u,b)),p||l.updateRectMinMax(f,[u,c,_,b]),s.closePath();break;case n.OPS.moveTo:u=t[v++],c=t[v++],s.moveTo(u,c),p||l.updatePathMinMax(f,u,c);break;case n.OPS.lineTo:u=t[v++],c=t[v++],s.lineTo(u,c),p||l.updatePathMinMax(f,u,c);break;case n.OPS.curveTo:a=u,o=c,u=t[v+4],c=t[v+5],s.bezierCurveTo(t[v],t[v+1],t[v+2],t[v+3],u,c),l.updateCurvePathMinMax(f,a,o,t[v],t[v+1],t[v+2],t[v+3],u,c,h),v+=6;break;case n.OPS.curveTo2:a=u,o=c,s.bezierCurveTo(u,c,t[v],t[v+1],t[v+2],t[v+3]),l.updateCurvePathMinMax(f,a,o,u,c,t[v],t[v+1],t[v+2],t[v+3],h),u=t[v+2],c=t[v+3],v+=4;break;case n.OPS.curveTo3:a=u,o=c,u=t[v+2],c=t[v+3],s.bezierCurveTo(t[v],t[v+1],u,c,u,c),l.updateCurvePathMinMax(f,a,o,t[v],t[v+1],u,c,u,c,h),v+=4;break;case n.OPS.closePath:s.closePath()}p&&l.updateScalingPathMinMax(f,h),l.setCurrentPoint(u,c)}},{key:"closePath",value:function(){this.ctx.closePath()}},{key:"stroke",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.ctx,r=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"===typeof r&&null!==r&&void 0!==r&&r.getPattern?(t.save(),t.strokeStyle=r.getPattern(t,this,(0,i.getCurrentTransformInverse)(t),a.PathType.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"fill",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.ctx,r=this.current.fillColor,n=this.current.patternFill,o=!1;n&&(t.save(),t.fillStyle=r.getPattern(t,this,(0,i.getCurrentTransformInverse)(t),a.PathType.FILL),o=!0);var s=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==s&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),o&&t.restore(),e&&this.consumePath(s)}},{key:"eoFill",value:function(){this.pendingEOFill=!0,this.fill()}},{key:"fillStroke",value:function(){this.fill(!1),this.stroke(!1),this.consumePath()}},{key:"eoFillStroke",value:function(){this.pendingEOFill=!0,this.fillStroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}},{key:"endPath",value:function(){this.consumePath()}},{key:"clip",value:function(){this.pendingClip=P}},{key:"eoClip",value:function(){this.pendingClip=k}},{key:"beginText",value:function(){this.current.textMatrix=n.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"endText",value:function(){var e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();var r,n=_createForOfIteratorHelper(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;t.setTransform.apply(t,_toConsumableArray(i.transform)),t.translate(i.x,i.y),i.addToPath(t,i.fontSize)}}catch(a){n.e(a)}finally{n.f()}t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}},{key:"setCharSpacing",value:function(e){this.current.charSpacing=e}},{key:"setWordSpacing",value:function(e){this.current.wordSpacing=e}},{key:"setHScale",value:function(e){this.current.textHScale=e/100}},{key:"setLeading",value:function(e){this.current.leading=-e}},{key:"setFont",value:function(e,t){var r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error("Can't find font for ".concat(e));if(i.fontMatrix=r.fontMatrix||n.FONT_IDENTITY_MATRIX,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||(0,n.warn)("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,!r.isType3Font){var a=r.loadedName||"sans-serif",o="normal";r.black?o="900":r.bold&&(o="bold");var s=r.italic?"italic":"normal",l='"'.concat(a,'", ').concat(r.fallbackName),u=t;t<16?u=16:t>100&&(u=100),this.current.fontSizeScale=t/u,this.ctx.font="".concat(s," ").concat(o," ").concat(u,"px ").concat(l)}}},{key:"setTextRenderingMode",value:function(e){this.current.textRenderingMode=e}},{key:"setTextRise",value:function(e){this.current.textRise=e}},{key:"moveText",value:function(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}},{key:"setLeadingMoveText",value:function(e,t){this.setLeading(-t),this.moveText(e,t)}},{key:"setTextMatrix",value:function(e,t,r,n,i,a){this.current.textMatrix=[e,t,r,n,i,a],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"paintChar",value:function(e,t,r,a){var o,s=this.ctx,l=this.current,u=l.font,c=l.textRenderingMode,f=l.fontSize/l.fontSizeScale,p=c&n.TextRenderingMode.FILL_STROKE_MASK,h=!!(c&n.TextRenderingMode.ADD_TO_PATH_FLAG),d=l.patternFill&&!u.missingFile;(u.disableFontFace||h||d)&&(o=u.getPathGenerator(this.commonObjs,e)),u.disableFontFace||d?(s.save(),s.translate(t,r),s.beginPath(),o(s,f),a&&s.setTransform.apply(s,_toConsumableArray(a)),p!==n.TextRenderingMode.FILL&&p!==n.TextRenderingMode.FILL_STROKE||s.fill(),p!==n.TextRenderingMode.STROKE&&p!==n.TextRenderingMode.FILL_STROKE||s.stroke(),s.restore()):(p!==n.TextRenderingMode.FILL&&p!==n.TextRenderingMode.FILL_STROKE||s.fillText(e,t,r),p!==n.TextRenderingMode.STROKE&&p!==n.TextRenderingMode.FILL_STROKE||s.strokeText(e,t,r)),h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,i.getCurrentTransform)(s),x:t,y:r,fontSize:f,addToPath:o})}},{key:"isFontSubpixelAAEnabled",get:function(){var e=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;e.scale(1.5,1),e.fillText("I",0,10);for(var t=e.getImageData(0,0,10,10).data,r=!1,i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return(0,n.shadow)(this,"isFontSubpixelAAEnabled",r)}},{key:"showText",value:function(e){var t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);var o=t.fontSize;if(0!==o){var s,l=this.ctx,u=t.fontSizeScale,c=t.charSpacing,f=t.wordSpacing,p=t.fontDirection,h=t.textHScale*p,d=e.length,v=r.vertical,m=v?1:-1,y=r.defaultVMetrics,g=o*t.fontMatrix[0],_=t.textRenderingMode===n.TextRenderingMode.FILL&&!r.disableFontFace&&!t.patternFill;if(l.save(),l.transform.apply(l,_toConsumableArray(t.textMatrix)),l.translate(t.x,t.y+t.textRise),p>0?l.scale(h,-1):l.scale(h,1),t.patternFill){l.save();var b=t.fillColor.getPattern(l,this,(0,i.getCurrentTransformInverse)(l),a.PathType.FILL);s=(0,i.getCurrentTransform)(l),l.restore(),l.fillStyle=b}var x=t.lineWidth,w=t.textMatrixScale;if(0===w||0===x){var S=t.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;S!==n.TextRenderingMode.STROKE&&S!==n.TextRenderingMode.FILL_STROKE||(x=this.getSinglePixelWidth())}else x/=w;if(1!==u&&(l.scale(u,u),x/=u),l.lineWidth=x,r.isInvalidPDFjsFont){var P,k=[],E=0,C=_createForOfIteratorHelper(e);try{for(C.s();!(P=C.n()).done;){var A=P.value;k.push(A.unicode),E+=A.width}}catch(q){C.e(q)}finally{C.f()}return l.fillText(k.join(""),0,0),t.x+=E*g*h,l.restore(),void this.compose()}var T,O=0;for(T=0;T<d;++T){var M=e[T];if("number"!==typeof M){var I=!1,F=(M.isSpace?f:0)+c,R=M.fontChar,D=M.accent,j=void 0,L=void 0,N=M.width;if(v){var z=M.vmetric||y,B=-(M.vmetric?z[1]:.5*N)*g,Z=z[2]*g;N=z?-z[0]:N,j=B/u,L=(O+Z)/u}else j=O/u,L=0;if(r.remeasure&&N>0){var U=1e3*l.measureText(R).width/o*u;if(N<U&&this.isFontSubpixelAAEnabled){var V=N/U;I=!0,l.save(),l.scale(V,1),j/=V}else N!==U&&(j+=(N-U)/2e3*o/u)}if(this.contentVisible&&(M.isInFont||r.missingFile))if(_&&!D)l.fillText(R,j,L);else if(this.paintChar(R,j,L,s),D){var G=j+o*D.offset.x/u,W=L-o*D.offset.y/u;this.paintChar(D.fontChar,G,W,s)}O+=v?N*g-F*p:N*g+F*p,I&&l.restore()}else O+=m*M*o/1e3}v?t.y-=O:t.x+=O*h,l.restore(),this.compose()}}},{key:"showType3Text",value:function(e){var t,r,i,a,o=this.ctx,s=this.current,l=s.font,u=s.fontSize,c=s.fontDirection,f=l.vertical?1:-1,p=s.charSpacing,h=s.wordSpacing,d=s.textHScale*c,v=s.fontMatrix||n.FONT_IDENTITY_MATRIX,m=e.length;if(s.textRenderingMode!==n.TextRenderingMode.INVISIBLE&&0!==u){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,o.save(),o.transform.apply(o,_toConsumableArray(s.textMatrix)),o.translate(s.x,s.y),o.scale(d,c),t=0;t<m;++t)if("number"!==typeof(r=e[t])){var y=(r.isSpace?h:0)+p,g=l.charProcOperatorList[r.operatorListId];g?(this.contentVisible&&(this.processingType3=r,this.save(),o.scale(u,u),o.transform.apply(o,_toConsumableArray(v)),this.executeOperatorList(g),this.restore()),i=n.Util.applyTransform([r.width,0],v)[0]*u+y,o.translate(i,0),s.x+=i*d):(0,n.warn)('Type3 character "'.concat(r.operatorListId,'" is not available.'))}else a=f*r*u/1e3,this.ctx.translate(a,0),s.x+=a*d;o.restore(),this.processingType3=null}}},{key:"setCharWidth",value:function(e,t){}},{key:"setCharWidthAndBounds",value:function(e,t,r,n,i,a){this.ctx.rect(r,n,i-r,a-n),this.ctx.clip(),this.endPath()}},{key:"getColorN_Pattern",value:function(t){var r,n=this;if("TilingPattern"===t[0]){var o=t[1],s=this.baseTransform||(0,i.getCurrentTransform)(this.ctx),l={createCanvasGraphics:function(t){return new e(t,n.commonObjs,n.objs,n.canvasFactory,n.filterFactory,{optionalContentConfig:n.optionalContentConfig,markedContentStack:n.markedContentStack})}};r=new a.TilingPattern(t,o,this.ctx,l,s)}else r=this._getPattern(t[1],t[2]);return r}},{key:"setStrokeColorN",value:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)}},{key:"setFillColorN",value:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}},{key:"setStrokeRGBColor",value:function(e,t,r){var i=n.Util.makeHexColor(e,t,r);this.ctx.strokeStyle=i,this.current.strokeColor=i}},{key:"setFillRGBColor",value:function(e,t,r){var i=n.Util.makeHexColor(e,t,r);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}},{key:"_getPattern",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(e)?t=this.cachedPatterns.get(e):(t=(0,a.getShadingPattern)(this.getObject(e)),this.cachedPatterns.set(e,t)),r&&(t.matrix=r),t}},{key:"shadingFill",value:function(e){if(this.contentVisible){var t=this.ctx;this.save();var r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,(0,i.getCurrentTransformInverse)(t),a.PathType.SHADING);var o=(0,i.getCurrentTransformInverse)(t);if(o){var s=t.canvas,l=s.width,u=s.height,c=n.Util.applyTransform([0,0],o),f=n.Util.applyTransform([0,u],o),p=n.Util.applyTransform([l,0],o),h=n.Util.applyTransform([l,u],o),d=Math.min(c[0],f[0],p[0],h[0]),v=Math.min(c[1],f[1],p[1],h[1]),m=Math.max(c[0],f[0],p[0],h[0]),y=Math.max(c[1],f[1],p[1],h[1]);this.ctx.fillRect(d,v,m-d,y-v)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}}},{key:"beginInlineImage",value:function(){(0,n.unreachable)("Should not call beginInlineImage")}},{key:"beginImageData",value:function(){(0,n.unreachable)("Should not call beginImageData")}},{key:"paintFormXObjectBegin",value:function(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform.apply(this,_toConsumableArray(e)),this.baseTransform=(0,i.getCurrentTransform)(this.ctx),t)){var r=t[2]-t[0],n=t[3]-t[1];this.ctx.rect(t[0],t[1],r,n),this.current.updateRectMinMax((0,i.getCurrentTransform)(this.ctx),t),this.clip(),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}},{key:"beginGroup",value:function(e){if(this.contentVisible){this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);var t=this.ctx;e.isolated||(0,n.info)("TODO: Support non-isolated groups."),e.knockout&&(0,n.warn)("Knockout groups not supported.");var r=(0,i.getCurrentTransform)(t);if(e.matrix&&t.transform.apply(t,_toConsumableArray(e.matrix)),!e.bbox)throw new Error("Bounding box is required.");var a=n.Util.getAxialAlignedBoundingBox(e.bbox,(0,i.getCurrentTransform)(t)),o=[0,0,t.canvas.width,t.canvas.height];a=n.Util.intersect(a,o)||[0,0,0,0];var s=Math.floor(a[0]),u=Math.floor(a[1]),c=Math.max(Math.ceil(a[2])-s,1),f=Math.max(Math.ceil(a[3])-u,1),p=1,h=1;c>l&&(p=c/l,c=l),f>l&&(h=f/l,f=l),this.current.startNewPathAndClipBox([0,0,c,f]);var d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);var m=this.cachedCanvases.getCanvas(d,c,f),y=m.context;y.scale(1/p,1/h),y.translate(-s,-u),y.transform.apply(y,_toConsumableArray(r)),e.smask?this.smaskStack.push({canvas:m.canvas,context:y,offsetX:s,offsetY:u,scaleX:p,scaleY:h,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(s,u),t.scale(p,h),t.save()),v(t,y),this.ctx=y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}}},{key:"endGroup",value:function(e){if(this.contentVisible){this.groupLevel--;var t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{var a;this.ctx.restore();var o=(0,i.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),(a=this.ctx).setTransform.apply(a,_toConsumableArray(o));var s=n.Util.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],o);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}}},{key:"beginAnnotation",value:function(e,t,r,a,o){var s;if(_classPrivateMethodGet(this,E,T).call(this),m(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&(s=this.ctx).setTransform.apply(s,_toConsumableArray(this.baseTransform)),Array.isArray(t)&&4===t.length){var l=t[2]-t[0],u=t[3]-t[1];if(o&&this.annotationCanvasMap){(r=r.slice())[4]-=t[0],r[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=l,t[3]=u;var c=n.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(this.ctx)),f=_slicedToArray(c,2),h=f[0],d=f[1],v=this.viewportScale,y=Math.ceil(l*this.outputScaleX*v),g=Math.ceil(u*this.outputScaleY*v);this.annotationCanvas=this.canvasFactory.create(y,g);var _=this.annotationCanvas,b=_.canvas,x=_.context;this.annotationCanvasMap.set(e,b),this.annotationCanvas.savedCtx=this.ctx,this.ctx=x,this.ctx.save(),this.ctx.setTransform(h,0,0,-d,0,u*d),m(this.ctx)}else m(this.ctx),this.ctx.rect(t[0],t[1],l,u),this.ctx.clip(),this.endPath()}this.current=new p(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,_toConsumableArray(r)),this.transform.apply(this,_toConsumableArray(a))}},{key:"endAnnotation",value:function(){this.annotationCanvas&&(this.ctx.restore(),_classPrivateMethodGet(this,C,O).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}},{key:"paintImageMaskXObject",value:function(e){if(this.contentVisible){var t=e.count;(e=this.getObject(e.data,e)).count=t;var r=this.ctx,n=this.processingType3;if(n&&(void 0===n.compiled&&(n.compiled=function(e){var t=e.width,r=e.height;if(t>1e3||r>1e3)return null;var n,i,a,o,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),l=t+1,u=new Uint8Array(l*(r+1)),c=t+7&-8,f=new Uint8Array(c*r),p=0,h=_createForOfIteratorHelper(e.data);try{for(h.s();!(o=h.n()).done;)for(var d=o.value,v=128;v>0;)f[p++]=d&v?0:255,v>>=1}catch(E){h.e(E)}finally{h.f()}var m=0;for(0!==f[p=0]&&(u[0]=1,++m),i=1;i<t;i++)f[p]!==f[p+1]&&(u[i]=f[p]?2:1,++m),p++;for(0!==f[p]&&(u[i]=2,++m),n=1;n<r;n++){a=n*l,f[(p=n*c)-c]!==f[p]&&(u[a]=f[p]?1:8,++m);var y=(f[p]?4:0)+(f[p-c]?8:0);for(i=1;i<t;i++)s[y=(y>>2)+(f[p+1]?4:0)+(f[p-c+1]?8:0)]&&(u[a+i]=s[y],++m),p++;if(f[p-c]!==f[p]&&(u[a+i]=f[p]?2:4,++m),m>1e3)return null}for(a=n*l,0!==f[p=c*(r-1)]&&(u[a]=8,++m),i=1;i<t;i++)f[p]!==f[p+1]&&(u[a+i]=f[p]?4:8,++m),p++;if(0!==f[p]&&(u[a+i]=4,++m),m>1e3)return null;var g=new Int32Array([0,l,-1,0,-l,0,0,0,1]),_=new Path2D;for(n=0;m&&n<=r;n++){for(var b=n*l,x=b+t;b<x&&!u[b];)b++;if(b!==x){_.moveTo(b%l,n);var w=b,S=u[b];do{var P=g[S];do{b+=P}while(!u[b]);var k=u[b];5!==k&&10!==k?(S=k,u[b]=0):(S=k&51*S>>4,u[b]&=S>>2|S<<2),_.lineTo(b%l,b/l|0),u[b]||--m}while(w!==b);--n}}return f=null,u=null,function(e){e.save(),e.scale(1/t,-1/r),e.translate(0,-r),e.fill(_),e.beginPath(),e.restore()}}(e)),n.compiled))n.compiled(r);else{var i=this._createMaskCanvas(e),a=i.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(a,i.offsetX,i.offsetY),r.restore(),this.compose()}}}},{key:"paintImageMaskXObjectRepeat",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;if(this.contentVisible){e=this.getObject(e.data,e);var l=this.ctx;l.save();var u=(0,i.getCurrentTransform)(l);l.transform(t,r,a,o,0,0);var c=this._createMaskCanvas(e);l.setTransform(1,0,0,1,c.offsetX-u[4],c.offsetY-u[5]);for(var f=0,p=s.length;f<p;f+=2){var h=n.Util.transform(u,[t,r,a,o,s[f],s[f+1]]),d=n.Util.applyTransform([0,0],h),v=_slicedToArray(d,2),m=v[0],y=v[1];l.drawImage(c.canvas,m,y)}l.restore(),this.compose()}}},{key:"paintImageMaskXObjectGroup",value:function(e){if(this.contentVisible){var t,r=this.ctx,n=this.current.fillColor,o=this.current.patternFill,s=_createForOfIteratorHelper(e);try{for(s.s();!(t=s.n()).done;){var l=t.value,u=l.data,c=l.width,p=l.height,h=l.transform,v=this.cachedCanvases.getCanvas("maskCanvas",c,p),m=v.context;m.save(),d(m,this.getObject(u,l)),m.globalCompositeOperation="source-in",m.fillStyle=o?n.getPattern(m,this,(0,i.getCurrentTransformInverse)(r),a.PathType.FILL):n,m.fillRect(0,0,c,p),m.restore(),r.save(),r.transform.apply(r,_toConsumableArray(h)),r.scale(1,-1),f(r,v.canvas,0,0,c,p,0,-1,1,1),r.restore()}}catch(y){s.e(y)}finally{s.f()}this.compose()}}},{key:"paintImageXObject",value:function(e){if(this.contentVisible){var t=this.getObject(e);t?this.paintInlineImageXObject(t):(0,n.warn)("Dependent image isn't ready yet")}}},{key:"paintImageXObjectRepeat",value:function(e,t,r,i){if(this.contentVisible){var a=this.getObject(e);if(a){for(var o=a.width,s=a.height,l=[],u=0,c=i.length;u<c;u+=2)l.push({transform:[t,0,0,r,i[u],i[u+1]],x:0,y:0,w:o,h:s});this.paintInlineImageXObjectGroup(a,l)}else(0,n.warn)("Dependent image isn't ready yet")}}},{key:"applyTransferMapsToCanvas",value:function(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}},{key:"applyTransferMapsToBitmap",value:function(e){if("none"===this.current.transferMaps)return e.bitmap;var t=e.bitmap,r=e.width,n=e.height,i=this.cachedCanvases.getCanvas("inlineImage",r,n),a=i.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",i.canvas}},{key:"paintInlineImageXObject",value:function(e){if(this.contentVisible){var t,r=e.width,n=e.height,a=this.ctx;if(this.save(),s.isNodeJS||(a.filter="none"),a.scale(1/r,-1/n),e.bitmap)t=this.applyTransferMapsToBitmap(e);else if("function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)t=e;else{var o=this.cachedCanvases.getCanvas("inlineImage",r,n).context;h(o,e),t=this.applyTransferMapsToCanvas(o)}var l=this._scaleImage(t,(0,i.getCurrentTransformInverse)(a));a.imageSmoothingEnabled=x((0,i.getCurrentTransform)(a),e.interpolate),f(a,l.img,0,0,l.paintWidth,l.paintHeight,0,-n,r,n),this.compose(),this.restore()}}},{key:"paintInlineImageXObjectGroup",value:function(e,t){if(this.contentVisible){var r,n=this.ctx;if(e.bitmap)r=e.bitmap;else{var i=e.width,a=e.height,o=this.cachedCanvases.getCanvas("inlineImage",i,a).context;h(o,e),r=this.applyTransferMapsToCanvas(o)}var s,l=_createForOfIteratorHelper(t);try{for(l.s();!(s=l.n()).done;){var u=s.value;n.save(),n.transform.apply(n,_toConsumableArray(u.transform)),n.scale(1,-1),f(n,r,u.x,u.y,u.w,u.h,0,-1,1,1),n.restore()}}catch(c){l.e(c)}finally{l.f()}this.compose()}}},{key:"paintSolidColorImageMask",value:function(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}},{key:"markPoint",value:function(e){}},{key:"markPointProps",value:function(e,t){}},{key:"beginMarkedContent",value:function(e){this.markedContentStack.push({visible:!0})}},{key:"beginMarkedContentProps",value:function(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}},{key:"endMarkedContent",value:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}},{key:"beginCompat",value:function(){}},{key:"endCompat",value:function(){}},{key:"consumePath",value:function(e){var t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);var r=this.ctx;this.pendingClip&&(t||(this.pendingClip===k?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}},{key:"getSinglePixelWidth",value:function(){if(!this._cachedGetSinglePixelWidth){var e=(0,i.getCurrentTransform)(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{var t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),n=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,n)/t}}return this._cachedGetSinglePixelWidth}},{key:"getScaleForStroking",value:function(){if(!this._cachedScaleForStroking){var e,t,r=this.current.lineWidth,n=(0,i.getCurrentTransform)(this.ctx);if(0===n[1]&&0===n[2]){var a=Math.abs(n[0]),o=Math.abs(n[3]);if(0===r)e=1/a,t=1/o;else{var s=a*r,l=o*r;e=s<1?1/s:1,t=l<1?1/l:1}}else{var u=Math.abs(n[0]*n[3]-n[2]*n[1]),c=Math.hypot(n[0],n[1]),f=Math.hypot(n[2],n[3]);if(0===r)e=f/u,t=c/u;else{var p=r*u;e=f>p?f/p:1,t=c>p?c/p:1}}this._cachedScaleForStroking=[e,t]}return this._cachedScaleForStroking}},{key:"rescaleAndStroke",value:function(e){var t=this.ctx,r=this.current.lineWidth,n=this.getScaleForStroking(),a=_slicedToArray(n,2),o=a[0],s=a[1];if(t.lineWidth=r||1,1!==o||1!==s){var l,u,c;e&&(l=(0,i.getCurrentTransform)(t),u=t.getLineDash().slice(),c=t.lineDashOffset),t.scale(o,s);var f=Math.max(o,s);t.setLineDash(t.getLineDash().map((function(e){return e/f}))),t.lineDashOffset/=f,t.stroke(),e&&(t.setTransform.apply(t,_toConsumableArray(l)),t.setLineDash(u),t.lineDashOffset=c)}else t.stroke()}},{key:"isContentVisible",value:function(){for(var e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}]),e}();function T(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}function O(){if(this.pageColors){var e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==e){var t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}for(var M in t.CanvasGraphics=A,n.OPS)void 0!==A.prototype[M]&&(A.prototype[n.OPS[M]]=A.prototype[M])},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.PathType=void 0,t.getShadingPattern=function(e){switch(e[0]){case"RadialAxial":return new l(e);case"Mesh":return new f(e);case"Dummy":return new p}throw new Error("Unknown IR type: ".concat(e[0]))};var n=r(1),i=r(6),a={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function o(e,t){if(t){var r=t[2]-t[0],n=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],r,n),e.clip(i)}}t.PathType=a;var s=function(){function e(){_classCallCheck(this,e),this.constructor===e&&(0,n.unreachable)("Cannot initialize BaseShadingPattern.")}return _createClass(e,[{key:"getPattern",value:function(){(0,n.unreachable)("Abstract method `getPattern` called.")}}]),e}(),l=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n;return _classCallCheck(this,r),(n=t.call(this))._type=e[1],n._bbox=e[2],n._colorStops=e[3],n._p0=e[4],n._p1=e[5],n._r0=e[6],n._r1=e[7],n.matrix=null,n}return _createClass(r,[{key:"_createGradient",value:function(e){var t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));var r,n=_createForOfIteratorHelper(this._colorStops);try{for(n.s();!(r=n.n()).done;){var i=r.value;t.addColorStop(i[0],i[1])}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"getPattern",value:function(e,t,r,s){var l;if(s===a.STROKE||s===a.FILL){var u=t.current.getClippedPathBoundingBox(s,(0,i.getCurrentTransform)(e))||[0,0,0,0],c=Math.ceil(u[2]-u[0])||1,f=Math.ceil(u[3]-u[1])||1,p=t.cachedCanvases.getCanvas("pattern",c,f,!0),h=p.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-u[0],-u[1]),r=n.Util.transform(r,[1,0,0,1,u[0],u[1]]),h.transform.apply(h,_toConsumableArray(t.baseTransform)),this.matrix&&h.transform.apply(h,_toConsumableArray(this.matrix)),o(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),l=e.createPattern(p.canvas,"no-repeat");var d=new DOMMatrix(r);l.setTransform(d)}else o(e,this._bbox),l=this._createGradient(e);return l}}]),r}(s);function u(e,t,r,n,i,a,o,s){var l,u=t.coords,c=t.colors,f=e.data,p=4*e.width;u[r+1]>u[n+1]&&(l=r,r=n,n=l,l=a,a=o,o=l),u[n+1]>u[i+1]&&(l=n,n=i,i=l,l=o,o=s,s=l),u[r+1]>u[n+1]&&(l=r,r=n,n=l,l=a,a=o,o=l);var h=(u[r]+t.offsetX)*t.scaleX,d=(u[r+1]+t.offsetY)*t.scaleY,v=(u[n]+t.offsetX)*t.scaleX,m=(u[n+1]+t.offsetY)*t.scaleY,y=(u[i]+t.offsetX)*t.scaleX,g=(u[i+1]+t.offsetY)*t.scaleY;if(!(d>=g))for(var _,b,x,w,S,P,k,E,C=c[a],A=c[a+1],T=c[a+2],O=c[o],M=c[o+1],I=c[o+2],F=c[s],R=c[s+1],D=c[s+2],j=Math.round(d),L=Math.round(g),N=j;N<=L;N++){if(N<m){var z=void 0;_=h-(h-v)*(z=N<d?0:(d-N)/(d-m)),b=C-(C-O)*z,x=A-(A-M)*z,w=T-(T-I)*z}else{var B=void 0;_=v-(v-y)*(B=N>g?1:m===g?0:(m-N)/(m-g)),b=O-(O-F)*B,x=M-(M-R)*B,w=I-(I-D)*B}var Z=void 0;S=h-(h-y)*(Z=N<d?0:N>g?1:(d-N)/(d-g)),P=C-(C-F)*Z,k=A-(A-R)*Z,E=T-(T-D)*Z;for(var U=Math.round(Math.min(_,S)),V=Math.round(Math.max(_,S)),G=p*N+4*U,W=U;W<=V;W++)(Z=(_-W)/(_-S))<0?Z=0:Z>1&&(Z=1),f[G++]=b-(b-P)*Z|0,f[G++]=x-(x-k)*Z|0,f[G++]=w-(w-E)*Z|0,f[G++]=255}}function c(e,t,r){var n,i,a=t.coords,o=t.colors;switch(t.type){case"lattice":var s=t.verticesPerRow,l=Math.floor(a.length/s)-1,c=s-1;for(n=0;n<l;n++)for(var f=n*s,p=0;p<c;p++,f++)u(e,r,a[f],a[f+1],a[f+s],o[f],o[f+1],o[f+s]),u(e,r,a[f+s+1],a[f+1],a[f+s],o[f+s+1],o[f+1],o[f+s]);break;case"triangles":for(n=0,i=a.length;n<i;n+=3)u(e,r,a[n],a[n+1],a[n+2],o[n],o[n+1],o[n+2]);break;default:throw new Error("illegal figure")}}var f=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n;return _classCallCheck(this,r),(n=t.call(this))._coords=e[2],n._colors=e[3],n._figures=e[4],n._bounds=e[5],n._bbox=e[7],n._background=e[8],n.matrix=null,n}return _createClass(r,[{key:"_createMeshCanvas",value:function(e,t,r){var n=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),a=Math.ceil(this._bounds[2])-n,o=Math.ceil(this._bounds[3])-i,s=Math.min(Math.ceil(Math.abs(a*e[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(o*e[1]*1.1)),3e3),u=a/s,f=o/l,p={coords:this._coords,colors:this._colors,offsetX:-n,offsetY:-i,scaleX:1/u,scaleY:1/f},h=s+4,d=l+4,v=r.getCanvas("mesh",h,d,!1),m=v.context,y=m.createImageData(s,l);if(t)for(var g=y.data,_=0,b=g.length;_<b;_+=4)g[_]=t[0],g[_+1]=t[1],g[_+2]=t[2],g[_+3]=255;var x,w=_createForOfIteratorHelper(this._figures);try{for(w.s();!(x=w.n()).done;)c(y,x.value,p)}catch(S){w.e(S)}finally{w.f()}return m.putImageData(y,2,2),{canvas:v.canvas,offsetX:n-2*u,offsetY:i-2*f,scaleX:u,scaleY:f}}},{key:"getPattern",value:function(e,t,r,s){var l;if(o(e,this._bbox),s===a.SHADING)l=n.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(e));else if(l=n.Util.singularValueDecompose2dScale(t.baseTransform),this.matrix){var u=n.Util.singularValueDecompose2dScale(this.matrix);l=[l[0]*u[0],l[1]*u[1]]}var c=this._createMeshCanvas(l,s===a.SHADING?null:this._background,t.cachedCanvases);return s!==a.SHADING&&(e.setTransform.apply(e,_toConsumableArray(t.baseTransform)),this.matrix&&e.transform.apply(e,_toConsumableArray(this.matrix))),e.translate(c.offsetX,c.offsetY),e.scale(c.scaleX,c.scaleY),e.createPattern(c.canvas,"no-repeat")}}]),r}(s),p=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"getPattern",value:function(){return"hotpink"}}]),r}(s),h=1,d=2,v=function(){function e(t,r,n,i,a){_classCallCheck(this,e),this.operatorList=t[2],this.matrix=t[3]||[1,0,0,1,0,0],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=r,this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=a}return _createClass(e,[{key:"createPatternCanvas",value:function(e){var t=this.operatorList,r=this.bbox,a=this.xstep,o=this.ystep,s=this.paintType,l=this.tilingType,u=this.color,c=this.canvasGraphicsFactory;(0,n.info)("TilingType: "+l);var f=r[0],p=r[1],h=r[2],d=r[3],v=n.Util.singularValueDecompose2dScale(this.matrix),m=n.Util.singularValueDecompose2dScale(this.baseTransform),y=[v[0]*m[0],v[1]*m[1]],g=this.getSizeAndScale(a,this.ctx.canvas.width,y[0]),_=this.getSizeAndScale(o,this.ctx.canvas.height,y[1]),b=e.cachedCanvases.getCanvas("pattern",g.size,_.size,!0),x=b.context,w=c.createCanvasGraphics(x);w.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(w,s,u);var S=f,P=p,k=h,E=d;return f<0&&(S=0,k+=Math.abs(f)),p<0&&(P=0,E+=Math.abs(p)),x.translate(-g.scale*S,-_.scale*P),w.transform(g.scale,0,0,_.scale,0,0),x.save(),this.clipBbox(w,S,P,k,E),w.baseTransform=(0,i.getCurrentTransform)(w.ctx),w.executeOperatorList(t),w.endDrawing(),{canvas:b.canvas,scaleX:g.scale,scaleY:_.scale,offsetX:S,offsetY:P}}},{key:"getSizeAndScale",value:function(t,r,n){t=Math.abs(t);var i=Math.max(e.MAX_PATTERN_SIZE,r),a=Math.ceil(t*n);return a>=i?a=i:n=a/t,{scale:n,size:a}}},{key:"clipBbox",value:function(e,t,r,n,a){var o=n-t,s=a-r;e.ctx.rect(t,r,o,s),e.current.updateRectMinMax((0,i.getCurrentTransform)(e.ctx),[t,r,n,a]),e.clip(),e.endPath()}},{key:"setFillAndStrokeStyleToContext",value:function(e,t,r){var i=e.ctx,a=e.current;switch(t){case h:var o=this.ctx;i.fillStyle=o.fillStyle,i.strokeStyle=o.strokeStyle,a.fillColor=o.fillStyle,a.strokeColor=o.strokeStyle;break;case d:var s=n.Util.makeHexColor(r[0],r[1],r[2]);i.fillStyle=s,i.strokeStyle=s,a.fillColor=s,a.strokeColor=s;break;default:throw new n.FormatError("Unsupported paint type: ".concat(t))}}},{key:"getPattern",value:function(e,t,r,i){var o=r;i!==a.SHADING&&(o=n.Util.transform(o,t.baseTransform),this.matrix&&(o=n.Util.transform(o,this.matrix)));var s=this.createPatternCanvas(t),l=new DOMMatrix(o);l=(l=l.translate(s.offsetX,s.offsetY)).scale(1/s.scaleX,1/s.scaleY);var u=e.createPattern(s.canvas,"repeat");return u.setTransform(l),u}}]),e}();_defineProperty(v,"MAX_PATTERN_SIZE",3e3),t.TilingPattern=v},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.convertBlackAndWhiteToRGBA=i,t.convertToRGBA=function(e){switch(e.kind){case n.ImageKind.GRAYSCALE_1BPP:return i(e);case n.ImageKind.RGB_24BPP:return function(e){var t=e.src,r=e.srcPos,i=void 0===r?0:r,a=e.dest,o=e.destPos,s=void 0===o?0:o,l=(e.width,e.height,0),u=t.length>>2,c=new Uint32Array(t.buffer,i,u);if(n.FeatureTest.isLittleEndian){for(;l<u-2;l+=3,s+=4){var f=c[l],p=c[l+1],h=c[l+2];a[s]=4278190080|f,a[s+1]=f>>>24|p<<8|4278190080,a[s+2]=p>>>16|h<<16|4278190080,a[s+3]=h>>>8|4278190080}for(var d=4*l,v=t.length;d<v;d+=3)a[s++]=t[d]|t[d+1]<<8|t[d+2]<<16|4278190080}else{for(;l<u-2;l+=3,s+=4){var m=c[l],y=c[l+1],g=c[l+2];a[s]=255|m,a[s+1]=m<<24|y>>>8|255,a[s+2]=y<<16|g>>>16|255,a[s+3]=g<<8|255}for(var _=4*l,b=t.length;_<b;_+=3)a[s++]=t[_]<<24|t[_+1]<<16|t[_+2]<<8|255}return{srcPos:i,destPos:s}}(e)}return null},t.grayToRGBA=function(e,t){if(n.FeatureTest.isLittleEndian)for(var r=0,i=e.length;r<i;r++)t[r]=65793*e[r]|4278190080;else for(var a=0,o=e.length;a<o;a++)t[a]=16843008*e[a]|255};var n=r(1);function i(e){var t=e.src,r=e.srcPos,i=void 0===r?0:r,a=e.dest,o=e.width,s=e.height,l=e.nonBlackColor,u=void 0===l?4294967295:l,c=e.inverseDecode,f=void 0!==c&&c,p=n.FeatureTest.isLittleEndian?4278190080:255,h=_slicedToArray(f?[u,p]:[p,u],2),d=h[0],v=h[1],m=o>>3,y=7&o,g=t.length;a=new Uint32Array(a.buffer);for(var _=0,b=0;b<s;b++){for(var x=i+m;i<x;i++){var w=i<g?t[i]:255;a[_++]=128&w?v:d,a[_++]=64&w?v:d,a[_++]=32&w?v:d,a[_++]=16&w?v:d,a[_++]=8&w?v:d,a[_++]=4&w?v:d,a[_++]=2&w?v:d,a[_++]=1&w?v:d}if(0!==y)for(var S=i<g?t[i++]:255,P=0;P<y;P++)a[_++]=S&1<<7-P?v:d}return{srcPos:i,destPos:_}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;var r=Object.create(null);t.GlobalWorkerOptions=r,r.workerPort=null,r.workerSrc=""},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var n=r(1),i=1,a=2,o=1,s=2,l=3,u=4,c=5,f=6,p=7,h=8;function d(e){switch(e instanceof Error||"object"===typeof e&&null!==e||(0,n.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new n.AbortException(e.message);case"MissingPDFException":return new n.MissingPDFException(e.message);case"PasswordException":return new n.PasswordException(e.message,e.code);case"UnexpectedResponseException":return new n.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new n.UnknownErrorException(e.message,e.details);default:return new n.UnknownErrorException(e.message,e.toString())}}var v=new WeakSet,m=new WeakSet,y=new WeakSet,g=function(){function e(t,r,n){var o=this;_classCallCheck(this,e),_classPrivateMethodInitSpec(this,y),_classPrivateMethodInitSpec(this,m),_classPrivateMethodInitSpec(this,v),this.sourceName=t,this.targetName=r,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(e){var t=e.data;if(t.targetName===o.sourceName)if(t.stream)_classPrivateMethodGet(o,m,b).call(o,t);else if(t.callback){var r=t.callbackId,s=o.callbackCapabilities[r];if(!s)throw new Error("Cannot resolve callback ".concat(r));if(delete o.callbackCapabilities[r],t.callback===i)s.resolve(t.data);else{if(t.callback!==a)throw new Error("Unexpected callback case");s.reject(d(t.reason))}}else{var l=o.actionHandler[t.action];if(!l)throw new Error("Unknown action from worker: ".concat(t.action));if(t.callbackId){var u=o.sourceName,c=t.sourceName;new Promise((function(e){e(l(t.data))})).then((function(e){n.postMessage({sourceName:u,targetName:c,callback:i,callbackId:t.callbackId,data:e})}),(function(e){n.postMessage({sourceName:u,targetName:c,callback:a,callbackId:t.callbackId,reason:d(e)})}))}else t.streamId?_classPrivateMethodGet(o,v,_).call(o,t):l(t.data)}},n.addEventListener("message",this._onComObjOnMessage)}return _createClass(e,[{key:"on",value:function(e,t){var r=this.actionHandler;if(r[e])throw new Error('There is already an actionName called "'.concat(e,'"'));r[e]=t}},{key:"send",value:function(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}},{key:"sendWithPromise",value:function(e,t,r){var i=this.callbackId++,a=new n.PromiseCapability;this.callbackCapabilities[i]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(o){a.reject(o)}return a.promise}},{key:"sendWithStream",value:function(e,t,r,i){var a=this,s=this.streamId++,l=this.sourceName,u=this.targetName,c=this.comObj;return new ReadableStream({start:function(r){var o=new n.PromiseCapability;return a.streamControllers[s]={controller:r,startCall:o,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:l,targetName:u,action:e,streamId:s,data:t,desiredSize:r.desiredSize},i),o.promise},pull:function(e){var t=new n.PromiseCapability;return a.streamControllers[s].pullCall=t,c.postMessage({sourceName:l,targetName:u,stream:f,streamId:s,desiredSize:e.desiredSize}),t.promise},cancel:function(e){(0,n.assert)(e instanceof Error,"cancel must have a valid reason");var t=new n.PromiseCapability;return a.streamControllers[s].cancelCall=t,a.streamControllers[s].isClosed=!0,c.postMessage({sourceName:l,targetName:u,stream:o,streamId:s,reason:d(e)}),t.promise}},r)}},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]),e}();function _(e){var t=e.streamId,r=this.sourceName,i=e.sourceName,a=this.comObj,o=this,s=this.actionHandler[e.action],f={enqueue:function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var l=this.desiredSize;this.desiredSize-=o,l>0&&this.desiredSize<=0&&(this.sinkCapability=new n.PromiseCapability,this.ready=this.sinkCapability.promise),a.postMessage({sourceName:r,targetName:i,stream:u,streamId:t,chunk:e},s)}},close:function(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:i,stream:l,streamId:t}),delete o.streamSinks[t])},error:function(e){(0,n.assert)(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:i,stream:c,streamId:t,reason:d(e)}))},sinkCapability:new n.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};f.sinkCapability.resolve(),f.ready=f.sinkCapability.promise,this.streamSinks[t]=f,new Promise((function(t){t(s(e.data,f))})).then((function(){a.postMessage({sourceName:r,targetName:i,stream:h,streamId:t,success:!0})}),(function(e){a.postMessage({sourceName:r,targetName:i,stream:h,streamId:t,reason:d(e)})}))}function b(e){var t=e.streamId,r=this.sourceName,i=e.sourceName,a=this.comObj,v=this.streamControllers[t],m=this.streamSinks[t];switch(e.stream){case h:e.success?v.startCall.resolve():v.startCall.reject(d(e.reason));break;case p:e.success?v.pullCall.resolve():v.pullCall.reject(d(e.reason));break;case f:if(!m){a.postMessage({sourceName:r,targetName:i,stream:p,streamId:t,success:!0});break}m.desiredSize<=0&&e.desiredSize>0&&m.sinkCapability.resolve(),m.desiredSize=e.desiredSize,new Promise((function(e){var t;e(null===(t=m.onPull)||void 0===t?void 0:t.call(m))})).then((function(){a.postMessage({sourceName:r,targetName:i,stream:p,streamId:t,success:!0})}),(function(e){a.postMessage({sourceName:r,targetName:i,stream:p,streamId:t,reason:d(e)})}));break;case u:if((0,n.assert)(v,"enqueue should have stream controller"),v.isClosed)break;v.controller.enqueue(e.chunk);break;case l:if((0,n.assert)(v,"close should have stream controller"),v.isClosed)break;v.isClosed=!0,v.controller.close(),_classPrivateMethodGet(this,y,x).call(this,v,t);break;case c:(0,n.assert)(v,"error should have stream controller"),v.controller.error(d(e.reason)),_classPrivateMethodGet(this,y,x).call(this,v,t);break;case s:e.success?v.cancelCall.resolve():v.cancelCall.reject(d(e.reason)),_classPrivateMethodGet(this,y,x).call(this,v,t);break;case o:if(!m)break;new Promise((function(t){var r;t(null===(r=m.onCancel)||void 0===r?void 0:r.call(m,d(e.reason)))})).then((function(){a.postMessage({sourceName:r,targetName:i,stream:s,streamId:t,success:!0})}),(function(e){a.postMessage({sourceName:r,targetName:i,stream:s,streamId:t,reason:d(e)})})),m.sinkCapability.reject(d(e.reason)),m.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}function x(e,t){return w.apply(this,arguments)}function w(){return(w=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r){var n,i,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled([null===(n=t.startCall)||void 0===n?void 0:n.promise,null===(i=t.pullCall)||void 0===i?void 0:i.promise,null===(a=t.cancelCall)||void 0===a?void 0:a.promise]);case 2:delete this.streamControllers[r];case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}t.MessageHandler=g},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var n=r(1),i=new WeakMap,a=new WeakMap,o=function(){function e(t){var r=t.parsedData,n=t.rawData;_classCallCheck(this,e),_classPrivateFieldInitSpec(this,i,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,a,{writable:!0,value:void 0}),_classPrivateFieldSet(this,i,r),_classPrivateFieldSet(this,a,n)}return _createClass(e,[{key:"getRaw",value:function(){return _classPrivateFieldGet(this,a)}},{key:"get",value:function(e){var t;return null!==(t=_classPrivateFieldGet(this,i).get(e))&&void 0!==t?t:null}},{key:"getAll",value:function(){return(0,n.objectFromMap)(_classPrivateFieldGet(this,i))}},{key:"has",value:function(e){return _classPrivateFieldGet(this,i).has(e)}}]),e}();t.Metadata=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var n=r(1),i=r(8),a=Symbol("INTERNAL"),o=new WeakMap,s=function(){function e(t,r){_classCallCheck(this,e),_classPrivateFieldInitSpec(this,o,{writable:!0,value:!0}),this.name=t,this.intent=r}return _createClass(e,[{key:"visible",get:function(){return _classPrivateFieldGet(this,o)}},{key:"_setVisible",value:function(e,t){e!==a&&(0,n.unreachable)("Internal method `_setVisible` called."),_classPrivateFieldSet(this,o,t)}}]),e}(),l=new WeakMap,u=new WeakMap,c=new WeakMap,f=new WeakMap,p=new WeakSet,h=function(){function e(t){if(_classCallCheck(this,e),_classPrivateMethodInitSpec(this,p),_classPrivateFieldInitSpec(this,l,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,u,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,c,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,f,{writable:!0,value:null}),this.name=null,this.creator=null,null!==t){this.name=t.name,this.creator=t.creator,_classPrivateFieldSet(this,f,t.order);var r,n=_createForOfIteratorHelper(t.groups);try{for(n.s();!(r=n.n()).done;){var i=r.value;_classPrivateFieldGet(this,u).set(i.id,new s(i.name,i.intent))}}catch(b){n.e(b)}finally{n.f()}if("OFF"===t.baseState){var o,h=_createForOfIteratorHelper(_classPrivateFieldGet(this,u).values());try{for(h.s();!(o=h.n()).done;)o.value._setVisible(a,!1)}catch(b){h.e(b)}finally{h.f()}}var d,v=_createForOfIteratorHelper(t.on);try{for(v.s();!(d=v.n()).done;){var m=d.value;_classPrivateFieldGet(this,u).get(m)._setVisible(a,!0)}}catch(b){v.e(b)}finally{v.f()}var y,g=_createForOfIteratorHelper(t.off);try{for(g.s();!(y=g.n()).done;){var _=y.value;_classPrivateFieldGet(this,u).get(_)._setVisible(a,!1)}}catch(b){g.e(b)}finally{g.f()}_classPrivateFieldSet(this,c,this.getHash())}}return _createClass(e,[{key:"isVisible",value:function(e){if(0===_classPrivateFieldGet(this,u).size)return!0;if(!e)return(0,n.warn)("Optional content group not defined."),!0;if("OCG"===e.type)return _classPrivateFieldGet(this,u).has(e.id)?_classPrivateFieldGet(this,u).get(e.id).visible:((0,n.warn)("Optional content group not found: ".concat(e.id)),!0);if("OCMD"===e.type){if(e.expression)return _classPrivateMethodGet(this,p,d).call(this,e.expression);if(!e.policy||"AnyOn"===e.policy){var t,r=_createForOfIteratorHelper(e.ids);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(!_classPrivateFieldGet(this,u).has(i))return(0,n.warn)("Optional content group not found: ".concat(i)),!0;if(_classPrivateFieldGet(this,u).get(i).visible)return!0}}catch(y){r.e(y)}finally{r.f()}return!1}if("AllOn"===e.policy){var a,o=_createForOfIteratorHelper(e.ids);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(!_classPrivateFieldGet(this,u).has(s))return(0,n.warn)("Optional content group not found: ".concat(s)),!0;if(!_classPrivateFieldGet(this,u).get(s).visible)return!1}}catch(y){o.e(y)}finally{o.f()}return!0}if("AnyOff"===e.policy){var l,c=_createForOfIteratorHelper(e.ids);try{for(c.s();!(l=c.n()).done;){var f=l.value;if(!_classPrivateFieldGet(this,u).has(f))return(0,n.warn)("Optional content group not found: ".concat(f)),!0;if(!_classPrivateFieldGet(this,u).get(f).visible)return!0}}catch(y){c.e(y)}finally{c.f()}return!1}if("AllOff"===e.policy){var h,v=_createForOfIteratorHelper(e.ids);try{for(v.s();!(h=v.n()).done;){var m=h.value;if(!_classPrivateFieldGet(this,u).has(m))return(0,n.warn)("Optional content group not found: ".concat(m)),!0;if(_classPrivateFieldGet(this,u).get(m).visible)return!1}}catch(y){v.e(y)}finally{v.f()}return!0}return(0,n.warn)("Unknown optional content policy ".concat(e.policy,".")),!0}return(0,n.warn)("Unknown group type ".concat(e.type,".")),!0}},{key:"setVisibility",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];_classPrivateFieldGet(this,u).has(e)?(_classPrivateFieldGet(this,u).get(e)._setVisible(a,!!t),_classPrivateFieldSet(this,l,null)):(0,n.warn)("Optional content group not found: ".concat(e))}},{key:"hasInitialVisibility",get:function(){return this.getHash()===_classPrivateFieldGet(this,c)}},{key:"getOrder",value:function(){return _classPrivateFieldGet(this,u).size?_classPrivateFieldGet(this,f)?_classPrivateFieldGet(this,f).slice():_toConsumableArray(_classPrivateFieldGet(this,u).keys()):null}},{key:"getGroups",value:function(){return _classPrivateFieldGet(this,u).size>0?(0,n.objectFromMap)(_classPrivateFieldGet(this,u)):null}},{key:"getGroup",value:function(e){return _classPrivateFieldGet(this,u).get(e)||null}},{key:"getHash",value:function(){if(null!==_classPrivateFieldGet(this,l))return _classPrivateFieldGet(this,l);var e,t=new i.MurmurHash3_64,r=_createForOfIteratorHelper(_classPrivateFieldGet(this,u));try{for(r.s();!(e=r.n()).done;){var n=_slicedToArray(e.value,2),a=n[0],o=n[1];t.update("".concat(a,":").concat(o.visible))}}catch(s){r.e(s)}finally{r.f()}return _classPrivateFieldSet(this,l,t.hexdigest())}}]),e}();function d(e){var t=e.length;if(t<2)return!0;for(var r=e[0],i=1;i<t;i++){var a=e[i],o=void 0;if(Array.isArray(a))o=_classPrivateMethodGet(this,p,d).call(this,a);else{if(!_classPrivateFieldGet(this,u).has(a))return(0,n.warn)("Optional content group not found: ".concat(a)),!0;o=_classPrivateFieldGet(this,u).get(a).visible}switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return"And"===r}t.OptionalContentConfig=h},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var n=r(1),i=r(6),a=function(){function e(t,r){var i=this,a=t.length,o=t.initialData,s=t.progressiveDone,l=void 0!==s&&s,u=t.contentDispositionFilename,c=void 0===u?null:u,f=t.disableRange,p=void 0!==f&&f,h=t.disableStream,d=void 0!==h&&h;if(_classCallCheck(this,e),(0,n.assert)(r,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=c,(null===o||void 0===o?void 0:o.length)>0){var v=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(v)}this._pdfDataRangeTransport=r,this._isStreamingSupported=!d,this._isRangeSupported=!p,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((function(e,t){i._onReceiveData({begin:e,chunk:t})})),this._pdfDataRangeTransport.addProgressListener((function(e,t){i._onProgress({loaded:e,total:t})})),this._pdfDataRangeTransport.addProgressiveReadListener((function(e){i._onReceiveData({chunk:e})})),this._pdfDataRangeTransport.addProgressiveDoneListener((function(){i._onProgressiveDone()})),this._pdfDataRangeTransport.transportReady()}return _createClass(e,[{key:"_onReceiveData",value:function(e){var t=e.begin,r=e.chunk,i=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;if(void 0===t)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{var a=this._rangeReaders.some((function(e){return e._begin===t&&(e._enqueue(i),!0)}));(0,n.assert)(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_progressiveDataLength",get:function(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}},{key:"_onProgress",value:function(e){var t,r,n,i;void 0===e.total?null===(t=this._rangeReaders[0])||void 0===t||null===(r=t.onProgress)||void 0===r||r.call(t,{loaded:e.loaded}):null===(n=this._fullRequestReader)||void 0===n||null===(i=n.onProgress)||void 0===i||i.call(n,{loaded:e.loaded,total:e.total})}},{key:"_onProgressiveDone",value:function(){var e;null===(e=this._fullRequestReader)||void 0===e||e.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(e){var t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}},{key:"getFullReader",value:function(){(0,n.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var e=this._queuedChunks;return this._queuedChunks=null,new o(this,e,this._progressiveDone,this._contentDispositionFilename)}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var r=new s(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}},{key:"cancelAllRequests",value:function(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);var r,n=_createForOfIteratorHelper(this._rangeReaders.slice(0));try{for(n.s();!(r=n.n()).done;)r.value.cancel(e)}catch(i){n.e(i)}finally{n.f()}this._pdfDataRangeTransport.abort()}}]),e}();t.PDFDataTransportStream=a;var o=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this._stream=t,this._done=n||!1,this._filename=(0,i.isPdfFile)(a)?a:null,this._queuedChunks=r||[],this._loaded=0;var o,s=_createForOfIteratorHelper(this._queuedChunks);try{for(s.s();!(o=s.n()).done;){var l=o.value;this._loaded+=l.byteLength}}catch(u){s.e(u)}finally{s.f()}this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}return _createClass(e,[{key:"_enqueue",value:function(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}},{key:"read",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this._queuedChunks.length>0)){e.next=3;break}return t=this._queuedChunks.shift(),e.abrupt("return",{value:t,done:!1});case 3:if(!this._done){e.next=5;break}return e.abrupt("return",{value:void 0,done:!0});case 5:return r=new n.PromiseCapability,this._requests.push(r),e.abrupt("return",r.promise);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._done=!0;var t,r=_createForOfIteratorHelper(this._requests);try{for(r.s();!(t=r.n()).done;)t.value.resolve({value:void 0,done:!0})}catch(n){r.e(n)}finally{r.f()}this._requests.length=0}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}}]),e}(),s=function(){function e(t,r,n){_classCallCheck(this,e),this._stream=t,this._begin=r,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return _createClass(e,[{key:"_enqueue",value:function(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});var t,r=_createForOfIteratorHelper(this._requests);try{for(r.s();!(t=r.n()).done;)t.value.resolve({value:void 0,done:!0})}catch(n){r.e(n)}finally{r.f()}this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._queuedChunk){e.next=4;break}return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});case 4:if(!this._done){e.next=6;break}return e.abrupt("return",{value:void 0,done:!0});case 6:return r=new n.PromiseCapability,this._requests.push(r),e.abrupt("return",r.promise);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._done=!0;var t,r=_createForOfIteratorHelper(this._requests);try{for(r.s();!(t=r.n()).done;)t.value.resolve({value:void 0,done:!0})}catch(n){r.e(n)}finally{r.f()}this._requests.length=0,this._stream._removeRangeReader(this)}}]),e}()},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.XfaText=void 0;var r=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"textContent",value:function(t){var r=[],n={items:r,styles:Object.create(null)};return function t(n){var i;if(n){var a=null,o=n.name;if("#text"===o)a=n.value;else{if(!e.shouldBuildText(o))return;null!==n&&void 0!==n&&null!==(i=n.attributes)&&void 0!==i&&i.textContent?a=n.attributes.textContent:n.value&&(a=n.value)}if(null!==a&&r.push({str:a}),n.children){var s,l=_createForOfIteratorHelper(n.children);try{for(l.s();!(s=l.n()).done;)t(s.value)}catch(u){l.e(u)}finally{l.f()}}}}(t),n}},{key:"shouldBuildText",value:function(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}]),e}();t.XfaText=r},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.NodeStandardFontDataFactory=t.NodeFilterFactory=t.NodeCanvasFactory=t.NodeCMapReaderFactory=void 0;var n=r(7),i=function(e){return new Promise((function(t,r){__webpack_require__(70172).readFile(e,(function(e,n){!e&&n?t(new Uint8Array(n)):r(new Error(e))}))}))},a=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r)}(n.BaseFilterFactory);t.NodeFilterFactory=a;var o=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"_createCanvas",value:function(e,t){return __webpack_require__(93414).createCanvas(e,t)}}]),r}(n.BaseCanvasFactory);t.NodeCanvasFactory=o;var s=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"_fetchData",value:function(e,t){return i(e).then((function(e){return{cMapData:e,compressionType:t}}))}}]),r}(n.BaseCMapReaderFactory);t.NodeCMapReaderFactory=s;var l=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"_fetchData",value:function(e){return i(e)}}]),r}(n.BaseStandardFontDataFactory);t.NodeStandardFontDataFactory=l},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var n=r(1),i=r(22),a=__webpack_require__(70172),o=__webpack_require__(2001),s=__webpack_require__(33779),l=__webpack_require__(66558),u=/^file:\/\/\/[a-zA-Z]:\//,c=function(){function e(t){_classCallCheck(this,e),this.source=t,this.url=function(e){var t=l.parse(e);return"file:"===t.protocol||t.host?t:/^[a-z]:[/\\]/i.test(e)?l.parse("file:///".concat(e)):(t.host||(t.protocol="file:"),t)}(t.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(e,[{key:"_progressiveDataLength",get:function(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}},{key:"getFullReader",value:function(){return(0,n.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new m(this):new d(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var r=this.isFsUrl?new y(this,e,t):new v(this,e,t);return this._rangeRequestReaders.push(r),r}},{key:"cancelAllRequests",value:function(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);var r,n=_createForOfIteratorHelper(this._rangeRequestReaders.slice(0));try{for(n.s();!(r=n.n()).done;)r.value.cancel(e)}catch(i){n.e(i)}finally{n.f()}}}]),e}();t.PDFNodeStream=c;var f=function(){function e(t){_classCallCheck(this,e),this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;var r=t.source;this._contentLength=r.length,this._loaded=0,this._filename=null,this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange,this._readableStream=null,this._readCapability=new n.PromiseCapability,this._headersCapability=new n.PromiseCapability}return _createClass(e,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(!this._done){e.next=4;break}return e.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){e.next=6;break}throw this._storedError;case 6:if(null!==(r=this._readableStream.read())){e.next=10;break}return this._readCapability=new n.PromiseCapability,e.abrupt("return",this.read());case 10:return this._loaded+=r.length,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded,total:this._contentLength}),i=new Uint8Array(r).buffer,e.abrupt("return",{value:i,done:!1});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;this._readableStream=e,e.on("readable",(function(){t._readCapability.resolve()})),e.on("end",(function(){e.destroy(),t._done=!0,t._readCapability.resolve()})),e.on("error",(function(e){t._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new n.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}]),e}(),p=function(){function e(t){_classCallCheck(this,e),this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new n.PromiseCapability;var r=t.source;this._isStreamingSupported=!r.disableStream}return _createClass(e,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(!this._done){e.next=4;break}return e.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){e.next=6;break}throw this._storedError;case 6:if(null!==(r=this._readableStream.read())){e.next=10;break}return this._readCapability=new n.PromiseCapability,e.abrupt("return",this.read());case 10:return this._loaded+=r.length,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded}),i=new Uint8Array(r).buffer,e.abrupt("return",{value:i,done:!1});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;this._readableStream=e,e.on("readable",(function(){t._readCapability.resolve()})),e.on("end",(function(){e.destroy(),t._done=!0,t._readCapability.resolve()})),e.on("error",(function(e){t._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}}]),e}();function h(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}var d=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var a;_classCallCheck(this,r);var l=function(t){if(404===t.statusCode){var r=new n.MissingPDFException('Missing PDF "'.concat(a._url,'".'));return a._storedError=r,void a._headersCapability.reject(r)}a._headersCapability.resolve(),a._setReadableStream(t);var o=function(e){return a._readableStream.headers[e.toLowerCase()]},s=(0,i.validateRangeRequestCapabilities)({getResponseHeader:o,isHttp:e.isHttp,rangeChunkSize:a._rangeChunkSize,disableRange:a._disableRange}),l=s.allowRangeRequests,u=s.suggestedLength;a._isRangeSupported=l,a._contentLength=u||a._contentLength,a._filename=(0,i.extractFilenameFromHeader)(o)};return(a=t.call(this,e))._request=null,"http:"===a._url.protocol?a._request=o.request(h(a._url,e.httpHeaders),l):a._request=s.request(h(a._url,e.httpHeaders),l),a._request.on("error",(function(e){a._storedError=e,a._headersCapability.reject(e)})),a._request.end(),a}return _createClass(r)}(f),v=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,i,a){var l;for(var u in _classCallCheck(this,r),(l=t.call(this,e))._httpHeaders={},e.httpHeaders){var c=e.httpHeaders[u];void 0!==c&&(l._httpHeaders[u]=c)}l._httpHeaders.Range="bytes=".concat(i,"-").concat(a-1);var f=function(e){if(404!==e.statusCode)l._setReadableStream(e);else{var t=new n.MissingPDFException('Missing PDF "'.concat(l._url,'".'));l._storedError=t}};return l._request=null,"http:"===l._url.protocol?l._request=o.request(h(l._url,l._httpHeaders),f):l._request=s.request(h(l._url,l._httpHeaders),f),l._request.on("error",(function(e){l._storedError=e})),l._request.end(),l}return _createClass(r)}(p),m=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var i;_classCallCheck(this,r),i=t.call(this,e);var o=decodeURIComponent(i._url.path);return u.test(i._url.href)&&(o=o.replace(/^\//,"")),a.lstat(o,(function(e,t){if(e)return"ENOENT"===e.code&&(e=new n.MissingPDFException('Missing PDF "'.concat(o,'".'))),i._storedError=e,void i._headersCapability.reject(e);i._contentLength=t.size,i._setReadableStream(a.createReadStream(o)),i._headersCapability.resolve()})),i}return _createClass(r)}(f),y=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n,i){var o;_classCallCheck(this,r),o=t.call(this,e);var s=decodeURIComponent(o._url.path);return u.test(o._url.href)&&(s=s.replace(/^\//,"")),o._setReadableStream(a.createReadStream(s,{start:n,end:i-1})),o}return _createClass(r)}(p)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=function(e,t){return 404===e||0===e&&t.startsWith("file:")?new n.MissingPDFException('Missing PDF "'+t+'".'):new n.UnexpectedResponseException("Unexpected server response (".concat(e,') while retrieving PDF "').concat(t,'".'),e)},t.extractFilenameFromHeader=function(e){var t=e("Content-Disposition");if(t){var r=(0,i.getFilenameFromContentDispositionHeader)(t);if(r.includes("%"))try{r=decodeURIComponent(r)}catch(n){}if((0,a.isPdfFile)(r))return r}return null},t.validateRangeRequestCapabilities=function(e){var t=e.getResponseHeader,r=e.isHttp,n=e.rangeChunkSize,i=e.disableRange,a={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(t("Content-Length"),10);return Number.isInteger(o)?(a.suggestedLength=o,o<=2*n||i||!r||"bytes"!==t("Accept-Ranges")||"identity"!==(t("Content-Encoding")||"identity")||(a.allowRangeRequests=!0),a):a},t.validateResponseStatus=function(e){return 200===e||206===e};var n=r(1),i=r(23),a=r(6)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=function(e){var t=!0,r=o("filename\\*","i").exec(e);if(r){var i=u(r=r[1]);return l(i=f(i=c(i=unescape(i))))}if(r=function(e){for(var t,r=[],n=o("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(t=n.exec(e));){var i=_slicedToArray(t,4),a=i[1],s=i[2],l=i[3];if((a=parseInt(a,10))in r){if(0===a)break}else r[a]=[s,l]}for(var f=[],p=0;p<r.length&&p in r;++p){var h=_slicedToArray(r[p],2),d=h[0],v=h[1];v=u(v),d&&(v=unescape(v),0===p&&(v=c(v))),f.push(v)}return f.join("")}(e))return l(f(r));if(r=o("filename","i").exec(e)){var a=u(r=r[1]);return l(a=f(a))}function o(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function s(e,r){if(e){if(!/^[\x00-\xFF]+$/.test(r))return r;try{var i=new TextDecoder(e,{fatal:!0}),a=(0,n.stringToBytes)(r);r=i.decode(a),t=!1}catch(o){}}return r}function l(e){return t&&/[\x80-\xff]/.test(e)&&(e=s("utf-8",e),t&&(e=s("iso-8859-1",e))),e}function u(e){if(e.startsWith('"')){for(var t=e.slice(1).split('\\"'),r=0;r<t.length;++r){var n=t[r].indexOf('"');-1!==n&&(t[r]=t[r].slice(0,n),t.length=r+1),t[r]=t[r].replaceAll(/\\(.)/g,"$1")}e=t.join('"')}return e}function c(e){var t=e.indexOf("'");return-1===t?e:s(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function f(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,r,n){if("q"===r||"Q"===r)return s(t,n=(n=n.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));try{n=atob(n)}catch(i){}return s(t,n)}))}return""};var n=r(1)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var n=r(1),i=r(22),a=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,e),this.url=t,this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&r.httpHeaders||Object.create(null),this.withCredentials=r.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}return _createClass(e,[{key:"requestRange",value:function(e,t,r){var n={begin:e,end:t};for(var i in r)n[i]=r[i];return this.request(n)}},{key:"requestFull",value:function(e){return this.request(e)}},{key:"request",value:function(e){var t=new XMLHttpRequest,r=this.currXhrId++,n=this.pendingRequests[r]={xhr:t};for(var i in t.open("GET",this.url),t.withCredentials=this.withCredentials,this.httpHeaders){var a=this.httpHeaders[i];void 0!==a&&t.setRequestHeader(i,a)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range","bytes=".concat(e.begin,"-").concat(e.end-1)),n.expectedStatus=206):n.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(r){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),n.onHeadersReceived=e.onHeadersReceived,n.onDone=e.onDone,n.onError=e.onError,n.onProgress=e.onProgress,t.send(null),r}},{key:"onProgress",value:function(e,t){var r,n=this.pendingRequests[e];n&&(null===(r=n.onProgress)||void 0===r||r.call(n,t))}},{key:"onStateChange",value:function(e,t){var r=this.pendingRequests[e];if(r){var i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),4===i.readyState&&e in this.pendingRequests)if(delete this.pendingRequests[e],0===i.status&&this.isHttp){var a;null===(a=r.onError)||void 0===a||a.call(r,i.status)}else{var o=i.status||200;if(200===o&&206===r.expectedStatus||o===r.expectedStatus){var s=function(e){var t=e.response;return"string"!==typeof t?t:(0,n.stringToBytes)(t).buffer}(i);if(206===o){var l=i.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);r.onDone({begin:parseInt(u[1],10),chunk:s})}else if(s)r.onDone({begin:0,chunk:s});else{var c;null===(c=r.onError)||void 0===c||c.call(r,i.status)}}else{var f;null===(f=r.onError)||void 0===f||f.call(r,i.status)}}}}},{key:"getRequestXhr",value:function(e){return this.pendingRequests[e].xhr}},{key:"isPendingRequest",value:function(e){return e in this.pendingRequests}},{key:"abortRequest",value:function(e){var t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}]),e}(),o=function(){function e(t){_classCallCheck(this,e),this._source=t,this._manager=new a(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(e,[{key:"_onRangeRequestReaderClosed",value:function(e){var t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}},{key:"getFullReader",value:function(){return(0,n.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new s(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){var r=new l(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}},{key:"cancelAllRequests",value:function(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);var r,n=_createForOfIteratorHelper(this._rangeRequestReaders.slice(0));try{for(n.s();!(r=n.n()).done;)r.value.cancel(e)}catch(i){n.e(i)}finally{n.f()}}}]),e}();t.PDFNetworkStream=o;var s=function(){function e(t,r){_classCallCheck(this,e),this._manager=t;var i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=r.url,this._fullRequestId=t.requestFull(i),this._headersReceivedCapability=new n.PromiseCapability,this._disableRange=r.disableRange||!1,this._contentLength=r.length,this._rangeChunkSize=r.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}return _createClass(e,[{key:"_onHeadersReceived",value:function(){var e=this._fullRequestId,t=this._manager.getRequestXhr(e),r=function(e){return t.getResponseHeader(e)},n=(0,i.validateRangeRequestCapabilities)({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),a=n.allowRangeRequests,o=n.suggestedLength;a&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){var t,r=_createForOfIteratorHelper(this._requests);try{for(r.s();!(t=r.n()).done;)t.value.resolve({value:void 0,done:!0})}catch(n){r.e(n)}finally{r.f()}this._requests.length=0}}},{key:"_onError",value:function(e){this._storedError=(0,i.createResponseStatusError)(e,this._url),this._headersReceivedCapability.reject(this._storedError);var t,r=_createForOfIteratorHelper(this._requests);try{for(r.s();!(t=r.n()).done;)t.value.reject(this._storedError)}catch(n){r.e(n)}finally{r.f()}this._requests.length=0,this._cachedChunks.length=0}},{key:"_onProgress",value:function(e){var t;null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}},{key:"read",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._storedError){e.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){e.next=5;break}return t=this._cachedChunks.shift(),e.abrupt("return",{value:t,done:!1});case 5:if(!this._done){e.next=7;break}return e.abrupt("return",{value:void 0,done:!0});case 7:return r=new n.PromiseCapability,this._requests.push(r),e.abrupt("return",r.promise);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._done=!0,this._headersReceivedCapability.reject(e);var t,r=_createForOfIteratorHelper(this._requests);try{for(r.s();!(t=r.n()).done;)t.value.resolve({value:void 0,done:!0})}catch(n){r.e(n)}finally{r.f()}this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}]),e}(),l=function(){function e(t,r,n){_classCallCheck(this,e),this._manager=t;var i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(r,n,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}return _createClass(e,[{key:"_close",value:function(){var e;null===(e=this.onClosed)||void 0===e||e.call(this,this)}},{key:"_onDone",value:function(e){var t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;var r,n=_createForOfIteratorHelper(this._requests);try{for(n.s();!(r=n.n()).done;)r.value.resolve({value:void 0,done:!0})}catch(i){n.e(i)}finally{n.f()}this._requests.length=0,this._close()}},{key:"_onError",value:function(e){this._storedError=(0,i.createResponseStatusError)(e,this._url);var t,r=_createForOfIteratorHelper(this._requests);try{for(r.s();!(t=r.n()).done;)t.value.reject(this._storedError)}catch(n){r.e(n)}finally{r.f()}this._requests.length=0,this._queuedChunk=null}},{key:"_onProgress",value:function(e){var t;this.isStreamingSupported||null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded})}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._storedError){e.next=2;break}throw this._storedError;case 2:if(null===this._queuedChunk){e.next=6;break}return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});case 6:if(!this._done){e.next=8;break}return e.abrupt("return",{value:void 0,done:!0});case 8:return r=new n.PromiseCapability,this._requests.push(r),e.abrupt("return",r.promise);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._done=!0;var t,r=_createForOfIteratorHelper(this._requests);try{for(r.s();!(t=r.n()).done;)t.value.resolve({value:void 0,done:!0})}catch(n){r.e(n)}finally{r.f()}this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}]),e}()},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var n=r(1),i=r(22);function a(e,t,r){return{method:"GET",headers:e,signal:r.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function o(e){var t=new Headers;for(var r in e){var n=e[r];void 0!==n&&t.append(r,n)}return t}function s(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:((0,n.warn)("getArrayBuffer - unexpected data format: ".concat(e)),new Uint8Array(e).buffer)}var l=function(){function e(t){_classCallCheck(this,e),this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(e,[{key:"_progressiveDataLength",get:function(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}},{key:"getFullReader",value:function(){return(0,n.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new u(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var r=new c(this,e,t);return this._rangeRequestReaders.push(r),r}},{key:"cancelAllRequests",value:function(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);var r,n=_createForOfIteratorHelper(this._rangeRequestReaders.slice(0));try{for(n.s();!(r=n.n()).done;)r.value.cancel(e)}catch(i){n.e(i)}finally{n.f()}}}]),e}();t.PDFFetchStream=l;var u=function(){function e(t){var r=this;_classCallCheck(this,e),this._stream=t,this._reader=null,this._loaded=0,this._filename=null;var s=t.source;this._withCredentials=s.withCredentials||!1,this._contentLength=s.length,this._headersCapability=new n.PromiseCapability,this._disableRange=s.disableRange||!1,this._rangeChunkSize=s.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!s.disableStream,this._isRangeSupported=!s.disableRange,this._headers=o(this._stream.httpHeaders);var l=s.url;fetch(l,a(this._headers,this._withCredentials,this._abortController)).then((function(e){if(!(0,i.validateResponseStatus)(e.status))throw(0,i.createResponseStatusError)(e.status,l);r._reader=e.body.getReader(),r._headersCapability.resolve();var t=function(t){return e.headers.get(t)},a=(0,i.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:r._stream.isHttp,rangeChunkSize:r._rangeChunkSize,disableRange:r._disableRange}),o=a.allowRangeRequests,s=a.suggestedLength;r._isRangeSupported=o,r._contentLength=s||r._contentLength,r._filename=(0,i.extractFilenameFromHeader)(t),!r._isStreamingSupported&&r._isRangeSupported&&r.cancel(new n.AbortException("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}return _createClass(e,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,r,n,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._headersCapability.promise;case 2:return e.next=4,this._reader.read();case 4:if(r=e.sent,n=r.value,!(i=r.done)){e.next=9;break}return e.abrupt("return",{value:n,done:i});case 9:return this._loaded+=n.byteLength,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded,total:this._contentLength}),e.abrupt("return",{value:s(n),done:!1});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}]),e}(),c=function(){function e(t,r,s){var l=this;_classCallCheck(this,e),this._stream=t,this._reader=null,this._loaded=0;var u=t.source;this._withCredentials=u.withCredentials||!1,this._readCapability=new n.PromiseCapability,this._isStreamingSupported=!u.disableStream,this._abortController=new AbortController,this._headers=o(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(r,"-").concat(s-1));var c=u.url;fetch(c,a(this._headers,this._withCredentials,this._abortController)).then((function(e){if(!(0,i.validateResponseStatus)(e.status))throw(0,i.createResponseStatusError)(e.status,c);l._readCapability.resolve(),l._reader=e.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}return _createClass(e,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,r,n,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:return e.next=4,this._reader.read();case 4:if(r=e.sent,n=r.value,!(i=r.done)){e.next=9;break}return e.abrupt("return",{value:n,done:i});case 9:return this._loaded+=n.byteLength,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded}),e.abrupt("return",{value:s(n),done:!1});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}]),e}()},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayerRenderTask=void 0,t.renderTextLayer=function(e){e.textContentSource||!e.textContent&&!e.textContentStream||((0,i.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),e.textContentSource=e.textContent||e.textContentStream);var t=e.container,r=e.viewport,n=getComputedStyle(t),a=n.getPropertyValue("visibility"),o=parseFloat(n.getPropertyValue("--scale-factor"));"visible"===a&&(!o||Math.abs(o-r.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");var s=new c(e);return s._render(),s},t.updateTextLayer=function(e){var t=e.container,r=e.viewport,n=e.textDivs,a=e.textDivProperties,o=e.isOffscreenCanvasSupported,l=e.mustRotate,c=void 0===l||l,f=e.mustRescale,p=void 0===f||f;if(c&&(0,i.setLayerDimensions)(t,{rotation:r.rotation}),p){var h,d=s(0,o),v={prevFontSize:null,prevFontFamily:null,div:null,scale:r.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:d},m=_createForOfIteratorHelper(n);try{for(m.s();!(h=m.n()).done;){var y=h.value;v.properties=a.get(y),v.div=y,u(v)}}catch(g){m.e(g)}finally{m.f()}}};var n=r(1),i=r(6),a=30,o=new Map;function s(e,t){var r;if(t&&n.FeatureTest.isOffscreenCanvasSupported)r=new OffscreenCanvas(e,e).getContext("2d",{alpha:!1});else{var i=document.createElement("canvas");i.width=i.height=e,r=i.getContext("2d",{alpha:!1})}return r}function l(e,t,r){var i=document.createElement("span"),l={angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,fontSize:0};e._textDivs.push(i);var u=n.Util.transform(e._transform,t.transform),c=Math.atan2(u[1],u[0]),f=r[t.fontName];f.vertical&&(c+=Math.PI/2);var p,h,d=Math.hypot(u[2],u[3]),v=d*function(e,t){var r=o.get(e);if(r)return r;var n=s(a,t);n.font="".concat(a,"px ").concat(e);var i=n.measureText(""),l=i.fontBoundingBoxAscent,u=Math.abs(i.fontBoundingBoxDescent);if(l){var c=l/(l+u);return o.set(e,c),n.canvas.width=n.canvas.height=0,c}n.strokeStyle="red",n.clearRect(0,0,a,a),n.strokeText("g",0,0);var f=n.getImageData(0,0,a,a).data;u=0;for(var p=f.length-1-3;p>=0;p-=4)if(f[p]>0){u=Math.ceil(p/4/a);break}n.clearRect(0,0,a,a),n.strokeText("A",0,a),l=0;for(var h=0,d=(f=n.getImageData(0,0,a,a).data).length;h<d;h+=4)if(f[h]>0){l=a-Math.floor(h/4/a);break}if(n.canvas.width=n.canvas.height=0,l){var v=l/(l+u);return o.set(e,v),v}return o.set(e,.8),.8}(f.fontFamily,e._isOffscreenCanvasSupported);0===c?(p=u[4],h=u[5]-v):(p=u[4]+v*Math.sin(c),h=u[5]-v*Math.cos(c));var m="calc(var(--scale-factor)*",y=i.style;e._container===e._rootContainer?(y.left="".concat((100*p/e._pageWidth).toFixed(2),"%"),y.top="".concat((100*h/e._pageHeight).toFixed(2),"%")):(y.left="".concat(m).concat(p.toFixed(2),"px)"),y.top="".concat(m).concat(h.toFixed(2),"px)")),y.fontSize="".concat(m).concat(d.toFixed(2),"px)"),y.fontFamily=f.fontFamily,l.fontSize=d,i.setAttribute("role","presentation"),i.textContent=t.str,i.dir=t.dir,e._fontInspectorEnabled&&(i.dataset.fontName=t.fontName),0!==c&&(l.angle=c*(180/Math.PI));var g=!1;if(t.str.length>1)g=!0;else if(" "!==t.str&&t.transform[0]!==t.transform[3]){var _=Math.abs(t.transform[0]),b=Math.abs(t.transform[3]);_!==b&&Math.max(_,b)/Math.min(_,b)>1.5&&(g=!0)}g&&(l.canvasWidth=f.vertical?t.height:t.width),e._textDivProperties.set(i,l),e._isReadableStream&&e._layoutText(i)}function u(e){var t=e.div,r=e.scale,n=e.properties,i=e.ctx,a=e.prevFontSize,o=e.prevFontFamily,s=t.style,l="";if(0!==n.canvasWidth&&n.hasText){var u=s.fontFamily,c=n.canvasWidth,f=n.fontSize;a===f&&o===u||(i.font="".concat(f*r,"px ").concat(u),e.prevFontSize=f,e.prevFontFamily=u);var p=i.measureText(t.textContent).width;p>0&&(l="scaleX(".concat(c*r/p,")"))}0!==n.angle&&(l="rotate(".concat(n.angle,"deg) ").concat(l)),l.length>0&&(s.transform=l)}var c=function(){function e(t){var r,a=this,o=t.textContentSource,l=t.container,u=t.viewport,c=t.textDivs,f=t.textDivProperties,p=t.textContentItemsStr,h=t.isOffscreenCanvasSupported;_classCallCheck(this,e),this._textContentSource=o,this._isReadableStream=o instanceof ReadableStream,this._container=this._rootContainer=l,this._textDivs=c||[],this._textContentItemsStr=p||[],this._isOffscreenCanvasSupported=h,this._fontInspectorEnabled=!(null===(r=globalThis.FontInspector)||void 0===r||!r.enabled),this._reader=null,this._textDivProperties=f||new WeakMap,this._canceled=!1,this._capability=new n.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:u.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:s(0,h)};var d=u.rawDims,v=d.pageWidth,m=d.pageHeight,y=d.pageX,g=d.pageY;this._transform=[1,0,0,-1,-y,g+m],this._pageWidth=v,this._pageHeight=m,(0,i.setLayerDimensions)(l,u),this._capability.promise.finally((function(){a._layoutTextParams=null})).catch((function(){}))}return _createClass(e,[{key:"promise",get:function(){return this._capability.promise}},{key:"cancel",value:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new n.AbortException("TextLayer task cancelled.")).catch((function(){})),this._reader=null),this._capability.reject(new n.AbortException("TextLayer task cancelled."))}},{key:"_processItems",value:function(e,t){var r,n=_createForOfIteratorHelper(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(void 0!==i.str)this._textContentItemsStr.push(i.str),l(this,i,t);else if("beginMarkedContentProps"===i.type||"beginMarkedContent"===i.type){var a=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==i.id&&this._container.setAttribute("id","".concat(i.id)),a.append(this._container)}else"endMarkedContent"===i.type&&(this._container=this._container.parentNode)}}catch(o){n.e(o)}finally{n.f()}}},{key:"_layoutText",value:function(e){var t=this._layoutTextParams.properties=this._textDivProperties.get(e);if(this._layoutTextParams.div=e,u(this._layoutTextParams),t.hasText&&this._container.append(e),t.hasEOL){var r=document.createElement("br");r.setAttribute("role","presentation"),this._container.append(r)}}},{key:"_render",value:function(){var e=this,t=new n.PromiseCapability,r=Object.create(null);if(this._isReadableStream)this._reader=this._textContentSource.getReader(),function n(){e._reader.read().then((function(i){var a=i.value;i.done?t.resolve():(Object.assign(r,a.styles),e._processItems(a.items,r),n())}),t.reject)}();else{if(!this._textContentSource)throw new Error('No "textContentSource" parameter specified.');var i=this._textContentSource,a=i.items,o=i.styles;this._processItems(a,o),t.resolve()}t.promise.then((function(){r=null,function(e){if(!e._canceled){var t=e._textDivs,r=e._capability;if(t.length>1e5)r.resolve();else{if(!e._isReadableStream){var n,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;e._layoutText(a)}}catch(o){i.e(o)}finally{i.f()}}r.resolve()}}}(e)}),this._capability.reject)}}]),e}();t.TextLayerRenderTask=c},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditorLayer=void 0;var n=r(1),i=r(5),a=r(28),o=r(29),s=r(6),l=new WeakMap,u=new WeakMap,c=new WeakMap,f=new WeakMap,p=new WeakMap,h=new WeakMap,d=new WeakMap,v=new WeakMap,m=new WeakSet,y=new WeakSet,g=new WeakSet,_=new WeakSet,b=function(){function e(t){_classCallCheck(this,e),_classPrivateMethodInitSpec(this,_),_classPrivateMethodInitSpec(this,g),_classPrivateMethodInitSpec(this,y),_classPrivateMethodInitSpec(this,m),_classPrivateFieldInitSpec(this,l,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,u,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,c,{writable:!0,value:this.pointerup.bind(this)}),_classPrivateFieldInitSpec(this,f,{writable:!0,value:this.pointerdown.bind(this)}),_classPrivateFieldInitSpec(this,p,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,h,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,d,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,v,{writable:!0,value:void 0}),e._initialized||(e._initialized=!0,a.FreeTextEditor.initialize(t.l10n),o.InkEditor.initialize(t.l10n)),t.uiManager.registerEditorTypes([a.FreeTextEditor,o.InkEditor]),_classPrivateFieldSet(this,v,t.uiManager),this.pageIndex=t.pageIndex,this.div=t.div,_classPrivateFieldSet(this,l,t.accessibilityManager),_classPrivateFieldGet(this,v).addLayer(this)}return _createClass(e,[{key:"isEmpty",get:function(){return 0===_classPrivateFieldGet(this,p).size}},{key:"updateToolbar",value:function(e){_classPrivateFieldGet(this,v).updateToolbar(e)}},{key:"updateMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_classPrivateFieldGet(this,v).getMode();_classPrivateMethodGet(this,_,P).call(this),e===n.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),_classPrivateFieldGet(this,v).unselectAll(),e!==n.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",e===n.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",e===n.AnnotationEditorType.INK),this.div.hidden=!1)}},{key:"addInkEditorIfNeeded",value:function(e){if(e||_classPrivateFieldGet(this,v).getMode()===n.AnnotationEditorType.INK){if(!e){var t,r=_createForOfIteratorHelper(_classPrivateFieldGet(this,p).values());try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i.isEmpty())return void i.setInBackground()}}catch(a){r.e(a)}finally{r.f()}}_classPrivateMethodGet(this,g,S).call(this,{offsetX:0,offsetY:0}).setInBackground()}}},{key:"setEditingState",value:function(e){_classPrivateFieldGet(this,v).setEditingState(e)}},{key:"addCommands",value:function(e){_classPrivateFieldGet(this,v).addCommands(e)}},{key:"enable",value:function(){this.div.style.pointerEvents="auto";var e,t=_createForOfIteratorHelper(_classPrivateFieldGet(this,p).values());try{for(t.s();!(e=t.n()).done;)e.value.enableEditing()}catch(r){t.e(r)}finally{t.f()}}},{key:"disable",value:function(){this.div.style.pointerEvents="none";var e,t=_createForOfIteratorHelper(_classPrivateFieldGet(this,p).values());try{for(t.s();!(e=t.n()).done;)e.value.disableEditing()}catch(r){t.e(r)}finally{t.f()}_classPrivateMethodGet(this,_,P).call(this),this.isEmpty&&(this.div.hidden=!0)}},{key:"setActiveEditor",value:function(e){_classPrivateFieldGet(this,v).getActive()!==e&&_classPrivateFieldGet(this,v).setActiveEditor(e)}},{key:"enableClick",value:function(){this.div.addEventListener("pointerdown",_classPrivateFieldGet(this,f)),this.div.addEventListener("pointerup",_classPrivateFieldGet(this,c))}},{key:"disableClick",value:function(){this.div.removeEventListener("pointerdown",_classPrivateFieldGet(this,f)),this.div.removeEventListener("pointerup",_classPrivateFieldGet(this,c))}},{key:"attach",value:function(e){_classPrivateFieldGet(this,p).set(e.id,e)}},{key:"detach",value:function(e){var t;_classPrivateFieldGet(this,p).delete(e.id),null===(t=_classPrivateFieldGet(this,l))||void 0===t||t.removePointerInTextLayer(e.contentDiv)}},{key:"remove",value:function(e){var t=this;_classPrivateFieldGet(this,v).removeEditor(e),this.detach(e),e.div.style.display="none",setTimeout((function(){e.div.style.display="",e.div.remove(),e.isAttachedToDOM=!1,document.activeElement===document.body&&_classPrivateFieldGet(t,v).focusMainContainer()}),0),_classPrivateFieldGet(this,d)||this.addInkEditorIfNeeded(!1)}},{key:"add",value:function(e){if(_classPrivateMethodGet(this,m,x).call(this,e),_classPrivateFieldGet(this,v).addEditor(e),this.attach(e),!e.isAttachedToDOM){var t=e.render();this.div.append(t),e.isAttachedToDOM=!0}this.moveEditorInDOM(e),e.onceAdded(),_classPrivateFieldGet(this,v).addToAnnotationStorage(e)}},{key:"moveEditorInDOM",value:function(e){var t;null===(t=_classPrivateFieldGet(this,l))||void 0===t||t.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}},{key:"addOrRebuild",value:function(e){e.needsToBeRebuilt()?e.rebuild():this.add(e)}},{key:"addANewEditor",value:function(e){var t=this;this.addCommands({cmd:function(){t.addOrRebuild(e)},undo:function(){e.remove()},mustExec:!0})}},{key:"addUndoableEditor",value:function(e){var t=this;this.addCommands({cmd:function(){t.addOrRebuild(e)},undo:function(){e.remove()},mustExec:!1})}},{key:"getNextId",value:function(){return _classPrivateFieldGet(this,v).getId()}},{key:"deserialize",value:function(e){switch(e.annotationType){case n.AnnotationEditorType.FREETEXT:return a.FreeTextEditor.deserialize(e,this,_classPrivateFieldGet(this,v));case n.AnnotationEditorType.INK:return o.InkEditor.deserialize(e,this,_classPrivateFieldGet(this,v))}return null}},{key:"setSelected",value:function(e){_classPrivateFieldGet(this,v).setSelected(e)}},{key:"toggleSelected",value:function(e){_classPrivateFieldGet(this,v).toggleSelected(e)}},{key:"isSelected",value:function(e){return _classPrivateFieldGet(this,v).isSelected(e)}},{key:"unselect",value:function(e){_classPrivateFieldGet(this,v).unselect(e)}},{key:"pointerup",value:function(e){var t=n.FeatureTest.platform.isMac;0!==e.button||e.ctrlKey&&t||e.target===this.div&&_classPrivateFieldGet(this,h)&&(_classPrivateFieldSet(this,h,!1),_classPrivateFieldGet(this,u)?_classPrivateMethodGet(this,g,S).call(this,e):_classPrivateFieldSet(this,u,!0))}},{key:"pointerdown",value:function(e){var t=n.FeatureTest.platform.isMac;if(!(0!==e.button||e.ctrlKey&&t)&&e.target===this.div){_classPrivateFieldSet(this,h,!0);var r=_classPrivateFieldGet(this,v).getActive();_classPrivateFieldSet(this,u,!r||r.isEmpty())}}},{key:"drop",value:function(e){var t=e.dataTransfer.getData("text/plain"),r=_classPrivateFieldGet(this,v).getEditor(t);if(r){e.preventDefault(),e.dataTransfer.dropEffect="move",_classPrivateMethodGet(this,m,x).call(this,r);var n=this.div.getBoundingClientRect(),i=e.clientX-n.x,a=e.clientY-n.y;r.translate(i-r.startX,a-r.startY),this.moveEditorInDOM(r),r.div.focus()}}},{key:"dragover",value:function(e){e.preventDefault()}},{key:"destroy",value:function(){var e;(null===(e=_classPrivateFieldGet(this,v).getActive())||void 0===e?void 0:e.parent)===this&&_classPrivateFieldGet(this,v).setActiveEditor(null);var t,r=_createForOfIteratorHelper(_classPrivateFieldGet(this,p).values());try{for(r.s();!(t=r.n()).done;){var n,i=t.value;null===(n=_classPrivateFieldGet(this,l))||void 0===n||n.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove()}}catch(a){r.e(a)}finally{r.f()}this.div=null,_classPrivateFieldGet(this,p).clear(),_classPrivateFieldGet(this,v).removeLayer(this)}},{key:"render",value:function(e){var t=e.viewport;this.viewport=t,(0,s.setLayerDimensions)(this.div,t),(0,i.bindEvents)(this,this.div,["dragover","drop"]);var r,n=_createForOfIteratorHelper(_classPrivateFieldGet(this,v).getEditors(this.pageIndex));try{for(n.s();!(r=n.n()).done;){var a=r.value;this.add(a)}}catch(o){n.e(o)}finally{n.f()}this.updateMode()}},{key:"update",value:function(e){var t=e.viewport;_classPrivateFieldGet(this,v).commitOrRemove(),this.viewport=t,(0,s.setLayerDimensions)(this.div,{rotation:t.rotation}),this.updateMode()}},{key:"pageDimensions",get:function(){var e=this.viewport.rawDims;return[e.pageWidth,e.pageHeight]}}]),e}();function x(e){var t;e.parent!==this&&(this.attach(e),null===(t=e.parent)||void 0===t||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}function w(e){switch(_classPrivateFieldGet(this,v).getMode()){case n.AnnotationEditorType.FREETEXT:return new a.FreeTextEditor(e);case n.AnnotationEditorType.INK:return new o.InkEditor(e)}return null}function S(e){var t=this.getNextId(),r=_classPrivateMethodGet(this,y,w).call(this,{parent:this,id:t,x:e.offsetX,y:e.offsetY,uiManager:_classPrivateFieldGet(this,v)});return r&&this.add(r),r}function P(){_classPrivateFieldSet(this,d,!0);var e,t=_createForOfIteratorHelper(_classPrivateFieldGet(this,p).values());try{for(t.s();!(e=t.n()).done;){var r=e.value;r.isEmpty()&&r.remove()}}catch(n){t.e(n)}finally{t.f()}_classPrivateFieldSet(this,d,!1)}_defineProperty(b,"_initialized",!1),t.AnnotationEditorLayer=b},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.FreeTextEditor=void 0;var n=r(1),i=r(5),a=r(4),o=new WeakMap,s=new WeakMap,l=new WeakMap,u=new WeakMap,c=new WeakMap,f=new WeakMap,p=new WeakMap,h=new WeakMap,d=new WeakMap,v=new WeakSet,m=new WeakSet,y=new WeakSet,g=new WeakSet,_=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n;return _classCallCheck(this,r),n=t.call(this,_objectSpread(_objectSpread({},e),{},{name:"freeTextEditor"})),_classPrivateMethodInitSpec(_assertThisInitialized(n),g),_classPrivateMethodInitSpec(_assertThisInitialized(n),y),_classPrivateMethodInitSpec(_assertThisInitialized(n),m),_classPrivateMethodInitSpec(_assertThisInitialized(n),v),_classPrivateFieldInitSpec(_assertThisInitialized(n),o,{writable:!0,value:n.editorDivBlur.bind(_assertThisInitialized(n))}),_classPrivateFieldInitSpec(_assertThisInitialized(n),s,{writable:!0,value:n.editorDivFocus.bind(_assertThisInitialized(n))}),_classPrivateFieldInitSpec(_assertThisInitialized(n),l,{writable:!0,value:n.editorDivInput.bind(_assertThisInitialized(n))}),_classPrivateFieldInitSpec(_assertThisInitialized(n),u,{writable:!0,value:n.editorDivKeydown.bind(_assertThisInitialized(n))}),_classPrivateFieldInitSpec(_assertThisInitialized(n),c,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(_assertThisInitialized(n),f,{writable:!0,value:""}),_classPrivateFieldInitSpec(_assertThisInitialized(n),p,{writable:!0,value:"".concat(n.id,"-editor")}),_classPrivateFieldInitSpec(_assertThisInitialized(n),h,{writable:!0,value:!1}),_classPrivateFieldInitSpec(_assertThisInitialized(n),d,{writable:!0,value:void 0}),_classPrivateFieldSet(_assertThisInitialized(n),c,e.color||r._defaultColor||a.AnnotationEditor._defaultLineColor),_classPrivateFieldSet(_assertThisInitialized(n),d,e.fontSize||r._defaultFontSize),n}return _createClass(r,[{key:"updateParams",value:function(e,t){switch(e){case n.AnnotationEditorParamsType.FREETEXT_SIZE:_classPrivateMethodGet(this,v,b).call(this,t);break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:_classPrivateMethodGet(this,m,x).call(this,t)}}},{key:"propertiesToUpdate",get:function(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,_classPrivateFieldGet(this,d)],[n.AnnotationEditorParamsType.FREETEXT_COLOR,_classPrivateFieldGet(this,c)]]}},{key:"getInitialTranslation",value:function(){var e=this.parentScale;return[-r._internalPadding*e,-(r._internalPadding+_classPrivateFieldGet(this,d))*e]}},{key:"rebuild",value:function(){_get(_getPrototypeOf(r.prototype),"rebuild",this).call(this),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this))}},{key:"enableEditMode",value:function(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(n.AnnotationEditorType.FREETEXT),_get(_getPrototypeOf(r.prototype),"enableEditMode",this).call(this),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",_classPrivateFieldGet(this,u)),this.editorDiv.addEventListener("focus",_classPrivateFieldGet(this,s)),this.editorDiv.addEventListener("blur",_classPrivateFieldGet(this,o)),this.editorDiv.addEventListener("input",_classPrivateFieldGet(this,l)))}},{key:"disableEditMode",value:function(){this.isInEditMode()&&(this.parent.setEditingState(!0),_get(_getPrototypeOf(r.prototype),"disableEditMode",this).call(this),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",_classPrivateFieldGet(this,p)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",_classPrivateFieldGet(this,u)),this.editorDiv.removeEventListener("focus",_classPrivateFieldGet(this,s)),this.editorDiv.removeEventListener("blur",_classPrivateFieldGet(this,o)),this.editorDiv.removeEventListener("input",_classPrivateFieldGet(this,l)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}},{key:"focusin",value:function(e){_get(_getPrototypeOf(r.prototype),"focusin",this).call(this,e),e.target!==this.editorDiv&&this.editorDiv.focus()}},{key:"onceAdded",value:function(){this.width||(this.enableEditMode(),this.editorDiv.focus())}},{key:"isEmpty",value:function(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}},{key:"remove",value:function(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),_get(_getPrototypeOf(r.prototype),"remove",this).call(this)}},{key:"commit",value:function(){this.isInEditMode()&&(_get(_getPrototypeOf(r.prototype),"commit",this).call(this),_classPrivateFieldGet(this,h)||(_classPrivateFieldSet(this,h,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),_classPrivateFieldSet(this,f,_classPrivateMethodGet(this,y,w).call(this).trimEnd()),_classPrivateMethodGet(this,g,S).call(this))}},{key:"shouldGetKeyboardEvents",value:function(){return this.isInEditMode()}},{key:"dblclick",value:function(e){this.enableEditMode(),this.editorDiv.focus()}},{key:"keydown",value:function(e){e.target===this.div&&"Enter"===e.key&&(this.enableEditMode(),this.editorDiv.focus())}},{key:"editorDivKeydown",value:function(e){r._keyboardManager.exec(this,e)}},{key:"editorDivFocus",value:function(e){this.isEditing=!0}},{key:"editorDivBlur",value:function(e){this.isEditing=!1}},{key:"editorDivInput",value:function(e){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}},{key:"disableEditing",value:function(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}},{key:"enableEditing",value:function(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}},{key:"render",value:function(){var e,t,n=this;if(this.div)return this.div;this.width&&(e=this.x,t=this.y),_get(_getPrototypeOf(r.prototype),"render",this).call(this),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",_classPrivateFieldGet(this,p)),this.enableEditing(),r._l10nPromise.get("editor_free_text2_aria_label").then((function(e){var t;return null===(t=n.editorDiv)||void 0===t?void 0:t.setAttribute("aria-label",e)})),r._l10nPromise.get("free_text2_default_content").then((function(e){var t;return null===(t=n.editorDiv)||void 0===t?void 0:t.setAttribute("default-content",e)})),this.editorDiv.contentEditable=!0;var a=this.editorDiv.style;if(a.fontSize="calc(".concat(_classPrivateFieldGet(this,d),"px * var(--scale-factor))"),a.color=_classPrivateFieldGet(this,c),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,i.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){var o=_slicedToArray(this.parentDimensions,2),s=o[0],l=o[1];this.setAt(e*s,t*l,this.width*s,this.height*l);var u,h=_createForOfIteratorHelper(_classPrivateFieldGet(this,f).split("\n"));try{for(h.s();!(u=h.n()).done;){var v=u.value,m=document.createElement("div");m.append(v?document.createTextNode(v):document.createElement("br")),this.editorDiv.append(m)}}catch(y){h.e(y)}finally{h.f()}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}},{key:"contentDiv",get:function(){return this.editorDiv}},{key:"serialize",value:function(){if(this.isEmpty())return null;var e=r._internalPadding*this.parentScale,t=this.getRect(e,e),i=a.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:_classPrivateFieldGet(this,c));return{annotationType:n.AnnotationEditorType.FREETEXT,color:i,fontSize:_classPrivateFieldGet(this,d),value:_classPrivateFieldGet(this,f),pageIndex:this.pageIndex,rect:t,rotation:this.rotation}}}],[{key:"initialize",value:function(e){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map((function(t){return[t,e.get(t)]})));var t=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(t.getPropertyValue("--freetext-padding"))}},{key:"updateDefaultParams",value:function(e,t){switch(e){case n.AnnotationEditorParamsType.FREETEXT_SIZE:r._defaultFontSize=t;break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:r._defaultColor=t}}},{key:"defaultPropertiesToUpdate",get:function(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,r._defaultFontSize],[n.AnnotationEditorParamsType.FREETEXT_COLOR,r._defaultColor||a.AnnotationEditor._defaultLineColor]]}},{key:"deserialize",value:function(e,t,i){var a,o=_get(_getPrototypeOf(r),"deserialize",this).call(this,e,t,i);return _classPrivateFieldSet(o,d,e.fontSize),_classPrivateFieldSet(o,c,(a=n.Util).makeHexColor.apply(a,_toConsumableArray(e.color))),_classPrivateFieldSet(o,f,e.value),o}}]),r}(a.AnnotationEditor);function b(e){var t=this,r=function(e){t.editorDiv.style.fontSize="calc(".concat(e,"px * var(--scale-factor))"),t.translate(0,-(e-_classPrivateFieldGet(t,d))*t.parentScale),_classPrivateFieldSet(t,d,e),_classPrivateMethodGet(t,g,S).call(t)},i=_classPrivateFieldGet(this,d);this.addCommands({cmd:function(){r(e)},undo:function(){r(i)},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function x(e){var t=this,r=_classPrivateFieldGet(this,c);this.addCommands({cmd:function(){_classPrivateFieldSet(t,c,t.editorDiv.style.color=e)},undo:function(){_classPrivateFieldSet(t,c,t.editorDiv.style.color=r)},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function w(){var e=this.editorDiv.getElementsByTagName("div");if(0===e.length)return this.editorDiv.innerText;var t,r=[],n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;r.push(i.innerText.replace(/\r\n?|\n/,""))}}catch(a){n.e(a)}finally{n.f()}return r.join("\n")}function S(){var e,t=_slicedToArray(this.parentDimensions,2),r=t[0],n=t[1];if(this.isAttachedToDOM)e=this.div.getBoundingClientRect();else{var i=this.currentLayer,a=this.div,o=a.style.display;a.style.display="hidden",i.div.append(this.div),e=a.getBoundingClientRect(),a.remove(),a.style.display=o}this.width=e.width/r,this.height=e.height/n}_defineProperty(_,"_freeTextDefaultContent",""),_defineProperty(_,"_l10nPromise",void 0),_defineProperty(_,"_internalPadding",0),_defineProperty(_,"_defaultColor",null),_defineProperty(_,"_defaultFontSize",10),_defineProperty(_,"_keyboardManager",new i.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],_.prototype.commitOrRemove]])),_defineProperty(_,"_type","freetext"),t.FreeTextEditor=_},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.InkEditor=void 0,Object.defineProperty(t,"fitCurve",{enumerable:!0,get:function(){return a.fitCurve}});var n=r(1),i=r(4),a=r(30),o=r(5),s=16,l=new WeakMap,u=new WeakMap,c=new WeakMap,f=new WeakMap,p=new WeakMap,h=new WeakMap,d=new WeakMap,v=new WeakMap,m=new WeakMap,y=new WeakMap,g=new WeakMap,_=new WeakMap,b=new WeakMap,x=new WeakMap,w=new WeakSet,S=new WeakSet,P=new WeakSet,k=new WeakSet,E=new WeakSet,C=new WeakSet,A=new WeakSet,T=new WeakSet,O=new WeakSet,M=new WeakSet,I=new WeakSet,F=new WeakSet,R=new WeakSet,D=new WeakSet,j=new WeakSet,L=new WeakSet,N=new WeakSet,z=new WeakSet,B=new WeakSet,Z=new WeakSet,U=new WeakSet,V=new WeakSet,G=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n;return _classCallCheck(this,r),n=t.call(this,_objectSpread(_objectSpread({},e),{},{name:"inkEditor"})),_classPrivateMethodInitSpec(_assertThisInitialized(n),V),_classPrivateMethodInitSpec(_assertThisInitialized(n),U),_classPrivateMethodInitSpec(_assertThisInitialized(n),Z),_classPrivateMethodInitSpec(_assertThisInitialized(n),B),_classPrivateMethodInitSpec(_assertThisInitialized(n),z),_classPrivateMethodInitSpec(_assertThisInitialized(n),N),_classPrivateMethodInitSpec(_assertThisInitialized(n),L),_classPrivateMethodInitSpec(_assertThisInitialized(n),j),_classPrivateMethodInitSpec(_assertThisInitialized(n),D),_classPrivateMethodInitSpec(_assertThisInitialized(n),R),_classPrivateMethodInitSpec(_assertThisInitialized(n),F),_classPrivateMethodInitSpec(_assertThisInitialized(n),I),_classPrivateMethodInitSpec(_assertThisInitialized(n),M),_classPrivateMethodInitSpec(_assertThisInitialized(n),O),_classPrivateMethodInitSpec(_assertThisInitialized(n),T),_classPrivateMethodInitSpec(_assertThisInitialized(n),A),_classPrivateMethodInitSpec(_assertThisInitialized(n),C),_classPrivateMethodInitSpec(_assertThisInitialized(n),E),_classPrivateMethodInitSpec(_assertThisInitialized(n),k),_classPrivateMethodInitSpec(_assertThisInitialized(n),P),_classPrivateMethodInitSpec(_assertThisInitialized(n),S),_classPrivateMethodInitSpec(_assertThisInitialized(n),w),_classPrivateFieldInitSpec(_assertThisInitialized(n),l,{writable:!0,value:0}),_classPrivateFieldInitSpec(_assertThisInitialized(n),u,{writable:!0,value:0}),_classPrivateFieldInitSpec(_assertThisInitialized(n),c,{writable:!0,value:0}),_classPrivateFieldInitSpec(_assertThisInitialized(n),f,{writable:!0,value:n.canvasPointermove.bind(_assertThisInitialized(n))}),_classPrivateFieldInitSpec(_assertThisInitialized(n),p,{writable:!0,value:n.canvasPointerleave.bind(_assertThisInitialized(n))}),_classPrivateFieldInitSpec(_assertThisInitialized(n),h,{writable:!0,value:n.canvasPointerup.bind(_assertThisInitialized(n))}),_classPrivateFieldInitSpec(_assertThisInitialized(n),d,{writable:!0,value:n.canvasPointerdown.bind(_assertThisInitialized(n))}),_classPrivateFieldInitSpec(_assertThisInitialized(n),v,{writable:!0,value:!1}),_classPrivateFieldInitSpec(_assertThisInitialized(n),m,{writable:!0,value:!1}),_classPrivateFieldInitSpec(_assertThisInitialized(n),y,{writable:!0,value:null}),_classPrivateFieldInitSpec(_assertThisInitialized(n),g,{writable:!0,value:null}),_classPrivateFieldInitSpec(_assertThisInitialized(n),_,{writable:!0,value:0}),_classPrivateFieldInitSpec(_assertThisInitialized(n),b,{writable:!0,value:0}),_classPrivateFieldInitSpec(_assertThisInitialized(n),x,{writable:!0,value:null}),n.color=e.color||null,n.thickness=e.thickness||null,n.opacity=e.opacity||null,n.paths=[],n.bezierPath2D=[],n.currentPath=[],n.scaleFactor=1,n.translationX=n.translationY=0,n.x=0,n.y=0,n}return _createClass(r,[{key:"updateParams",value:function(e,t){switch(e){case n.AnnotationEditorParamsType.INK_THICKNESS:_classPrivateMethodGet(this,w,W).call(this,t);break;case n.AnnotationEditorParamsType.INK_COLOR:_classPrivateMethodGet(this,S,q).call(this,t);break;case n.AnnotationEditorParamsType.INK_OPACITY:_classPrivateMethodGet(this,P,H).call(this,t)}}},{key:"propertiesToUpdate",get:function(){var e;return[[n.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||r._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,this.color||r._defaultColor||i.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(null!==(e=this.opacity)&&void 0!==e?e:r._defaultOpacity))]]}},{key:"rebuild",value:function(){_get(_getPrototypeOf(r.prototype),"rebuild",this).call(this),null!==this.div&&(this.canvas||(_classPrivateMethodGet(this,I,te).call(this),_classPrivateMethodGet(this,F,re).call(this)),this.isAttachedToDOM||(this.parent.add(this),_classPrivateMethodGet(this,R,ne).call(this)),_classPrivateMethodGet(this,U,pe).call(this))}},{key:"remove",value:function(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,_classPrivateFieldGet(this,g).disconnect(),_classPrivateFieldSet(this,g,null),_get(_getPrototypeOf(r.prototype),"remove",this).call(this))}},{key:"setParent",value:function(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&null===e&&this._uiManager.addShouldRescale(this),_get(_getPrototypeOf(r.prototype),"setParent",this).call(this,e)}},{key:"onScaleChanging",value:function(){var e=_slicedToArray(this.parentDimensions,2),t=e[0],r=e[1],n=this.width*t,i=this.height*r;this.setDimensions(n,i)}},{key:"enableEditMode",value:function(){_classPrivateFieldGet(this,v)||null===this.canvas||(_get(_getPrototypeOf(r.prototype),"enableEditMode",this).call(this),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",_classPrivateFieldGet(this,d)),this.canvas.addEventListener("pointerup",_classPrivateFieldGet(this,h)))}},{key:"disableEditMode",value:function(){this.isInEditMode()&&null!==this.canvas&&(_get(_getPrototypeOf(r.prototype),"disableEditMode",this).call(this),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",_classPrivateFieldGet(this,d)),this.canvas.removeEventListener("pointerup",_classPrivateFieldGet(this,h)))}},{key:"onceAdded",value:function(){this.div.draggable=!this.isEmpty()}},{key:"isEmpty",value:function(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}},{key:"commit",value:function(){_classPrivateFieldGet(this,v)||(_get(_getPrototypeOf(r.prototype),"commit",this).call(this),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),_classPrivateFieldSet(this,v,!0),this.div.classList.add("disabled"),_classPrivateMethodGet(this,U,pe).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}},{key:"focusin",value:function(e){_get(_getPrototypeOf(r.prototype),"focusin",this).call(this,e),this.enableEditMode()}},{key:"canvasPointerdown",value:function(e){0===e.button&&this.isInEditMode()&&!_classPrivateFieldGet(this,v)&&(this.setInForeground(),"mouse"!==e.type&&this.div.focus(),e.stopPropagation(),this.canvas.addEventListener("pointerleave",_classPrivateFieldGet(this,p)),this.canvas.addEventListener("pointermove",_classPrivateFieldGet(this,f)),_classPrivateMethodGet(this,C,K).call(this,e.offsetX,e.offsetY))}},{key:"canvasPointermove",value:function(e){e.stopPropagation(),_classPrivateMethodGet(this,A,$).call(this,e.offsetX,e.offsetY)}},{key:"canvasPointerup",value:function(e){0===e.button&&this.isInEditMode()&&0!==this.currentPath.length&&(e.stopPropagation(),_classPrivateMethodGet(this,M,ee).call(this,e),this.setInBackground())}},{key:"canvasPointerleave",value:function(e){_classPrivateMethodGet(this,M,ee).call(this,e),this.setInBackground()}},{key:"render",value:function(){var e,t,n=this;if(this.div)return this.div;this.width&&(e=this.x,t=this.y),_get(_getPrototypeOf(r.prototype),"render",this).call(this),r._l10nPromise.get("editor_ink2_aria_label").then((function(e){var t;return null===(t=n.div)||void 0===t?void 0:t.setAttribute("aria-label",e)}));var i=_classPrivateMethodGet(this,k,Y).call(this),a=_slicedToArray(i,4),o=a[0],s=a[1],l=a[2],u=a[3];if(this.setAt(o,s,0,0),this.setDims(l,u),_classPrivateMethodGet(this,I,te).call(this),this.width){var c=_slicedToArray(this.parentDimensions,2),f=c[0],p=c[1];this.setAt(e*f,t*p,this.width*f,this.height*p),_classPrivateFieldSet(this,m,!0),_classPrivateMethodGet(this,R,ne).call(this),this.setDims(this.width*f,this.height*p),_classPrivateMethodGet(this,O,Q).call(this),_classPrivateMethodGet(this,V,he).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return _classPrivateMethodGet(this,F,re).call(this),this.div}},{key:"setDimensions",value:function(e,t){var r=Math.round(e),n=Math.round(t);if(_classPrivateFieldGet(this,_)!==r||_classPrivateFieldGet(this,b)!==n){_classPrivateFieldSet(this,_,r),_classPrivateFieldSet(this,b,n),this.canvas.style.visibility="hidden",_classPrivateFieldGet(this,l)&&Math.abs(_classPrivateFieldGet(this,l)-e/t)>.01&&(t=Math.ceil(e/_classPrivateFieldGet(this,l)),this.setDims(e,t));var i=_slicedToArray(this.parentDimensions,2),a=i[0],o=i[1];this.width=e/a,this.height=t/o,_classPrivateFieldGet(this,v)&&_classPrivateMethodGet(this,D,ie).call(this,e,t),_classPrivateMethodGet(this,R,ne).call(this),_classPrivateMethodGet(this,O,Q).call(this),this.canvas.style.visibility="visible",this.fixDims()}}},{key:"serialize",value:function(){if(this.isEmpty())return null;var e=this.getRect(0,0),t=this.rotation%180===0?e[3]-e[1]:e[2]-e[0],r=i.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:n.AnnotationEditorType.INK,color:r,thickness:this.thickness,opacity:this.opacity,paths:_classPrivateMethodGet(this,L,se).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:e,rotation:this.rotation}}}],[{key:"initialize",value:function(e){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map((function(t){return[t,e.get(t)]})))}},{key:"updateDefaultParams",value:function(e,t){switch(e){case n.AnnotationEditorParamsType.INK_THICKNESS:r._defaultThickness=t;break;case n.AnnotationEditorParamsType.INK_COLOR:r._defaultColor=t;break;case n.AnnotationEditorParamsType.INK_OPACITY:r._defaultOpacity=t/100}}},{key:"defaultPropertiesToUpdate",get:function(){return[[n.AnnotationEditorParamsType.INK_THICKNESS,r._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,r._defaultColor||i.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*r._defaultOpacity)]]}},{key:"deserialize",value:function(e,t,i){var a,o=_get(_getPrototypeOf(r),"deserialize",this).call(this,e,t,i);o.thickness=e.thickness,o.color=(a=n.Util).makeHexColor.apply(a,_toConsumableArray(e.color)),o.opacity=e.opacity;var f=_slicedToArray(o.pageDimensions,2),p=f[0],h=f[1],d=o.width*p,m=o.height*h,y=o.parentScale,g=e.thickness/2;_classPrivateFieldSet(o,l,d/m),_classPrivateFieldSet(o,v,!0),_classPrivateFieldSet(o,_,Math.round(d)),_classPrivateFieldSet(o,b,Math.round(m));var x,w=_createForOfIteratorHelper(e.paths);try{for(w.s();!(x=w.n()).done;){var S=x.value.bezier,P=[];o.paths.push(P);for(var k=y*(S[0]-g),E=y*(m-S[1]-g),C=2,A=S.length;C<A;C+=6){var T=y*(S[C]-g),O=y*(m-S[C+1]-g),M=y*(S[C+2]-g),I=y*(m-S[C+3]-g),F=y*(S[C+4]-g),R=y*(m-S[C+5]-g);P.push([[k,E],[T,O],[M,I],[F,R]]),k=F,E=R}var j=_classStaticPrivateMethodGet(this,r,oe).call(this,P);o.bezierPath2D.push(j)}}catch(N){w.e(N)}finally{w.f()}var L=_classPrivateMethodGet(o,B,ce).call(o);return _classPrivateFieldSet(o,c,Math.max(s,L[2]-L[0])),_classPrivateFieldSet(o,u,Math.max(s,L[3]-L[1])),_classPrivateMethodGet(o,D,ie).call(o,d,m),o}}]),r}(i.AnnotationEditor);function W(e){var t=this,r=this.thickness;this.addCommands({cmd:function(){t.thickness=e,_classPrivateMethodGet(t,U,pe).call(t)},undo:function(){t.thickness=r,_classPrivateMethodGet(t,U,pe).call(t)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function q(e){var t=this,r=this.color;this.addCommands({cmd:function(){t.color=e,_classPrivateMethodGet(t,O,Q).call(t)},undo:function(){t.color=r,_classPrivateMethodGet(t,O,Q).call(t)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function H(e){var t=this;e/=100;var r=this.opacity;this.addCommands({cmd:function(){t.opacity=e,_classPrivateMethodGet(t,O,Q).call(t)},undo:function(){t.opacity=r,_classPrivateMethodGet(t,O,Q).call(t)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function Y(){var e=this.parentRotation,t=_slicedToArray(this.parentDimensions,2),r=t[0],n=t[1];switch(e){case 90:return[0,n,n,r];case 180:return[r,n,r,n];case 270:return[r,0,n,r];default:return[0,0,r,n]}}function X(){var e=this.ctx,t=this.color,r=this.opacity,n=this.thickness,i=this.parentScale,a=this.scaleFactor;e.lineWidth=n*i/a,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle="".concat(t).concat((0,o.opacityToHex)(r))}function K(e,t){var r,n=this;this.isEditing=!0,_classPrivateFieldGet(this,m)||(_classPrivateFieldSet(this,m,!0),_classPrivateMethodGet(this,R,ne).call(this),this.thickness||(this.thickness=G._defaultThickness),this.color||(this.color=G._defaultColor||i.AnnotationEditor._defaultLineColor),null!==(r=this.opacity)&&void 0!==r||(this.opacity=G._defaultOpacity)),this.currentPath.push([e,t]),_classPrivateFieldSet(this,y,null),_classPrivateMethodGet(this,E,X).call(this),this.ctx.beginPath(),this.ctx.moveTo(e,t),_classPrivateFieldSet(this,x,(function(){var e;_classPrivateFieldGet(n,x)&&(_classPrivateFieldGet(n,y)&&(n.isEmpty()?(n.ctx.setTransform(1,0,0,1,0,0),n.ctx.clearRect(0,0,n.canvas.width,n.canvas.height)):_classPrivateMethodGet(n,O,Q).call(n),(e=n.ctx).lineTo.apply(e,_toConsumableArray(_classPrivateFieldGet(n,y))),_classPrivateFieldSet(n,y,null),n.ctx.stroke()),window.requestAnimationFrame(_classPrivateFieldGet(n,x)))})),window.requestAnimationFrame(_classPrivateFieldGet(this,x))}function $(e,t){var r=this.currentPath.at(-1),n=_slicedToArray(r,2),i=n[0],a=n[1];e===i&&t===a||(this.currentPath.push([e,t]),_classPrivateFieldSet(this,y,[e,t]))}function J(e,t){var r=this;this.ctx.closePath(),_classPrivateFieldSet(this,x,null),e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height);var n,i=this.currentPath.at(-1),o=_slicedToArray(i,2),s=o[0],l=o[1];if(e===s&&t===l||this.currentPath.push([e,t]),1!==this.currentPath.length)n=(0,a.fitCurve)(this.currentPath,30,null);else{var u=[e,t];n=[[u,u.slice(),u.slice(),u]]}var c=_classStaticPrivateMethodGet(G,G,oe).call(G,n);this.currentPath.length=0,this.addCommands({cmd:function(){r.paths.push(n),r.bezierPath2D.push(c),r.rebuild()},undo:function(){r.paths.pop(),r.bezierPath2D.pop(),0===r.paths.length?r.remove():(r.canvas||(_classPrivateMethodGet(r,I,te).call(r),_classPrivateMethodGet(r,F,re).call(r)),_classPrivateMethodGet(r,U,pe).call(r))},mustExec:!0})}function Q(){if(this.isEmpty())_classPrivateMethodGet(this,j,ae).call(this);else{_classPrivateMethodGet(this,E,X).call(this);var e=this.canvas,t=this.ctx;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),_classPrivateMethodGet(this,j,ae).call(this);var r,n=_createForOfIteratorHelper(this.bezierPath2D);try{for(n.s();!(r=n.n()).done;){var i=r.value;t.stroke(i)}}catch(a){n.e(a)}finally{n.f()}}}function ee(e){_classPrivateMethodGet(this,T,J).call(this,e.offsetX,e.offsetY),this.canvas.removeEventListener("pointerleave",_classPrivateFieldGet(this,p)),this.canvas.removeEventListener("pointermove",_classPrivateFieldGet(this,f)),this.addToAnnotationStorage()}function te(){var e=this;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",G._l10nPromise.get("editor_ink_canvas_aria_label").then((function(t){var r;return null===(r=e.canvas)||void 0===r?void 0:r.setAttribute("aria-label",t)})),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function re(){var e=this;_classPrivateFieldSet(this,g,new ResizeObserver((function(t){var r=t[0].contentRect;r.width&&r.height&&e.setDimensions(r.width,r.height)}))),_classPrivateFieldGet(this,g).observe(this.div)}function ne(){if(_classPrivateFieldGet(this,m)){var e=_slicedToArray(this.parentDimensions,2),t=e[0],r=e[1];this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*r),_classPrivateMethodGet(this,j,ae).call(this)}}function ie(e,t){var r=_classPrivateMethodGet(this,Z,fe).call(this),n=(e-r)/_classPrivateFieldGet(this,c),i=(t-r)/_classPrivateFieldGet(this,u);this.scaleFactor=Math.min(n,i)}function ae(){var e=_classPrivateMethodGet(this,Z,fe).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}function oe(e){for(var t=new Path2D,r=0,n=e.length;r<n;r++){var i=_slicedToArray(e[r],4),a=i[0],o=i[1],s=i[2],l=i[3];0===r&&t.moveTo.apply(t,_toConsumableArray(a)),t.bezierCurveTo(o[0],o[1],s[0],s[1],l[0],l[1])}return t}function se(e,t,r,n){var i,a,o,s=[],l=this.thickness/2,u=_createForOfIteratorHelper(this.paths);try{for(u.s();!(o=u.n()).done;){var c=o.value;i=[],a=[];for(var f=0,p=c.length;f<p;f++){var h=_slicedToArray(c[f],4),d=h[0],v=h[1],m=h[2],y=h[3],g=e*(d[0]+t)+l,_=n-e*(d[1]+r)-l,b=e*(v[0]+t)+l,x=n-e*(v[1]+r)-l,w=e*(m[0]+t)+l,S=n-e*(m[1]+r)-l,P=e*(y[0]+t)+l,k=n-e*(y[1]+r)-l;0===f&&(i.push(g,_),a.push(g,_)),i.push(b,x,w,S,P,k),_classPrivateMethodGet(this,N,le).call(this,g,_,b,x,w,S,P,k,4,a)}s.push({bezier:i,points:a})}}catch(E){u.e(E)}finally{u.f()}return s}function le(e,t,r,n,i,a,o,s,l,u){if(_classPrivateMethodGet(this,z,ue).call(this,e,t,r,n,i,a,o,s))u.push(o,s);else{for(var c=1;c<l-1;c++){var f=c/l,p=1-f,h=f*e+p*r,d=f*t+p*n,v=f*r+p*i,m=f*n+p*a;h=f*(h=f*h+p*v)+p*(v=f*v+p*(f*i+p*o)),d=f*(d=f*d+p*m)+p*(m=f*m+p*(f*a+p*s)),u.push(h,d)}u.push(o,s)}}function ue(e,t,r,n,i,a,o,s){var l=Math.pow(3*r-2*e-o,2),u=Math.pow(3*n-2*t-s,2),c=Math.pow(3*i-e-2*o,2),f=Math.pow(3*a-t-2*s,2);return Math.max(l,c)+Math.max(u,f)<=10}function ce(){var e,t=1/0,r=-1/0,i=1/0,a=-1/0,o=_createForOfIteratorHelper(this.paths);try{for(o.s();!(e=o.n()).done;){var s,l=e.value,u=_createForOfIteratorHelper(l);try{for(u.s();!(s=u.n()).done;){var c,f=_slicedToArray(s.value,4),p=f[0],h=f[1],d=f[2],v=f[3],m=(c=n.Util).bezierBoundingBox.apply(c,_toConsumableArray(p).concat(_toConsumableArray(h),_toConsumableArray(d),_toConsumableArray(v)));t=Math.min(t,m[0]),i=Math.min(i,m[1]),r=Math.max(r,m[2]),a=Math.max(a,m[3])}}catch(y){u.e(y)}finally{u.f()}}}catch(y){o.e(y)}finally{o.f()}return[t,i,r,a]}function fe(){return _classPrivateFieldGet(this,v)?Math.ceil(this.thickness*this.parentScale):0}function pe(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isEmpty())if(_classPrivateFieldGet(this,v)){var t=_classPrivateMethodGet(this,B,ce).call(this),r=_classPrivateMethodGet(this,Z,fe).call(this);_classPrivateFieldSet(this,c,Math.max(s,t[2]-t[0])),_classPrivateFieldSet(this,u,Math.max(s,t[3]-t[1]));var n=Math.ceil(r+_classPrivateFieldGet(this,c)*this.scaleFactor),i=Math.ceil(r+_classPrivateFieldGet(this,u)*this.scaleFactor),a=_slicedToArray(this.parentDimensions,2),o=a[0],f=a[1];this.width=n/o,this.height=i/f,_classPrivateFieldSet(this,l,n/i),_classPrivateMethodGet(this,V,he).call(this);var p=this.translationX,h=this.translationY;this.translationX=-t[0],this.translationY=-t[1],_classPrivateMethodGet(this,R,ne).call(this),_classPrivateMethodGet(this,O,Q).call(this),_classPrivateFieldSet(this,_,n),_classPrivateFieldSet(this,b,i),this.setDims(n,i);var d=e?r/this.scaleFactor/2:0;this.translate(p-this.translationX-d,h-this.translationY-d)}else _classPrivateMethodGet(this,O,Q).call(this)}function he(){var e=this.div.style;_classPrivateFieldGet(this,l)>=1?(e.minHeight="".concat(s,"px"),e.minWidth="".concat(Math.round(_classPrivateFieldGet(this,l)*s),"px")):(e.minWidth="".concat(s,"px"),e.minHeight="".concat(Math.round(s/_classPrivateFieldGet(this,l)),"px"))}_defineProperty(G,"_defaultColor",null),_defineProperty(G,"_defaultOpacity",1),_defineProperty(G,"_defaultThickness",1),_defineProperty(G,"_l10nPromise",void 0),_defineProperty(G,"_type","ink"),t.InkEditor=G},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.fitCurve=void 0;var n=r(31);t.fitCurve=n},function(e){function t(e,i,a,o,s){var u,c,f,p,h,d,v,m,y,g,_,b,x;if(2===e.length)return b=l.vectorLen(l.subtract(e[0],e[1]))/3,[u=[e[0],l.addArrays(e[0],l.mulItems(i,b)),l.addArrays(e[1],l.mulItems(a,b)),e[1]]];c=function(e){var t,r,n,i=[];return e.forEach((function(e,a){t=a?r+l.vectorLen(l.subtract(e,n)):0,i.push(t),r=t,n=e})),i=i.map((function(e){return e/r}))}(e);var w=r(e,c,c,i,a,s),S=_slicedToArray(w,3);if(u=S[0],p=S[1],d=S[2],0===p||p<o)return[u];if(p<o*o)for(f=c,h=p,v=d,x=0;x<20;x++){var P=r(e,c,f=n(u,e,f),i,a,s),k=_slicedToArray(P,3);if(u=k[0],p=k[1],d=k[2],p<o)return[u];if(d===v){var E=p/h;if(E>.9999&&E<1.0001)break}h=p,v=d}if(_=[],(m=l.subtract(e[d-1],e[d+1])).every((function(e){return 0===e}))){var C=[-(m=l.subtract(e[d-1],e[d]))[1],m[0]];m[0]=C[0],m[1]=C[1]}return y=l.normalize(m),g=l.mulItems(y,-1),_=(_=_.concat(t(e.slice(0,d+1),i,y,o,s))).concat(t(e.slice(d),g,a,o,s))}function r(e,t,r,n,i,s){var c,f,p;c=function(e,t,r,n){var i,a,o,s,c,f,p,h,d,v,m,y,g,_,b,x,w,S=e[0],P=e[e.length-1];for(i=[S,null,null,P],a=l.zeros_Xx2x2(t.length),g=0,_=t.length;g<_;g++)w=1-(x=t[g]),(o=a[g])[0]=l.mulItems(r,3*x*(w*w)),o[1]=l.mulItems(n,3*w*(x*x));for(s=[[0,0],[0,0]],c=[0,0],g=0,_=e.length;g<_;g++)x=t[g],o=a[g],s[0][0]+=l.dot(o[0],o[0]),s[0][1]+=l.dot(o[0],o[1]),s[1][0]+=l.dot(o[0],o[1]),s[1][1]+=l.dot(o[1],o[1]),b=l.subtract(e[g],u.q([S,S,P,P],x)),c[0]+=l.dot(o[0],b),c[1]+=l.dot(o[1],b);return f=s[0][0]*s[1][1]-s[1][0]*s[0][1],p=s[0][0]*c[1]-s[1][0]*c[0],h=c[0]*s[1][1]-c[1]*s[0][1],d=0===f?0:h/f,v=0===f?0:p/f,y=l.vectorLen(l.subtract(S,P)),d<(m=1e-6*y)||v<m?(i[1]=l.addArrays(S,l.mulItems(r,y/3)),i[2]=l.addArrays(P,l.mulItems(n,y/3))):(i[1]=l.addArrays(S,l.mulItems(r,d)),i[2]=l.addArrays(P,l.mulItems(n,v))),i}(e,r,n,i);var h=function(e,t,r){var n,i,s,c,f,p,h,d;i=0,s=Math.floor(e.length/2);var v=a(t,10);for(f=0,p=e.length;f<p;f++)h=e[f],d=o(0,r[f],v,10),(n=(c=l.subtract(u.q(t,d),h))[0]*c[0]+c[1]*c[1])>i&&(i=n,s=f);return[i,s]}(e,c,t),d=_slicedToArray(h,2);return f=d[0],p=d[1],s&&s({bez:c,points:e,params:t,maxErr:f,maxPoint:p}),[c,f,p]}function n(e,t,r){return r.map((function(r,n){return i(e,t[n],r)}))}function i(e,t,r){var n=l.subtract(u.q(e,r),t),i=u.qprime(e,r),a=l.mulMatrix(n,i),o=l.sum(l.squareItems(i))+2*l.mulMatrix(n,u.qprimeprime(e,r));return 0===o?r:r-a/o}var a=function(e,t){for(var r,n=[0],i=e[0],a=0,o=1;o<=t;o++)r=u.q(e,o/t),a+=l.vectorLen(l.subtract(r,i)),n.push(a),i=r;return n=n.map((function(e){return e/a}))};function o(e,t,r,n){if(t<0)return 0;if(t>1)return 1;for(var i,a,o,s,l=1;l<=n;l++)if(t<=r[l]){o=(l-1)/n,a=l/n,s=(t-(i=r[l-1]))/(r[l]-i)*(a-o)+o;break}return s}function s(e,t){return l.normalize(l.subtract(e,t))}var l=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"zeros_Xx2x2",value:function(e){for(var t=[];e--;)t.push([0,0]);return t}},{key:"mulItems",value:function(e,t){return e.map((function(e){return e*t}))}},{key:"mulMatrix",value:function(e,t){return e.reduce((function(e,r,n){return e+r*t[n]}),0)}},{key:"subtract",value:function(e,t){return e.map((function(e,r){return e-t[r]}))}},{key:"addArrays",value:function(e,t){return e.map((function(e,r){return e+t[r]}))}},{key:"addItems",value:function(e,t){return e.map((function(e){return e+t}))}},{key:"sum",value:function(e){return e.reduce((function(e,t){return e+t}))}},{key:"dot",value:function(t,r){return e.mulMatrix(t,r)}},{key:"vectorLen",value:function(e){return Math.hypot.apply(Math,_toConsumableArray(e))}},{key:"divItems",value:function(e,t){return e.map((function(e){return e/t}))}},{key:"squareItems",value:function(e){return e.map((function(e){return e*e}))}},{key:"normalize",value:function(e){return this.divItems(e,this.vectorLen(e))}}]),e}(),u=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"q",value:function(e,t){var r=1-t,n=l.mulItems(e[0],r*r*r),i=l.mulItems(e[1],3*r*r*t),a=l.mulItems(e[2],3*r*t*t),o=l.mulItems(e[3],t*t*t);return l.addArrays(l.addArrays(n,i),l.addArrays(a,o))}},{key:"qprime",value:function(e,t){var r=1-t,n=l.mulItems(l.subtract(e[1],e[0]),3*r*r),i=l.mulItems(l.subtract(e[2],e[1]),6*r*t),a=l.mulItems(l.subtract(e[3],e[2]),3*t*t);return l.addArrays(l.addArrays(n,i),a)}},{key:"qprimeprime",value:function(e,t){return l.addArrays(l.mulItems(l.addArrays(l.subtract(e[2],l.mulItems(e[1],2)),e[0]),6*(1-t)),l.mulItems(l.addArrays(l.subtract(e[3],l.mulItems(e[2],2)),e[1]),6*t))}}]),e}();e.exports=function(e,r,n){if(!Array.isArray(e))throw new TypeError("First argument should be an array");if(e.forEach((function(t){if(!Array.isArray(t)||t.some((function(e){return"number"!==typeof e}))||t.length!==e[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")})),(e=e.filter((function(t,r){return 0===r||!t.every((function(t,n){return t===e[r-1][n]}))}))).length<2)return[];var i=e.length,a=s(e[1],e[0]),o=s(e[i-2],e[i-1]);return t(e,a,o,r,n)},e.exports.fitCubic=t,e.exports.createTangent=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var n=r(1),i=r(6),a=r(3),o=r(33),s=r(34),l=1e3,u=new WeakSet;function c(e){return{width:e[2]-e[0],height:e[3]-e[1]}}var f=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e){switch(e.data.annotationType){case n.AnnotationType.LINK:return new v(e);case n.AnnotationType.TEXT:return new g(e);case n.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new b(e);case"Btn":return e.data.radioButton?new w(e):e.data.checkBox?new x(e):new S(e);case"Ch":return new P(e)}return new _(e);case n.AnnotationType.POPUP:return new k(e);case n.AnnotationType.FREETEXT:return new C(e);case n.AnnotationType.LINE:return new A(e);case n.AnnotationType.SQUARE:return new T(e);case n.AnnotationType.CIRCLE:return new O(e);case n.AnnotationType.POLYLINE:return new M(e);case n.AnnotationType.CARET:return new F(e);case n.AnnotationType.INK:return new R(e);case n.AnnotationType.POLYGON:return new I(e);case n.AnnotationType.HIGHLIGHT:return new D(e);case n.AnnotationType.UNDERLINE:return new j(e);case n.AnnotationType.SQUIGGLY:return new L(e);case n.AnnotationType.STRIKEOUT:return new N(e);case n.AnnotationType.STAMP:return new z(e);case n.AnnotationType.FILEATTACHMENT:return new B(e);default:return new p(e)}}}]),e}(),p=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.isRenderable,i=void 0!==n&&n,a=r.ignoreBorder,o=void 0!==a&&a,s=r.createQuadrilaterals,l=void 0!==s&&s;_classCallCheck(this,e),this.isRenderable=i,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,i&&(this.container=this._createContainer(o)),l&&(this.quadrilaterals=this._createQuadrilaterals(o))}return _createClass(e,[{key:"_createContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.data,r=this.page,i=this.viewport,a=document.createElement("section");a.setAttribute("data-annotation-id",t.id),t.noRotate&&a.classList.add("norotate");var o=i.rawDims,s=o.pageWidth,l=o.pageHeight,u=o.pageX,f=o.pageY,p=c(t.rect),h=p.width,d=p.height,v=n.Util.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]);if(!e&&t.borderStyle.width>0){a.style.borderWidth="".concat(t.borderStyle.width,"px");var m=t.borderStyle.horizontalCornerRadius,y=t.borderStyle.verticalCornerRadius;if(m>0||y>0){var g="calc(".concat(m,"px * var(--scale-factor)) / calc(").concat(y,"px * var(--scale-factor))");a.style.borderRadius=g}else if(this instanceof w){var _="calc(".concat(h,"px * var(--scale-factor)) / calc(").concat(d,"px * var(--scale-factor))");a.style.borderRadius=_}switch(t.borderStyle.style){case n.AnnotationBorderStyleType.SOLID:a.style.borderStyle="solid";break;case n.AnnotationBorderStyleType.DASHED:a.style.borderStyle="dashed";break;case n.AnnotationBorderStyleType.BEVELED:(0,n.warn)("Unimplemented border style: beveled");break;case n.AnnotationBorderStyleType.INSET:(0,n.warn)("Unimplemented border style: inset");break;case n.AnnotationBorderStyleType.UNDERLINE:a.style.borderBottomStyle="solid"}var b=t.borderColor||null;b?a.style.borderColor=n.Util.makeHexColor(0|b[0],0|b[1],0|b[2]):a.style.borderWidth=0}a.style.left="".concat(100*(v[0]-u)/s,"%"),a.style.top="".concat(100*(v[1]-f)/l,"%");var x=t.rotation;return t.hasOwnCanvas||0===x?(a.style.width="".concat(100*h/s,"%"),a.style.height="".concat(100*d/l,"%")):this.setRotation(x,a),a}},{key:"setRotation",value:function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container,i=this.viewport.rawDims,a=i.pageWidth,o=i.pageHeight,s=c(this.data.rect),l=s.width,u=s.height;e%180===0?(t=100*l/a,r=100*u/o):(t=100*u/a,r=100*l/o),n.style.width="".concat(t,"%"),n.style.height="".concat(r,"%"),n.setAttribute("data-main-rotation",(360-e)%360)}},{key:"_commonActions",get:function(){var e=this,t=function(e,t,r){var n=r.detail[e];r.target.style[t]=o.ColorConverters["".concat(n[0],"_HTML")](n.slice(1))};return(0,n.shadow)(this,"_commonActions",{display:function(t){var r=t.detail.display%2===1;e.container.style.visibility=r?"hidden":"visible",e.annotationStorage.setValue(e.data.id,{hidden:r,print:0===t.detail.display||3===t.detail.display})},print:function(t){e.annotationStorage.setValue(e.data.id,{print:t.detail.print})},hidden:function(t){e.container.style.visibility=t.detail.hidden?"hidden":"visible",e.annotationStorage.setValue(e.data.id,{hidden:t.detail.hidden})},focus:function(e){setTimeout((function(){return e.target.focus({preventScroll:!1})}),0)},userName:function(e){e.target.title=e.detail.userName},readonly:function(e){e.detail.readonly?e.target.setAttribute("readonly",""):e.target.removeAttribute("readonly")},required:function(t){e._setRequired(t.target,t.detail.required)},bgColor:function(e){t("bgColor","backgroundColor",e)},fillColor:function(e){t("fillColor","backgroundColor",e)},fgColor:function(e){t("fgColor","color",e)},textColor:function(e){t("textColor","color",e)},borderColor:function(e){t("borderColor","borderColor",e)},strokeColor:function(e){t("strokeColor","borderColor",e)},rotation:function(t){var r=t.detail.rotation;e.setRotation(r),e.annotationStorage.setValue(e.data.id,{rotation:r})}})}},{key:"_dispatchEventFromSandbox",value:function(e,t){for(var r=this._commonActions,n=0,i=Object.keys(t.detail);n<i.length;n++){var a=i[n],o=e[a]||r[a];null===o||void 0===o||o(t)}}},{key:"_setDefaultPropertiesFromJS",value:function(e){if(this.enableScripting){var t=this.annotationStorage.getRawValue(this.data.id);if(t)for(var r=this._commonActions,n=0,i=Object.entries(t);n<i.length;n++){var a=_slicedToArray(i[n],2),o=a[0],s=a[1],l=r[o];l&&(l({detail:_defineProperty({},o,s),target:e}),delete t[o])}}}},{key:"_createQuadrilaterals",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.data.quadPoints)return null;var t,r=[],n=this.data.rect,i=_createForOfIteratorHelper(this.data.quadPoints);try{for(i.s();!(t=i.n()).done;){var a=t.value;this.data.rect=[a[2].x,a[2].y,a[1].x,a[1].y],r.push(this._createContainer(e))}}catch(o){i.e(o)}finally{i.f()}return this.data.rect=n,r}},{key:"_createPopup",value:function(e,t){var r=this.container;this.quadrilaterals&&(e||(e=this.quadrilaterals),r=this.quadrilaterals[0]),e||((e=document.createElement("div")).classList.add("popupTriggerArea"),r.append(e));var n=new E({container:r,trigger:e,color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,hideWrapper:!0}).render();n.style.left="100%",r.append(n)}},{key:"_renderQuadrilaterals",value:function(e){var t,r=_createForOfIteratorHelper(this.quadrilaterals);try{for(r.s();!(t=r.n()).done;)t.value.classList.add(e)}catch(n){r.e(n)}finally{r.f()}return this.quadrilaterals}},{key:"render",value:function(){(0,n.unreachable)("Abstract method `AnnotationElement.render` called")}},{key:"_getElementsByName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=[];if(this._fieldObjects){var i=this._fieldObjects[e];if(i){var a,o=_createForOfIteratorHelper(i);try{for(o.s();!(a=o.n()).done;){var s=a.value,l=s.page,c=s.id,f=s.exportValues;if(-1!==l&&c!==t){var p="string"===typeof f?f:null,h=document.querySelector('[data-element-id="'.concat(c,'"]'));!h||u.has(h)?r.push({id:c,exportValue:p,domElement:h}):(0,n.warn)("_getElementsByName - element not allowed: ".concat(c))}}}catch(_){o.e(_)}finally{o.f()}}return r}var d,v=_createForOfIteratorHelper(document.getElementsByName(e));try{for(v.s();!(d=v.n()).done;){var m=d.value,y=m.exportValue,g=m.getAttribute("data-element-id");g!==t&&u.has(m)&&r.push({id:g,exportValue:y,domElement:m})}}catch(_){v.e(_)}finally{v.f()}return r}}]),e}(),h=new WeakSet,d=new WeakSet,v=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return _classCallCheck(this,r),n=t.call(this,e,{isRenderable:!0,ignoreBorder:!(null===i||void 0===i||!i.ignoreBorder),createQuadrilaterals:!0}),_classPrivateMethodInitSpec(_assertThisInitialized(n),d),_classPrivateMethodInitSpec(_assertThisInitialized(n),h),n.isTooltipOnly=e.data.isTooltipOnly,n}return _createClass(r,[{key:"render",value:function(){var e=this.data,t=this.linkService,r=document.createElement("a");r.setAttribute("data-element-id",e.id);var n=!1;return e.url?(t.addLinkAttributes(r,e.url,e.newWindow),n=!0):e.action?(this._bindNamedAction(r,e.action),n=!0):e.attachment?(this._bindAttachment(r,e.attachment),n=!0):e.setOCGState?(_classPrivateMethodGet(this,d,y).call(this,r,e.setOCGState),n=!0):e.dest?(this._bindLink(r,e.dest),n=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),n=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),n=!0):this.isTooltipOnly&&!n&&(this._bindLink(r,""),n=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((function(e,t){var n=0===t?r:r.cloneNode();return e.append(n),e})):(this.container.classList.add("linkAnnotation"),n&&this.container.append(r),this.container)}},{key:"_bindLink",value:function(e,t){var r=this;e.href=this.linkService.getDestinationHash(t),e.onclick=function(){return t&&r.linkService.goToDestination(t),!1},(t||""===t)&&_classPrivateMethodGet(this,h,m).call(this)}},{key:"_bindNamedAction",value:function(e,t){var r=this;e.href=this.linkService.getAnchorUrl(""),e.onclick=function(){return r.linkService.executeNamedAction(t),!1},_classPrivateMethodGet(this,h,m).call(this)}},{key:"_bindAttachment",value:function(e,t){var r=this;e.href=this.linkService.getAnchorUrl(""),e.onclick=function(){var e;return null===(e=r.downloadManager)||void 0===e||e.openOrDownloadData(r.container,t.content,t.filename),!1},_classPrivateMethodGet(this,h,m).call(this)}},{key:"_bindJSAction",value:function(e,t){var r=this;e.href=this.linkService.getAnchorUrl("");for(var n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]),i=function(){var i=o[a],s=n.get(i);if(!s)return"continue";e[s]=function(){var e;return null===(e=r.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:r,detail:{id:t.id,name:i}}),!1}},a=0,o=Object.keys(t.actions);a<o.length;a++)i();e.onclick||(e.onclick=function(){return!1}),_classPrivateMethodGet(this,h,m).call(this)}},{key:"_bindResetFormAction",value:function(e,t){var r=this,i=e.onclick;if(i||(e.href=this.linkService.getAnchorUrl("")),_classPrivateMethodGet(this,h,m).call(this),!this._fieldObjects)return(0,n.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(i||(e.onclick=function(){return!1}));e.onclick=function(){null===i||void 0===i||i();var e=t.fields,a=t.refs,o=t.include,s=[];if(0!==e.length||0!==a.length){var l,c=new Set(a),f=_createForOfIteratorHelper(e);try{for(f.s();!(l=f.n()).done;){var p,h=l.value,d=r._fieldObjects[h]||[],v=_createForOfIteratorHelper(d);try{for(v.s();!(p=v.n()).done;){var m=p.value.id;c.add(m)}}catch(L){v.e(L)}finally{v.f()}}}catch(L){f.e(L)}finally{f.f()}for(var y=0,g=Object.values(r._fieldObjects);y<g.length;y++){var _,b=g[y],x=_createForOfIteratorHelper(b);try{for(x.s();!(_=x.n()).done;){var w=_.value;c.has(w.id)===o&&s.push(w)}}catch(L){x.e(L)}finally{x.f()}}}else for(var S=0,P=Object.values(r._fieldObjects);S<P.length;S++){var k=P[S];s.push.apply(s,_toConsumableArray(k))}for(var E,C=r.annotationStorage,A=[],T=0,O=s;T<O.length;T++){var M=O[T],I=M.id;switch(A.push(I),M.type){case"text":var F=M.defaultValue||"";C.setValue(I,{value:F});break;case"checkbox":case"radiobutton":var R=M.defaultValue===M.exportValues;C.setValue(I,{value:R});break;case"combobox":case"listbox":var D=M.defaultValue||"";C.setValue(I,{value:D});break;default:continue}var j=document.querySelector('[data-element-id="'.concat(I,'"]'));j&&(u.has(j)?j.dispatchEvent(new Event("resetform")):(0,n.warn)("_bindResetFormAction - element not allowed: ".concat(I)))}return r.enableScripting&&(null===(E=r.linkService.eventBus)||void 0===E||E.dispatch("dispatcheventinsandbox",{source:r,detail:{id:"app",ids:A,name:"ResetForm"}})),!1}}}]),r}(p);function m(){this.container.setAttribute("data-internal-link","")}function y(e,t){var r=this;e.href=this.linkService.getAnchorUrl(""),e.onclick=function(){return r.linkService.executeSetOCGState(t),!1},_classPrivateMethodGet(this,h,m).call(this)}var g=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n,i,a;_classCallCheck(this,r);var o=!!(e.data.hasPopup||null!==(n=e.data.titleObj)&&void 0!==n&&n.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str||null!==(a=e.data.richText)&&void 0!==a&&a.str);return t.call(this,e,{isRenderable:o})}return _createClass(r,[{key:"render",value:function(){this.container.classList.add("textAnnotation");var e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.append(e),this.container}}]),r}(p),_=function(e){_inherits(r,e);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:"render",value:function(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}},{key:"showElementAndHideCanvas",value:function(e){var t;this.data.hasOwnCanvas&&("CANVAS"===(null===(t=e.previousSibling)||void 0===t?void 0:t.nodeName)&&(e.previousSibling.hidden=!0),e.hidden=!1)}},{key:"_getKeyModifier",value:function(e){var t=n.FeatureTest.platform,r=t.isWin,i=t.isMac;return r&&e.ctrlKey||i&&e.metaKey}},{key:"_setEventListener",value:function(e,t,r,n){var i=this;t.includes("mouse")?e.addEventListener(t,(function(e){var t;null===(t=i.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:i,detail:{id:i.data.id,name:r,value:n(e),shift:e.shiftKey,modifier:i._getKeyModifier(e)}})})):e.addEventListener(t,(function(e){var t;null===(t=i.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:i,detail:{id:i.data.id,name:r,value:n(e)}})}))}},{key:"_setEventListeners",value:function(e,t,r){var n,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var a,o=_slicedToArray(n.value,2),s=o[0],l=o[1];("Action"===l||null!==(a=this.data.actions)&&void 0!==a&&a[l])&&this._setEventListener(e,s,l,r)}}catch(u){i.e(u)}finally{i.f()}}},{key:"_setBackgroundColor",value:function(e){var t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":n.Util.makeHexColor(t[0],t[1],t[2])}},{key:"_setTextStyle",value:function(e){var t,r=this.data.defaultAppearanceData.fontColor,i=this.data.defaultAppearanceData.fontSize||9,a=e.style,o=function(e){return Math.round(10*e)/10};if(this.data.multiLine){var s=Math.abs(this.data.rect[3]-this.data.rect[1]-2),l=s/(Math.round(s/(n.LINE_FACTOR*i))||1);t=Math.min(i,o(l/n.LINE_FACTOR))}else{var u=Math.abs(this.data.rect[3]-this.data.rect[1]-2);t=Math.min(i,o(u/n.LINE_FACTOR))}a.fontSize="calc(".concat(t,"px * var(--scale-factor))"),a.color=n.Util.makeHexColor(r[0],r[1],r[2]),null!==this.data.textAlignment&&(a.textAlign=["left","center","right"][this.data.textAlignment])}},{key:"_setRequired",value:function(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}]),r}(p),b=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){_classCallCheck(this,r);var n=e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue;return t.call(this,e,{isRenderable:n})}return _createClass(r,[{key:"setPropertyOnSiblings",value:function(e,t,r,n){var i,a=this.annotationStorage,o=_createForOfIteratorHelper(this._getElementsByName(e.name,e.id));try{for(o.s();!(i=o.n()).done;){var s=i.value;s.domElement&&(s.domElement[t]=r),a.setValue(s.id,_defineProperty({},n,r))}}catch(l){o.e(l)}finally{o.f()}}},{key:"render",value:function(){var e=this,t=this.annotationStorage,r=this.data.id;this.container.classList.add("textWidgetAnnotation");var n=null;if(this.renderForms){var i=t.getValue(r,{value:this.data.fieldValue}),a=i.formattedValue||i.value||"",o=t.getValue(r,{charLimit:this.data.maxLen}).charLimit;o&&a.length>o&&(a=a.slice(0,o));var s={userValue:a,formattedValue:null,lastCommittedValue:null,commitKey:1};this.data.multiLine?((n=document.createElement("textarea")).textContent=a,this.data.doNotScroll&&(n.style.overflowY="hidden")):((n=document.createElement("input")).type="text",n.setAttribute("value",a),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),u.add(n),n.setAttribute("data-element-id",r),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=l,this._setRequired(n,this.data.required),o&&(n.maxLength=o),n.addEventListener("input",(function(i){t.setValue(r,{value:i.target.value}),e.setPropertyOnSiblings(n,"value",i.target.value,"value")})),n.addEventListener("resetform",(function(t){var r,i=null!==(r=e.data.defaultFieldValue)&&void 0!==r?r:"";n.value=s.userValue=i,s.formattedValue=null}));var c=function(e){var t=s.formattedValue;null!==t&&void 0!==t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var f;n.addEventListener("focus",(function(e){var t=e.target;s.userValue&&(t.value=s.userValue),s.lastCommittedValue=t.value,s.commitKey=1})),n.addEventListener("updatefromsandbox",(function(n){e.showElementAndHideCanvas(n.target);var i={value:function(e){var n;s.userValue=null!==(n=e.detail.value)&&void 0!==n?n:"",t.setValue(r,{value:s.userValue.toString()}),e.target.value=s.userValue},formattedValue:function(e){var n=e.detail.formattedValue;s.formattedValue=n,null!==n&&void 0!==n&&e.target!==document.activeElement&&(e.target.value=n),t.setValue(r,{formattedValue:n})},selRange:function(e){var t;(t=e.target).setSelectionRange.apply(t,_toConsumableArray(e.detail.selRange))},charLimit:function(n){var i,a=n.detail.charLimit,o=n.target;if(0!==a){o.setAttribute("maxLength",a);var l=s.userValue;!l||l.length<=a||(l=l.slice(0,a),o.value=s.userValue=l,t.setValue(r,{value:l}),null===(i=e.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:e,detail:{id:r,name:"Keystroke",value:l,willCommit:!0,commitKey:1,selStart:o.selectionStart,selEnd:o.selectionEnd}}))}else o.removeAttribute("maxLength")}};e._dispatchEventFromSandbox(i,n)})),n.addEventListener("keydown",(function(t){var n;s.commitKey=1;var i=-1;if("Escape"===t.key?i=0:"Enter"!==t.key||e.data.multiLine?"Tab"===t.key&&(s.commitKey=3):i=2,-1!==i){var a=t.target.value;s.lastCommittedValue!==a&&(s.lastCommittedValue=a,s.userValue=a,null===(n=e.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:e,detail:{id:r,name:"Keystroke",value:a,willCommit:!0,commitKey:i,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}))}}));var p=c;c=null,n.addEventListener("blur",(function(t){if(t.relatedTarget){var n,i=t.target.value;s.userValue=i,s.lastCommittedValue!==i&&(null===(n=e.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:e,detail:{id:r,name:"Keystroke",value:i,willCommit:!0,commitKey:s.commitKey,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}})),p(t)}})),null!==(f=this.data.actions)&&void 0!==f&&f.Keystroke&&n.addEventListener("beforeinput",(function(t){var n;s.lastCommittedValue=null;var i=t.data,a=t.target,o=a.value,l=a.selectionStart,u=a.selectionEnd,c=l,f=u;switch(t.inputType){case"deleteWordBackward":var p=o.substring(0,l).match(/\w*[^\w]*$/);p&&(c-=p[0].length);break;case"deleteWordForward":var h=o.substring(l).match(/^[^\w]*\w*/);h&&(f+=h[0].length);break;case"deleteContentBackward":l===u&&(c-=1);break;case"deleteContentForward":l===u&&(f+=1)}t.preventDefault(),null===(n=e.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:e,detail:{id:r,name:"Keystroke",value:o,change:i||"",willCommit:!1,selStart:c,selEnd:f}})})),this._setEventListeners(n,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(e){return e.target.value}))}if(c&&n.addEventListener("blur",c),this.data.comb){var h=(this.data.rect[2]-this.data.rect[0])/o;n.classList.add("comb"),n.style.letterSpacing="calc(".concat(h,"px * var(--scale-factor) - 1ch)")}}else(n=document.createElement("div")).textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell";return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}]),r}(_),x=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){return _classCallCheck(this,r),t.call(this,e,{isRenderable:e.renderForms})}return _createClass(r,[{key:"render",value:function(){var e=this,t=this.annotationStorage,r=this.data,n=r.id,i=t.getValue(n,{value:r.exportValue===r.fieldValue}).value;"string"===typeof i&&(i="Off"!==i,t.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");var a=document.createElement("input");return u.add(a),a.setAttribute("data-element-id",n),a.disabled=r.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=r.fieldName,i&&a.setAttribute("checked",!0),a.setAttribute("exportValue",r.exportValue),a.tabIndex=l,a.addEventListener("change",(function(i){var a,o=i.target,s=o.name,l=o.checked,u=_createForOfIteratorHelper(e._getElementsByName(s,n));try{for(u.s();!(a=u.n()).done;){var c=a.value,f=l&&c.exportValue===r.exportValue;c.domElement&&(c.domElement.checked=f),t.setValue(c.id,{value:f})}}catch(p){u.e(p)}finally{u.f()}t.setValue(n,{value:l})})),a.addEventListener("resetform",(function(e){var t=r.defaultFieldValue||"Off";e.target.checked=t===r.exportValue})),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",(function(r){var i={value:function(e){e.target.checked="Off"!==e.detail.value,t.setValue(n,{value:e.target.checked})}};e._dispatchEventFromSandbox(i,r)})),this._setEventListeners(a,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(e){return e.target.checked}))),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}]),r}(_),w=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){return _classCallCheck(this,r),t.call(this,e,{isRenderable:e.renderForms})}return _createClass(r,[{key:"render",value:function(){var e=this;this.container.classList.add("buttonWidgetAnnotation","radioButton");var t=this.annotationStorage,r=this.data,n=r.id,i=t.getValue(n,{value:r.fieldValue===r.buttonValue}).value;"string"===typeof i&&(i=i!==r.buttonValue,t.setValue(n,{value:i}));var a=document.createElement("input");if(u.add(a),a.setAttribute("data-element-id",n),a.disabled=r.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=r.fieldName,i&&a.setAttribute("checked",!0),a.tabIndex=l,a.addEventListener("change",(function(r){var i,a=r.target,o=a.name,s=a.checked,l=_createForOfIteratorHelper(e._getElementsByName(o,n));try{for(l.s();!(i=l.n()).done;){var u=i.value;t.setValue(u.id,{value:!1})}}catch(c){l.e(c)}finally{l.f()}t.setValue(n,{value:s})})),a.addEventListener("resetform",(function(e){var t=r.defaultFieldValue;e.target.checked=null!==t&&void 0!==t&&t===r.buttonValue})),this.enableScripting&&this.hasJSActions){var o=r.buttonValue;a.addEventListener("updatefromsandbox",(function(r){var i={value:function(r){var i,a=o===r.detail.value,s=_createForOfIteratorHelper(e._getElementsByName(r.target.name));try{for(s.s();!(i=s.n()).done;){var l=i.value,u=a&&l.id===n;l.domElement&&(l.domElement.checked=u),t.setValue(l.id,{value:u})}}catch(c){s.e(c)}finally{s.f()}}};e._dispatchEventFromSandbox(i,r)})),this._setEventListeners(a,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(e){return e.target.checked}))}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}]),r}(_),S=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){return _classCallCheck(this,r),t.call(this,e,{ignoreBorder:e.data.hasAppearance})}return _createClass(r,[{key:"render",value:function(){var e=this,t=_get(_getPrototypeOf(r.prototype),"render",this).call(this);t.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(t.title=this.data.alternativeText);var n=t.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",(function(t){e._dispatchEventFromSandbox({},t)}))),t}}]),r}(v),P=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){return _classCallCheck(this,r),t.call(this,e,{isRenderable:e.renderForms})}return _createClass(r,[{key:"render",value:function(){var e=this;this.container.classList.add("choiceWidgetAnnotation");var t=this.annotationStorage,r=this.data.id,n=t.getValue(r,{value:this.data.fieldValue}),i=document.createElement("select");u.add(i),i.setAttribute("data-element-id",r),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=l;var a=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",(function(t){var r,n=e.data.defaultFieldValue,a=_createForOfIteratorHelper(i.options);try{for(a.s();!(r=a.n()).done;){var o=r.value;o.selected=o.value===n}}catch(s){a.e(s)}finally{a.f()}}));var o,s=_createForOfIteratorHelper(this.data.options);try{for(s.s();!(o=s.n()).done;){var c=o.value,f=document.createElement("option");f.textContent=c.displayValue,f.value=c.exportValue,n.value.includes(c.exportValue)&&(f.setAttribute("selected",!0),a=!1),i.append(f)}}catch(y){s.e(y)}finally{s.f()}var p=null;if(a){var h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),i.prepend(h),p=function(){h.remove(),i.removeEventListener("input",p),p=null},i.addEventListener("input",p)}var d=function(e){var t=e?"value":"textContent",r=i.options;return i.multiple?Array.prototype.filter.call(r,(function(e){return e.selected})).map((function(e){return e[t]})):-1===r.selectedIndex?null:r[r.selectedIndex][t]},v=d(!1),m=function(e){var t=e.target.options;return Array.prototype.map.call(t,(function(e){return{displayValue:e.textContent,exportValue:e.value}}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",(function(n){var a={value:function(e){var n;null===(n=p)||void 0===n||n();var a,o=e.detail.value,s=new Set(Array.isArray(o)?o:[o]),l=_createForOfIteratorHelper(i.options);try{for(l.s();!(a=l.n()).done;){var u=a.value;u.selected=s.has(u.value)}}catch(y){l.e(y)}finally{l.f()}t.setValue(r,{value:d(!0)}),v=d(!1)},multipleSelection:function(e){i.multiple=!0},remove:function(e){var n=i.options,a=e.detail.remove;if(n[a].selected=!1,i.remove(a),n.length>0){var o=Array.prototype.findIndex.call(n,(function(e){return e.selected}));-1===o&&(n[0].selected=!0)}t.setValue(r,{value:d(!0),items:m(e)}),v=d(!1)},clear:function(e){for(;0!==i.length;)i.remove(0);t.setValue(r,{value:null,items:[]}),v=d(!1)},insert:function(e){var n=e.detail.insert,a=n.index,o=n.displayValue,s=n.exportValue,l=i.children[a],u=document.createElement("option");u.textContent=o,u.value=s,l?l.before(u):i.append(u),t.setValue(r,{value:d(!0),items:m(e)}),v=d(!1)},items:function(e){for(var n=e.detail.items;0!==i.length;)i.remove(0);var a,o=_createForOfIteratorHelper(n);try{for(o.s();!(a=o.n()).done;){var s=a.value,l=s.displayValue,u=s.exportValue,c=document.createElement("option");c.textContent=l,c.value=u,i.append(c)}}catch(y){o.e(y)}finally{o.f()}i.options.length>0&&(i.options[0].selected=!0),t.setValue(r,{value:d(!0),items:m(e)}),v=d(!1)},indices:function(e){var n,i=new Set(e.detail.indices),a=_createForOfIteratorHelper(e.target.options);try{for(a.s();!(n=a.n()).done;){var o=n.value;o.selected=i.has(o.index)}}catch(y){a.e(y)}finally{a.f()}t.setValue(r,{value:d(!0)}),v=d(!1)},editable:function(e){e.target.disabled=!e.detail.editable}};e._dispatchEventFromSandbox(a,n)})),i.addEventListener("input",(function(n){var i,a=d(!0);t.setValue(r,{value:a}),n.preventDefault(),null===(i=e.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:e,detail:{id:r,name:"Keystroke",value:v,changeEx:a,willCommit:!1,commitKey:1,keyDown:!1}})})),this._setEventListeners(i,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],(function(e){return e.target.value}))):i.addEventListener("input",(function(e){t.setValue(r,{value:d(!0)})})),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}]),r}(_),k=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n,i,a;_classCallCheck(this,r);var o=e.data,s=!r.IGNORE_TYPES.has(o.parentType)&&!!(null!==(n=o.titleObj)&&void 0!==n&&n.str||null!==(i=o.contentsObj)&&void 0!==i&&i.str||null!==(a=o.richText)&&void 0!==a&&a.str);return t.call(this,e,{isRenderable:s})}return _createClass(r,[{key:"render",value:function(){this.container.classList.add("popupAnnotation");var e=this.layer.querySelectorAll('[data-annotation-id="'.concat(this.data.parentId,'"]'));if(0===e.length)return this.container;var t=new E({container:this.container,trigger:Array.from(e),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),r=this.page,i=n.Util.normalizeRect([this.data.parentRect[0],r.view[3]-this.data.parentRect[1]+r.view[1],this.data.parentRect[2],r.view[3]-this.data.parentRect[3]+r.view[1]]),a=i[0]+this.data.parentRect[2]-this.data.parentRect[0],o=i[1],s=this.viewport.rawDims,l=s.pageWidth,u=s.pageHeight,c=s.pageX,f=s.pageY;return this.container.style.left="".concat(100*(a-c)/l,"%"),this.container.style.top="".concat(100*(o-f)/u,"%"),this.container.append(t.render()),this.container}}]),r}(p);_defineProperty(k,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));var E=function(){function e(t){_classCallCheck(this,e),this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.titleObj=t.titleObj,this.modificationDate=t.modificationDate,this.contentsObj=t.contentsObj,this.richText=t.richText,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}return _createClass(e,[{key:"render",value:function(){var e,t,r=document.createElement("div");r.classList.add("popupWrapper"),this.hideElement=this.hideWrapper?r:this.container,this.hideElement.hidden=!0;var a=document.createElement("div");a.classList.add("popup");var o=this.color;if(o){var l=.7*(255-o[0])+o[0],u=.7*(255-o[1])+o[1],c=.7*(255-o[2])+o[2];a.style.backgroundColor=n.Util.makeHexColor(0|l,0|u,0|c)}var f=document.createElement("h1");f.dir=this.titleObj.dir,f.textContent=this.titleObj.str,a.append(f);var p=i.PDFDateString.toDateObject(this.modificationDate);if(p){var h=document.createElement("span");h.classList.add("popupDate"),h.textContent="{{date}}, {{time}}",h.dataset.l10nId="annotation_date_string",h.dataset.l10nArgs=JSON.stringify({date:p.toLocaleDateString(),time:p.toLocaleTimeString()}),a.append(h)}if(null===(e=this.richText)||void 0===e||!e.str||null!==(t=this.contentsObj)&&void 0!==t&&t.str&&this.contentsObj.str!==this.richText.str){var d=this._formatContents(this.contentsObj);a.append(d)}else s.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:a}),a.lastChild.classList.add("richText","popupContent");Array.isArray(this.trigger)||(this.trigger=[this.trigger]);var v,m=_createForOfIteratorHelper(this.trigger);try{for(m.s();!(v=m.n()).done;){var y=v.value;y.addEventListener("click",this._toggle.bind(this)),y.addEventListener("mouseover",this._show.bind(this,!1)),y.addEventListener("mouseout",this._hide.bind(this,!1))}}catch(g){m.e(g)}finally{m.f()}return a.addEventListener("click",this._hide.bind(this,!0)),r.append(a),r}},{key:"_formatContents",value:function(e){var t=e.str,r=e.dir,n=document.createElement("p");n.classList.add("popupContent"),n.dir=r;for(var i=t.split(/(?:\r\n?|\n)/),a=0,o=i.length;a<o;++a){var s=i[a];n.append(document.createTextNode(s)),a<o-1&&n.append(document.createElement("br"))}return n}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}},{key:"_hide",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&(this.pinned=!1),this.hideElement.hidden||this.pinned||(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}]),e}(),C=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n,i,a,o;_classCallCheck(this,r);var s=!!(e.data.hasPopup||null!==(n=e.data.titleObj)&&void 0!==n&&n.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str||null!==(a=e.data.richText)&&void 0!==a&&a.str);return(o=t.call(this,e,{isRenderable:s,ignoreBorder:!0})).textContent=e.data.textContent,o}return _createClass(r,[{key:"render",value:function(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){var e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");var t,r=_createForOfIteratorHelper(this.textContent);try{for(r.s();!(t=r.n()).done;){var n=t.value,i=document.createElement("span");i.textContent=n,e.append(i)}}catch(a){r.e(a)}finally{r.f()}this.container.append(e)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),r}(p),A=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n,i,a;_classCallCheck(this,r);var o=!!(e.data.hasPopup||null!==(n=e.data.titleObj)&&void 0!==n&&n.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str||null!==(a=e.data.richText)&&void 0!==a&&a.str);return t.call(this,e,{isRenderable:o,ignoreBorder:!0})}return _createClass(r,[{key:"render",value:function(){this.container.classList.add("lineAnnotation");var e=this.data,t=c(e.rect),r=t.width,n=t.height,i=this.svgFactory.create(r,n,!0),a=this.svgFactory.createElement("svg:line");return a.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),a.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),a.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),a.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),this._createPopup(a,e),this.container}}]),r}(p),T=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n,i,a;_classCallCheck(this,r);var o=!!(e.data.hasPopup||null!==(n=e.data.titleObj)&&void 0!==n&&n.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str||null!==(a=e.data.richText)&&void 0!==a&&a.str);return t.call(this,e,{isRenderable:o,ignoreBorder:!0})}return _createClass(r,[{key:"render",value:function(){this.container.classList.add("squareAnnotation");var e=this.data,t=c(e.rect),r=t.width,n=t.height,i=this.svgFactory.create(r,n,!0),a=e.borderStyle.width,o=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",r-a),o.setAttribute("height",n-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),this._createPopup(o,e),this.container}}]),r}(p),O=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n,i,a;_classCallCheck(this,r);var o=!!(e.data.hasPopup||null!==(n=e.data.titleObj)&&void 0!==n&&n.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str||null!==(a=e.data.richText)&&void 0!==a&&a.str);return t.call(this,e,{isRenderable:o,ignoreBorder:!0})}return _createClass(r,[{key:"render",value:function(){this.container.classList.add("circleAnnotation");var e=this.data,t=c(e.rect),r=t.width,n=t.height,i=this.svgFactory.create(r,n,!0),a=e.borderStyle.width,o=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",r/2),o.setAttribute("cy",n/2),o.setAttribute("rx",r/2-a/2),o.setAttribute("ry",n/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),this._createPopup(o,e),this.container}}]),r}(p),M=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n,i,a,o;_classCallCheck(this,r);var s=!!(e.data.hasPopup||null!==(n=e.data.titleObj)&&void 0!==n&&n.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str||null!==(a=e.data.richText)&&void 0!==a&&a.str);return(o=t.call(this,e,{isRenderable:s,ignoreBorder:!0})).containerClassName="polylineAnnotation",o.svgElementName="svg:polyline",o}return _createClass(r,[{key:"render",value:function(){this.container.classList.add(this.containerClassName);var e,t=this.data,r=c(t.rect),n=r.width,i=r.height,a=this.svgFactory.create(n,i,!0),o=[],s=_createForOfIteratorHelper(t.vertices);try{for(s.s();!(e=s.n()).done;){var l=e.value,u=l.x-t.rect[0],f=t.rect[3]-l.y;o.push(u+","+f)}}catch(h){s.e(h)}finally{s.f()}o=o.join(" ");var p=this.svgFactory.createElement(this.svgElementName);return p.setAttribute("points",o),p.setAttribute("stroke-width",t.borderStyle.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),a.append(p),this.container.append(a),this._createPopup(p,t),this.container}}]),r}(p),I=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n;return _classCallCheck(this,r),(n=t.call(this,e)).containerClassName="polygonAnnotation",n.svgElementName="svg:polygon",n}return _createClass(r)}(M),F=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n,i,a;_classCallCheck(this,r);var o=!!(e.data.hasPopup||null!==(n=e.data.titleObj)&&void 0!==n&&n.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str||null!==(a=e.data.richText)&&void 0!==a&&a.str);return t.call(this,e,{isRenderable:o,ignoreBorder:!0})}return _createClass(r,[{key:"render",value:function(){return this.container.classList.add("caretAnnotation"),this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),r}(p),R=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n,i,a,o;_classCallCheck(this,r);var s=!!(e.data.hasPopup||null!==(n=e.data.titleObj)&&void 0!==n&&n.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str||null!==(a=e.data.richText)&&void 0!==a&&a.str);return(o=t.call(this,e,{isRenderable:s,ignoreBorder:!0})).containerClassName="inkAnnotation",o.svgElementName="svg:polyline",o}return _createClass(r,[{key:"render",value:function(){this.container.classList.add(this.containerClassName);var e,t=this.data,r=c(t.rect),n=r.width,i=r.height,a=this.svgFactory.create(n,i,!0),o=_createForOfIteratorHelper(t.inkLists);try{for(o.s();!(e=o.n()).done;){var s,l=e.value,u=[],f=_createForOfIteratorHelper(l);try{for(f.s();!(s=f.n()).done;){var p=s.value,h=p.x-t.rect[0],d=t.rect[3]-p.y;u.push("".concat(h,",").concat(d))}}catch(m){f.e(m)}finally{f.f()}u=u.join(" ");var v=this.svgFactory.createElement(this.svgElementName);v.setAttribute("points",u),v.setAttribute("stroke-width",t.borderStyle.width||1),v.setAttribute("stroke","transparent"),v.setAttribute("fill","transparent"),this._createPopup(v,t),a.append(v)}}catch(m){o.e(m)}finally{o.f()}return this.container.append(a),this.container}}]),r}(p),D=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n,i,a;_classCallCheck(this,r);var o=!!(e.data.hasPopup||null!==(n=e.data.titleObj)&&void 0!==n&&n.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str||null!==(a=e.data.richText)&&void 0!==a&&a.str);return t.call(this,e,{isRenderable:o,ignoreBorder:!0,createQuadrilaterals:!0})}return _createClass(r,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.classList.add("highlightAnnotation"),this.container)}}]),r}(p),j=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n,i,a;_classCallCheck(this,r);var o=!!(e.data.hasPopup||null!==(n=e.data.titleObj)&&void 0!==n&&n.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str||null!==(a=e.data.richText)&&void 0!==a&&a.str);return t.call(this,e,{isRenderable:o,ignoreBorder:!0,createQuadrilaterals:!0})}return _createClass(r,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.classList.add("underlineAnnotation"),this.container)}}]),r}(p),L=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n,i,a;_classCallCheck(this,r);var o=!!(e.data.hasPopup||null!==(n=e.data.titleObj)&&void 0!==n&&n.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str||null!==(a=e.data.richText)&&void 0!==a&&a.str);return t.call(this,e,{isRenderable:o,ignoreBorder:!0,createQuadrilaterals:!0})}return _createClass(r,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.classList.add("squigglyAnnotation"),this.container)}}]),r}(p),N=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n,i,a;_classCallCheck(this,r);var o=!!(e.data.hasPopup||null!==(n=e.data.titleObj)&&void 0!==n&&n.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str||null!==(a=e.data.richText)&&void 0!==a&&a.str);return t.call(this,e,{isRenderable:o,ignoreBorder:!0,createQuadrilaterals:!0})}return _createClass(r,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.classList.add("strikeoutAnnotation"),this.container)}}]),r}(p),z=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n,i,a;_classCallCheck(this,r);var o=!!(e.data.hasPopup||null!==(n=e.data.titleObj)&&void 0!==n&&n.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str||null!==(a=e.data.richText)&&void 0!==a&&a.str);return t.call(this,e,{isRenderable:o,ignoreBorder:!0})}return _createClass(r,[{key:"render",value:function(){return this.container.classList.add("stampAnnotation"),this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),r}(p),B=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n,a;_classCallCheck(this,r);var o=(a=t.call(this,e,{isRenderable:!0})).data.file,s=o.filename,l=o.content;return a.filename=(0,i.getFilenameFromUrl)(s,!0),a.content=l,null===(n=a.linkService.eventBus)||void 0===n||n.dispatch("fileattachmentannotation",{source:_assertThisInitialized(a),filename:s,content:l}),a}return _createClass(r,[{key:"render",value:function(){var e,t,r;return this.container.classList.add("fileAttachmentAnnotation"),this.data.hasAppearance?r=document.createElement("div"):(r=document.createElement("img")).src="".concat(this.imageResourcesPath,"annotation-").concat(/paperclip/i.test(this.data.name)?"paperclip":"pushpin",".svg"),r.classList.add("popupTriggerArea"),r.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(null!==(e=this.data.titleObj)&&void 0!==e&&e.str||null!==(t=this.data.contentsObj)&&void 0!==t&&t.str||this.data.richText)&&this._createPopup(r,this.data),this.container.append(r),this.container}},{key:"_download",value:function(){var e;null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(this.container,this.content,this.filename)}}]),r}(p),Z=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"render",value:function(t){var r=t.annotations,o=t.div,s=t.viewport,l=t.accessibilityManager;(0,i.setLayerDimensions)(o,s);var u,p={data:null,layer:o,page:t.page,viewport:s,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:!1!==t.renderForms,svgFactory:new i.DOMSVGFactory,annotationStorage:t.annotationStorage||new a.AnnotationStorage,enableScripting:!0===t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects},h=0,d=_createForOfIteratorHelper(r);try{for(d.s();!(u=d.n()).done;){var v=u.value;if(!v.noHTML){if(v.annotationType!==n.AnnotationType.POPUP){var m=c(v.rect),y=m.width,g=m.height;if(y<=0||g<=0)continue}p.data=v;var _=f.create(p);if(_.isRenderable){var b=_.render();if(v.hidden&&(b.style.visibility="hidden"),Array.isArray(b)){var x,w=_createForOfIteratorHelper(b);try{for(w.s();!(x=w.n()).done;){var S=x.value;S.style.zIndex=h++,_classStaticPrivateMethodGet(e,e,U).call(e,S,v.id,o,l)}}catch(P){w.e(P)}finally{w.f()}}else b.style.zIndex=h++,_ instanceof k?o.prepend(b):_classStaticPrivateMethodGet(e,e,U).call(e,b,v.id,o,l)}}}}catch(P){d.e(P)}finally{d.f()}_classStaticPrivateMethodGet(this,e,V).call(this,o,t.annotationCanvasMap)}},{key:"update",value:function(t){var r=t.annotationCanvasMap,n=t.div,a=t.viewport;(0,i.setLayerDimensions)(n,{rotation:a.rotation}),_classStaticPrivateMethodGet(this,e,V).call(this,n,r),n.hidden=!1}}]),e}();function U(e,t,r,n){var a=e.firstChild||e;a.id="".concat(i.AnnotationPrefix).concat(t),r.append(e),null===n||void 0===n||n.moveElementInDOM(r,e,a,!1)}function V(e,t){if(t){var r,n=_createForOfIteratorHelper(t);try{for(n.s();!(r=n.n()).done;){var i=_slicedToArray(r.value,2),a=i[0],o=i[1],s=e.querySelector('[data-annotation-id="'.concat(a,'"]'));if(s){var l=s.firstChild;l?"CANVAS"===l.nodeName?l.replaceWith(o):l.before(o):s.append(o)}}}catch(u){n.e(u)}finally{n.f()}t.clear()}}t.AnnotationLayer=Z},function(e,t){function r(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0;var n=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"CMYK_G",value:function(e){var t=_slicedToArray(e,4),r=t[0],n=t[1],i=t[2],a=t[3];return["G",1-Math.min(1,.3*r+.59*i+.11*n+a)]}},{key:"G_CMYK",value:function(e){return["CMYK",0,0,0,1-_slicedToArray(e,1)[0]]}},{key:"G_RGB",value:function(e){var t=_slicedToArray(e,1)[0];return["RGB",t,t,t]}},{key:"G_HTML",value:function(e){var t=r(_slicedToArray(e,1)[0]);return"#".concat(t).concat(t).concat(t)}},{key:"RGB_G",value:function(e){var t=_slicedToArray(e,3);return["G",.3*t[0]+.59*t[1]+.11*t[2]]}},{key:"RGB_HTML",value:function(e){var t=_slicedToArray(e,3),n=t[0],i=t[1],a=t[2],o=r(n),s=r(i),l=r(a);return"#".concat(o).concat(s).concat(l)}},{key:"T_HTML",value:function(){return"#00000000"}},{key:"CMYK_RGB",value:function(e){var t=_slicedToArray(e,4),r=t[0],n=t[1],i=t[2],a=t[3];return["RGB",1-Math.min(1,r+a),1-Math.min(1,i+a),1-Math.min(1,n+a)]}},{key:"CMYK_HTML",value:function(e){var t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}},{key:"RGB_CMYK",value:function(e){var t=_slicedToArray(e,3),r=1-t[0],n=1-t[1],i=1-t[2];return["CMYK",r,n,i,Math.min(r,n,i)]}}]),e}();t.ColorConverters=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayer=void 0;var n=r(19),i=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"setupStorage",value:function(e,t,r,n,i){var a=n.getValue(t,{value:null});switch(r.name){case"textarea":if(null!==a.value&&(e.textContent=a.value),"print"===i)break;e.addEventListener("input",(function(e){n.setValue(t,{value:e.target.value})}));break;case"input":if("radio"===r.attributes.type||"checkbox"===r.attributes.type){if(a.value===r.attributes.xfaOn?e.setAttribute("checked",!0):a.value===r.attributes.xfaOff&&e.removeAttribute("checked"),"print"===i)break;e.addEventListener("change",(function(e){n.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})}))}else{if(null!==a.value&&e.setAttribute("value",a.value),"print"===i)break;e.addEventListener("input",(function(e){n.setValue(t,{value:e.target.value})}))}break;case"select":if(null!==a.value){var o,s=_createForOfIteratorHelper(r.children);try{for(s.s();!(o=s.n()).done;){var l=o.value;l.attributes.value===a.value&&(l.attributes.selected=!0)}}catch(u){s.e(u)}finally{s.f()}}e.addEventListener("input",(function(e){var r=e.target.options,i=-1===r.selectedIndex?"":r[r.selectedIndex].value;n.setValue(t,{value:i})}))}}},{key:"setAttributes",value:function(e){var t=e.html,r=e.element,n=e.storage,i=void 0===n?null:n,a=e.intent,o=e.linkService,s=r.attributes,l=t instanceof HTMLAnchorElement;"radio"===s.type&&(s.name="".concat(s.name,"-").concat(a));for(var u=0,c=Object.entries(s);u<c.length;u++){var f=_slicedToArray(c[u],2),p=f[0],h=f[1];if(null!==h&&void 0!==h)switch(p){case"class":h.length&&t.setAttribute(p,h.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",h);break;case"style":Object.assign(t.style,h);break;case"textContent":t.textContent=h;break;default:(!l||"href"!==p&&"newWindow"!==p)&&t.setAttribute(p,h)}}l&&o.addLinkAttributes(t,s.href,s.newWindow),i&&s.dataId&&this.setupStorage(t,s.dataId,r,i)}},{key:"render",value:function(e){var t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,a=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:a,linkService:r});var s=[[i,-1,o]],l=e.div;if(l.append(o),e.viewport){var u="matrix(".concat(e.viewport.transform.join(","),")");l.style.transform=u}"richText"!==a&&l.setAttribute("class","xfaLayer xfaFont");for(var c=[];s.length>0;){var f,p,h=s.at(-1),d=_slicedToArray(h,3),v=d[0],m=d[1],y=d[2];if(m+1!==v.children.length){var g=v.children[++s.at(-1)[1]];if(null!==g){var _=g.name;if("#text"!==_){var b=void 0;if(b=null!==(f=g)&&void 0!==f&&null!==(p=f.attributes)&&void 0!==p&&p.xmlns?document.createElementNS(g.attributes.xmlns,_):document.createElement(_),y.append(b),g.attributes&&this.setAttributes({html:b,element:g,storage:t,intent:a,linkService:r}),g.children&&g.children.length>0)s.push([g,-1,b]);else if(g.value){var x=document.createTextNode(g.value);n.XfaText.shouldBuildText(_)&&c.push(x),b.append(x)}}else{var w=document.createTextNode(g.value);c.push(w),y.append(w)}}}else s.pop()}var S,P=_createForOfIteratorHelper(l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"));try{for(P.s();!(S=P.n()).done;)S.value.setAttribute("readOnly",!0)}catch(k){P.e(k)}finally{P.f()}return{textDivs:c}}},{key:"update",value:function(e){var t="matrix(".concat(e.viewport.transform.join(","),")");e.div.style.transform=t,e.div.hidden=!1}}]),e}();t.XfaLayer=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var n=r(6),i=r(1),a=r(10),o=_createClass((function e(){_classCallCheck(this,e),(0,i.unreachable)("Not implemented: SVGGraphics")}));t.SVGGraphics=o;var s=function(e){if(Number.isInteger(e))return e.toString();var t=e.toFixed(10),r=t.length-1;if("0"!==t[r])return t;do{r--}while("0"===t[r]);return t.substring(0,"."===t[r]?r:r+1)},l=function(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":"scale(".concat(s(e[0])," ").concat(s(e[3]),")");if(e[0]===e[3]&&e[1]===-e[2]){var t=180*Math.acos(e[0])/Math.PI;return"rotate(".concat(s(t),")")}}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return"translate(".concat(s(e[4])," ").concat(s(e[5]),")");return"matrix(".concat(s(e[0])," ").concat(s(e[1])," ").concat(s(e[2])," ").concat(s(e[3])," ").concat(s(e[4])," ")+"".concat(s(e[5]),")")},u={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},c=["butt","round","square"],f=["miter","round","bevel"],p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(URL.createObjectURL&&"undefined"!==typeof Blob&&!r)return URL.createObjectURL(new Blob([e],{type:t}));for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="data:".concat(t,";base64,"),a=0,o=e.length;a<o;a+=3){var s=255&e[a],l=255&e[a+1],u=255&e[a+2],c=s>>2,f=(3&s)<<4|l>>4,p=a+1<o?(15&l)<<2|u>>6:64,h=a+2<o?63&u:64;i+=n[c]+n[f]+n[p]+n[h]}return i},h=function(){for(var e=new Uint8Array([137,80,78,71,13,10,26,10]),t=new Int32Array(256),r=0;r<256;r++){for(var n=r,o=0;o<8;o++)n=1&n?3988292384^n>>1&2147483647:n>>1&2147483647;t[r]=n}function s(e,r,n,i){var a=i,o=r.length;n[a]=o>>24&255,n[a+1]=o>>16&255,n[a+2]=o>>8&255,n[a+3]=255&o,n[a+=4]=255&e.charCodeAt(0),n[a+1]=255&e.charCodeAt(1),n[a+2]=255&e.charCodeAt(2),n[a+3]=255&e.charCodeAt(3),a+=4,n.set(r,a);var s=function(e,r,n){for(var i=-1,a=r;a<n;a++){var o=255&(i^e[a]);i=i>>>8^t[o]}return-1^i}(n,i+4,a+=r.length);n[a]=s>>24&255,n[a+1]=s>>16&255,n[a+2]=s>>8&255,n[a+3]=255&s}function l(e){var t=e.length,r=65535,n=Math.ceil(t/r),i=new Uint8Array(2+t+5*n+4),a=0;i[a++]=120,i[a++]=156;for(var o=0;t>r;)i[a++]=0,i[a++]=255,i[a++]=255,i[a++]=0,i[a++]=0,i.set(e.subarray(o,o+r),a),a+=r,o+=r,t-=r;i[a++]=1,i[a++]=255&t,i[a++]=t>>8&255,i[a++]=255&~t,i[a++]=(65535&~t)>>8&255,i.set(e.subarray(o),a),a+=e.length-o;var s=function(e,t,r){for(var n=1,i=0,a=t;a<r;++a)i=(i+(n=(n+(255&e[a]))%65521))%65521;return i<<16|n}(e,0,e.length);return i[a++]=s>>24&255,i[a++]=s>>16&255,i[a++]=s>>8&255,i[a++]=255&s,i}function u(t,r,n,o){var u,c,f,h=t.width,d=t.height,v=t.data;switch(r){case i.ImageKind.GRAYSCALE_1BPP:c=0,u=1,f=h+7>>3;break;case i.ImageKind.RGB_24BPP:c=2,u=8,f=3*h;break;case i.ImageKind.RGBA_32BPP:c=6,u=8,f=4*h;break;default:throw new Error("invalid format")}for(var m=new Uint8Array((1+f)*d),y=0,g=0,_=0;_<d;++_)m[y++]=0,m.set(v.subarray(g,g+f),y),g+=f,y+=f;if(r===i.ImageKind.GRAYSCALE_1BPP&&o){y=0;for(var b=0;b<d;b++){y++;for(var x=0;x<f;x++)m[y++]^=255}}var w=new Uint8Array([h>>24&255,h>>16&255,h>>8&255,255&h,d>>24&255,d>>16&255,d>>8&255,255&d,u,c,0,0,0]),S=function(e){if(!a.isNodeJS)return l(e);try{var t;t=parseInt(process.versions.node)>=8?e:Buffer.from(e);var r=__webpack_require__(82258).deflateSync(t,{level:9});return r instanceof Uint8Array?r:new Uint8Array(r)}catch(n){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+n)}return l(e)}(m),P=e.length+36+w.length+S.length,k=new Uint8Array(P),E=0;return k.set(e,E),s("IHDR",w,k,E+=e.length),s("IDATA",S,k,E+=12+w.length),E+=12+S.length,s("IEND",new Uint8Array(0),k,E),p(k,"image/png",n)}return function(e,t,r){return u(e,void 0===e.kind?i.ImageKind.GRAYSCALE_1BPP:e.kind,t,r)}}(),d=function(){function e(){_classCallCheck(this,e),this.fontSizeScale=1,this.fontWeight=u.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=u.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return _createClass(e,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(e,t){this.x=e,this.y=t}}]),e}(),v=0,m=0,y=0;t.SVGGraphics=o=function(){function e(t,r){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var o in _classCallCheck(this,e),(0,n.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new n.DOMSVGFactory,this.current=new d,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=r,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!a,this._operatorIdMapping=[],i.OPS)this._operatorIdMapping[i.OPS[o]]=o}return _createClass(e,[{key:"getObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}},{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var e=this.current;this.extraStack.push(e),this.current=e.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(e){this.save(),this.executeOpTree(e),this.restore()}},{key:"loadDependencies",value:function(e){for(var t=this,r=e.fnArray,n=e.argsArray,a=0,o=r.length;a<o;a++)if(r[a]===i.OPS.dependency){var s,l=_createForOfIteratorHelper(n[a]);try{var u=function(){var e=s.value,r=e.startsWith("g_")?t.commonObjs:t.objs,n=new Promise((function(t){r.get(e,t)}));t.current.dependencies.push(n)};for(l.s();!(s=l.n()).done;)u()}catch(c){l.e(c)}finally{l.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(e,t,r,n,a,o){var s=[e,t,r,n,a,o];this.transformMatrix=i.Util.transform(this.transformMatrix,s),this.tgrp=null}},{key:"getSVG",value:function(e,t){var r=this;this.viewport=t;var n=this._initialize(t);return this.loadDependencies(e).then((function(){return r.transformMatrix=i.IDENTITY_MATRIX,r.executeOpTree(r.convertOpList(e)),n}))}},{key:"convertOpList",value:function(e){for(var t=this._operatorIdMapping,r=e.argsArray,n=e.fnArray,i=[],a=0,o=n.length;a<o;a++){var s=n[a];i.push({fnId:s,fn:t[s],args:r[a]})}return function(e){var t,r=[],n=[],i=_createForOfIteratorHelper(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;"save"!==a.fn?"restore"===a.fn?r=n.pop():r.push(a):(r.push({fnId:92,fn:"group",items:[]}),n.push(r),r=r.at(-1).items)}}catch(o){i.e(o)}finally{i.f()}return r}(i)}},{key:"executeOpTree",value:function(e){var t,r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var n=t.value,a=n.fn,o=n.fnId,s=n.args;switch(0|o){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(s);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(s[0],s[1]);break;case i.OPS.setFont:this.setFont(s);break;case i.OPS.showText:case i.OPS.showSpacedText:this.showText(s[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(s[0],s[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(s[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(s[0]);break;case i.OPS.setHScale:this.setHScale(s[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(s[0],s[1],s[2],s[3],s[4],s[5]);break;case i.OPS.setTextRise:this.setTextRise(s[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(s[0]);break;case i.OPS.setLineWidth:this.setLineWidth(s[0]);break;case i.OPS.setLineJoin:this.setLineJoin(s[0]);break;case i.OPS.setLineCap:this.setLineCap(s[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(s[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(s[0],s[1],s[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(s[0],s[1],s[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(s);break;case i.OPS.setFillColorN:this.setFillColorN(s);break;case i.OPS.shadingFill:this.shadingFill(s[0]);break;case i.OPS.setDash:this.setDash(s[0],s[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(s[0]);break;case i.OPS.setFlatness:this.setFlatness(s[0]);break;case i.OPS.setGState:this.setGState(s[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(s[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(s[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(s[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(s[0],s[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(s[0],s[1],s[2],s[3],s[4],s[5]);break;case i.OPS.constructPath:this.constructPath(s[0],s[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(n.items);break;default:(0,i.warn)("Unimplemented operator ".concat(a))}}}catch(l){r.e(l)}finally{r.f()}}},{key:"setWordSpacing",value:function(e){this.current.wordSpacing=e}},{key:"setCharSpacing",value:function(e){this.current.charSpacing=e}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(e,t,r,n,i,a){var o=this.current;o.textMatrix=o.lineMatrix=[e,t,r,n,i,a],o.textMatrixScale=Math.hypot(e,t),o.x=o.lineX=0,o.y=o.lineY=0,o.xcoords=[],o.ycoords=[],o.tspan=this.svgFactory.createElement("svg:tspan"),o.tspan.setAttributeNS(null,"font-family",o.fontFamily),o.tspan.setAttributeNS(null,"font-size","".concat(s(o.fontSize),"px")),o.tspan.setAttributeNS(null,"y",s(-o.y)),o.txtElement=this.svgFactory.createElement("svg:text"),o.txtElement.append(o.tspan)}},{key:"beginText",value:function(){var e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=i.IDENTITY_MATRIX,e.lineMatrix=i.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}},{key:"moveText",value:function(e,t){var r=this.current;r.x=r.lineX+=e,r.y=r.lineY+=t,r.xcoords=[],r.ycoords=[],r.tspan=this.svgFactory.createElement("svg:tspan"),r.tspan.setAttributeNS(null,"font-family",r.fontFamily),r.tspan.setAttributeNS(null,"font-size","".concat(s(r.fontSize),"px")),r.tspan.setAttributeNS(null,"y",s(-r.y))}},{key:"showText",value:function(e){var t=this.current,r=t.font,n=t.fontSize;if(0!==n){var a,o=t.fontSizeScale,c=t.charSpacing,f=t.wordSpacing,p=t.fontDirection,h=t.textHScale*p,d=r.vertical,v=d?1:-1,m=r.defaultVMetrics,y=n*t.fontMatrix[0],g=0,_=_createForOfIteratorHelper(e);try{for(_.s();!(a=_.n()).done;){var b=a.value;if(null!==b)if("number"!==typeof b){var x=(b.isSpace?f:0)+c,w=b.fontChar,S=void 0,P=void 0,k=b.width;if(d){var E=void 0,C=b.vmetric||m;E=-(E=b.vmetric?C[1]:.5*k)*y;var A=C[2]*y;k=C?-C[0]:k,S=E/o,P=(g+A)/o}else S=g/o,P=0;(b.isInFont||r.missingFile)&&(t.xcoords.push(t.x+S),d&&t.ycoords.push(-t.y+P),t.tspan.textContent+=w),g+=d?k*y-x*p:k*y+x*p}else g+=v*b*n/1e3;else g+=p*f}}catch(I){_.e(I)}finally{_.f()}t.tspan.setAttributeNS(null,"x",t.xcoords.map(s).join(" ")),d?t.tspan.setAttributeNS(null,"y",t.ycoords.map(s).join(" ")):t.tspan.setAttributeNS(null,"y",s(-t.y)),d?t.y-=g:t.x+=g*h,t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size","".concat(s(t.fontSize),"px")),t.fontStyle!==u.fontStyle&&t.tspan.setAttributeNS(null,"font-style",t.fontStyle),t.fontWeight!==u.fontWeight&&t.tspan.setAttributeNS(null,"font-weight",t.fontWeight);var T=t.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;if(T===i.TextRenderingMode.FILL||T===i.TextRenderingMode.FILL_STROKE?(t.fillColor!==u.fillColor&&t.tspan.setAttributeNS(null,"fill",t.fillColor),t.fillAlpha<1&&t.tspan.setAttributeNS(null,"fill-opacity",t.fillAlpha)):t.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?t.tspan.setAttributeNS(null,"fill","transparent"):t.tspan.setAttributeNS(null,"fill","none"),T===i.TextRenderingMode.STROKE||T===i.TextRenderingMode.FILL_STROKE){var O=1/(t.textMatrixScale||1);this._setStrokeAttributes(t.tspan,O)}var M=t.textMatrix;0!==t.textRise&&((M=M.slice())[5]+=t.textRise),t.txtElement.setAttributeNS(null,"transform","".concat(l(M)," scale(").concat(s(h),", -1)")),t.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),t.txtElement.append(t.tspan),t.txtgrp.append(t.txtElement),this._ensureTransformGroup().append(t.txtElement)}}},{key:"setLeadingMoveText",value:function(e,t){this.setLeading(-t),this.moveText(e,t)}},{key:"addFontStyle",value:function(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));var t=p(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(e.loadedName,'";')+" src: url(".concat(t,"); }\n")}},{key:"setFont",value:function(e){var t=this.current,r=this.commonObjs.get(e[0]),n=e[1];t.font=r,!this.embedFonts||r.missingFile||this.embeddedFonts[r.loadedName]||(this.addFontStyle(r),this.embeddedFonts[r.loadedName]=r),t.fontMatrix=r.fontMatrix||i.FONT_IDENTITY_MATRIX;var a="normal";r.black?a="900":r.bold&&(a="bold");var o=r.italic?"italic":"normal";n<0?(n=-n,t.fontDirection=-1):t.fontDirection=1,t.fontSize=n,t.fontFamily=r.loadedName,t.fontWeight=a,t.fontStyle=o,t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"y",s(-t.y)),t.xcoords=[],t.ycoords=[]}},{key:"endText",value:function(){var e,t=this.current;t.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&null!==(e=t.txtElement)&&void 0!==e&&e.hasChildNodes()&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(e){e>0&&(this.current.lineWidth=e)}},{key:"setLineCap",value:function(e){this.current.lineCap=c[e]}},{key:"setLineJoin",value:function(e){this.current.lineJoin=f[e]}},{key:"setMiterLimit",value:function(e){this.current.miterLimit=e}},{key:"setStrokeAlpha",value:function(e){this.current.strokeAlpha=e}},{key:"setStrokeRGBColor",value:function(e,t,r){this.current.strokeColor=i.Util.makeHexColor(e,t,r)}},{key:"setFillAlpha",value:function(e){this.current.fillAlpha=e}},{key:"setFillRGBColor",value:function(e,t,r){this.current.fillColor=i.Util.makeHexColor(e,t,r),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(e){this.current.strokeColor=this._makeColorN_Pattern(e)}},{key:"setFillColorN",value:function(e){this.current.fillColor=this._makeColorN_Pattern(e)}},{key:"shadingFill",value:function(e){var t=this.viewport.width,r=this.viewport.height,n=i.Util.inverseTransform(this.transformMatrix),a=i.Util.applyTransform([0,0],n),o=i.Util.applyTransform([0,r],n),s=i.Util.applyTransform([t,0],n),l=i.Util.applyTransform([t,r],n),u=Math.min(a[0],o[0],s[0],l[0]),c=Math.min(a[1],o[1],s[1],l[1]),f=Math.max(a[0],o[0],s[0],l[0]),p=Math.max(a[1],o[1],s[1],l[1]),h=this.svgFactory.createElement("svg:rect");h.setAttributeNS(null,"x",u),h.setAttributeNS(null,"y",c),h.setAttributeNS(null,"width",f-u),h.setAttributeNS(null,"height",p-c),h.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&h.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(h)}},{key:"_makeColorN_Pattern",value:function(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}},{key:"_makeTilingPattern",value:function(e){var t=e[1],r=e[2],n=e[3]||i.IDENTITY_MATRIX,a=_slicedToArray(e[4],4),o=a[0],s=a[1],l=a[2],u=a[3],c=e[5],f=e[6],p=e[7],h="shading".concat(y++),d=i.Util.normalizeRect([].concat(_toConsumableArray(i.Util.applyTransform([o,s],n)),_toConsumableArray(i.Util.applyTransform([l,u],n)))),v=_slicedToArray(d,4),m=v[0],g=v[1],_=v[2],b=v[3],x=i.Util.singularValueDecompose2dScale(n),w=_slicedToArray(x,2),S=c*w[0],P=f*w[1],k=this.svgFactory.createElement("svg:pattern");k.setAttributeNS(null,"id",h),k.setAttributeNS(null,"patternUnits","userSpaceOnUse"),k.setAttributeNS(null,"width",S),k.setAttributeNS(null,"height",P),k.setAttributeNS(null,"x","".concat(m)),k.setAttributeNS(null,"y","".concat(g));var E=this.svg,C=this.transformMatrix,A=this.current.fillColor,T=this.current.strokeColor,O=this.svgFactory.create(_-m,b-g);if(this.svg=O,this.transformMatrix=n,2===p){var M,I=(M=i.Util).makeHexColor.apply(M,_toConsumableArray(t));this.current.fillColor=I,this.current.strokeColor=I}return this.executeOpTree(this.convertOpList(r)),this.svg=E,this.transformMatrix=C,this.current.fillColor=A,this.current.strokeColor=T,k.append(O.childNodes[0]),this.defs.append(k),"url(#".concat(h,")")}},{key:"_makeShadingPattern",value:function(e){switch("string"===typeof e&&(e=this.objs.get(e)),e[0]){case"RadialAxial":var t,r="shading".concat(y++),n=e[3];switch(e[1]){case"axial":var a=e[4],o=e[5];(t=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",r),t.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),t.setAttributeNS(null,"x1",a[0]),t.setAttributeNS(null,"y1",a[1]),t.setAttributeNS(null,"x2",o[0]),t.setAttributeNS(null,"y2",o[1]);break;case"radial":var s=e[4],l=e[5],u=e[6],c=e[7];(t=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",r),t.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),t.setAttributeNS(null,"cx",l[0]),t.setAttributeNS(null,"cy",l[1]),t.setAttributeNS(null,"r",c),t.setAttributeNS(null,"fx",s[0]),t.setAttributeNS(null,"fy",s[1]),t.setAttributeNS(null,"fr",u);break;default:throw new Error("Unknown RadialAxial type: ".concat(e[1]))}var f,p=_createForOfIteratorHelper(n);try{for(p.s();!(f=p.n()).done;){var h=f.value,d=this.svgFactory.createElement("svg:stop");d.setAttributeNS(null,"offset",h[0]),d.setAttributeNS(null,"stop-color",h[1]),t.append(d)}}catch(v){p.e(v)}finally{p.f()}return this.defs.append(t),"url(#".concat(r,")");case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(e[0]))}}},{key:"setDash",value:function(e,t){this.current.dashArray=e,this.current.dashPhase=t}},{key:"constructPath",value:function(e,t){var r,n=this.current,a=n.x,o=n.y,l=[],u=0,c=_createForOfIteratorHelper(e);try{for(c.s();!(r=c.n()).done;)switch(0|r.value){case i.OPS.rectangle:a=t[u++],o=t[u++];var f=t[u++],p=t[u++],h=a+f,d=o+p;l.push("M",s(a),s(o),"L",s(h),s(o),"L",s(h),s(d),"L",s(a),s(d),"Z");break;case i.OPS.moveTo:a=t[u++],o=t[u++],l.push("M",s(a),s(o));break;case i.OPS.lineTo:a=t[u++],o=t[u++],l.push("L",s(a),s(o));break;case i.OPS.curveTo:a=t[u+4],o=t[u+5],l.push("C",s(t[u]),s(t[u+1]),s(t[u+2]),s(t[u+3]),s(a),s(o)),u+=6;break;case i.OPS.curveTo2:l.push("C",s(a),s(o),s(t[u]),s(t[u+1]),s(t[u+2]),s(t[u+3])),a=t[u+2],o=t[u+3],u+=4;break;case i.OPS.curveTo3:a=t[u+2],o=t[u+3],l.push("C",s(t[u]),s(t[u+1]),s(a),s(o),s(a),s(o)),u+=4;break;case i.OPS.closePath:l.push("Z")}}catch(v){c.e(v)}finally{c.f()}l=l.join(" "),n.path&&e.length>0&&e[0]!==i.OPS.rectangle&&e[0]!==i.OPS.moveTo?l=n.path.getAttributeNS(null,"d")+l:(n.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(n.path)),n.path.setAttributeNS(null,"d",l),n.path.setAttributeNS(null,"fill","none"),n.element=n.path,n.setCurrentPoint(a,o)}},{key:"endPath",value:function(){var e=this.current;if(e.path=null,this.pendingClip)if(e.element){var t="clippath".concat(v++),r=this.svgFactory.createElement("svg:clipPath");r.setAttributeNS(null,"id",t),r.setAttributeNS(null,"transform",l(this.transformMatrix));var n=e.element.cloneNode(!0);if("evenodd"===this.pendingClip?n.setAttributeNS(null,"clip-rule","evenodd"):n.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,r.append(n),this.defs.append(r),e.activeClipUrl){e.clipGroup=null;var i,a=_createForOfIteratorHelper(this.extraStack);try{for(a.s();!(i=a.n()).done;)i.value.clipGroup=null}catch(o){a.e(o)}finally{a.f()}r.setAttributeNS(null,"clip-path",e.activeClipUrl)}e.activeClipUrl="url(#".concat(t,")"),this.tgrp=null}else this.pendingClip=null}},{key:"clip",value:function(e){this.pendingClip=e}},{key:"closePath",value:function(){var e=this.current;if(e.path){var t="".concat(e.path.getAttributeNS(null,"d"),"Z");e.path.setAttributeNS(null,"d",t)}}},{key:"setLeading",value:function(e){this.current.leading=-e}},{key:"setTextRise",value:function(e){this.current.textRise=e}},{key:"setTextRenderingMode",value:function(e){this.current.textRenderingMode=e}},{key:"setHScale",value:function(e){this.current.textHScale=e/100}},{key:"setRenderingIntent",value:function(e){}},{key:"setFlatness",value:function(e){}},{key:"setGState",value:function(e){var t,r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var n=_slicedToArray(t.value,2),a=n[0],o=n[1];switch(a){case"LW":this.setLineWidth(o);break;case"LC":this.setLineCap(o);break;case"LJ":this.setLineJoin(o);break;case"ML":this.setMiterLimit(o);break;case"D":this.setDash(o[0],o[1]);break;case"RI":this.setRenderingIntent(o);break;case"FL":this.setFlatness(o);break;case"Font":this.setFont(o);break;case"CA":this.setStrokeAlpha(o);break;case"ca":this.setFillAlpha(o);break;default:(0,i.warn)("Unimplemented graphic state operator ".concat(a))}}}catch(s){r.e(s)}finally{r.f()}}},{key:"fill",value:function(){var e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this.current,n=r.dashArray;1!==t&&n.length>0&&(n=n.map((function(e){return t*e}))),e.setAttributeNS(null,"stroke",r.strokeColor),e.setAttributeNS(null,"stroke-opacity",r.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",s(r.miterLimit)),e.setAttributeNS(null,"stroke-linecap",r.lineCap),e.setAttributeNS(null,"stroke-linejoin",r.lineJoin),e.setAttributeNS(null,"stroke-width",s(t*r.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",n.map(s).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",s(t*r.dashPhase)+"px")}},{key:"eoFill",value:function(){var e;null===(e=this.current.element)||void 0===e||e.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){var e;null===(e=this.current.element)||void 0===e||e.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(e)}},{key:"paintImageXObject",value:function(e){var t=this.getObject(e);t?this.paintInlineImageXObject(t):(0,i.warn)("Dependent image with object ID ".concat(e," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(e,t){var r=e.width,n=e.height,i=h(e,this.forceDataSchema,!!t),a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y","0"),a.setAttributeNS(null,"width",s(r)),a.setAttributeNS(null,"height",s(n)),this.current.element=a,this.clip("nonzero");var o=this.svgFactory.createElement("svg:image");o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i),o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y",s(-n)),o.setAttributeNS(null,"width",s(r)+"px"),o.setAttributeNS(null,"height",s(n)+"px"),o.setAttributeNS(null,"transform","scale(".concat(s(1/r)," ").concat(s(-1/n),")")),t?t.append(o):this._ensureTransformGroup().append(o)}},{key:"paintImageMaskXObject",value:function(e){var t=this.getObject(e.data,e);if(t.bitmap)(0,i.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");else{var r=this.current,n=t.width,a=t.height,o=r.fillColor;r.maskId="mask".concat(m++);var l=this.svgFactory.createElement("svg:mask");l.setAttributeNS(null,"id",r.maskId);var u=this.svgFactory.createElement("svg:rect");u.setAttributeNS(null,"x","0"),u.setAttributeNS(null,"y","0"),u.setAttributeNS(null,"width",s(n)),u.setAttributeNS(null,"height",s(a)),u.setAttributeNS(null,"fill",o),u.setAttributeNS(null,"mask","url(#".concat(r.maskId,")")),this.defs.append(l),this._ensureTransformGroup().append(u),this.paintInlineImageXObject(t,l)}}},{key:"paintFormXObjectBegin",value:function(e,t){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t){var r=t[2]-t[0],n=t[3]-t[1],i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x",t[0]),i.setAttributeNS(null,"y",t[1]),i.setAttributeNS(null,"width",s(r)),i.setAttributeNS(null,"height",s(n)),this.current.element=i,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(e){var t=this.svgFactory.create(e.width,e.height),r=this.svgFactory.createElement("svg:defs");t.append(r),this.defs=r;var n=this.svgFactory.createElement("svg:g");return n.setAttributeNS(null,"transform",l(e.transform)),t.append(n),this.svg=n,t}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(e),this.current.clipGroup=e}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",l(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}]),e}()}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__w_pdfjs_require__),r.exports}var __webpack_exports__={};return function(){var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return t.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return a.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return t.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return t.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return o.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return s.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return t.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return t.CMapCompressionType}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return t.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return l.GlobalWorkerOptions}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return t.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return t.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return t.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return r.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return n.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return r.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return t.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return t.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return n.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return t.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return n.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return u.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return t.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return t.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return t.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return c.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return r.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return t.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return r.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return n.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return n.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return n.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return n.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return n.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return n.loadScript}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return t.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return i.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return n.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return t.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return i.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return r.version}});var t=__w_pdfjs_require__(1),r=__w_pdfjs_require__(2),n=__w_pdfjs_require__(6),i=__w_pdfjs_require__(26),a=__w_pdfjs_require__(27),o=__w_pdfjs_require__(5),s=__w_pdfjs_require__(32),l=__w_pdfjs_require__(14),u=__w_pdfjs_require__(35),c=__w_pdfjs_require__(34)}(),__webpack_exports__}()},module.exports=factory()},52758:function(e){"use strict";function t(e){this._maxSize=e,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(e){return this._values[e]},t.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var r=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,i=/^\d/,a=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,o=/^\s*(['"]?)(.*?)(\1)\s*$/,s=new t(512),l=new t(512),u=new t(512);function c(e){return s.get(e)||s.set(e,f(e).map((function(e){return e.replace(o,"$2")})))}function f(e){return e.match(r)||[""]}function p(e){return"string"===typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function h(e){return!p(e)&&(function(e){return e.match(i)&&!e.match(n)}(e)||function(e){return a.test(e)}(e))}e.exports={Cache:t,split:f,normalizePath:c,setter:function(e){var t=c(e);return l.get(e)||l.set(e,(function(e,r){for(var n=0,i=t.length,a=e;n<i-1;){var o=t[n];if("__proto__"===o||"constructor"===o||"prototype"===o)return e;a=a[t[n++]]}a[t[n]]=r}))},getter:function(e,t){var r=c(e);return u.get(e)||u.set(e,(function(e){for(var n=0,i=r.length;n<i;){if(null==e&&t)return;e=e[r[n++]]}return e}))},join:function(e){return e.reduce((function(e,t){return e+(p(t)||n.test(t)?"["+t+"]":(e?".":"")+t)}),"")},forEach:function(e,t,r){!function(e,t,r){var n,i,a,o,s=e.length;for(i=0;i<s;i++)(n=e[i])&&(h(n)&&(n='"'+n+'"'),a=!(o=p(n))&&/^\d+$/.test(n),t.call(r,n,o,a,i,e))}(Array.isArray(e)?e:f(e),t,r)}}},6925:function(e,t,r){var n=r(57436);function i(e){this.mode=n.MODE_8BIT_BYTE,this.data=e}i.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},e.exports=i},94477:function(e){function t(){this.buffer=new Array,this.length=0}t.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var r=0;r<t;r++)this.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},32959:function(e){e.exports={L:1,M:0,Q:3,H:2}},932:function(e,t,r){var n=r(71745);function i(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&0==e[r];)r++;this.num=new Array(e.length-r+t);for(var n=0;n<e.length-r;n++)this.num[n]=e[n+r]}i.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var a=0;a<e.getLength();a++)t[r+a]^=n.gexp(n.glog(this.get(r))+n.glog(e.get(a)));return new i(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=n.glog(this.get(0))-n.glog(e.get(0)),r=new Array(this.getLength()),a=0;a<this.getLength();a++)r[a]=this.get(a);for(a=0;a<e.getLength();a++)r[a]^=n.gexp(n.glog(e.get(a))+t);return new i(r,0).mod(e)}},e.exports=i},35809:function(e,t,r){var n=r(6925),i=r(79841),a=r(94477),o=r(74444),s=r(932);function l(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var u=l.prototype;u.addData=function(e){var t=new n(e);this.dataList.push(t),this.dataCache=null},u.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},u.getModuleCount=function(){return this.moduleCount},u.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=i.getRSBlocks(e,this.errorCorrectLevel),r=new a,n=0,s=0;s<t.length;s++)n+=t[s].dataCount;for(s=0;s<this.dataList.length;s++){var l=this.dataList[s];r.put(l.mode,4),r.put(l.getLength(),o.getLengthInBits(l.mode,e)),l.write(r)}if(r.getLengthInBits()<=8*n)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},u.makeImpl=function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=l.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},u.setupPositionProbePattern=function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(this.modules[e+r][t+n]=0<=r&&r<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=n&&n<=4)},u.getBestMaskPattern=function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=o.getLostPoint(this);(0==r||e>n)&&(e=n,t=r)}return t},u.createMovieClip=function(e,t,r){var n=e.createEmptyMovieClip(t,r);this.make();for(var i=0;i<this.modules.length;i++)for(var a=1*i,o=0;o<this.modules[i].length;o++){var s=1*o;this.modules[i][o]&&(n.beginFill(0,100),n.moveTo(s,a),n.lineTo(s+1,a),n.lineTo(s+1,a+1),n.lineTo(s,a+1),n.endFill())}return n},u.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},u.setupPositionAdjustPattern=function(){for(var e=o.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],i=e[r];if(null==this.modules[n][i])for(var a=-2;a<=2;a++)for(var s=-2;s<=2;s++)this.modules[n+a][i+s]=-2==a||2==a||-2==s||2==s||0==a&&0==s}},u.setupTypeNumber=function(e){for(var t=o.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!e&&1==(t>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(r=0;r<18;r++){n=!e&&1==(t>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},u.setupTypeInfo=function(e,t){for(var r=this.errorCorrectLevel<<3|t,n=o.getBCHTypeInfo(r),i=0;i<15;i++){var a=!e&&1==(n>>i&1);i<6?this.modules[i][8]=a:i<8?this.modules[i+1][8]=a:this.modules[this.moduleCount-15+i][8]=a}for(i=0;i<15;i++){a=!e&&1==(n>>i&1);i<8?this.modules[8][this.moduleCount-i-1]=a:i<9?this.modules[8][15-i-1+1]=a:this.modules[8][15-i-1]=a}this.modules[this.moduleCount-8][8]=!e},u.mapData=function(e,t){for(var r=-1,n=this.moduleCount-1,i=7,a=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var l=0;l<2;l++)if(null==this.modules[n][s-l]){var u=!1;a<e.length&&(u=1==(e[a]>>>i&1)),o.getMask(t,n,s-l)&&(u=!u),this.modules[n][s-l]=u,-1==--i&&(a++,i=7)}if((n+=r)<0||this.moduleCount<=n){n-=r,r=-r;break}}},l.PAD0=236,l.PAD1=17,l.createData=function(e,t,r){for(var n=i.getRSBlocks(e,t),s=new a,u=0;u<r.length;u++){var c=r[u];s.put(c.mode,4),s.put(c.getLength(),o.getLengthInBits(c.mode,e)),c.write(s)}var f=0;for(u=0;u<n.length;u++)f+=n[u].dataCount;if(s.getLengthInBits()>8*f)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*f+")");for(s.getLengthInBits()+4<=8*f&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*f)&&(s.put(l.PAD0,8),!(s.getLengthInBits()>=8*f));)s.put(l.PAD1,8);return l.createBytes(s,n)},l.createBytes=function(e,t){for(var r=0,n=0,i=0,a=new Array(t.length),l=new Array(t.length),u=0;u<t.length;u++){var c=t[u].dataCount,f=t[u].totalCount-c;n=Math.max(n,c),i=Math.max(i,f),a[u]=new Array(c);for(var p=0;p<a[u].length;p++)a[u][p]=255&e.buffer[p+r];r+=c;var h=o.getErrorCorrectPolynomial(f),d=new s(a[u],h.getLength()-1).mod(h);l[u]=new Array(h.getLength()-1);for(p=0;p<l[u].length;p++){var v=p+d.getLength()-l[u].length;l[u][p]=v>=0?d.get(v):0}}var m=0;for(p=0;p<t.length;p++)m+=t[p].totalCount;var y=new Array(m),g=0;for(p=0;p<n;p++)for(u=0;u<t.length;u++)p<a[u].length&&(y[g++]=a[u][p]);for(p=0;p<i;p++)for(u=0;u<t.length;u++)p<l[u].length&&(y[g++]=l[u][p]);return y},e.exports=l},79841:function(e,t,r){var n=r(32959);function i(e,t){this.totalCount=e,this.dataCount=t}i.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],i.getRSBlocks=function(e,t){var r=i.getRsBlockTable(e,t);if(void 0==r)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=r.length/3,a=new Array,o=0;o<n;o++)for(var s=r[3*o+0],l=r[3*o+1],u=r[3*o+2],c=0;c<s;c++)a.push(new i(l,u));return a},i.getRsBlockTable=function(e,t){switch(t){case n.L:return i.RS_BLOCK_TABLE[4*(e-1)+0];case n.M:return i.RS_BLOCK_TABLE[4*(e-1)+1];case n.Q:return i.RS_BLOCK_TABLE[4*(e-1)+2];case n.H:return i.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},e.exports=i},71745:function(e){for(var t={glog:function(e){if(e<1)throw new Error("glog("+e+")");return t.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return t.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},r=0;r<8;r++)t.EXP_TABLE[r]=1<<r;for(r=8;r<256;r++)t.EXP_TABLE[r]=t.EXP_TABLE[r-4]^t.EXP_TABLE[r-5]^t.EXP_TABLE[r-6]^t.EXP_TABLE[r-8];for(r=0;r<255;r++)t.LOG_TABLE[t.EXP_TABLE[r]]=r;e.exports=t},57436:function(e){e.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}},74444:function(e,t,r){var n=r(57436),i=r(932),a=r(71745),o=0,s=1,l=2,u=3,c=4,f=5,p=6,h=7,d={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;d.getBCHDigit(t)-d.getBCHDigit(d.G15)>=0;)t^=d.G15<<d.getBCHDigit(t)-d.getBCHDigit(d.G15);return(e<<10|t)^d.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;d.getBCHDigit(t)-d.getBCHDigit(d.G18)>=0;)t^=d.G18<<d.getBCHDigit(t)-d.getBCHDigit(d.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return d.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case o:return(t+r)%2==0;case s:return t%2==0;case l:return r%3==0;case u:return(t+r)%3==0;case c:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case f:return t*r%2+t*r%3==0;case p:return(t*r%2+t*r%3)%2==0;case h:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new i([1],0),r=0;r<e;r++)t=t.multiply(new i([1,a.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:case n.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,n=0;n<t;n++)for(var i=0;i<t;i++){for(var a=0,o=e.isDark(n,i),s=-1;s<=1;s++)if(!(n+s<0||t<=n+s))for(var l=-1;l<=1;l++)i+l<0||t<=i+l||0==s&&0==l||o==e.isDark(n+s,i+l)&&a++;a>5&&(r+=3+a-5)}for(n=0;n<t-1;n++)for(i=0;i<t-1;i++){var u=0;e.isDark(n,i)&&u++,e.isDark(n+1,i)&&u++,e.isDark(n,i+1)&&u++,e.isDark(n+1,i+1)&&u++,0!=u&&4!=u||(r+=3)}for(n=0;n<t;n++)for(i=0;i<t-6;i++)e.isDark(n,i)&&!e.isDark(n,i+1)&&e.isDark(n,i+2)&&e.isDark(n,i+3)&&e.isDark(n,i+4)&&!e.isDark(n,i+5)&&e.isDark(n,i+6)&&(r+=40);for(i=0;i<t;i++)for(n=0;n<t-6;n++)e.isDark(n,i)&&!e.isDark(n+1,i)&&e.isDark(n+2,i)&&e.isDark(n+3,i)&&e.isDark(n+4,i)&&!e.isDark(n+5,i)&&e.isDark(n+6,i)&&(r+=40);var c=0;for(i=0;i<t;i++)for(n=0;n<t;n++)e.isDark(n,i)&&c++;return r+=10*(Math.abs(100*c/t/t-50)/5)}};e.exports=d},54460:function(e,t,r){"use strict";r.r(t),r.d(t,{Field:function(){return Te},FieldContext:function(){return g},FormProvider:function(){return Ze},List:function(){return Me},ListContext:function(){return Oe},default:function(){return Ye},useForm:function(){return ze},useWatch:function(){return qe}});var n=r(72791),i=r(87462),a=r(45987),o=r(4942),s=r(1413),l=r(93433),u=r(15671),c=r(43144),f=r(97326),p=r(60136),h=r(98557),d=r(85501),v=r(60632),m="RC_FORM_INTERNAL_HOOKS",y=function(){(0,v.ZP)(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},g=n.createContext({getFieldValue:y,getFieldsValue:y,getFieldError:y,getFieldWarning:y,getFieldsError:y,isFieldsTouched:y,isFieldTouched:y,isFieldValidating:y,isFieldsValidating:y,resetFields:y,setFields:y,setFieldValue:y,setFieldsValue:y,validateFields:y,submit:y,getInternalHooks:function(){return y(),{dispatch:y,initEntityValue:y,registerField:y,useSubscribe:y,setInitialValues:y,destroyForm:y,setCallbacks:y,registerWatch:y,getFields:y,setValidateMessages:y,setPreserve:y,getInitialValue:y}}});function _(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}var b=r(74165),x=r(15861);function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w.apply(this,arguments)}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P(e,t)}function k(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function E(e,t,r){return E=k()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&P(i,r.prototype),i},E.apply(null,arguments)}function C(e){var t="function"===typeof Map?new Map:void 0;return C=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return E(e,arguments,S(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),P(n,e)},C(e)}var A=/%[sdj%]/g;function T(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var r=e.field;t[r]=t[r]||[],t[r].push(e)})),t}function O(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=0,a=r.length;if("function"===typeof e)return e.apply(null,r);if("string"===typeof e){var o=e.replace(A,(function(e){if("%%"===e)return"%";if(i>=a)return e;switch(e){case"%s":return String(r[i++]);case"%d":return Number(r[i++]);case"%j":try{return JSON.stringify(r[i++])}catch(t){return"[Circular]"}break;default:return e}}));return o}return e}function M(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function I(e,t,r){var n=0,i=e.length;!function a(o){if(o&&o.length)r(o);else{var s=n;n+=1,s<i?t(e[s],a):r([])}}([])}var F=function(e){var t,r;function n(t,r){var n;return(n=e.call(this,"Async Validation Error")||this).errors=t,n.fields=r,n}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,P(t,r),n}(C(Error));function R(e,t,r,n,i){if(t.first){var a=new Promise((function(t,a){var o=function(e){var t=[];return Object.keys(e).forEach((function(r){t.push.apply(t,e[r]||[])})),t}(e);I(o,r,(function(e){return n(e),e.length?a(new F(e,T(e))):t(i)}))}));return a.catch((function(e){return e})),a}var o=!0===t.firstFields?Object.keys(e):t.firstFields||[],s=Object.keys(e),l=s.length,u=0,c=[],f=new Promise((function(t,a){var f=function(e){if(c.push.apply(c,e),++u===l)return n(c),c.length?a(new F(c,T(c))):t(i)};s.length||(n(c),t(i)),s.forEach((function(t){var n=e[t];-1!==o.indexOf(t)?I(n,r,f):function(e,t,r){var n=[],i=0,a=e.length;function o(e){n.push.apply(n,e||[]),++i===a&&r(n)}e.forEach((function(e){t(e,o)}))}(n,r,f)}))}));return f.catch((function(e){return e})),f}function D(e,t){return function(r){var n,i;return n=e.fullFields?function(e,t){for(var r=e,n=0;n<t.length;n++){if(void 0==r)return r;r=r[t[n]]}return r}(t,e.fullFields):t[r.field||e.fullField],(i=r)&&void 0!==i.message?(r.field=r.field||e.fullField,r.fieldValue=n,r):{message:"function"===typeof r?r():r,fieldValue:n,field:r.field||e.fullField}}}function j(e,t){if(t)for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];"object"===typeof n&&"object"===typeof e[r]?e[r]=w({},e[r],n):e[r]=n}return e}var L,N=function(e,t,r,n,i,a){!e.required||r.hasOwnProperty(e.field)&&!M(t,a||e.type)||n.push(O(i.messages.required,e.fullField))},z=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,B=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,Z={integer:function(e){return Z.number(e)&&parseInt(e,10)===e},float:function(e){return Z.number(e)&&!Z.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(t){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!Z.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(z)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(function(){if(L)return L;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",i=("\n(?:\n(?:"+n+":){7}(?:"+n+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+n+":){6}(?:"+r+"|:"+n+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+n+":){5}(?::"+r+"|(?::"+n+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+n+":){4}(?:(?::"+n+"){0,1}:"+r+"|(?::"+n+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+n+":){3}(?:(?::"+n+"){0,2}:"+r+"|(?::"+n+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+n+":){2}(?:(?::"+n+"){0,3}:"+r+"|(?::"+n+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+n+":){1}(?:(?::"+n+"){0,4}:"+r+"|(?::"+n+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+n+"){0,5}:"+r+"|(?::"+n+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+r+"$)|(?:^"+i+"$)"),o=new RegExp("^"+r+"$"),s=new RegExp("^"+i+"$"),l=function(e){return e&&e.exact?a:new RegExp("(?:"+t(e)+r+t(e)+")|(?:"+t(e)+i+t(e)+")","g")};l.v4=function(e){return e&&e.exact?o:new RegExp(""+t(e)+r+t(e),"g")},l.v6=function(e){return e&&e.exact?s:new RegExp(""+t(e)+i+t(e),"g")};var u=l.v4().source,c=l.v6().source;return L=new RegExp("(?:^(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+u+"|"+c+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i")}())},hex:function(e){return"string"===typeof e&&!!e.match(B)}},U={required:N,whitespace:function(e,t,r,n,i){(/^\s+$/.test(t)||""===t)&&n.push(O(i.messages.whitespace,e.fullField))},type:function(e,t,r,n,i){if(e.required&&void 0===t)N(e,t,r,n,i);else{var a=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(a)>-1?Z[a](t)||n.push(O(i.messages.types[a],e.fullField,e.type)):a&&typeof t!==e.type&&n.push(O(i.messages.types[a],e.fullField,e.type))}},range:function(e,t,r,n,i){var a="number"===typeof e.len,o="number"===typeof e.min,s="number"===typeof e.max,l=t,u=null,c="number"===typeof t,f="string"===typeof t,p=Array.isArray(t);if(c?u="number":f?u="string":p&&(u="array"),!u)return!1;p&&(l=t.length),f&&(l=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),a?l!==e.len&&n.push(O(i.messages[u].len,e.fullField,e.len)):o&&!s&&l<e.min?n.push(O(i.messages[u].min,e.fullField,e.min)):s&&!o&&l>e.max?n.push(O(i.messages[u].max,e.fullField,e.max)):o&&s&&(l<e.min||l>e.max)&&n.push(O(i.messages[u].range,e.fullField,e.min,e.max))},enum:function(e,t,r,n,i){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&n.push(O(i.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,t,r,n,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||n.push(O(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||n.push(O(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},V=function(e,t,r,n,i){var a=e.type,o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(M(t,a)&&!e.required)return r();U.required(e,t,n,o,i,a),M(t,a)||U.type(e,t,n,o,i)}r(o)},G={string:function(e,t,r,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(M(t,"string")&&!e.required)return r();U.required(e,t,n,a,i,"string"),M(t,"string")||(U.type(e,t,n,a,i),U.range(e,t,n,a,i),U.pattern(e,t,n,a,i),!0===e.whitespace&&U.whitespace(e,t,n,a,i))}r(a)},method:function(e,t,r,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(M(t)&&!e.required)return r();U.required(e,t,n,a,i),void 0!==t&&U.type(e,t,n,a,i)}r(a)},number:function(e,t,r,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(""===t&&(t=void 0),M(t)&&!e.required)return r();U.required(e,t,n,a,i),void 0!==t&&(U.type(e,t,n,a,i),U.range(e,t,n,a,i))}r(a)},boolean:function(e,t,r,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(M(t)&&!e.required)return r();U.required(e,t,n,a,i),void 0!==t&&U.type(e,t,n,a,i)}r(a)},regexp:function(e,t,r,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(M(t)&&!e.required)return r();U.required(e,t,n,a,i),M(t)||U.type(e,t,n,a,i)}r(a)},integer:function(e,t,r,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(M(t)&&!e.required)return r();U.required(e,t,n,a,i),void 0!==t&&(U.type(e,t,n,a,i),U.range(e,t,n,a,i))}r(a)},float:function(e,t,r,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(M(t)&&!e.required)return r();U.required(e,t,n,a,i),void 0!==t&&(U.type(e,t,n,a,i),U.range(e,t,n,a,i))}r(a)},array:function(e,t,r,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return r();U.required(e,t,n,a,i,"array"),void 0!==t&&null!==t&&(U.type(e,t,n,a,i),U.range(e,t,n,a,i))}r(a)},object:function(e,t,r,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(M(t)&&!e.required)return r();U.required(e,t,n,a,i),void 0!==t&&U.type(e,t,n,a,i)}r(a)},enum:function(e,t,r,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(M(t)&&!e.required)return r();U.required(e,t,n,a,i),void 0!==t&&U.enum(e,t,n,a,i)}r(a)},pattern:function(e,t,r,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(M(t,"string")&&!e.required)return r();U.required(e,t,n,a,i),M(t,"string")||U.pattern(e,t,n,a,i)}r(a)},date:function(e,t,r,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(M(t,"date")&&!e.required)return r();var o;if(U.required(e,t,n,a,i),!M(t,"date"))o=t instanceof Date?t:new Date(t),U.type(e,o,n,a,i),o&&U.range(e,o.getTime(),n,a,i)}r(a)},url:V,hex:V,email:V,required:function(e,t,r,n,i){var a=[],o=Array.isArray(t)?"array":typeof t;U.required(e,t,n,a,i,o),r(a)},any:function(e,t,r,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(M(t)&&!e.required)return r();U.required(e,t,n,a,i)}r(a)}};function W(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var q=W(),H=function(){function e(e){this.rules=null,this._messages=q,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(r){var n=e[r];t.rules[r]=Array.isArray(n)?n:[n]}))},t.messages=function(e){return e&&(this._messages=j(W(),e)),this._messages},t.validate=function(t,r,n){var i=this;void 0===r&&(r={}),void 0===n&&(n=function(){});var a=t,o=r,s=n;if("function"===typeof o&&(s=o,o={}),!this.rules||0===Object.keys(this.rules).length)return s&&s(null,a),Promise.resolve(a);if(o.messages){var l=this.messages();l===q&&(l=W()),j(l,o.messages),o.messages=l}else o.messages=this.messages();var u={};(o.keys||Object.keys(this.rules)).forEach((function(e){var r=i.rules[e],n=a[e];r.forEach((function(r){var o=r;"function"===typeof o.transform&&(a===t&&(a=w({},a)),n=a[e]=o.transform(n)),(o="function"===typeof o?{validator:o}:w({},o)).validator=i.getValidationMethod(o),o.validator&&(o.field=e,o.fullField=o.fullField||e,o.type=i.getType(o),u[e]=u[e]||[],u[e].push({rule:o,value:n,source:a,field:e}))}))}));var c={};return R(u,o,(function(t,r){var n,i=t.rule,s=("object"===i.type||"array"===i.type)&&("object"===typeof i.fields||"object"===typeof i.defaultField);function l(e,t){return w({},t,{fullField:i.fullField+"."+e,fullFields:i.fullFields?[].concat(i.fullFields,[e]):[e]})}function u(n){void 0===n&&(n=[]);var u=Array.isArray(n)?n:[n];!o.suppressWarning&&u.length&&e.warning("async-validator:",u),u.length&&void 0!==i.message&&(u=[].concat(i.message));var f=u.map(D(i,a));if(o.first&&f.length)return c[i.field]=1,r(f);if(s){if(i.required&&!t.value)return void 0!==i.message?f=[].concat(i.message).map(D(i,a)):o.error&&(f=[o.error(i,O(o.messages.required,i.field))]),r(f);var p={};i.defaultField&&Object.keys(t.value).map((function(e){p[e]=i.defaultField})),p=w({},p,t.rule.fields);var h={};Object.keys(p).forEach((function(e){var t=p[e],r=Array.isArray(t)?t:[t];h[e]=r.map(l.bind(null,e))}));var d=new e(h);d.messages(o.messages),t.rule.options&&(t.rule.options.messages=o.messages,t.rule.options.error=o.error),d.validate(t.value,t.rule.options||o,(function(e){var t=[];f&&f.length&&t.push.apply(t,f),e&&e.length&&t.push.apply(t,e),r(t.length?t:null)}))}else r(f)}if(s=s&&(i.required||!i.required&&t.value),i.field=t.field,i.asyncValidator)n=i.asyncValidator(i,t.value,u,t.source,o);else if(i.validator){try{n=i.validator(i,t.value,u,t.source,o)}catch(f){null==console.error||console.error(f),o.suppressValidatorError||setTimeout((function(){throw f}),0),u(f.message)}!0===n?u():!1===n?u("function"===typeof i.message?i.message(i.fullField||i.field):i.message||(i.fullField||i.field)+" fails"):n instanceof Array?u(n):n instanceof Error&&u(n.message)}n&&n.then&&n.then((function(){return u()}),(function(e){return u(e)}))}),(function(e){!function(e){var t=[],r={};function n(e){var r;Array.isArray(e)?t=(r=t).concat.apply(r,e):t.push(e)}for(var i=0;i<e.length;i++)n(e[i]);t.length?(r=T(t),s(t,r)):s(null,a)}(e)}),a)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!G.hasOwnProperty(e.type))throw new Error(O("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),r=t.indexOf("message");return-1!==r&&t.splice(r,1),1===t.length&&"required"===t[0]?G.required:G[this.getType(e)]||void 0},e}();H.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");G[e]=t},H.warning=function(){},H.messages=q,H.validators=G;var Y="'${name}' is not a valid ${type}",X={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Y,method:Y,array:Y,object:Y,number:Y,date:Y,boolean:Y,integer:Y,float:Y,regexp:Y,email:Y,url:Y,hex:Y},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},K=r(71002);function $(e,t){for(var r=e,n=0;n<t.length;n+=1){if(null===r||void 0===r)return;r=r[t[n]]}return r}var J=r(83878),Q=r(59199),ee=r(40181),te=r(25267);function re(e,t,r,n){if(!t.length)return r;var i,a,o=(i=t,(0,J.Z)(i)||(0,Q.Z)(i)||(0,ee.Z)(i)||(0,te.Z)()),u=o[0],c=o.slice(1);return a=e||"number"!==typeof u?Array.isArray(e)?(0,l.Z)(e):(0,s.Z)({},e):[],n&&void 0===r&&1===c.length?delete a[u][c[0]]:a[u]=re(a[u],c,r,n),a}function ne(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&n&&void 0===r&&!$(e,t.slice(0,-1))?e:re(e,t,r,n)}function ie(e){return Array.isArray(e)?function(e){return e.map((function(e){return ie(e)}))}(e):"object"===(0,K.Z)(e)&&null!==e?function(e){if(Object.getPrototypeOf(e)===Object.prototype){var t={};for(var r in e)t[r]=ie(e[r]);return t}return e}(e):e}var ae=ie;function oe(e){return _(e)}function se(e,t){return $(e,t)}function le(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=ne(e,t,r,n);return i}function ue(e,t){var r={};return t.forEach((function(t){var n=se(e,t);r=le(r,t,n)})),r}function ce(e,t){return e&&e.some((function(e){return de(e,t)}))}function fe(e){return"object"===(0,K.Z)(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function pe(e,t){var r=Array.isArray(e)?(0,l.Z)(e):(0,s.Z)({},e);return t?(Object.keys(t).forEach((function(e){var n=r[e],i=t[e],a=fe(n)&&fe(i);r[e]=a?pe(n,i||{}):ae(i)})),r):r}function he(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce((function(e,t){return pe(e,t)}),e)}function de(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,r){return t[r]===e}))}function ve(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===(0,K.Z)(t.target)&&e in t.target?t.target[e]:t}function me(e,t,r){var n=e.length;if(t<0||t>=n||r<0||r>=n)return e;var i=e[t],a=t-r;return a>0?[].concat((0,l.Z)(e.slice(0,r)),[i],(0,l.Z)(e.slice(r,t)),(0,l.Z)(e.slice(t+1,n))):a<0?[].concat((0,l.Z)(e.slice(0,t)),(0,l.Z)(e.slice(t+1,r+1)),[i],(0,l.Z)(e.slice(r+1,n))):e}var ye=H;function ge(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var r=e.slice(2,-1);return t[r]}))}var _e="CODE_LOGIC_ERROR";function be(e,t,r,n,i){return xe.apply(this,arguments)}function xe(){return xe=(0,x.Z)((0,b.Z)().mark((function e(t,r,i,a,u){var c,f,p,h,d,v,m,y,g;return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(c=(0,s.Z)({},i)).ruleIndex,c.validator&&(f=c.validator,c.validator=function(){try{return f.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject(_e)}}),p=null,c&&"array"===c.type&&c.defaultField&&(p=c.defaultField,delete c.defaultField),h=new ye((0,o.Z)({},t,[c])),d=he({},X,a.validateMessages),h.messages(d),v=[],e.prev=9,e.next=12,Promise.resolve(h.validate((0,o.Z)({},t,r),(0,s.Z)({},a)));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),e.t0.errors&&(v=e.t0.errors.map((function(e,t){var r=e.message,i=r===_e?d.default:r;return n.isValidElement(i)?n.cloneElement(i,{key:"error_".concat(t)}):i})));case 17:if(v.length||!p){e.next=22;break}return e.next=20,Promise.all(r.map((function(e,r){return be("".concat(t,".").concat(r),e,p,a,u)})));case 20:return m=e.sent,e.abrupt("return",m.reduce((function(e,t){return[].concat((0,l.Z)(e),(0,l.Z)(t))}),[]));case 22:return y=(0,s.Z)((0,s.Z)({},i),{},{name:t,enum:(i.enum||[]).join(", ")},u),g=v.map((function(e){return"string"===typeof e?ge(e,y):e})),e.abrupt("return",g);case 25:case"end":return e.stop()}}),e,null,[[9,14]])}))),xe.apply(this,arguments)}function we(e,t,r,n,i,a){var o,l=e.join("."),u=r.map((function(e,t){var r=e.validator,n=(0,s.Z)((0,s.Z)({},e),{},{ruleIndex:t});return r&&(n.validator=function(e,t,n){var i=!1,a=r(e,t,(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Promise.resolve().then((function(){(0,v.ZP)(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||n.apply(void 0,t)}))}));i=a&&"function"===typeof a.then&&"function"===typeof a.catch,(0,v.ZP)(i,"`callback` is deprecated. Please return a promise instead."),i&&a.then((function(){n()})).catch((function(e){n(e||" ")}))}),n})).sort((function(e,t){var r=e.warningOnly,n=e.ruleIndex,i=t.warningOnly,a=t.ruleIndex;return!!r===!!i?n-a:r?1:-1}));if(!0===i)o=new Promise(function(){var e=(0,x.Z)((0,b.Z)().mark((function e(r,i){var o,s,c;return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=0;case 1:if(!(o<u.length)){e.next=12;break}return s=u[o],e.next=5,be(l,t,s,n,a);case 5:if(!(c=e.sent).length){e.next=9;break}return i([{errors:c,rule:s}]),e.abrupt("return");case 9:o+=1,e.next=1;break;case 12:r([]);case 13:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}());else{var c=u.map((function(e){return be(l,t,e,n,a).then((function(t){return{errors:t,rule:e}}))}));o=(i?function(e){return Pe.apply(this,arguments)}(c):function(e){return Se.apply(this,arguments)}(c)).then((function(e){return Promise.reject(e)}))}return o.catch((function(e){return e})),o}function Se(){return(Se=(0,x.Z)((0,b.Z)().mark((function e(t){return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,(0,l.Z)(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(){return(Pe=(0,x.Z)((0,b.Z)().mark((function e(t){var r;return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=0,e.abrupt("return",new Promise((function(e){t.forEach((function(n){n.then((function(n){n.errors.length&&e([n]),(r+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ke=["name"],Ee=[];function Ce(e,t,r,n,i,a){return"function"===typeof e?e(t,r,"source"in a?{source:a.source}:{}):n!==i}var Ae=function(e){(0,p.Z)(r,e);var t=(0,h.Z)(r);function r(e){var i;((0,u.Z)(this,r),(i=t.call(this,e)).state={resetCount:0},i.cancelRegisterFunc=null,i.mounted=!1,i.touched=!1,i.dirty=!1,i.validatePromise=null,i.prevValidating=void 0,i.errors=Ee,i.warnings=Ee,i.cancelRegister=function(){var e=i.props,t=e.preserve,r=e.isListField,n=e.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(r,t,oe(n)),i.cancelRegisterFunc=null},i.getNamePath=function(){var e=i.props,t=e.name,r=e.fieldContext.prefixName,n=void 0===r?[]:r;return void 0!==t?[].concat((0,l.Z)(n),(0,l.Z)(t)):[]},i.getRules=function(){var e=i.props,t=e.rules,r=void 0===t?[]:t,n=e.fieldContext;return r.map((function(e){return"function"===typeof e?e(n):e}))},i.refresh=function(){i.mounted&&i.setState((function(e){return{resetCount:e.resetCount+1}}))},i.triggerMetaEvent=function(e){var t=i.props.onMetaChange;null===t||void 0===t||t((0,s.Z)((0,s.Z)({},i.getMeta()),{},{destroy:e}))},i.onStoreChange=function(e,t,r){var n=i.props,a=n.shouldUpdate,o=n.dependencies,s=void 0===o?[]:o,l=n.onReset,u=r.store,c=i.getNamePath(),f=i.getValue(e),p=i.getValue(u),h=t&&ce(t,c);switch("valueUpdate"===r.type&&"external"===r.source&&f!==p&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=Ee,i.warnings=Ee,i.triggerMetaEvent()),r.type){case"reset":if(!t||h)return i.touched=!1,i.dirty=!1,i.validatePromise=null,i.errors=Ee,i.warnings=Ee,i.triggerMetaEvent(),null===l||void 0===l||l(),void i.refresh();break;case"remove":if(a)return void i.reRender();break;case"setField":if(h){var d=r.data;return"touched"in d&&(i.touched=d.touched),"validating"in d&&!("originRCField"in d)&&(i.validatePromise=d.validating?Promise.resolve([]):null),"errors"in d&&(i.errors=d.errors||Ee),"warnings"in d&&(i.warnings=d.warnings||Ee),i.dirty=!0,i.triggerMetaEvent(),void i.reRender()}if(a&&!c.length&&Ce(a,e,u,f,p,r))return void i.reRender();break;case"dependenciesUpdate":if(s.map(oe).some((function(e){return ce(r.relatedFields,e)})))return void i.reRender();break;default:if(h||(!s.length||c.length||a)&&Ce(a,e,u,f,p,r))return void i.reRender()}!0===a&&i.reRender()},i.validateRules=function(e){var t=i.getNamePath(),r=i.getValue(),n=Promise.resolve().then((function(){if(!i.mounted)return[];var a=i.props,o=a.validateFirst,s=void 0!==o&&o,u=a.messageVariables,c=(e||{}).triggerName,f=i.getRules();c&&(f=f.filter((function(e){return e})).filter((function(e){var t=e.validateTrigger;return!t||_(t).includes(c)})));var p=we(t,r,f,e,s,u);return p.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee;if(i.validatePromise===n){var t;i.validatePromise=null;var r=[],a=[];null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,n=e.errors,i=void 0===n?Ee:n;t?a.push.apply(a,(0,l.Z)(i)):r.push.apply(r,(0,l.Z)(i))})),i.errors=r,i.warnings=a,i.triggerMetaEvent(),i.reRender()}})),p}));return i.validatePromise=n,i.dirty=!0,i.errors=Ee,i.warnings=Ee,i.triggerMetaEvent(),i.reRender(),n},i.isFieldValidating=function(){return!!i.validatePromise},i.isFieldTouched=function(){return i.touched},i.isFieldDirty=function(){return!(!i.dirty&&void 0===i.props.initialValue)||void 0!==(0,i.props.fieldContext.getInternalHooks(m).getInitialValue)(i.getNamePath())},i.getErrors=function(){return i.errors},i.getWarnings=function(){return i.warnings},i.isListField=function(){return i.props.isListField},i.isList=function(){return i.props.isList},i.isPreserve=function(){return i.props.preserve},i.getMeta=function(){return i.prevValidating=i.isFieldValidating(),{touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath()}},i.getOnlyChild=function(e){if("function"===typeof e){var t=i.getMeta();return(0,s.Z)((0,s.Z)({},i.getOnlyChild(e(i.getControlled(),t,i.props.fieldContext))),{},{isFunction:!0})}var r=(0,d.Z)(e);return 1===r.length&&n.isValidElement(r[0])?{child:r[0],isFunction:!1}:{child:r,isFunction:!1}},i.getValue=function(e){var t=i.props.fieldContext.getFieldsValue,r=i.getNamePath();return se(e||t(!0),r)},i.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i.props,r=t.trigger,n=t.validateTrigger,a=t.getValueFromEvent,l=t.normalize,u=t.valuePropName,c=t.getValueProps,f=t.fieldContext,p=void 0!==n?n:f.validateTrigger,h=i.getNamePath(),d=f.getInternalHooks,v=f.getFieldsValue,y=d(m),g=y.dispatch,b=i.getValue(),x=c||function(e){return(0,o.Z)({},u,e)},w=e[r],S=(0,s.Z)((0,s.Z)({},e),x(b));S[r]=function(){var e;i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];e=a?a.apply(void 0,r):ve.apply(void 0,[u].concat(r)),l&&(e=l(e,b,v(!0))),g({type:"updateValue",namePath:h,value:e}),w&&w.apply(void 0,r)};var P=_(p||[]);return P.forEach((function(e){var t=S[e];S[e]=function(){t&&t.apply(void 0,arguments);var r=i.props.rules;r&&r.length&&g({type:"validateField",namePath:h,triggerName:e})}})),S},e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(m).initEntityValue)((0,f.Z)(i));return i}return(0,c.Z)(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,r=e.fieldContext;if(this.mounted=!0,r){var n=(0,r.getInternalHooks)(m).registerField;this.cancelRegisterFunc=n(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,r=this.props.children,i=this.getOnlyChild(r),a=i.child;return i.isFunction?e=a:n.isValidElement(a)?e=n.cloneElement(a,this.getControlled(a.props)):((0,v.ZP)(!a,"`children` of Field is not validate ReactElement."),e=a),n.createElement(n.Fragment,{key:t},e)}}]),r}(n.Component);Ae.contextType=g,Ae.defaultProps={trigger:"onChange",valuePropName:"value"};var Te=function(e){var t=e.name,r=(0,a.Z)(e,ke),o=n.useContext(g),s=void 0!==t?oe(t):void 0,l="keep";return r.isListField||(l="_".concat((s||[]).join("_"))),n.createElement(Ae,(0,i.Z)({key:l,name:s},r,{fieldContext:o}))},Oe=n.createContext(null),Me=function(e){var t=e.name,r=e.initialValue,i=e.children,a=e.rules,o=e.validateTrigger,u=n.useContext(g),c=n.useRef({keys:[],id:0}).current,f=n.useMemo((function(){var e=oe(u.prefixName)||[];return[].concat((0,l.Z)(e),(0,l.Z)(oe(t)))}),[u.prefixName,t]),p=n.useMemo((function(){return(0,s.Z)((0,s.Z)({},u),{},{prefixName:f})}),[u,f]),h=n.useMemo((function(){return{getKey:function(e){var t=f.length,r=e[t];return[c.keys[r],e.slice(t+1)]}}}),[f]);if("function"!==typeof i)return(0,v.ZP)(!1,"Form.List only accepts function as children."),null;return n.createElement(Oe.Provider,{value:h},n.createElement(g.Provider,{value:p},n.createElement(Te,{name:[],shouldUpdate:function(e,t,r){return"internal"!==r.source&&e!==t},rules:a,validateTrigger:o,initialValue:r,isList:!0},(function(e,t){var r=e.value,n=void 0===r?[]:r,a=e.onChange,o=u.getFieldValue,s=function(){return o(f||[])||[]},p={add:function(e,t){var r=s();t>=0&&t<=r.length?(c.keys=[].concat((0,l.Z)(c.keys.slice(0,t)),[c.id],(0,l.Z)(c.keys.slice(t))),a([].concat((0,l.Z)(r.slice(0,t)),[e],(0,l.Z)(r.slice(t))))):(c.keys=[].concat((0,l.Z)(c.keys),[c.id]),a([].concat((0,l.Z)(r),[e]))),c.id+=1},remove:function(e){var t=s(),r=new Set(Array.isArray(e)?e:[e]);r.size<=0||(c.keys=c.keys.filter((function(e,t){return!r.has(t)})),a(t.filter((function(e,t){return!r.has(t)}))))},move:function(e,t){if(e!==t){var r=s();e<0||e>=r.length||t<0||t>=r.length||(c.keys=me(c.keys,e,t),a(me(r,e,t)))}}},h=n||[];return Array.isArray(h)||(h=[]),i(h.map((function(e,t){var r=c.keys[t];return void 0===r&&(c.keys[t]=c.id,r=c.keys[t],c.id+=1),{name:t,key:r,isListField:!0}})),p,t)}))))},Ie=r(29439);var Fe="__@field_split__";function Re(e){return e.map((function(e){return"".concat((0,K.Z)(e),":").concat(e)})).join(Fe)}var De=function(){function e(){(0,u.Z)(this,e),this.kvs=new Map}return(0,c.Z)(e,[{key:"set",value:function(e,t){this.kvs.set(Re(e),t)}},{key:"get",value:function(e){return this.kvs.get(Re(e))}},{key:"update",value:function(e,t){var r=t(this.get(e));r?this.set(e,r):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(Re(e))}},{key:"map",value:function(e){return(0,l.Z)(this.kvs.entries()).map((function(t){var r=(0,Ie.Z)(t,2),n=r[0],i=r[1],a=n.split(Fe);return e({key:a.map((function(e){var t=e.match(/^([^:]*):(.*)$/),r=(0,Ie.Z)(t,3),n=r[1],i=r[2];return"number"===n?Number(i):i})),value:i})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var r=t.key,n=t.value;return e[r.join(".")]=n,null})),e}}]),e}(),je=De,Le=["name","errors"],Ne=(0,c.Z)((function e(t){var r=this;(0,u.Z)(this,e),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:r.getFieldValue,getFieldsValue:r.getFieldsValue,getFieldError:r.getFieldError,getFieldWarning:r.getFieldWarning,getFieldsError:r.getFieldsError,isFieldsTouched:r.isFieldsTouched,isFieldTouched:r.isFieldTouched,isFieldValidating:r.isFieldValidating,isFieldsValidating:r.isFieldsValidating,resetFields:r.resetFields,setFields:r.setFields,setFieldValue:r.setFieldValue,setFieldsValue:r.setFieldsValue,validateFields:r.validateFields,submit:r.submit,_init:!0,getInternalHooks:r.getInternalHooks}},this.getInternalHooks=function(e){return e===m?(r.formHooked=!0,{dispatch:r.dispatch,initEntityValue:r.initEntityValue,registerField:r.registerField,useSubscribe:r.useSubscribe,setInitialValues:r.setInitialValues,destroyForm:r.destroyForm,setCallbacks:r.setCallbacks,setValidateMessages:r.setValidateMessages,getFields:r.getFields,setPreserve:r.setPreserve,getInitialValue:r.getInitialValue,registerWatch:r.registerWatch}):((0,v.ZP)(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){r.subscribable=e},this.prevWithoutPreserves=null,this.setInitialValues=function(e,t){if(r.initialValues=e||{},t){var n,i=he({},e,r.store);null===(n=r.prevWithoutPreserves)||void 0===n||n.map((function(t){var r=t.key;i=le(i,r,se(e,r))})),r.prevWithoutPreserves=null,r.updateStore(i)}},this.destroyForm=function(){var e=new je;r.getFieldEntities(!0).forEach((function(t){r.isMergedPreserve(t.isPreserve())||e.set(t.getNamePath(),!0)})),r.prevWithoutPreserves=e},this.getInitialValue=function(e){var t=se(r.initialValues,e);return e.length?ae(t):t},this.setCallbacks=function(e){r.callbacks=e},this.setValidateMessages=function(e){r.validateMessages=e},this.setPreserve=function(e){r.preserve=e},this.watchList=[],this.registerWatch=function(e){return r.watchList.push(e),function(){r.watchList=r.watchList.filter((function(t){return t!==e}))}},this.notifyWatch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(r.watchList.length){var t=r.getFieldsValue();r.watchList.forEach((function(r){r(t,e)}))}},this.timeoutId=null,this.warningUnhooked=function(){0},this.updateStore=function(e){r.store=e},this.getFieldEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?r.fieldEntities.filter((function(e){return e.getNamePath().length})):r.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new je;return r.getFieldEntities(e).forEach((function(e){var r=e.getNamePath();t.set(r,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return r.getFieldEntities(!0);var t=r.getFieldsMap(!0);return e.map((function(e){var r=oe(e);return t.get(r)||{INVALIDATE_NAME_PATH:oe(e)}}))},this.getFieldsValue=function(e,t){if(r.warningUnhooked(),!0===e&&!t)return r.store;var n=r.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),i=[];return n.forEach((function(r){var n,a="INVALIDATE_NAME_PATH"in r?r.INVALIDATE_NAME_PATH:r.getNamePath();if(e||!(null===(n=r.isListField)||void 0===n?void 0:n.call(r)))if(t){var o="getMeta"in r?r.getMeta():null;t(o)&&i.push(a)}else i.push(a)})),ue(r.store,i.map(oe))},this.getFieldValue=function(e){r.warningUnhooked();var t=oe(e);return se(r.store,t)},this.getFieldsError=function(e){return r.warningUnhooked(),r.getFieldEntitiesForNamePathList(e).map((function(t,r){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:oe(e[r]),errors:[],warnings:[]}}))},this.getFieldError=function(e){r.warningUnhooked();var t=oe(e);return r.getFieldsError([t])[0].errors},this.getFieldWarning=function(e){r.warningUnhooked();var t=oe(e);return r.getFieldsError([t])[0].warnings},this.isFieldsTouched=function(){r.warningUnhooked();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,a=t[0],o=t[1],s=!1;0===t.length?i=null:1===t.length?Array.isArray(a)?(i=a.map(oe),s=!1):(i=null,s=a):(i=a.map(oe),s=o);var u=r.getFieldEntities(!0),c=function(e){return e.isFieldTouched()};if(!i)return s?u.every(c):u.some(c);var f=new je;i.forEach((function(e){f.set(e,[])})),u.forEach((function(e){var t=e.getNamePath();i.forEach((function(r){r.every((function(e,r){return t[r]===e}))&&f.update(r,(function(t){return[].concat((0,l.Z)(t),[e])}))}))}));var p=function(e){return e.some(c)},h=f.map((function(e){return e.value}));return s?h.every(p):h.some(p)},this.isFieldTouched=function(e){return r.warningUnhooked(),r.isFieldsTouched([e])},this.isFieldsValidating=function(e){r.warningUnhooked();var t=r.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var n=e.map(oe);return t.some((function(e){var t=e.getNamePath();return ce(n,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return r.warningUnhooked(),r.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new je,n=r.getFieldEntities(!0);n.forEach((function(e){var r=e.props.initialValue,n=e.getNamePath();if(void 0!==r){var i=t.get(n)||new Set;i.add({entity:e,value:r}),t.set(n,i)}}));var i,a=function(n){n.forEach((function(n){if(void 0!==n.props.initialValue){var i=n.getNamePath();if(void 0!==r.getInitialValue(i))(0,v.ZP)(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var a=t.get(i);if(a&&a.size>1)(0,v.ZP)(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(a){var o=r.getFieldValue(i);e.skipExist&&void 0!==o||r.updateStore(le(r.store,i,(0,l.Z)(a)[0].value))}}}}))};e.entities?i=e.entities:e.namePathList?(i=[],e.namePathList.forEach((function(e){var r,n=t.get(e);n&&(r=i).push.apply(r,(0,l.Z)((0,l.Z)(n).map((function(e){return e.entity}))))}))):i=n,a(i)},this.resetFields=function(e){r.warningUnhooked();var t=r.store;if(!e)return r.updateStore(he({},r.initialValues)),r.resetWithFieldInitialValue(),r.notifyObservers(t,null,{type:"reset"}),void r.notifyWatch();var n=e.map(oe);n.forEach((function(e){var t=r.getInitialValue(e);r.updateStore(le(r.store,e,t))})),r.resetWithFieldInitialValue({namePathList:n}),r.notifyObservers(t,n,{type:"reset"}),r.notifyWatch(n)},this.setFields=function(e){r.warningUnhooked();var t=r.store,n=[];e.forEach((function(e){var i=e.name,o=(e.errors,(0,a.Z)(e,Le)),s=oe(i);n.push(s),"value"in o&&r.updateStore(le(r.store,s,o.value)),r.notifyObservers(t,[s],{type:"setField",data:e})})),r.notifyWatch(n)},this.getFields=function(){return r.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),n=e.getMeta(),i=(0,s.Z)((0,s.Z)({},n),{},{name:t,value:r.getFieldValue(t)});return Object.defineProperty(i,"originRCField",{value:!0}),i}))},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var n=e.getNamePath();void 0===se(r.store,n)&&r.updateStore(le(r.store,n,t))}},this.isMergedPreserve=function(e){var t=void 0!==e?e:r.preserve;return null===t||void 0===t||t},this.registerField=function(e){r.fieldEntities.push(e);var t=e.getNamePath();if(r.notifyWatch([t]),void 0!==e.props.initialValue){var n=r.store;r.resetWithFieldInitialValue({entities:[e],skipExist:!0}),r.notifyObservers(n,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(n,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(r.fieldEntities=r.fieldEntities.filter((function(t){return t!==e})),!r.isMergedPreserve(i)&&(!n||a.length>1)){var o=n?void 0:r.getInitialValue(t);if(t.length&&r.getFieldValue(t)!==o&&r.fieldEntities.every((function(e){return!de(e.getNamePath(),t)}))){var s=r.store;r.updateStore(le(s,t,o,!0)),r.notifyObservers(s,[t],{type:"remove"}),r.triggerDependenciesUpdate(s,t)}}r.notifyWatch([t])}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,n=e.value;r.updateValue(t,n);break;case"validateField":var i=e.namePath,a=e.triggerName;r.validateFields([i],{triggerName:a})}},this.notifyObservers=function(e,t,n){if(r.subscribable){var i=(0,s.Z)((0,s.Z)({},n),{},{store:r.getFieldsValue(!0)});r.getFieldEntities().forEach((function(r){(0,r.onStoreChange)(e,t,i)}))}else r.forceRootUpdate()},this.triggerDependenciesUpdate=function(e,t){var n=r.getDependencyChildrenFields(t);return n.length&&r.validateFields(n),r.notifyObservers(e,n,{type:"dependenciesUpdate",relatedFields:[t].concat((0,l.Z)(n))}),n},this.updateValue=function(e,t){var n=oe(e),i=r.store;r.updateStore(le(r.store,n,t)),r.notifyObservers(i,[n],{type:"valueUpdate",source:"internal"}),r.notifyWatch([n]);var a=r.triggerDependenciesUpdate(i,n),o=r.callbacks.onValuesChange;o&&o(ue(r.store,[n]),r.getFieldsValue());r.triggerOnFieldsChange([n].concat((0,l.Z)(a)))},this.setFieldsValue=function(e){r.warningUnhooked();var t=r.store;if(e){var n=he(r.store,e);r.updateStore(n)}r.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),r.notifyWatch()},this.setFieldValue=function(e,t){r.setFields([{name:e,value:t}])},this.getDependencyChildrenFields=function(e){var t=new Set,n=[],i=new je;r.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var r=oe(t);i.update(r,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(r){(i.get(r)||new Set).forEach((function(r){if(!t.has(r)){t.add(r);var i=r.getNamePath();r.isFieldDirty()&&i.length&&(n.push(i),e(i))}}))}(e),n},this.triggerOnFieldsChange=function(e,t){var n=r.callbacks.onFieldsChange;if(n){var i=r.getFields();if(t){var a=new je;t.forEach((function(e){var t=e.name,r=e.errors;a.set(t,r)})),i.forEach((function(e){e.errors=a.get(e.name)||e.errors}))}n(i.filter((function(t){var r=t.name;return ce(e,r)})),i)}},this.validateFields=function(e,t){r.warningUnhooked();var n=!!e,i=n?e.map(oe):[],a=[];r.getFieldEntities(!0).forEach((function(o){if(n||i.push(o.getNamePath()),(null===t||void 0===t?void 0:t.recursive)&&n){var u=o.getNamePath();u.every((function(t,r){return e[r]===t||void 0===e[r]}))&&i.push(u)}if(o.props.rules&&o.props.rules.length){var c=o.getNamePath();if(!n||ce(i,c)){var f=o.validateRules((0,s.Z)({validateMessages:(0,s.Z)((0,s.Z)({},X),r.validateMessages)},t));a.push(f.then((function(){return{name:c,errors:[],warnings:[]}})).catch((function(e){var t,r=[],n=[];return null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,i=e.errors;t?n.push.apply(n,(0,l.Z)(i)):r.push.apply(r,(0,l.Z)(i))})),r.length?Promise.reject({name:c,errors:r,warnings:n}):{name:c,errors:r,warnings:n}})))}}}));var o=function(e){var t=!1,r=e.length,n=[];return e.length?new Promise((function(i,a){e.forEach((function(e,o){e.catch((function(e){return t=!0,e})).then((function(e){r-=1,n[o]=e,r>0||(t&&a(n),i(n))}))}))})):Promise.resolve([])}(a);r.lastValidatePromise=o,o.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));r.notifyObservers(r.store,t,{type:"validateFinish"}),r.triggerOnFieldsChange(t,e)}));var u=o.then((function(){return r.lastValidatePromise===o?Promise.resolve(r.getFieldsValue(i)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:r.getFieldsValue(i),errorFields:t,outOfDate:r.lastValidatePromise!==o})}));return u.catch((function(e){return e})),u},this.submit=function(){r.warningUnhooked(),r.validateFields().then((function(e){var t=r.callbacks.onFinish;if(t)try{t(e)}catch(n){console.error(n)}})).catch((function(e){var t=r.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t}));var ze=function(e){var t=n.useRef(),r=n.useState({}),i=(0,Ie.Z)(r,2)[1];if(!t.current)if(e)t.current=e;else{var a=new Ne((function(){i({})}));t.current=a.getForm()}return[t.current]},Be=n.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Ze=function(e){var t=e.validateMessages,r=e.onFormChange,i=e.onFormFinish,a=e.children,l=n.useContext(Be),u=n.useRef({});return n.createElement(Be.Provider,{value:(0,s.Z)((0,s.Z)({},l),{},{validateMessages:(0,s.Z)((0,s.Z)({},l.validateMessages),t),triggerFormChange:function(e,t){r&&r(e,{changedFields:t,forms:u.current}),l.triggerFormChange(e,t)},triggerFormFinish:function(e,t){i&&i(e,{values:t,forms:u.current}),l.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(u.current=(0,s.Z)((0,s.Z)({},u.current),{},(0,o.Z)({},e,t))),l.registerForm(e,t)},unregisterForm:function(e){var t=(0,s.Z)({},u.current);delete t[e],u.current=t,l.unregisterForm(e)}})},a)},Ue=Be,Ve=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],Ge=function(e,t){var r=e.name,o=e.initialValues,u=e.fields,c=e.form,f=e.preserve,p=e.children,h=e.component,d=void 0===h?"form":h,v=e.validateMessages,y=e.validateTrigger,_=void 0===y?"onChange":y,b=e.onValuesChange,x=e.onFieldsChange,w=e.onFinish,S=e.onFinishFailed,P=(0,a.Z)(e,Ve),k=n.useContext(Ue),E=ze(c),C=(0,Ie.Z)(E,1)[0],A=C.getInternalHooks(m),T=A.useSubscribe,O=A.setInitialValues,M=A.setCallbacks,I=A.setValidateMessages,F=A.setPreserve,R=A.destroyForm;n.useImperativeHandle(t,(function(){return C})),n.useEffect((function(){return k.registerForm(r,C),function(){k.unregisterForm(r)}}),[k,C,r]),I((0,s.Z)((0,s.Z)({},k.validateMessages),v)),M({onValuesChange:b,onFieldsChange:function(e){if(k.triggerFormChange(r,e),x){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];x.apply(void 0,[e].concat(n))}},onFinish:function(e){k.triggerFormFinish(r,e),w&&w(e)},onFinishFailed:S}),F(f);var D,j=n.useRef(null);O(o,!j.current),j.current||(j.current=!0),n.useEffect((function(){return R}),[]);var L="function"===typeof p;L?D=p(C.getFieldsValue(!0),C):D=p;T(!L);var N=n.useRef();n.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==(0,K.Z)(e)||"object"!==(0,K.Z)(t))return!1;var r=Object.keys(e),n=Object.keys(t),i=new Set([].concat(r,n));return(0,l.Z)(i).every((function(r){var n=e[r],i=t[r];return"function"===typeof n&&"function"===typeof i||n===i}))})(N.current||[],u||[])||C.setFields(u||[]),N.current=u}),[u,C]);var z=n.useMemo((function(){return(0,s.Z)((0,s.Z)({},C),{},{validateTrigger:_})}),[C,_]),B=n.createElement(g.Provider,{value:z},D);return!1===d?B:n.createElement(d,(0,i.Z)({},P,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),C.submit()},onReset:function(e){var t;e.preventDefault(),C.resetFields(),null===(t=P.onReset)||void 0===t||t.call(P,e)}}),B)};function We(e){try{return JSON.stringify(e)}catch(t){return Math.random()}}var qe=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=void 0===i?[]:i,o=t[1],s=(0,n.useState)(),l=(0,Ie.Z)(s,2),u=l[0],c=l[1],f=(0,n.useMemo)((function(){return We(u)}),[u]),p=(0,n.useRef)(f);p.current=f;var h=(0,n.useContext)(g),d=o||h,v=d&&d._init,y=oe(a),_=(0,n.useRef)(y);return _.current=y,(0,n.useEffect)((function(){if(v){var e=d.getFieldsValue,t=(0,(0,d.getInternalHooks)(m).registerWatch)((function(e){var t=se(e,_.current),r=We(t);p.current!==r&&(p.current=r,c(t))})),r=se(e(),_.current);return c(r),t}}),[v]),u},He=n.forwardRef(Ge);He.FormProvider=Ze,He.Field=Te,He.List=Me,He.useForm=ze,He.useWatch=qe;var Ye=He},31516:function(e,t,r){"use strict";r.r(t),r.d(t,{BaseInput:function(){return p},default:function(){return b}});var n=r(4942),i=r(71002),a=r(72791),o=r(81694),s=r.n(o);function l(e){return!(!e.addonBefore&&!e.addonAfter)}function u(e){return!!(e.prefix||e.suffix||e.allowClear)}function c(e,t,r,n){if(r){var i=t;if("click"===t.type){var a=e.cloneNode(!0);return i=Object.create(t,{target:{value:a},currentTarget:{value:a}}),a.value="",void r(i)}if(void 0!==n)return i=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=n,void r(i);r(i)}}function f(e){return"undefined"===typeof e||null===e?"":String(e)}var p=function(e){var t=e.inputElement,r=e.prefixCls,o=e.prefix,c=e.suffix,f=e.addonBefore,p=e.addonAfter,h=e.className,d=e.style,v=e.affixWrapperClassName,m=e.groupClassName,y=e.wrapperClassName,g=e.disabled,_=e.readOnly,b=e.focused,x=e.triggerFocus,w=e.allowClear,S=e.value,P=e.handleReset,k=e.hidden,E=(0,a.useRef)(null),C=(0,a.cloneElement)(t,{value:S,hidden:k});if(u(e)){var A,T="".concat(r,"-affix-wrapper"),O=s()(T,(A={},(0,n.Z)(A,"".concat(T,"-disabled"),g),(0,n.Z)(A,"".concat(T,"-focused"),b),(0,n.Z)(A,"".concat(T,"-readonly"),_),(0,n.Z)(A,"".concat(T,"-input-with-clear-btn"),c&&w&&S),A),!l(e)&&h,v),M=(c||w)&&a.createElement("span",{className:"".concat(r,"-suffix")},function(){var e;if(!w)return null;var t=!g&&!_&&S,o="".concat(r,"-clear-icon"),l="object"===(0,i.Z)(w)&&null!==w&&void 0!==w&&w.clearIcon?w.clearIcon:"\u2716";return a.createElement("span",{onClick:P,onMouseDown:function(e){return e.preventDefault()},className:s()(o,(e={},(0,n.Z)(e,"".concat(o,"-hidden"),!t),(0,n.Z)(e,"".concat(o,"-has-suffix"),!!c),e)),role:"button",tabIndex:-1},l)}(),c);C=a.createElement("span",{className:O,style:d,hidden:!l(e)&&k,onClick:function(e){var t;null!==(t=E.current)&&void 0!==t&&t.contains(e.target)&&(null===x||void 0===x||x())},ref:E},o&&a.createElement("span",{className:"".concat(r,"-prefix")},o),(0,a.cloneElement)(t,{style:null,value:S,hidden:null}),M)}if(l(e)){var I="".concat(r,"-group"),F="".concat(I,"-addon"),R=s()("".concat(r,"-wrapper"),I,y),D=s()("".concat(r,"-group-wrapper"),h,m);return a.createElement("span",{className:D,style:d,hidden:k},a.createElement("span",{className:R},f&&a.createElement("span",{className:F},f),(0,a.cloneElement)(C,{style:null,hidden:null}),p&&a.createElement("span",{className:F},p)))}return C},h=r(93433),d=r(87462),v=r(29439),m=r(45987),y=r(1413);var g=r(49841),_=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","inputClassName"],b=(0,a.forwardRef)((function(e,t){var r=e.autoComplete,o=e.onChange,b=e.onFocus,x=e.onBlur,w=e.onPressEnter,S=e.onKeyDown,P=e.prefixCls,k=void 0===P?"rc-input":P,E=e.disabled,C=e.htmlSize,A=e.className,T=e.maxLength,O=e.suffix,M=e.showCount,I=e.type,F=void 0===I?"text":I,R=e.inputClassName,D=(0,m.Z)(e,_),j=(0,g.Z)(e.defaultValue,{value:e.value}),L=(0,v.Z)(j,2),N=L[0],z=L[1],B=(0,a.useState)(!1),Z=(0,v.Z)(B,2),U=Z[0],V=Z[1],G=(0,a.useRef)(null),W=function(e){G.current&&function(e,t){if(e){e.focus(t);var r=(t||{}).cursor;if(r){var n=e.value.length;switch(r){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(n,n);break;default:e.setSelectionRange(0,n)}}}}(G.current,e)};(0,a.useImperativeHandle)(t,(function(){return{focus:W,blur:function(){var e;null===(e=G.current)||void 0===e||e.blur()},setSelectionRange:function(e,t,r){var n;null===(n=G.current)||void 0===n||n.setSelectionRange(e,t,r)},select:function(){var e;null===(e=G.current)||void 0===e||e.select()},input:G.current}})),(0,a.useEffect)((function(){V((function(e){return(!e||!E)&&e}))}),[E]);var q=function(t){void 0===e.value&&z(t.target.value),G.current&&c(G.current,t,o)},H=function(e){w&&"Enter"===e.key&&w(e),null===S||void 0===S||S(e)},Y=function(e){V(!0),null===b||void 0===b||b(e)},X=function(e){V(!1),null===x||void 0===x||x(e)};return a.createElement(p,(0,d.Z)({},D,{prefixCls:k,className:A,inputElement:function(){var t=function(e,t){var r=(0,y.Z)({},e);return Array.isArray(t)&&t.forEach((function(e){delete r[e]})),r}(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName","htmlSize"]);return a.createElement("input",(0,d.Z)({autoComplete:r},t,{onChange:q,onFocus:Y,onBlur:X,onKeyDown:H,className:s()(k,(0,n.Z)({},"".concat(k,"-disabled"),E),R,!l(e)&&!u(e)&&A),ref:G,size:C,type:F}))}(),handleReset:function(e){z(""),W(),G.current&&c(G.current,e,o)},value:f(N),focused:U,triggerFocus:W,suffix:function(){var e=Number(T)>0;if(O||M){var t=f(N),r=(0,h.Z)(t).length,o="object"===(0,i.Z)(M)?M.formatter({value:t,count:r,maxLength:T}):"".concat(r).concat(e?" / ".concat(T):"");return a.createElement(a.Fragment,null,!!M&&a.createElement("span",{className:s()("".concat(k,"-show-count-suffix"),(0,n.Z)({},"".concat(k,"-show-count-has-suffix"),!!O))},o),O)}return null}(),disabled:E}))}))},6302:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Oe}});var n,i=r(45987),a=r(87462),o=r(1413),s=r(15671),l=r(43144),u=r(60136),c=r(98557),f=r(72791),p=r(74165),h=r(15861),d=r(71002),v=r(54164),m=r.t(v,2),y=(0,o.Z)({},m),g=y.version,_=y.render,b=y.unmountComponentAtNode;try{Number((g||"").split(".")[0])>=18&&(n=y.createRoot)}catch(Me){}function x(e){var t=y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&"object"===(0,d.Z)(t)&&(t.usingClientEntryPoint=e)}var w="__rc_react_root__";function S(e,t){n?function(e,t){x(!0);var r=t[w]||n(t);x(!1),r.render(e),t[w]=r}(e,t):function(e,t){_(e,t)}(e,t)}function P(e){return k.apply(this,arguments)}function k(){return(k=(0,h.Z)((0,p.Z)().mark((function e(t){return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){var e;null===(e=t[w])||void 0===e||e.unmount(),delete t[w]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){b(e)}function C(){return(C=(0,h.Z)((0,p.Z)().mark((function e(t){return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n){e.next=2;break}return e.abrupt("return",P(t));case 2:E(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=r(81694),T=r.n(A),O=r(4942),M=r(29439),I=r(84304),F=r(52084),R=r(14937);function D(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit".concat(e)]="webkit".concat(t),r["Moz".concat(e)]="moz".concat(t),r["ms".concat(e)]="MS".concat(t),r["O".concat(e)]="o".concat(t.toLowerCase()),r}var j=function(e,t){var r={animationend:D("Animation","AnimationEnd"),transitionend:D("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete r.animationend.animation,"TransitionEvent"in t||delete r.transitionend.transition),r}((0,R.Z)(),"undefined"!==typeof window?window:{}),L={};if((0,R.Z)()){var N=document.createElement("div");L=N.style}var z={};function B(e){if(z[e])return z[e];var t=j[e];if(t)for(var r=Object.keys(t),n=r.length,i=0;i<n;i+=1){var a=r[i];if(Object.prototype.hasOwnProperty.call(t,a)&&a in L)return z[e]=t[a],z[e]}return""}var Z=B("animationend"),U=B("transitionend"),V=!(!Z||!U),G=Z||"animationend",W=U||"transitionend";function q(e,t){return e?"object"===(0,d.Z)(e)?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(e,"-").concat(t):null}var H="none",Y="appear",X="enter",K="leave",$="none",J="prepare",Q="start",ee="active",te="end",re=r(98368),ne=r(75314),ie=(0,R.Z)()?f.useLayoutEffect:f.useEffect,ae=[J,Q,ee,te];function oe(e){return e===ee||e===te}var se=function(e,t){var r=(0,re.Z)($),n=(0,M.Z)(r,2),i=n[0],a=n[1],o=function(){var e=f.useRef(null);function t(){ne.Z.cancel(e.current)}return f.useEffect((function(){return function(){t()}}),[]),[function r(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var a=(0,ne.Z)((function(){i<=1?n({isCanceled:function(){return a!==e.current}}):r(n,i-1)}));e.current=a},t]}(),s=(0,M.Z)(o,2),l=s[0],u=s[1];return ie((function(){if(i!==$&&i!==te){var e=ae.indexOf(i),r=ae[e+1],n=t(i);false===n?a(r,!0):l((function(e){function t(){e.isCanceled()||a(r,!0)}!0===n?t():Promise.resolve(n).then(t)}))}}),[e,i]),f.useEffect((function(){return function(){u()}}),[]),[function(){a(J,!0)},i]};function le(e,t,r,n){var i=n.motionEnter,a=void 0===i||i,s=n.motionAppear,l=void 0===s||s,u=n.motionLeave,c=void 0===u||u,p=n.motionDeadline,h=n.motionLeaveImmediately,d=n.onAppearPrepare,v=n.onEnterPrepare,m=n.onLeavePrepare,y=n.onAppearStart,g=n.onEnterStart,_=n.onLeaveStart,b=n.onAppearActive,x=n.onEnterActive,w=n.onLeaveActive,S=n.onAppearEnd,P=n.onEnterEnd,k=n.onLeaveEnd,E=n.onVisibleChanged,C=(0,re.Z)(),A=(0,M.Z)(C,2),T=A[0],I=A[1],F=(0,re.Z)(H),R=(0,M.Z)(F,2),D=R[0],j=R[1],L=(0,re.Z)(null),N=(0,M.Z)(L,2),z=N[0],B=N[1],Z=(0,f.useRef)(!1),U=(0,f.useRef)(null);function V(){return r()}var q=(0,f.useRef)(!1);function $(e){var t=V();if(!e||e.deadline||e.target===t){var r,n=q.current;D===Y&&n?r=null===S||void 0===S?void 0:S(t,e):D===X&&n?r=null===P||void 0===P?void 0:P(t,e):D===K&&n&&(r=null===k||void 0===k?void 0:k(t,e)),D!==H&&n&&!1!==r&&(j(H,!0),B(null,!0))}}var te=function(e){var t=(0,f.useRef)(),r=(0,f.useRef)(e);r.current=e;var n=f.useCallback((function(e){r.current(e)}),[]);function i(e){e&&(e.removeEventListener(W,n),e.removeEventListener(G,n))}return f.useEffect((function(){return function(){i(t.current)}}),[]),[function(e){t.current&&t.current!==e&&i(t.current),e&&e!==t.current&&(e.addEventListener(W,n),e.addEventListener(G,n),t.current=e)},i]}($),ne=(0,M.Z)(te,1)[0],ae=f.useMemo((function(){var e,t,r;switch(D){case Y:return e={},(0,O.Z)(e,J,d),(0,O.Z)(e,Q,y),(0,O.Z)(e,ee,b),e;case X:return t={},(0,O.Z)(t,J,v),(0,O.Z)(t,Q,g),(0,O.Z)(t,ee,x),t;case K:return r={},(0,O.Z)(r,J,m),(0,O.Z)(r,Q,_),(0,O.Z)(r,ee,w),r;default:return{}}}),[D]),le=se(D,(function(e){if(e===J){var t=ae.prepare;return!!t&&t(V())}var r;fe in ae&&B((null===(r=ae[fe])||void 0===r?void 0:r.call(ae,V(),null))||null);return fe===ee&&(ne(V()),p>0&&(clearTimeout(U.current),U.current=setTimeout((function(){$({deadline:!0})}),p))),true})),ue=(0,M.Z)(le,2),ce=ue[0],fe=ue[1],pe=oe(fe);q.current=pe,ie((function(){I(t);var r,n=Z.current;(Z.current=!0,e)&&(!n&&t&&l&&(r=Y),n&&t&&a&&(r=X),(n&&!t&&c||!n&&h&&!t&&c)&&(r=K),r&&(j(r),ce()))}),[t]),(0,f.useEffect)((function(){(D===Y&&!l||D===X&&!a||D===K&&!c)&&j(H)}),[l,a,c]),(0,f.useEffect)((function(){return function(){Z.current=!1,clearTimeout(U.current)}}),[]);var he=f.useRef(!1);(0,f.useEffect)((function(){T&&(he.current=!0),void 0!==T&&D===H&&((he.current||T)&&(null===E||void 0===E||E(T)),he.current=!0)}),[T,D]);var de=z;return ae.prepare&&fe===Q&&(de=(0,o.Z)({transition:"none"},de)),[D,fe,de,null!==T&&void 0!==T?T:t]}var ue=function(e){(0,u.Z)(r,e);var t=(0,c.Z)(r);function r(){return(0,s.Z)(this,r),t.apply(this,arguments)}return(0,l.Z)(r,[{key:"render",value:function(){return this.props.children}}]),r}(f.Component),ce=ue;var fe=function(e){var t=e;function r(e){return!(!e.motionName||!t)}"object"===(0,d.Z)(e)&&(t=e.transitionSupport);var n=f.forwardRef((function(e,t){var n=e.visible,i=void 0===n||n,a=e.removeOnLeave,s=void 0===a||a,l=e.forceRender,u=e.children,c=e.motionName,p=e.leavedClassName,h=e.eventProps,d=r(e),v=(0,f.useRef)(),m=(0,f.useRef)();var y=le(d,i,(function(){try{return v.current instanceof HTMLElement?v.current:(0,I.Z)(m.current)}catch(Me){return null}}),e),g=(0,M.Z)(y,4),_=g[0],b=g[1],x=g[2],w=g[3],S=f.useRef(w);w&&(S.current=!0);var P,k=f.useCallback((function(e){v.current=e,(0,F.mH)(t,e)}),[t]),E=(0,o.Z)((0,o.Z)({},h),{},{visible:i});if(u)if(_!==H&&r(e)){var C,A;b===J?A="prepare":oe(b)?A="active":b===Q&&(A="start"),P=u((0,o.Z)((0,o.Z)({},E),{},{className:T()(q(c,_),(C={},(0,O.Z)(C,q(c,"".concat(_,"-").concat(A)),A),(0,O.Z)(C,c,"string"===typeof c),C)),style:x}),k)}else P=w?u((0,o.Z)({},E),k):!s&&S.current?u((0,o.Z)((0,o.Z)({},E),{},{className:p}),k):l?u((0,o.Z)((0,o.Z)({},E),{},{style:{display:"none"}}),k):null;else P=null;f.isValidElement(P)&&(0,F.Yr)(P)&&(P.ref||(P=f.cloneElement(P,{ref:k})));return f.createElement(ce,{ref:m},P)}));return n.displayName="CSSMotion",n}(V),pe="add",he="keep",de="remove",ve="removed";function me(e){var t;return t=e&&"object"===(0,d.Z)(e)&&"key"in e?e:{key:e},(0,o.Z)((0,o.Z)({},t),{},{key:String(t.key)})}function ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(me)}function ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[],n=0,i=t.length,a=ye(e),s=ye(t);a.forEach((function(e){for(var t=!1,a=n;a<i;a+=1){var l=s[a];if(l.key===e.key){n<a&&(r=r.concat(s.slice(n,a).map((function(e){return(0,o.Z)((0,o.Z)({},e),{},{status:pe})}))),n=a),r.push((0,o.Z)((0,o.Z)({},l),{},{status:he})),n+=1,t=!0;break}}t||r.push((0,o.Z)((0,o.Z)({},e),{},{status:de}))})),n<i&&(r=r.concat(s.slice(n).map((function(e){return(0,o.Z)((0,o.Z)({},e),{},{status:pe})}))));var l={};r.forEach((function(e){var t=e.key;l[t]=(l[t]||0)+1}));var u=Object.keys(l).filter((function(e){return l[e]>1}));return u.forEach((function(e){(r=r.filter((function(t){var r=t.key,n=t.status;return r!==e||n!==de}))).forEach((function(t){t.key===e&&(t.status=he)}))})),r}var _e=["component","children","onVisibleChanged","onAllRemoved"],be=["status"],xe=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];var we=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fe,r=function(e){(0,u.Z)(n,e);var r=(0,c.Z)(n);function n(){var e;(0,s.Z)(this,n);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return(e=r.call.apply(r,[this].concat(i))).state={keyEntities:[]},e.removeKey=function(t){var r=e.state.keyEntities.map((function(e){return e.key!==t?e:(0,o.Z)((0,o.Z)({},e),{},{status:ve})}));return e.setState({keyEntities:r}),r.filter((function(e){return e.status!==ve})).length},e}return(0,l.Z)(n,[{key:"render",value:function(){var e=this,r=this.state.keyEntities,n=this.props,o=n.component,s=n.children,l=n.onVisibleChanged,u=n.onAllRemoved,c=(0,i.Z)(n,_e),p=o||f.Fragment,h={};return xe.forEach((function(e){h[e]=c[e],delete c[e]})),delete c.keys,f.createElement(p,c,r.map((function(r){var n=r.status,o=(0,i.Z)(r,be),c=n===pe||n===he;return f.createElement(t,(0,a.Z)({},h,{key:o.key,visible:c,eventProps:o,onVisibleChanged:function(t){(null===l||void 0===l||l(t,{key:o.key}),t)||0===e.removeKey(o.key)&&u&&u()}}),s)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=e.keys,n=t.keyEntities,i=ye(r);return{keyEntities:ge(n,i).filter((function(e){var t=n.find((function(t){var r=t.key;return e.key===r}));return!t||t.status!==ve||e.status!==de}))}}}]),n}(f.Component);return r.defaultProps={component:"div"},r}(V),Se=function(e){(0,u.Z)(r,e);var t=(0,c.Z)(r);function r(){var e;(0,s.Z)(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).closeTimer=null,e.close=function(t){t&&t.stopPropagation(),e.clearCloseTimer();var r=e.props,n=r.onClose,i=r.noticeKey;n&&n(i)},e.startCloseTimer=function(){e.props.duration&&(e.closeTimer=window.setTimeout((function(){e.close()}),1e3*e.props.duration))},e.clearCloseTimer=function(){e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=null)},e}return(0,l.Z)(r,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.updateMark!==e.updateMark||this.props.visible!==e.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var e=this,t=this.props,r=t.prefixCls,n=t.className,i=t.closable,o=t.closeIcon,s=t.style,l=t.onClick,u=t.children,c=t.holder,p="".concat(r,"-notice"),h=Object.keys(this.props).reduce((function(t,r){return"data-"!==r.substr(0,5)&&"aria-"!==r.substr(0,5)&&"role"!==r||(t[r]=e.props[r]),t}),{}),d=f.createElement("div",(0,a.Z)({className:T()(p,n,(0,O.Z)({},"".concat(p,"-closable"),i)),style:s,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:l},h),f.createElement("div",{className:"".concat(p,"-content")},u),i?f.createElement("a",{tabIndex:0,onClick:this.close,className:"".concat(p,"-close")},o||f.createElement("span",{className:"".concat(p,"-close-x")})):null);return c?v.createPortal(d,c):d}}]),r}(f.Component);Se.defaultProps={onClose:function(){},duration:1.5};var Pe=r(93433);var ke=["getContainer"],Ee=0,Ce=Date.now();function Ae(){var e=Ee;return Ee+=1,"rcNotification_".concat(Ce,"_").concat(e)}var Te=function(e){(0,u.Z)(r,e);var t=(0,c.Z)(r);function r(){var e;(0,s.Z)(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={notices:[]},e.hookRefs=new Map,e.add=function(t,r){var n,i=null!==(n=t.key)&&void 0!==n?n:Ae(),a=(0,o.Z)((0,o.Z)({},t),{},{key:i}),s=e.props.maxCount;e.setState((function(e){var t=e.notices,n=t.map((function(e){return e.notice.key})).indexOf(i),o=t.concat();return-1!==n?o.splice(n,1,{notice:a,holderCallback:r}):(s&&t.length>=s&&(a.key=o[0].notice.key,a.updateMark=Ae(),a.userPassKey=i,o.shift()),o.push({notice:a,holderCallback:r})),{notices:o}}))},e.remove=function(t){e.setState((function(e){return{notices:e.notices.filter((function(e){var r=e.notice,n=r.key,i=r.userPassKey;return(null!==i&&void 0!==i?i:n)!==t}))}}))},e.noticePropsMap={},e}return(0,l.Z)(r,[{key:"getTransitionName",value:function(){var e=this.props,t=e.prefixCls,r=e.animation,n=this.props.transitionName;return!n&&r&&(n="".concat(t,"-").concat(r)),n}},{key:"render",value:function(){var e=this,t=this.state.notices,r=this.props,n=r.prefixCls,i=r.className,s=r.closeIcon,l=r.style,u=[];return t.forEach((function(r,i){var a=r.notice,l=r.holderCallback,c=i===t.length-1?a.updateMark:void 0,f=a.key,p=a.userPassKey,h=(0,o.Z)((0,o.Z)((0,o.Z)({prefixCls:n,closeIcon:s},a),a.props),{},{key:f,noticeKey:p||f,updateMark:c,onClose:function(t){var r;e.remove(t),null===(r=a.onClose)||void 0===r||r.call(a)},onClick:a.onClick,children:a.content});u.push(f),e.noticePropsMap[f]={props:h,holderCallback:l}})),f.createElement("div",{className:T()(n,i),style:l},f.createElement(we,{keys:u,motionName:this.getTransitionName(),onVisibleChanged:function(t,r){var n=r.key;t||delete e.noticePropsMap[n]}},(function(t){var r=t.key,i=t.className,s=t.style,l=t.visible,u=e.noticePropsMap[r],c=u.props,p=u.holderCallback;return p?f.createElement("div",{key:r,className:T()(i,"".concat(n,"-hook-holder")),style:(0,o.Z)({},s),ref:function(t){"undefined"!==typeof r&&(t?(e.hookRefs.set(r,t),p(t,c)):e.hookRefs.delete(r))}}):f.createElement(Se,(0,a.Z)({},c,{className:T()(i,null===c||void 0===c?void 0:c.className),style:(0,o.Z)((0,o.Z)({},s),null===c||void 0===c?void 0:c.style),visible:l}))})))}}]),r}(f.Component);Te.newInstance=void 0,Te.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},Te.newInstance=function(e,t){var r=e||{},n=r.getContainer,o=(0,i.Z)(r,ke),s=document.createElement("div");n?n().appendChild(s):document.body.appendChild(s);var l=!1;S(f.createElement(Te,(0,a.Z)({},o,{ref:function(e){l||(l=!0,t({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){!function(e){C.apply(this,arguments)}(s),s.parentNode&&s.parentNode.removeChild(s)},useNotification:function(){return function(e){var t=f.useRef({}),r=f.useState([]),n=(0,M.Z)(r,2),i=n[0],o=n[1];return[function(r){var n=!0;e.add(r,(function(e,r){var i=r.key;if(e&&(!t.current[i]||n)){var s=f.createElement(Se,(0,a.Z)({},r,{holder:e}));t.current[i]=s,o((function(e){var t=e.findIndex((function(e){return e.key===r.key}));if(-1===t)return[].concat((0,Pe.Z)(e),[s]);var n=(0,Pe.Z)(e);return n[t]=s,n}))}n=!1}))},f.createElement(f.Fragment,null,i)]}(e)}}))}})),s)};var Oe=Te},55842:function(e,t,r){"use strict";var n=r(64836),i=r(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(10434)),o=n(r(38416)),s=n(r(56690)),l=n(r(89728)),u=n(r(61655)),c=n(r(26389)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r(72791)),p=n(r(54164)),h=n(r(81694));function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}var v=function(e){(0,u.default)(r,e);var t=(0,c.default)(r);function r(){var e;(0,s.default)(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).closeTimer=null,e.close=function(t){t&&t.stopPropagation(),e.clearCloseTimer();var r=e.props,n=r.onClose,i=r.noticeKey;n&&n(i)},e.startCloseTimer=function(){e.props.duration&&(e.closeTimer=window.setTimeout((function(){e.close()}),1e3*e.props.duration))},e.clearCloseTimer=function(){e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=null)},e}return(0,l.default)(r,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.updateMark!==e.updateMark||this.props.visible!==e.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var e=this,t=this.props,r=t.prefixCls,n=t.className,i=t.closable,s=t.closeIcon,l=t.style,u=t.onClick,c=t.children,d=t.holder,v="".concat(r,"-notice"),m=Object.keys(this.props).reduce((function(t,r){return"data-"!==r.substr(0,5)&&"aria-"!==r.substr(0,5)&&"role"!==r||(t[r]=e.props[r]),t}),{}),y=f.createElement("div",(0,a.default)({className:(0,h.default)(v,n,(0,o.default)({},"".concat(v,"-closable"),i)),style:l,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:u},m),f.createElement("div",{className:"".concat(v,"-content")},c),i?f.createElement("a",{tabIndex:0,onClick:this.close,className:"".concat(v,"-close")},s||f.createElement("span",{className:"".concat(v,"-close-x")})):null);return d?p.default.createPortal(y,d):y}}]),r}(f.Component);t.default=v,v.defaultProps={onClose:function(){},duration:1.5}},5400:function(e,t,r){"use strict";var n=r(64836),i=r(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=l.useRef({}),r=l.useState([]),n=(0,s.default)(r,2),i=n[0],c=n[1];return[function(r){var n=!0;e.add(r,(function(e,r){var i=r.key;if(e&&(!t.current[i]||n)){var s=l.createElement(u.default,(0,o.default)({},r,{holder:e}));t.current[i]=s,c((function(e){var t=e.findIndex((function(e){return e.key===r.key}));if(-1===t)return[].concat((0,a.default)(e),[s]);var n=(0,a.default)(e);return n[t]=s,n}))}n=!1}))},l.createElement(l.Fragment,null,i)]};var a=n(r(861)),o=n(r(10434)),s=n(r(27424)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r(72791)),u=n(r(55842));function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}},66293:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"}},37657:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"};t.default=r},41390:function(e,t,r){"use strict";r.r(t),r.d(t,{ResizableTextArea:function(){return ie},default:function(){return ae}});var n=r(87462),i=r(15671),a=r(43144),o=r(60136),s=r(98557),l=r(72791),u=r(4942),c=r(1413),f=r(71002),p=r(29439),h=r(45987),d=r(85501),v=(r(60632),r(52084)),m=r(84304),y=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var r=-1;return e.some((function(e,n){return e[0]===t&&(r=n,!0)})),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var r=e(this.__entries__,t),n=this.__entries__[r];return n&&n[1]},t.prototype.set=function(t,r){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=r:this.__entries__.push([t,r])},t.prototype.delete=function(t){var r=this.__entries__,n=e(r,t);~n&&r.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var r=0,n=this.__entries__;r<n.length;r++){var i=n[r];e.call(t,i[1],i[0])}},t}()}(),g="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,_="undefined"!==typeof r.g&&r.g.Math===Math?r.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),b="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(_):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var x=["top","right","bottom","left","width","height","size","weight"],w="undefined"!==typeof MutationObserver,S=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var r=!1,n=!1,i=0;function a(){r&&(r=!1,e()),n&&s()}function o(){b(a)}function s(){var e=Date.now();if(r){if(e-i<2)return;n=!0}else r=!0,n=!1,setTimeout(o,t);i=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){g&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),w?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){g&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=void 0===t?"":t;x.some((function(e){return!!~r.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),P=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},k=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||_},E=I(0,0,0,0);function C(e){return parseFloat(e)||0}function A(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce((function(t,r){return t+C(e["border-"+r+"-width"])}),0)}function T(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return E;var n=k(e).getComputedStyle(e),i=function(e){for(var t={},r=0,n=["top","right","bottom","left"];r<n.length;r++){var i=n[r],a=e["padding-"+i];t[i]=C(a)}return t}(n),a=i.left+i.right,o=i.top+i.bottom,s=C(n.width),l=C(n.height);if("border-box"===n.boxSizing&&(Math.round(s+a)!==t&&(s-=A(n,"left","right")+a),Math.round(l+o)!==r&&(l-=A(n,"top","bottom")+o)),!function(e){return e===k(e).document.documentElement}(e)){var u=Math.round(s+a)-t,c=Math.round(l+o)-r;1!==Math.abs(u)&&(s-=u),1!==Math.abs(c)&&(l-=c)}return I(i.left,i.top,s,l)}var O="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof k(e).SVGGraphicsElement}:function(e){return e instanceof k(e).SVGElement&&"function"===typeof e.getBBox};function M(e){return g?O(e)?function(e){var t=e.getBBox();return I(0,0,t.width,t.height)}(e):T(e):E}function I(e,t,r,n){return{x:e,y:t,width:r,height:n}}var F=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=I(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=M(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),R=function(e,t){var r=function(e){var t=e.x,r=e.y,n=e.width,i=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return P(o,{x:t,y:r,width:n,height:i,top:r,right:t+n,bottom:i+r,left:t}),o}(t);P(this,{target:e,contentRect:r})},D=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new y,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof k(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new F(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof k(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new R(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),j="undefined"!==typeof WeakMap?new WeakMap:new y,L=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=S.getInstance(),n=new D(t,r,this);j.set(this,n)};["observe","unobserve","disconnect"].forEach((function(e){L.prototype[e]=function(){var t;return(t=j.get(this))[e].apply(t,arguments)}}));var N="undefined"!==typeof _.ResizeObserver?_.ResizeObserver:L,z=new Map;var B=new N((function(e){e.forEach((function(e){var t,r=e.target;null===(t=z.get(r))||void 0===t||t.forEach((function(e){return e(r)}))}))}));var Z=function(e){(0,o.Z)(r,e);var t=(0,s.Z)(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){return this.props.children}}]),r}(l.Component),U=l.createContext(null);function V(e){var t=e.children,r=e.disabled,n=l.useRef(null),i=l.useRef(null),a=l.useContext(U),o="function"===typeof t,s=o?t(n):t,u=l.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),f=!o&&l.isValidElement(s)&&(0,v.Yr)(s),p=f?s.ref:null,h=l.useMemo((function(){return(0,v.sQ)(p,n)}),[p,n]),d=l.useRef(e);d.current=e;var y=l.useCallback((function(e){var t=d.current,r=t.onResize,n=t.data,i=e.getBoundingClientRect(),o=i.width,s=i.height,l=e.offsetWidth,f=e.offsetHeight,p=Math.floor(o),h=Math.floor(s);if(u.current.width!==p||u.current.height!==h||u.current.offsetWidth!==l||u.current.offsetHeight!==f){var v={width:p,height:h,offsetWidth:l,offsetHeight:f};u.current=v;var m=l===Math.round(o)?o:l,y=f===Math.round(s)?s:f,g=(0,c.Z)((0,c.Z)({},v),{},{offsetWidth:m,offsetHeight:y});null===a||void 0===a||a(g,e,n),r&&Promise.resolve().then((function(){r(g,e)}))}}),[]);return l.useEffect((function(){var e,t,a=(0,m.Z)(n.current)||(0,m.Z)(i.current);return a&&!r&&(e=a,t=y,z.has(e)||(z.set(e,new Set),B.observe(e)),z.get(e).add(t)),function(){return function(e,t){z.has(e)&&(z.get(e).delete(t),z.get(e).size||(B.unobserve(e),z.delete(e)))}(a,y)}}),[n.current,r]),l.createElement(Z,{ref:i},f?l.cloneElement(s,{ref:h}):s)}function G(e){var t=e.children;return("function"===typeof t?[t]:(0,d.Z)(t)).map((function(t,r){var i=(null===t||void 0===t?void 0:t.key)||"".concat("rc-observer-key","-").concat(r);return l.createElement(V,(0,n.Z)({},e,{key:i}),t)}))}G.Collection=function(e){var t=e.children,r=e.onBatchResize,n=l.useRef(0),i=l.useRef([]),a=l.useContext(U),o=l.useCallback((function(e,t,o){n.current+=1;var s=n.current;i.current.push({size:e,element:t,data:o}),Promise.resolve().then((function(){s===n.current&&(null===r||void 0===r||r(i.current),i.current=[])})),null===a||void 0===a||a(e,t,o)}),[r,a]);return l.createElement(U.Provider,{value:o},t)};var W,q=G,H=r(71605),Y=r(75314),X=r(49841),K=r(81694),$=r.n(K),J="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n  pointer-events: none !important;\n",Q=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],ee={};function te(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&ee[r])return ee[r];var n=window.getComputedStyle(e),i=n.getPropertyValue("box-sizing")||n.getPropertyValue("-moz-box-sizing")||n.getPropertyValue("-webkit-box-sizing"),a=parseFloat(n.getPropertyValue("padding-bottom"))+parseFloat(n.getPropertyValue("padding-top")),o=parseFloat(n.getPropertyValue("border-bottom-width"))+parseFloat(n.getPropertyValue("border-top-width")),s=Q.map((function(e){return"".concat(e,":").concat(n.getPropertyValue(e))})).join(";"),l={sizingStyle:s,paddingSize:a,borderSize:o,boxSizing:i};return t&&r&&(ee[r]=l),l}var re=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],ne=l.forwardRef((function(e,t){var r=e.prefixCls,i=void 0===r?"rc-textarea":r,a=(e.onPressEnter,e.defaultValue),o=e.value,s=e.autoSize,d=e.onResize,v=e.className,m=e.style,y=e.disabled,g=e.onChange,_=(e.onInternalAutoSize,(0,h.Z)(e,re)),b=(0,X.Z)(a,{value:o,postState:function(e){return null!==e&&void 0!==e?e:""}}),x=(0,p.Z)(b,2),w=x[0],S=x[1],P=l.useRef();l.useImperativeHandle(t,(function(){return{textArea:P.current}}));var k=l.useMemo((function(){return s&&"object"===(0,f.Z)(s)?[s.minRows,s.maxRows]:[]}),[s]),E=(0,p.Z)(k,2),C=E[0],A=E[1],T=!!s,O=l.useState(2),M=(0,p.Z)(O,2),I=M[0],F=M[1],R=l.useState(),D=(0,p.Z)(R,2),j=D[0],L=D[1],N=function(){F(0)};(0,H.Z)((function(){T&&N()}),[o,C,A,T]),(0,H.Z)((function(){if(0===I)F(1);else if(1===I){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;W||((W=document.createElement("textarea")).setAttribute("tab-index","-1"),W.setAttribute("aria-hidden","true"),document.body.appendChild(W)),e.getAttribute("wrap")?W.setAttribute("wrap",e.getAttribute("wrap")):W.removeAttribute("wrap");var i=te(e,t),a=i.paddingSize,o=i.borderSize,s=i.boxSizing,l=i.sizingStyle;W.setAttribute("style","".concat(l,";").concat(J)),W.value=e.value||e.placeholder||"";var u,c=void 0,f=void 0,p=W.scrollHeight;if("border-box"===s?p+=o:"content-box"===s&&(p-=a),null!==r||null!==n){W.value=" ";var h=W.scrollHeight-a;null!==r&&(c=h*r,"border-box"===s&&(c=c+a+o),p=Math.max(c,p)),null!==n&&(f=h*n,"border-box"===s&&(f=f+a+o),u=p>f?"":"hidden",p=Math.min(f,p))}var d={height:p,overflowY:u,resize:"none"};return c&&(d.minHeight=c),f&&(d.maxHeight=f),d}(P.current,!1,C,A);F(2),L(e)}else!function(){try{if(document.activeElement===P.current){var e=P.current,t=e.selectionStart,r=e.selectionEnd,n=e.scrollTop;P.current.setSelectionRange(t,r),P.current.scrollTop=n}}catch(i){}}()}),[I]);var z=l.useRef(),B=function(){Y.Z.cancel(z.current)};l.useEffect((function(){return B}),[]);var Z=T?j:null,U=(0,c.Z)((0,c.Z)({},m),Z);return 0!==I&&1!==I||(U.overflowY="hidden",U.overflowX="hidden"),l.createElement(q,{onResize:function(e){2===I&&(null===d||void 0===d||d(e),s&&(B(),z.current=(0,Y.Z)((function(){N()}))))},disabled:!(s||d)},l.createElement("textarea",(0,n.Z)({},_,{ref:P,style:U,className:$()(i,v,(0,u.Z)({},"".concat(i,"-disabled"),y)),disabled:y,value:w,onChange:function(e){S(e.target.value),null===g||void 0===g||g(e)}})))})),ie=ne,ae=function(e){(0,o.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;(0,i.Z)(this,r),(n=t.call(this,e)).resizableTextArea=void 0,n.focus=function(){n.resizableTextArea.textArea.focus()},n.saveTextArea=function(e){n.resizableTextArea=e},n.handleChange=function(e){var t=n.props.onChange;n.setValue(e.target.value),t&&t(e)},n.handleKeyDown=function(e){var t=n.props,r=t.onPressEnter,i=t.onKeyDown;13===e.keyCode&&r&&r(e),i&&i(e)};var a="undefined"===typeof e.value||null===e.value?e.defaultValue:e.value;return n.state={value:a},n}return(0,a.Z)(r,[{key:"setValue",value:function(e,t){"value"in this.props||this.setState({value:e},t)}},{key:"blur",value:function(){this.resizableTextArea.textArea.blur()}},{key:"render",value:function(){return l.createElement(ie,(0,n.Z)({},this.props,{value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,ref:this.saveTextArea}))}}],[{key:"getDerivedStateFromProps",value:function(e){return"value"in e?{value:e.value}:null}}]),r}(l.Component)},85501:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(72791),i=r(57441);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return n.Children.forEach(e,(function(e){(void 0!==e&&null!==e||t.keepEmpty)&&(Array.isArray(e)?r=r.concat(a(e)):(0,i.isFragment)(e)&&e.props?r=r.concat(a(e.props.children,t)):r.push(e))})),r}},14937:function(e,t,r){"use strict";function n(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}r.d(t,{Z:function(){return n}})},84304:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(54164);function i(e){return e instanceof HTMLElement?e:n.findDOMNode(e)}},71605:function(e,t,r){"use strict";r.d(t,{o:function(){return a}});var n=r(72791),i=(0,r(14937).Z)()?n.useLayoutEffect:n.useEffect;t.Z=i;var a=function(e,t){var r=n.useRef(!0);i((function(){if(!r.current)return e()}),t),i((function(){return r.current=!1,function(){r.current=!0}}),[])}},49841:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(29439),i=r(72791);function a(e){var t=i.useRef();t.current=e;var r=i.useCallback((function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(n))}),[]);return r}var o,s=r(71605),l=r(98368);function u(e){return void 0!==e}function c(e,t){var r=t||{},c=r.defaultValue,f=r.value,p=r.onChange,h=r.postState,d=(0,l.Z)((function(){var t,r=void 0;return u(f)?(r=f,t=o.PROP):u(c)?(r="function"===typeof c?c():c,t=o.PROP):(r="function"===typeof e?e():e,t=o.INNER),[r,t,r]})),v=(0,n.Z)(d,2),m=v[0],y=v[1],g=u(f)?f:m[0],_=h?h(g):g;(0,s.o)((function(){y((function(e){var t=(0,n.Z)(e,1)[0];return[f,o.PROP,t]}))}),[f]);var b=i.useRef(),x=a((function(e,t){y((function(t){var r=(0,n.Z)(t,3),i=r[0],a=r[1],s=r[2],l="function"===typeof e?e(i):e;if(l===i)return t;var u=a===o.INNER&&b.current!==s?s:i;return[l,o.INNER,u]}),t)})),w=a(p);return(0,s.Z)((function(){var e=(0,n.Z)(m,3),t=e[0],r=e[1],i=e[2];t!==i&&r===o.INNER&&(w(t,i),b.current=i)}),[m]),[_,x]}!function(e){e[e.INNER=0]="INNER",e[e.PROP=1]="PROP"}(o||(o={}))},98368:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(29439),i=r(72791);function a(e){var t=i.useRef(!1),r=i.useState(e),a=(0,n.Z)(r,2),o=a[0],s=a[1];return i.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[o,function(e,r){r&&t.current||s(e)}]}},75314:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=function(e){return+setTimeout(e,16)},i=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(n=function(e){return window.requestAnimationFrame(e)},i=function(e){return window.cancelAnimationFrame(e)});var a=0,o=new Map;function s(e){o.delete(e)}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=a+=1;function i(t){if(0===t)s(r),e();else{var a=n((function(){i(t-1)}));o.set(r,a)}}return i(t),r}l.cancel=function(e){var t=o.get(e);return s(t),i(t)}},52084:function(e,t,r){"use strict";r.d(t,{sQ:function(){return o},mH:function(){return a},Yr:function(){return s}});var n=r(71002),i=r(57441);r(72791);function a(e,t){"function"===typeof e?e(t):"object"===(0,n.Z)(e)&&e&&"current"in e&&(e.current=t)}function o(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.filter((function(e){return e}));return n.length<=1?n[0]:function(e){t.forEach((function(t){a(t,e)}))}}function s(e){var t,r,n=(0,i.isMemo)(e)?e.type.type:e.type;return!("function"===typeof n&&!(null===(t=n.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(r=e.prototype)||void 0===r?void 0:r.render))}},60632:function(e,t,r){"use strict";var n={};function i(e,t){0}function a(e,t,r){t||n[r]||(e(!1,r),n[r]=!0)}t.ZP=function(e,t){a(i,e,t)}},93465:function(e,t,r){"use strict";var n=r(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return i.default.Children.forEach(t,(function(t){(void 0!==t&&null!==t||r.keepEmpty)&&(Array.isArray(t)?n=n.concat(e(t)):(0,a.isFragment)(t)&&t.props?n=n.concat(e(t.props.children,r)):n.push(t))})),n};var i=n(r(72791)),a=r(57441)},28342:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}},32206:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!e)return!1;if(e.contains)return e.contains(t);var r=t;for(;r;){if(r===e)return!0;r=r.parentNode}return!1}},90343:function(e,t,r){"use strict";var n=r(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.injectCSS=h,t.removeCSS=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=d(e,r);null===n||void 0===n||null===(t=n.parentNode)||void 0===t||t.removeChild(n)},t.updateCSS=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=c(r);v(n,r);var i=d(t,r);if(i){var a,o,s;if((null===(a=r.csp)||void 0===a?void 0:a.nonce)&&i.nonce!==(null===(o=r.csp)||void 0===o?void 0:o.nonce))i.nonce=null===(s=r.csp)||void 0===s?void 0:s.nonce;return i.innerHTML!==e&&(i.innerHTML=e),i}var l=h(e,r);return l.setAttribute(u(r),t),l};var i=n(r(28342)),a=n(r(32206)),o="data-rc-order",s="rc-util-key",l=new Map;function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):s}function c(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function f(e){return"queue"===e?"prependQueue":e?"prepend":"append"}function p(e){return Array.from((l.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,i.default)())return null;var r=t.csp,n=t.prepend,a=document.createElement("style");a.setAttribute(o,f(n)),(null===r||void 0===r?void 0:r.nonce)&&(a.nonce=null===r||void 0===r?void 0:r.nonce),a.innerHTML=e;var s=c(t),l=s.firstChild;if(n){if("queue"===n){var u=p(s).filter((function(e){return["prepend","prependQueue"].includes(e.getAttribute(o))}));if(u.length)return s.insertBefore(a,u[u.length-1].nextSibling),a}s.insertBefore(a,l)}else s.appendChild(a);return a}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=c(t);return p(r).find((function(r){return r.getAttribute(u(t))===e}))}function v(e,t){var r=l.get(e);if(!r||!(0,a.default)(document,r)){var n=h("",t),i=n.parentNode;l.set(e,i),i.removeChild(n)}}},92245:function(e,t,r){"use strict";var n=r(75263).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=i.useRef();t.current=e;var r=i.useCallback((function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(n))}),[]);return r};var i=n(r(72791))},92803:function(e,t,r){"use strict";var n=r(64836).default,i=r(75263).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useLayoutUpdateEffect=t.default=void 0;var a=i(r(72791)),o=(0,n(r(28342)).default)()?a.useLayoutEffect:a.useEffect,s=o;t.default=s;t.useLayoutUpdateEffect=function(e,t){var r=a.useRef(!0);o((function(){if(!r.current)return e()}),t),o((function(){return r.current=!1,function(){r.current=!0}}),[])}},48844:function(e,t,r){"use strict";var n=r(75263).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var n=i.useRef({});"value"in n.current&&!r(n.current.condition,t)||(n.current.value=e(),n.current.condition=t);return n.current.value};var i=n(r(72791))},92097:function(e,t,r){"use strict";var n=r(75263).default,i=r(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=t||{},n=r.defaultValue,i=r.value,p=r.onChange,h=r.postState,d=(0,c.default)((function(){var t,r=void 0;return f(i)?(r=i,t=a.PROP):f(n)?(r="function"===typeof n?n():n,t=a.PROP):(r="function"===typeof e?e():e,t=a.INNER),[r,t,r]})),v=(0,o.default)(d,2),m=v[0],y=v[1],g=f(i)?i:m[0],_=h?h(g):g;(0,u.useLayoutUpdateEffect)((function(){y((function(e){var t=(0,o.default)(e,1)[0];return[i,a.PROP,t]}))}),[i]);var b=s.useRef(),x=(0,l.default)((function(e,t){y((function(t){var r=(0,o.default)(t,3),n=r[0],i=r[1],s=r[2],l="function"===typeof e?e(n):e;if(l===n)return t;var u=i===a.INNER&&b.current!==s?s:n;return[l,a.INNER,u]}),t)})),w=(0,l.default)(p);return(0,u.default)((function(){var e=(0,o.default)(m,3),t=e[0],r=e[1],n=e[2];t!==n&&r===a.INNER&&(w(t,n),b.current=n)}),[m]),[_,x]};var a,o=i(r(27424)),s=n(r(72791)),l=i(r(92245)),u=n(r(92803)),c=i(r(60195));function f(e){return void 0!==e}!function(e){e[e.INNER=0]="INNER",e[e.PROP=1]="PROP"}(a||(a={}))},60195:function(e,t,r){"use strict";var n=r(75263).default,i=r(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=o.useRef(!1),r=o.useState(e),n=(0,a.default)(r,2),i=n[0],s=n[1];return o.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[i,function(e,r){if(r&&t.current)return;s(e)}]};var a=i(r(27424)),o=n(r(72791))},94671:function(e,t,r){"use strict";var n=r(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=(0,i.default)({},e);Array.isArray(t)&&t.forEach((function(e){delete r[e]}));return r};var i=n(r(42122))},80306:function(e,t,r){"use strict";var n=r(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.composeRef=l,t.fillRef=s,t.supportRef=function(e){var t,r,n=(0,a.isMemo)(e)?e.type.type:e.type;if("function"===typeof n&&!(null===(t=n.prototype)||void 0===t?void 0:t.render))return!1;if("function"===typeof e&&!(null===(r=e.prototype)||void 0===r?void 0:r.render))return!1;return!0},t.useComposeRef=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,o.default)((function(){return l.apply(void 0,t)}),t,(function(e,t){return e.length===t.length&&e.every((function(e,r){return e===t[r]}))}))};var i=n(r(18698)),a=r(57441),o=n(r(48844));function s(e,t){"function"===typeof e?e(t):"object"===(0,i.default)(e)&&e&&"current"in e&&(e.current=t)}function l(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.filter((function(e){return e}));return n.length<=1?n[0]:function(e){t.forEach((function(t){s(t,e)}))}}},37973:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.call=a,t.default=void 0,t.note=i,t.noteOnce=function(e,t){a(i,e,t)},t.resetWarned=function(){r={}},t.warning=n,t.warningOnce=o;var r={};function n(e,t){0}function i(e,t){0}function a(e,t,n){t||r[n]||(e(!1,n),r[n]=!0)}function o(e,t){a(n,e,t)}var s=o;t.default=s},84424:function(e,t,r){"use strict";var n=r(31725),i=r(72791);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o="function"===typeof Symbol&&Symbol.for,s=o?Symbol.for("react.portal"):60106,l=o?Symbol.for("react.fragment"):60107,u=o?Symbol.for("react.strict_mode"):60108,c=o?Symbol.for("react.profiler"):60114,f=o?Symbol.for("react.provider"):60109,p=o?Symbol.for("react.context"):60110,h=o?Symbol.for("react.concurrent_mode"):60111,d=o?Symbol.for("react.forward_ref"):60112,v=o?Symbol.for("react.suspense"):60113,m=o?Symbol.for("react.suspense_list"):60120,y=o?Symbol.for("react.memo"):60115,g=o?Symbol.for("react.lazy"):60116,_=o?Symbol.for("react.block"):60121,b=o?Symbol.for("react.fundamental"):60117,x=o?Symbol.for("react.scope"):60119;function w(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case l:return"Fragment";case s:return"Portal";case c:return"Profiler";case u:return"StrictMode";case v:return"Suspense";case m:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case p:return"Context.Consumer";case f:return"Context.Provider";case d:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case y:return w(e.type);case _:return w(e.render);case g:if(e=1===e._status?e._result:null)return w(e)}return null}var S=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;S.hasOwnProperty("ReactCurrentDispatcher")||(S.ReactCurrentDispatcher={current:null}),S.hasOwnProperty("ReactCurrentBatchConfig")||(S.ReactCurrentBatchConfig={suspense:null});var P={};function k(e,t){for(var r=0|e._threadCount;r<=t;r++)e[r]=e._currentValue2,e._threadCount=r+1}for(var E=new Uint16Array(16),C=0;15>C;C++)E[C]=C+1;E[15]=0;var A=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T=Object.prototype.hasOwnProperty,O={},M={};function I(e){return!!T.call(M,e)||!T.call(O,e)&&(A.test(e)?M[e]=!0:(O[e]=!0,!1))}function F(e,t,r,n,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){R[e]=new F(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];R[t]=new F(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){R[e]=new F(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){R[e]=new F(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){R[e]=new F(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){R[e]=new F(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){R[e]=new F(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){R[e]=new F(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){R[e]=new F(e,5,!1,e.toLowerCase(),null,!1)}));var D=/[\-:]([a-z])/g;function j(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(D,j);R[t]=new F(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(D,j);R[t]=new F(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(D,j);R[t]=new F(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){R[e]=new F(e,1,!1,e.toLowerCase(),null,!1)})),R.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){R[e]=new F(e,1,!1,e.toLowerCase(),null,!0)}));var L=/["'&<>]/;function N(e){if("boolean"===typeof e||"number"===typeof e)return""+e;e=""+e;var t=L.exec(e);if(t){var r,n="",i=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==r&&(n+=e.substring(i,r)),i=r+1,n+=t}e=i!==r?n+e.substring(i,r):n}return e}function z(e,t){var r,n=R.hasOwnProperty(e)?R[e]:null;return(r="style"!==e)&&(r=null!==n?0===n.type:2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])),r||function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(e,t,n,!1)?"":null!==n?(e=n.attributeName,3===(r=n.type)||4===r&&!0===t?e+'=""':(n.sanitizeURL&&(t=""+t),e+'="'+N(t)+'"')):I(e)?e+'="'+N(t)+'"':""}var B="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Z=null,U=null,V=null,G=!1,W=!1,q=null,H=0;function Y(){if(null===Z)throw Error(a(321));return Z}function X(){if(0<H)throw Error(a(312));return{memoizedState:null,queue:null,next:null}}function K(){return null===V?null===U?(G=!1,U=V=X()):(G=!0,V=U):null===V.next?(G=!1,V=V.next=X()):(G=!0,V=V.next),V}function $(e,t,r,n){for(;W;)W=!1,H+=1,V=null,r=e(t,n);return U=Z=null,H=0,V=q=null,r}function J(e,t){return"function"===typeof t?t(e):t}function Q(e,t,r){if(Z=Y(),V=K(),G){var n=V.queue;if(t=n.dispatch,null!==q&&void 0!==(r=q.get(n))){q.delete(n),n=V.memoizedState;do{n=e(n,r.action),r=r.next}while(null!==r);return V.memoizedState=n,[n,t]}return[V.memoizedState,t]}return e=e===J?"function"===typeof t?t():t:void 0!==r?r(t):t,V.memoizedState=e,e=(e=V.queue={last:null,dispatch:null}).dispatch=ee.bind(null,Z,e),[V.memoizedState,e]}function ee(e,t,r){if(!(25>H))throw Error(a(301));if(e===Z)if(W=!0,e={action:r,next:null},null===q&&(q=new Map),void 0===(r=q.get(t)))q.set(t,e);else{for(t=r;null!==t.next;)t=t.next;t.next=e}}function te(){}var re=0,ne={readContext:function(e){var t=re;return k(e,t),e[t]},useContext:function(e){Y();var t=re;return k(e,t),e[t]},useMemo:function(e,t){if(Z=Y(),t=void 0===t?null:t,null!==(V=K())){var r=V.memoizedState;if(null!==r&&null!==t){e:{var n=r[1];if(null===n)n=!1;else{for(var i=0;i<n.length&&i<t.length;i++)if(!B(t[i],n[i])){n=!1;break e}n=!0}}if(n)return r[0]}}return e=e(),V.memoizedState=[e,t],e},useReducer:Q,useRef:function(e){Z=Y();var t=(V=K()).memoizedState;return null===t?(e={current:e},V.memoizedState=e):t},useState:function(e){return Q(J,e)},useLayoutEffect:function(){},useCallback:function(e){return e},useImperativeHandle:te,useEffect:te,useDebugValue:te,useResponder:function(e,t){return{props:t,responder:e}},useDeferredValue:function(e){return Y(),e},useTransition:function(){return Y(),[function(e){e()},!1]}},ie="http://www.w3.org/1999/xhtml";function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var oe={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},se=n({menuitem:!0},oe),le={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ue=["Webkit","ms","Moz","O"];Object.keys(le).forEach((function(e){ue.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),le[t]=le[e]}))}));var ce=/([A-Z])/g,fe=/^ms-/,pe=i.Children.toArray,he=S.ReactCurrentDispatcher,de={listing:!0,pre:!0,textarea:!0},ve=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,me={},ye={};var ge=Object.prototype.hasOwnProperty,_e={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function be(e,t){if(void 0===e)throw Error(a(152,w(t)||"Component"))}function xe(e,t,r){function o(i,o){var s=o.prototype&&o.prototype.isReactComponent,l=function(e,t,r,n){if(n&&"object"===typeof(n=e.contextType)&&null!==n)return k(n,r),n[r];if(e=e.contextTypes){for(var i in r={},e)r[i]=t[i];t=r}else t=P;return t}(o,t,r,s),u=[],c=!1,f={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===u)return null},enqueueReplaceState:function(e,t){c=!0,u=[t]},enqueueSetState:function(e,t){if(null===u)return null;u.push(t)}};if(s){if(s=new o(i.props,l,f),"function"===typeof o.getDerivedStateFromProps){var p=o.getDerivedStateFromProps.call(null,i.props,s.state);null!=p&&(s.state=n({},s.state,p))}}else if(Z={},s=o(i.props,l,f),null==(s=$(o,i.props,s,l))||null==s.render)return void be(e=s,o);if(s.props=i.props,s.context=l,s.updater=f,void 0===(f=s.state)&&(s.state=f=null),"function"===typeof s.UNSAFE_componentWillMount||"function"===typeof s.componentWillMount)if("function"===typeof s.componentWillMount&&"function"!==typeof o.getDerivedStateFromProps&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&"function"!==typeof o.getDerivedStateFromProps&&s.UNSAFE_componentWillMount(),u.length){f=u;var h=c;if(u=null,c=!1,h&&1===f.length)s.state=f[0];else{p=h?f[0]:s.state;var d=!0;for(h=h?1:0;h<f.length;h++){var v=f[h];null!=(v="function"===typeof v?v.call(s,p,i.props,l):v)&&(d?(d=!1,p=n({},p,v)):n(p,v))}s.state=p}}else u=null;if(be(e=s.render(),o),"function"===typeof s.getChildContext&&"object"===typeof(i=o.childContextTypes)){var m=s.getChildContext();for(var y in m)if(!(y in i))throw Error(a(108,w(o)||"Unknown",y))}m&&(t=n({},t,m))}for(;i.isValidElement(e);){var s=e,l=s.type;if("function"!==typeof l)break;o(s,l)}return{child:e,context:t}}var we=function(){function e(e,t){i.isValidElement(e)?e.type!==l?e=[e]:(e=e.props.children,e=i.isValidElement(e)?[e]:pe(e)):e=pe(e),e={type:null,domNamespace:ie,children:e,childIndex:0,context:P,footer:""};var r=E[0];if(0===r){var n=E,o=2*(r=n.length);if(!(65536>=o))throw Error(a(304));var s=new Uint16Array(o);for(s.set(n),(E=s)[0]=r+1,n=r;n<o-1;n++)E[n]=n+1;E[o-1]=0}else E[0]=E[r];this.threadID=r,this.stack=[e],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=t,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[]}var t=e.prototype;return t.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var e=this.threadID;E[e]=E[0],E[0]=e}},t.pushProvider=function(e){var t=++this.contextIndex,r=e.type._context,n=this.threadID;k(r,n);var i=r[n];this.contextStack[t]=r,this.contextValueStack[t]=i,r[n]=e.props.value},t.popProvider=function(){var e=this.contextIndex,t=this.contextStack[e],r=this.contextValueStack[e];this.contextStack[e]=null,this.contextValueStack[e]=null,this.contextIndex--,t[this.threadID]=r},t.clearProviders=function(){for(var e=this.contextIndex;0<=e;e--)this.contextStack[e][this.threadID]=this.contextValueStack[e]},t.read=function(e){if(this.exhausted)return null;var t=re;re=this.threadID;var r=he.current;he.current=ne;try{for(var n=[""],i=!1;n[0].length<e;){if(0===this.stack.length){this.exhausted=!0;var o=this.threadID;E[o]=E[0],E[0]=o;break}var s=this.stack[this.stack.length-1];if(i||s.childIndex>=s.children.length){var l=s.footer;if(""!==l&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===s.type)this.currentSelectValue=null;else if(null!=s.type&&null!=s.type.type&&s.type.type.$$typeof===f)this.popProvider(s.type);else if(s.type===v){this.suspenseDepth--;var u=n.pop();if(i){i=!1;var c=s.fallbackFrame;if(!c)throw Error(a(303));this.stack.push(c),n[this.suspenseDepth]+="\x3c!--$!--\x3e";continue}n[this.suspenseDepth]+=u}n[this.suspenseDepth]+=l}else{var p=s.children[s.childIndex++],h="";try{h+=this.render(p,s.context,s.domNamespace)}catch(d){if(null!=d&&"function"===typeof d.then)throw Error(a(294));throw d}n.length<=this.suspenseDepth&&n.push(""),n[this.suspenseDepth]+=h}}return n[0]}finally{he.current=r,re=t}},t.render=function(e,t,r){if("string"===typeof e||"number"===typeof e)return""===(r=""+e)?"":this.makeStaticMarkup?N(r):this.previousWasTextNode?"\x3c!-- --\x3e"+N(r):(this.previousWasTextNode=!0,N(r));if(e=(t=xe(e,t,this.threadID)).child,t=t.context,null===e||!1===e)return"";if(!i.isValidElement(e)){if(null!=e&&null!=e.$$typeof){if((r=e.$$typeof)===s)throw Error(a(257));throw Error(a(258,r.toString()))}return e=pe(e),this.stack.push({type:null,domNamespace:r,children:e,childIndex:0,context:t,footer:""}),""}var o=e.type;if("string"===typeof o)return this.renderDOM(e,t,r);switch(o){case u:case h:case c:case m:case l:return e=pe(e.props.children),this.stack.push({type:null,domNamespace:r,children:e,childIndex:0,context:t,footer:""}),"";case v:throw Error(a(294))}if("object"===typeof o&&null!==o)switch(o.$$typeof){case d:Z={};var _=o.render(e.props,e.ref);return _=$(o.render,e.props,_,e.ref),_=pe(_),this.stack.push({type:null,domNamespace:r,children:_,childIndex:0,context:t,footer:""}),"";case y:return e=[i.createElement(o.type,n({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:r,children:e,childIndex:0,context:t,footer:""}),"";case f:return r={type:e,domNamespace:r,children:o=pe(e.props.children),childIndex:0,context:t,footer:""},this.pushProvider(e),this.stack.push(r),"";case p:o=e.type,_=e.props;var w=this.threadID;return k(o,w),o=pe(_.children(o[w])),this.stack.push({type:e,domNamespace:r,children:o,childIndex:0,context:t,footer:""}),"";case b:throw Error(a(338));case g:switch(function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(o=e.type),o._status){case 1:return e=[i.createElement(o._result,n({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:r,children:e,childIndex:0,context:t,footer:""}),"";case 2:throw o._result;default:throw Error(a(295))}case x:throw Error(a(343))}throw Error(a(130,null==o?o:typeof o,""))},t.renderDOM=function(e,t,r){var o=e.type.toLowerCase();if(r===ie&&ae(o),!me.hasOwnProperty(o)){if(!ve.test(o))throw Error(a(65,o));me[o]=!0}var s=e.props;if("input"===o)s=n({type:void 0},s,{defaultChecked:void 0,defaultValue:void 0,value:null!=s.value?s.value:s.defaultValue,checked:null!=s.checked?s.checked:s.defaultChecked});else if("textarea"===o){var l=s.value;if(null==l){l=s.defaultValue;var u=s.children;if(null!=u){if(null!=l)throw Error(a(92));if(Array.isArray(u)){if(!(1>=u.length))throw Error(a(93));u=u[0]}l=""+u}null==l&&(l="")}s=n({},s,{value:void 0,children:""+l})}else if("select"===o)this.currentSelectValue=null!=s.value?s.value:s.defaultValue,s=n({},s,{value:void 0});else if("option"===o){u=this.currentSelectValue;var c=function(e){if(void 0===e||null===e)return e;var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(s.children);if(null!=u){var f=null!=s.value?s.value+"":c;if(l=!1,Array.isArray(u)){for(var p=0;p<u.length;p++)if(""+u[p]===f){l=!0;break}}else l=""+u===f;s=n({selected:void 0,children:void 0},s,{selected:l,children:c})}}if(l=s){if(se[o]&&(null!=l.children||null!=l.dangerouslySetInnerHTML))throw Error(a(137,o,""));if(null!=l.dangerouslySetInnerHTML){if(null!=l.children)throw Error(a(60));if("object"!==typeof l.dangerouslySetInnerHTML||!("__html"in l.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=l.style&&"object"!==typeof l.style)throw Error(a(62,""))}for(b in l=s,u=this.makeStaticMarkup,c=1===this.stack.length,f="<"+e.type,l)if(ge.call(l,b)){var h=l[b];if(null!=h){if("style"===b){p=void 0;var d="",v="";for(p in h)if(h.hasOwnProperty(p)){var m=0===p.indexOf("--"),y=h[p];if(null!=y){if(m)var g=p;else if(g=p,ye.hasOwnProperty(g))g=ye[g];else{var _=g.replace(ce,"-$1").toLowerCase().replace(fe,"-ms-");g=ye[g]=_}d+=v+g+":",v=p,d+=m=null==y||"boolean"===typeof y||""===y?"":m||"number"!==typeof y||0===y||le.hasOwnProperty(v)&&le[v]?(""+y).trim():y+"px",v=";"}}h=d||null}p=null;e:if(m=o,y=l,-1===m.indexOf("-"))m="string"===typeof y.is;else switch(m){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":m=!1;break e;default:m=!0}m?_e.hasOwnProperty(b)||(p=I(p=b)&&null!=h?p+'="'+N(h)+'"':""):p=z(b,h),p&&(f+=" "+p)}}u||c&&(f+=' data-reactroot=""');var b=f;l="",oe.hasOwnProperty(o)?b+="/>":(b+=">",l="</"+e.type+">");e:{if(null!=(u=s.dangerouslySetInnerHTML)){if(null!=u.__html){u=u.__html;break e}}else if("string"===typeof(u=s.children)||"number"===typeof u){u=N(u);break e}u=null}return null!=u?(s=[],de.hasOwnProperty(o)&&"\n"===u.charAt(0)&&(b+="\n"),b+=u):s=pe(s.children),e=e.type,r=null==r||"http://www.w3.org/1999/xhtml"===r?ae(e):"http://www.w3.org/2000/svg"===r&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":r,this.stack.push({domNamespace:r,type:o,children:s,childIndex:0,context:t,footer:l}),this.previousWasTextNode=!1,b},e}(),Se={renderToString:function(e){e=new we(e,!1);try{return e.read(1/0)}finally{e.destroy()}},renderToStaticMarkup:function(e){e=new we(e,!0);try{return e.read(1/0)}finally{e.destroy()}},renderToNodeStream:function(){throw Error(a(207))},renderToStaticNodeStream:function(){throw Error(a(208))},version:"16.14.0"};e.exports=Se.default||Se},58340:function(e,t,r){"use strict";e.exports=r(84424)},50077:function(e){var t="undefined"!==typeof Element,r="function"===typeof Map,n="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var s,l,u,c;if(Array.isArray(e)){if((s=e.length)!=o.length)return!1;for(l=s;0!==l--;)if(!a(e[l],o[l]))return!1;return!0}if(r&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!o.has(l.value[0]))return!1;for(c=e.entries();!(l=c.next()).done;)if(!a(l.value[1],o.get(l.value[0])))return!1;return!0}if(n&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((s=e.length)!=o.length)return!1;for(l=s;0!==l--;)if(e[l]!==o[l])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===o.toString();if((s=(u=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(l=s;0!==l--;)if(!Object.prototype.hasOwnProperty.call(o,u[l]))return!1;if(t&&e instanceof Element)return!1;for(l=s;0!==l--;)if(("_owner"!==u[l]&&"__v"!==u[l]&&"__o"!==u[l]||!e.$$typeof)&&!a(e[u[l]],o[u[l]]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}}},23688:function(e,t,r){"use strict";function n(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){this.setState(function(t){var r=this.constructor.getDerivedStateFromProps(e,t);return null!==r&&void 0!==r?r:null}.bind(this))}function a(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}function o(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var r=null,o=null,s=null;if("function"===typeof t.componentWillMount?r="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(r="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?o="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==r||null!==o||null!==s){var l=e.displayName||e.name,u="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+u+" but also contains the following legacy lifecycles:"+(null!==r?"\n  "+r:"")+(null!==o?"\n  "+o:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=n,t.componentWillReceiveProps=i),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=a;var c=t.componentDidUpdate;t.componentDidUpdate=function(e,t,r){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;c.call(this,e,t,n)}}return e}r.r(t),r.d(t,{polyfill:function(){return o}}),n.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0},75737:function(e,t,r){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=9)}([function(e,t){e.exports=r(72791)},function(e,t,r){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)&&n.length){var o=i.apply(null,n);o&&e.push(o)}else if("object"===a)for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},function(e,t,r){(function(t){var r=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt,s="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,u=s||l||Function("return this")(),c=Object.prototype.toString,f=u.Symbol,p=f?f.prototype:void 0,h=p?p.toString:void 0;function d(e){if("string"==typeof e)return e;if(m(e))return h?h.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==c.call(e)}function y(e){return e?(e=function(e){if("number"==typeof e)return e;if(m(e))return NaN;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var s=i.test(e);return s||a.test(e)?o(e.slice(2),s?2:8):n.test(e)?NaN:+e}(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}e.exports=function(e,t,r){var n,i,a;return e=null==(n=e)?"":d(n),i=function(e){var t=y(e),r=t%1;return t==t?r?t-r:t:0}(r),0,a=e.length,i==i&&(void 0!==a&&(i=i<=a?i:a),i=i>=0?i:0),r=i,t=d(t),e.slice(r,r+t.length)==t}}).call(this,r(3))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){(function(t){var r,n=/^\[object .+?Constructor\]$/,i="object"==typeof t&&t&&t.Object===Object&&t,a="object"==typeof self&&self&&self.Object===Object&&self,o=i||a||Function("return this")(),s=Array.prototype,l=Function.prototype,u=Object.prototype,c=o["__core-js_shared__"],f=(r=/[^.]+$/.exec(c&&c.keys&&c.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",p=l.toString,h=u.hasOwnProperty,d=u.toString,v=RegExp("^"+p.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),m=s.splice,y=k(o,"Map"),g=k(Object,"create");function _(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function b(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function x(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function w(e,t){for(var r,n,i=e.length;i--;)if((r=e[i][0])===(n=t)||r!=r&&n!=n)return i;return-1}function S(e){return!(!C(e)||(t=e,f&&f in t))&&(function(e){var t=C(e)?d.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?v:n).test(function(e){if(null!=e){try{return p.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function P(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function k(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return S(r)?r:void 0}function E(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function r(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o),o};return r.cache=new(E.Cache||x),r}function C(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}_.prototype.clear=function(){this.__data__=g?g(null):{}},_.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},_.prototype.get=function(e){var t=this.__data__;if(g){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return h.call(t,e)?t[e]:void 0},_.prototype.has=function(e){var t=this.__data__;return g?void 0!==t[e]:h.call(t,e)},_.prototype.set=function(e,t){return this.__data__[e]=g&&void 0===t?"__lodash_hash_undefined__":t,this},b.prototype.clear=function(){this.__data__=[]},b.prototype.delete=function(e){var t=this.__data__,r=w(t,e);return!(r<0)&&(r==t.length-1?t.pop():m.call(t,r,1),!0)},b.prototype.get=function(e){var t=this.__data__,r=w(t,e);return r<0?void 0:t[r][1]},b.prototype.has=function(e){return w(this.__data__,e)>-1},b.prototype.set=function(e,t){var r=this.__data__,n=w(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},x.prototype.clear=function(){this.__data__={hash:new _,map:new(y||b),string:new _}},x.prototype.delete=function(e){return P(this,e).delete(e)},x.prototype.get=function(e){return P(this,e).get(e)},x.prototype.has=function(e){return P(this,e).has(e)},x.prototype.set=function(e,t){return P(this,e).set(e,t),this},E.Cache=x,e.exports=E}).call(this,r(3))},function(e,t,r){(function(t){var r=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt,s="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,u=s||l||Function("return this")(),c=Object.prototype.toString,f=Math.max,p=Math.min,h=function(){return u.Date.now()};function d(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==c.call(e)}(e))return NaN;if(d(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=d(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var s=i.test(e);return s||a.test(e)?o(e.slice(2),s?2:8):n.test(e)?NaN:+e}e.exports=function(e,t,r){var n,i,a,o,s,l,u=0,c=!1,m=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var r=n,a=i;return n=i=void 0,u=t,o=e.apply(a,r)}function _(e){return u=e,s=setTimeout(x,t),c?g(e):o}function b(e){var r=e-l;return void 0===l||r>=t||r<0||m&&e-u>=a}function x(){var e=h();if(b(e))return w(e);s=setTimeout(x,function(e){var r=t-(e-l);return m?p(r,a-(e-u)):r}(e))}function w(e){return s=void 0,y&&n?g(e):(n=i=void 0,o)}function S(){var e=h(),r=b(e);if(n=arguments,i=this,l=e,r){if(void 0===s)return _(l);if(m)return s=setTimeout(x,t),g(l)}return void 0===s&&(s=setTimeout(x,t)),o}return t=v(t)||0,d(r)&&(c=!!r.leading,a=(m="maxWait"in r)?f(v(r.maxWait)||0,t):a,y="trailing"in r?!!r.trailing:y),S.cancel=function(){void 0!==s&&clearTimeout(s),u=0,n=l=i=s=void 0},S.flush=function(){return void 0===s?o:w(h())},S}}).call(this,r(3))},function(e,t,r){(function(e,r){var n="[object Arguments]",i="[object Map]",a="[object Object]",o="[object Set]",s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/,u=/^\./,c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,p=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,d={};d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d[n]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object Boolean]"]=d["[object DataView]"]=d["[object Date]"]=d["[object Error]"]=d["[object Function]"]=d[i]=d["[object Number]"]=d[a]=d["[object RegExp]"]=d[o]=d["[object String]"]=d["[object WeakMap]"]=!1;var v="object"==typeof e&&e&&e.Object===Object&&e,m="object"==typeof self&&self&&self.Object===Object&&self,y=v||m||Function("return this")(),g=t&&!t.nodeType&&t,_=g&&"object"==typeof r&&r&&!r.nodeType&&r,b=_&&_.exports===g&&v.process,x=function(){try{return b&&b.binding("util")}catch(e){}}(),w=x&&x.isTypedArray;function S(e,t,r,n){var i=-1,a=e?e.length:0;for(n&&a&&(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return r}function P(e,t){for(var r=-1,n=e?e.length:0;++r<n;)if(t(e[r],r,e))return!0;return!1}function k(e,t,r,n,i){return i(e,(function(e,i,a){r=n?(n=!1,e):t(r,e,i,a)})),r}function E(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function C(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function A(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var T,O,M,I=Array.prototype,F=Function.prototype,R=Object.prototype,D=y["__core-js_shared__"],j=(T=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||""))?"Symbol(src)_1."+T:"",L=F.toString,N=R.hasOwnProperty,z=R.toString,B=RegExp("^"+L.call(N).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Z=y.Symbol,U=y.Uint8Array,V=R.propertyIsEnumerable,G=I.splice,W=(O=Object.keys,M=Object,function(e){return O(M(e))}),q=we(y,"DataView"),H=we(y,"Map"),Y=we(y,"Promise"),X=we(y,"Set"),K=we(y,"WeakMap"),$=we(Object,"create"),J=Oe(q),Q=Oe(H),ee=Oe(Y),te=Oe(X),re=Oe(K),ne=Z?Z.prototype:void 0,ie=ne?ne.valueOf:void 0,ae=ne?ne.toString:void 0;function oe(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function se(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function le(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ue(e){var t=-1,r=e?e.length:0;for(this.__data__=new le;++t<r;)this.add(e[t])}function ce(e){this.__data__=new se(e)}function fe(e,t){for(var r=e.length;r--;)if(Ie(e[r][0],t))return r;return-1}oe.prototype.clear=function(){this.__data__=$?$(null):{}},oe.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},oe.prototype.get=function(e){var t=this.__data__;if($){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return N.call(t,e)?t[e]:void 0},oe.prototype.has=function(e){var t=this.__data__;return $?void 0!==t[e]:N.call(t,e)},oe.prototype.set=function(e,t){return this.__data__[e]=$&&void 0===t?"__lodash_hash_undefined__":t,this},se.prototype.clear=function(){this.__data__=[]},se.prototype.delete=function(e){var t=this.__data__,r=fe(t,e);return!(r<0)&&(r==t.length-1?t.pop():G.call(t,r,1),!0)},se.prototype.get=function(e){var t=this.__data__,r=fe(t,e);return r<0?void 0:t[r][1]},se.prototype.has=function(e){return fe(this.__data__,e)>-1},se.prototype.set=function(e,t){var r=this.__data__,n=fe(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},le.prototype.clear=function(){this.__data__={hash:new oe,map:new(H||se),string:new oe}},le.prototype.delete=function(e){return xe(this,e).delete(e)},le.prototype.get=function(e){return xe(this,e).get(e)},le.prototype.has=function(e){return xe(this,e).has(e)},le.prototype.set=function(e,t){return xe(this,e).set(e,t),this},ue.prototype.add=ue.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ue.prototype.has=function(e){return this.__data__.has(e)},ce.prototype.clear=function(){this.__data__=new se},ce.prototype.delete=function(e){return this.__data__.delete(e)},ce.prototype.get=function(e){return this.__data__.get(e)},ce.prototype.has=function(e){return this.__data__.has(e)},ce.prototype.set=function(e,t){var r=this.__data__;if(r instanceof se){var n=r.__data__;if(!H||n.length<199)return n.push([e,t]),this;r=this.__data__=new le(n)}return r.set(e,t),this};var pe,he=(pe=function(e,t){return e&&de(e,t,Ue)},function(e,t){if(null==e)return e;if(!De(e))return pe(e,t);for(var r=e.length,n=-1,i=Object(e);++n<r&&!1!==t(i[n],n,i););return e}),de=function(e,t,r){for(var n=-1,i=Object(e),a=r(e),o=a.length;o--;){var s=a[++n];if(!1===t(i[s],s,i))break}return e};function ve(e,t){for(var r=0,n=(t=ke(t,e)?[t]:_e(t)).length;null!=e&&r<n;)e=e[Te(t[r++])];return r&&r==n?e:void 0}function me(e,t){return null!=e&&t in Object(e)}function ye(e,t,r,s,l){return e===t||(null==e||null==t||!Ne(e)&&!ze(t)?e!=e&&t!=t:function(e,t,r,s,l,u){var c=Re(e),f=Re(t),p="[object Array]",h="[object Array]";c||(p=(p=Se(e))==n?a:p),f||(h=(h=Se(t))==n?a:h);var d=p==a&&!E(e),v=h==a&&!E(t),m=p==h;if(m&&!d)return u||(u=new ce),c||Ze(e)?be(e,t,r,s,l,u):function(e,t,r,n,a,s,l){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!n(new U(e),new U(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ie(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case i:var u=C;case o:var c=2&s;if(u||(u=A),e.size!=t.size&&!c)return!1;var f=l.get(e);if(f)return f==t;s|=1,l.set(e,t);var p=be(u(e),u(t),n,a,s,l);return l.delete(e),p;case"[object Symbol]":if(ie)return ie.call(e)==ie.call(t)}return!1}(e,t,p,r,s,l,u);if(!(2&l)){var y=d&&N.call(e,"__wrapped__"),g=v&&N.call(t,"__wrapped__");if(y||g){var _=y?e.value():e,b=g?t.value():t;return u||(u=new ce),r(_,b,s,l,u)}}return!!m&&(u||(u=new ce),function(e,t,r,n,i,a){var o=2&i,s=Ue(e),l=s.length;if(l!=Ue(t).length&&!o)return!1;for(var u=l;u--;){var c=s[u];if(!(o?c in t:N.call(t,c)))return!1}var f=a.get(e);if(f&&a.get(t))return f==t;var p=!0;a.set(e,t),a.set(t,e);for(var h=o;++u<l;){var d=e[c=s[u]],v=t[c];if(n)var m=o?n(v,d,c,t,e,a):n(d,v,c,e,t,a);if(!(void 0===m?d===v||r(d,v,n,i,a):m)){p=!1;break}h||(h="constructor"==c)}if(p&&!h){var y=e.constructor,g=t.constructor;y==g||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof g&&g instanceof g||(p=!1)}return a.delete(e),a.delete(t),p}(e,t,r,s,l,u))}(e,t,ye,r,s,l))}function ge(e){return"function"==typeof e?e:null==e?Ve:"object"==typeof e?Re(e)?function(e,t){return ke(e)&&Ee(t)?Ce(Te(e),t):function(r){var n=function(e,t,r){var n=null==e?void 0:ve(e,t);return void 0===n?void 0:n}(r,e);return void 0===n&&n===t?function(e,t){return null!=e&&function(e,t,r){for(var n,i=-1,a=(t=ke(t,e)?[t]:_e(t)).length;++i<a;){var o=Te(t[i]);if(!(n=null!=e&&r(e,o)))break;e=e[o]}return n||!!(a=e?e.length:0)&&Le(a)&&Pe(o,a)&&(Re(e)||Fe(e))}(e,t,me)}(r,e):ye(t,n,void 0,3)}}(e[0],e[1]):function(e){var t=function(e){for(var t=Ue(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,Ee(i)]}return t}(e);return 1==t.length&&t[0][2]?Ce(t[0][0],t[0][1]):function(r){return r===e||function(e,t,r,n){var i=r.length,a=i;if(null==e)return!a;for(e=Object(e);i--;){var o=r[i];if(o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<a;){var s=(o=r[i])[0],l=e[s],u=o[1];if(o[2]){if(void 0===l&&!(s in e))return!1}else{var c,f=new ce;if(!(void 0===c?ye(u,l,n,3,f):c))return!1}}return!0}(r,0,t)}}(e):ke(t=e)?(r=Te(t),function(e){return null==e?void 0:e[r]}):function(e){return function(t){return ve(t,e)}}(t);var t,r}function _e(e){return Re(e)?e:Ae(e)}function be(e,t,r,n,i,a){var o=2&i,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(e);if(u&&a.get(t))return u==t;var c=-1,f=!0,p=1&i?new ue:void 0;for(a.set(e,t),a.set(t,e);++c<s;){var h=e[c],d=t[c];if(n)var v=o?n(d,h,c,t,e,a):n(h,d,c,e,t,a);if(void 0!==v){if(v)continue;f=!1;break}if(p){if(!P(t,(function(e,t){if(!p.has(t)&&(h===e||r(h,e,n,i,a)))return p.add(t)}))){f=!1;break}}else if(h!==d&&!r(h,d,n,i,a)){f=!1;break}}return a.delete(e),a.delete(t),f}function xe(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function we(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ne(e)||function(e){return!!j&&j in e}(e))&&(je(e)||E(e)?B:p).test(Oe(e))}(r)?r:void 0}var Se=function(e){return z.call(e)};function Pe(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||h.test(e))&&e>-1&&e%1==0&&e<t}function ke(e,t){if(Re(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Be(e))||l.test(e)||!s.test(e)||null!=t&&e in Object(t)}function Ee(e){return e==e&&!Ne(e)}function Ce(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}}(q&&"[object DataView]"!=Se(new q(new ArrayBuffer(1)))||H&&Se(new H)!=i||Y&&"[object Promise]"!=Se(Y.resolve())||X&&Se(new X)!=o||K&&"[object WeakMap]"!=Se(new K))&&(Se=function(e){var t=z.call(e),r=t==a?e.constructor:void 0,n=r?Oe(r):void 0;if(n)switch(n){case J:return"[object DataView]";case Q:return i;case ee:return"[object Promise]";case te:return o;case re:return"[object WeakMap]"}return t});var Ae=Me((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(Be(e))return ae?ae.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var r=[];return u.test(e)&&r.push(""),e.replace(c,(function(e,t,n,i){r.push(n?i.replace(f,"$1"):t||e)})),r}));function Te(e){if("string"==typeof e||Be(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Oe(e){if(null!=e){try{return L.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Me(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function r(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o),o};return r.cache=new(Me.Cache||le),r}function Ie(e,t){return e===t||e!=e&&t!=t}function Fe(e){return function(e){return ze(e)&&De(e)}(e)&&N.call(e,"callee")&&(!V.call(e,"callee")||z.call(e)==n)}Me.Cache=le;var Re=Array.isArray;function De(e){return null!=e&&Le(e.length)&&!je(e)}function je(e){var t=Ne(e)?z.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function Le(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Ne(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ze(e){return!!e&&"object"==typeof e}function Be(e){return"symbol"==typeof e||ze(e)&&"[object Symbol]"==z.call(e)}var Ze=w?function(e){return function(t){return e(t)}}(w):function(e){return ze(e)&&Le(e.length)&&!!d[z.call(e)]};function Ue(e){return De(e)?function(e,t){var r=Re(e)||Fe(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,i=!!n;for(var a in e)!t&&!N.call(e,a)||i&&("length"==a||Pe(a,n))||r.push(a);return r}(e):function(e){if(r=(t=e)&&t.constructor,t!==("function"==typeof r&&r.prototype||R))return W(e);var t,r,n=[];for(var i in Object(e))N.call(e,i)&&"constructor"!=i&&n.push(i);return n}(e)}function Ve(e){return e}r.exports=function(e,t,r){var n=Re(e)?S:k,i=arguments.length<3;return n(e,ge(t),r,i,he)}}).call(this,r(3),r(7)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){String.prototype.padEnd||(String.prototype.padEnd=function(e,t){return e>>=0,t=String(void 0!==t?t:" "),this.length>e?String(this):((e-=this.length)>t.length&&(t+=t.repeat(e/t.length)),String(this)+t.slice(0,e))})},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e){if(Array.isArray(e))return e}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){return(f="function"==typeof Symbol&&"symbol"===c(Symbol.iterator)?function(e){return c(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":c(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.r(t);var v=r(0),m=r.n(v),y=r(5),g=r.n(y),_=r(4),b=r.n(_),x=r(6),w=r.n(x),S=r(2),P=r.n(S),k=r(1),E=r.n(k);function C(e,t){return o(e)||function(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(e,t)||s()}r(8);var A=[["Afghanistan",["asia"],"af","93"],["Albania",["europe"],"al","355"],["Algeria",["africa","north-africa"],"dz","213"],["Andorra",["europe"],"ad","376"],["Angola",["africa"],"ao","244"],["Antigua and Barbuda",["america","carribean"],"ag","1268"],["Argentina",["america","south-america"],"ar","54","(..) ........",0,["11","221","223","261","264","2652","280","2905","291","2920","2966","299","341","342","343","351","376","379","381","3833","385","387","388"]],["Armenia",["asia","ex-ussr"],"am","374",".. ......"],["Aruba",["america","carribean"],"aw","297"],["Australia",["oceania"],"au","61","(..) .... ....",0,["2","3","4","7","8","02","03","04","07","08"]],["Austria",["europe","eu-union"],"at","43"],["Azerbaijan",["asia","ex-ussr"],"az","994","(..) ... .. .."],["Bahamas",["america","carribean"],"bs","1242"],["Bahrain",["middle-east"],"bh","973"],["Bangladesh",["asia"],"bd","880"],["Barbados",["america","carribean"],"bb","1246"],["Belarus",["europe","ex-ussr"],"by","375","(..) ... .. .."],["Belgium",["europe","eu-union"],"be","32","... .. .. .."],["Belize",["america","central-america"],"bz","501"],["Benin",["africa"],"bj","229"],["Bhutan",["asia"],"bt","975"],["Bolivia",["america","south-america"],"bo","591"],["Bosnia and Herzegovina",["europe","ex-yugos"],"ba","387"],["Botswana",["africa"],"bw","267"],["Brazil",["america","south-america"],"br","55","(..) ........."],["British Indian Ocean Territory",["asia"],"io","246"],["Brunei",["asia"],"bn","673"],["Bulgaria",["europe","eu-union"],"bg","359"],["Burkina Faso",["africa"],"bf","226"],["Burundi",["africa"],"bi","257"],["Cambodia",["asia"],"kh","855"],["Cameroon",["africa"],"cm","237"],["Canada",["america","north-america"],"ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde",["africa"],"cv","238"],["Caribbean Netherlands",["america","carribean"],"bq","599","",1],["Central African Republic",["africa"],"cf","236"],["Chad",["africa"],"td","235"],["Chile",["america","south-america"],"cl","56"],["China",["asia"],"cn","86","..-........."],["Colombia",["america","south-america"],"co","57","... ... ...."],["Comoros",["africa"],"km","269"],["Congo",["africa"],"cd","243"],["Congo",["africa"],"cg","242"],["Costa Rica",["america","central-america"],"cr","506","....-...."],["C\xf4te d\u2019Ivoire",["africa"],"ci","225",".. .. .. .."],["Croatia",["europe","eu-union","ex-yugos"],"hr","385"],["Cuba",["america","carribean"],"cu","53"],["Cura\xe7ao",["america","carribean"],"cw","599","",0],["Cyprus",["europe","eu-union"],"cy","357",".. ......"],["Czech Republic",["europe","eu-union"],"cz","420","... ... ..."],["Denmark",["europe","eu-union","baltic"],"dk","45",".. .. .. .."],["Djibouti",["africa"],"dj","253"],["Dominica",["america","carribean"],"dm","1767"],["Dominican Republic",["america","carribean"],"do","1","",2,["809","829","849"]],["Ecuador",["america","south-america"],"ec","593"],["Egypt",["africa","north-africa"],"eg","20"],["El Salvador",["america","central-america"],"sv","503","....-...."],["Equatorial Guinea",["africa"],"gq","240"],["Eritrea",["africa"],"er","291"],["Estonia",["europe","eu-union","ex-ussr","baltic"],"ee","372",".... ......"],["Ethiopia",["africa"],"et","251"],["Fiji",["oceania"],"fj","679"],["Finland",["europe","eu-union","baltic"],"fi","358",".. ... .. .."],["France",["europe","eu-union"],"fr","33",". .. .. .. .."],["French Guiana",["america","south-america"],"gf","594"],["French Polynesia",["oceania"],"pf","689"],["Gabon",["africa"],"ga","241"],["Gambia",["africa"],"gm","220"],["Georgia",["asia","ex-ussr"],"ge","995"],["Germany",["europe","eu-union","baltic"],"de","49",".... ........"],["Ghana",["africa"],"gh","233"],["Greece",["europe","eu-union"],"gr","30"],["Grenada",["america","carribean"],"gd","1473"],["Guadeloupe",["america","carribean"],"gp","590","",0],["Guam",["oceania"],"gu","1671"],["Guatemala",["america","central-america"],"gt","502","....-...."],["Guinea",["africa"],"gn","224"],["Guinea-Bissau",["africa"],"gw","245"],["Guyana",["america","south-america"],"gy","592"],["Haiti",["america","carribean"],"ht","509","....-...."],["Honduras",["america","central-america"],"hn","504"],["Hong Kong",["asia"],"hk","852",".... ...."],["Hungary",["europe","eu-union"],"hu","36"],["Iceland",["europe"],"is","354","... ...."],["India",["asia"],"in","91",".....-....."],["Indonesia",["asia"],"id","62"],["Iran",["middle-east"],"ir","98","... ... ...."],["Iraq",["middle-east"],"iq","964"],["Ireland",["europe","eu-union"],"ie","353",".. ......."],["Israel",["middle-east"],"il","972","... ... ...."],["Italy",["europe","eu-union"],"it","39","... .......",0],["Jamaica",["america","carribean"],"jm","1876"],["Japan",["asia"],"jp","81",".. .... ...."],["Jordan",["middle-east"],"jo","962"],["Kazakhstan",["asia","ex-ussr"],"kz","7","... ...-..-..",1,["310","311","312","313","315","318","321","324","325","326","327","336","7172","73622"]],["Kenya",["africa"],"ke","254"],["Kiribati",["oceania"],"ki","686"],["Kosovo",["europe","ex-yugos"],"xk","383"],["Kuwait",["middle-east"],"kw","965"],["Kyrgyzstan",["asia","ex-ussr"],"kg","996","... ... ..."],["Laos",["asia"],"la","856"],["Latvia",["europe","eu-union","ex-ussr","baltic"],"lv","371",".. ... ..."],["Lebanon",["middle-east"],"lb","961"],["Lesotho",["africa"],"ls","266"],["Liberia",["africa"],"lr","231"],["Libya",["africa","north-africa"],"ly","218"],["Liechtenstein",["europe"],"li","423"],["Lithuania",["europe","eu-union","ex-ussr","baltic"],"lt","370"],["Luxembourg",["europe","eu-union"],"lu","352"],["Macau",["asia"],"mo","853"],["Macedonia",["europe","ex-yugos"],"mk","389"],["Madagascar",["africa"],"mg","261"],["Malawi",["africa"],"mw","265"],["Malaysia",["asia"],"my","60","..-....-...."],["Maldives",["asia"],"mv","960"],["Mali",["africa"],"ml","223"],["Malta",["europe","eu-union"],"mt","356"],["Marshall Islands",["oceania"],"mh","692"],["Martinique",["america","carribean"],"mq","596"],["Mauritania",["africa"],"mr","222"],["Mauritius",["africa"],"mu","230"],["Mexico",["america","central-america"],"mx","52","... ... ....",0,["55","81","33","656","664","998","774","229"]],["Micronesia",["oceania"],"fm","691"],["Moldova",["europe"],"md","373","(..) ..-..-.."],["Monaco",["europe"],"mc","377"],["Mongolia",["asia"],"mn","976"],["Montenegro",["europe","ex-yugos"],"me","382"],["Morocco",["africa","north-africa"],"ma","212"],["Mozambique",["africa"],"mz","258"],["Myanmar",["asia"],"mm","95"],["Namibia",["africa"],"na","264"],["Nauru",["africa"],"nr","674"],["Nepal",["asia"],"np","977"],["Netherlands",["europe","eu-union"],"nl","31",".. ........"],["New Caledonia",["oceania"],"nc","687"],["New Zealand",["oceania"],"nz","64","...-...-...."],["Nicaragua",["america","central-america"],"ni","505"],["Niger",["africa"],"ne","227"],["Nigeria",["africa"],"ng","234"],["North Korea",["asia"],"kp","850"],["Norway",["europe","baltic"],"no","47","... .. ..."],["Oman",["middle-east"],"om","968"],["Pakistan",["asia"],"pk","92","...-......."],["Palau",["oceania"],"pw","680"],["Palestine",["middle-east"],"ps","970"],["Panama",["america","central-america"],"pa","507"],["Papua New Guinea",["oceania"],"pg","675"],["Paraguay",["america","south-america"],"py","595"],["Peru",["america","south-america"],"pe","51"],["Philippines",["asia"],"ph","63",".... ......."],["Poland",["europe","eu-union","baltic"],"pl","48","...-...-..."],["Portugal",["europe","eu-union"],"pt","351"],["Puerto Rico",["america","carribean"],"pr","1","",3,["787","939"]],["Qatar",["middle-east"],"qa","974"],["R\xe9union",["africa"],"re","262"],["Romania",["europe","eu-union"],"ro","40"],["Russia",["europe","asia","ex-ussr","baltic"],"ru","7","(...) ...-..-..",0],["Rwanda",["africa"],"rw","250"],["Saint Kitts and Nevis",["america","carribean"],"kn","1869"],["Saint Lucia",["america","carribean"],"lc","1758"],["Saint Vincent and the Grenadines",["america","carribean"],"vc","1784"],["Samoa",["oceania"],"ws","685"],["San Marino",["europe"],"sm","378"],["S\xe3o Tom\xe9 and Pr\xedncipe",["africa"],"st","239"],["Saudi Arabia",["middle-east"],"sa","966"],["Senegal",["africa"],"sn","221"],["Serbia",["europe","ex-yugos"],"rs","381"],["Seychelles",["africa"],"sc","248"],["Sierra Leone",["africa"],"sl","232"],["Singapore",["asia"],"sg","65","....-...."],["Slovakia",["europe","eu-union"],"sk","421"],["Slovenia",["europe","eu-union","ex-yugos"],"si","386"],["Solomon Islands",["oceania"],"sb","677"],["Somalia",["africa"],"so","252"],["South Africa",["africa"],"za","27"],["South Korea",["asia"],"kr","82","... .... ...."],["South Sudan",["africa","north-africa"],"ss","211"],["Spain",["europe","eu-union"],"es","34","... ... ..."],["Sri Lanka",["asia"],"lk","94"],["Sudan",["africa"],"sd","249"],["Suriname",["america","south-america"],"sr","597"],["Swaziland",["africa"],"sz","268"],["Sweden",["europe","eu-union","baltic"],"se","46","(...) ...-..."],["Switzerland",["europe"],"ch","41",".. ... .. .."],["Syria",["middle-east"],"sy","963"],["Taiwan",["asia"],"tw","886"],["Tajikistan",["asia","ex-ussr"],"tj","992"],["Tanzania",["africa"],"tz","255"],["Thailand",["asia"],"th","66"],["Timor-Leste",["asia"],"tl","670"],["Togo",["africa"],"tg","228"],["Tonga",["oceania"],"to","676"],["Trinidad and Tobago",["america","carribean"],"tt","1868"],["Tunisia",["africa","north-africa"],"tn","216"],["Turkey",["europe"],"tr","90","... ... .. .."],["Turkmenistan",["asia","ex-ussr"],"tm","993"],["Tuvalu",["asia"],"tv","688"],["Uganda",["africa"],"ug","256"],["Ukraine",["europe","ex-ussr"],"ua","380","(..) ... .. .."],["United Arab Emirates",["middle-east"],"ae","971"],["United Kingdom",["europe","eu-union"],"gb","44",".... ......"],["United States",["america","north-america"],"us","1","(...) ...-....",0,["907","205","251","256","334","479","501","870","480","520","602","623","928","209","213","310","323","408","415","510","530","559","562","619","626","650","661","707","714","760","805","818","831","858","909","916","925","949","951","303","719","970","203","860","202","302","239","305","321","352","386","407","561","727","772","813","850","863","904","941","954","229","404","478","706","770","912","808","319","515","563","641","712","208","217","309","312","618","630","708","773","815","847","219","260","317","574","765","812","316","620","785","913","270","502","606","859","225","318","337","504","985","413","508","617","781","978","301","410","207","231","248","269","313","517","586","616","734","810","906","989","218","320","507","612","651","763","952","314","417","573","636","660","816","228","601","662","406","252","336","704","828","910","919","701","308","402","603","201","609","732","856","908","973","505","575","702","775","212","315","516","518","585","607","631","716","718","845","914","216","330","419","440","513","614","740","937","405","580","918","503","541","215","412","570","610","717","724","814","401","803","843","864","605","423","615","731","865","901","931","210","214","254","281","325","361","409","432","512","713","806","817","830","903","915","936","940","956","972","979","435","801","276","434","540","703","757","804","802","206","253","360","425","509","262","414","608","715","920","304","307"]],["Uruguay",["america","south-america"],"uy","598"],["Uzbekistan",["asia","ex-ussr"],"uz","998",".. ... .. .."],["Vanuatu",["oceania"],"vu","678"],["Vatican City",["europe"],"va","39",".. .... ....",1],["Venezuela",["america","south-america"],"ve","58"],["Vietnam",["asia"],"vn","84"],["Yemen",["middle-east"],"ye","967"],["Zambia",["africa"],"zm","260"],["Zimbabwe",["africa"],"zw","263"]],T=[["American Samoa",["oceania"],"as","1684"],["Anguilla",["america","carribean"],"ai","1264"],["Bermuda",["america","north-america"],"bm","1441"],["British Virgin Islands",["america","carribean"],"vg","1284"],["Cayman Islands",["america","carribean"],"ky","1345"],["Cook Islands",["oceania"],"ck","682"],["Falkland Islands",["america","south-america"],"fk","500"],["Faroe Islands",["europe"],"fo","298"],["Gibraltar",["europe"],"gi","350"],["Greenland",["america"],"gl","299"],["Jersey",["europe","eu-union"],"je","44",".... ......"],["Montserrat",["america","carribean"],"ms","1664"],["Niue",["asia"],"nu","683"],["Norfolk Island",["oceania"],"nf","672"],["Northern Mariana Islands",["oceania"],"mp","1670"],["Saint Barth\xe9lemy",["america","carribean"],"bl","590","",1],["Saint Helena",["africa"],"sh","290"],["Saint Martin",["america","carribean"],"mf","590","",2],["Saint Pierre and Miquelon",["america","north-america"],"pm","508"],["Sint Maarten",["america","carribean"],"sx","1721"],["Tokelau",["oceania"],"tk","690"],["Turks and Caicos Islands",["america","carribean"],"tc","1649"],["U.S. Virgin Islands",["america","carribean"],"vi","1340"],["Wallis and Futuna",["oceania"],"wf","681"]];function O(e,t,r,n,i){return!r||i?e+"".padEnd(t.length,".")+" "+n:e+"".padEnd(t.length,".")+" "+r}function M(e,t,r,i,o){var s,l,u=[];return l=!0===t,[(s=[]).concat.apply(s,a(e.map((function(e){var a={name:e[0],regions:e[1],iso2:e[2],countryCode:e[3],dialCode:e[3],format:O(r,e[3],e[4],i,o),priority:e[5]||0},s=[];return e[6]&&e[6].map((function(t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(t){n(e,t,r[t])}))}return e}({},a);r.dialCode=e[3]+t,r.isAreaCode=!0,r.areaCodeLength=t.length,s.push(r)})),s.length>0?(a.mainCode=!0,l||"Array"===t.constructor.name&&t.includes(e[2])?(a.hasAreaCodes=!0,[a].concat(s)):(u=u.concat(s),[a])):[a]})))),u]}function I(e,t,r,n){if(null!==r){var i=Object.keys(r),a=Object.values(r);i.forEach((function(r,i){if(n)return e.push([r,a[i]]);var o=e.findIndex((function(e){return e[0]===r}));if(-1===o){var s=[r];s[t]=a[i],e.push(s)}else e[o][t]=a[i]}))}}function F(e,t){return 0===t.length?e:e.map((function(e){var r=t.findIndex((function(t){return t[0]===e[2]}));if(-1===r)return e;var n=t[r];return n[1]&&(e[4]=n[1]),n[3]&&(e[5]=n[3]),n[2]&&(e[6]=n[2]),e}))}var R=function e(t,r,n,i,o,s,u,c,f,p,h,d,v,m){l(this,e),this.filterRegions=function(e,t){if("string"==typeof e){var r=e;return t.filter((function(e){return e.regions.some((function(e){return e===r}))}))}return t.filter((function(t){return e.map((function(e){return t.regions.some((function(t){return t===e}))})).some((function(e){return e}))}))},this.sortTerritories=function(e,t){var r=[].concat(a(e),a(t));return r.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})),r},this.getFilteredCountryList=function(e,t,r){return 0===e.length?t:r?e.map((function(e){var r=t.find((function(t){return t.iso2===e}));if(r)return r})).filter((function(e){return e})):t.filter((function(t){return e.some((function(e){return e===t.iso2}))}))},this.localizeCountries=function(e,t,r){for(var n=0;n<e.length;n++)void 0!==t[e[n].iso2]?e[n].localName=t[e[n].iso2]:void 0!==t[e[n].name]&&(e[n].localName=t[e[n].name]);return r||e.sort((function(e,t){return e.localName<t.localName?-1:e.localName>t.localName?1:0})),e},this.getCustomAreas=function(e,t){for(var r=[],n=0;n<t.length;n++){var i=JSON.parse(JSON.stringify(e));i.dialCode+=t[n],r.push(i)}return r},this.excludeCountries=function(e,t){return 0===t.length?e:e.filter((function(e){return!t.includes(e.iso2)}))};var y=function(e,t,r){var n=[];return I(n,1,e,!0),I(n,3,t),I(n,2,r),n}(c,f,p),g=F(JSON.parse(JSON.stringify(A)),y),_=F(JSON.parse(JSON.stringify(T)),y),b=C(M(g,t,d,v,m),2),x=b[0],w=b[1];if(r){var S=C(M(_,t,d,v,m),2),P=S[0];S[1],x=this.sortTerritories(P,x)}n&&(x=this.filterRegions(n,x)),this.onlyCountries=this.localizeCountries(this.excludeCountries(this.getFilteredCountryList(i,x,u.includes("onlyCountries")),s),h,u.includes("onlyCountries")),this.preferredCountries=0===o.length?[]:this.localizeCountries(this.getFilteredCountryList(o,x,u.includes("preferredCountries")),h,u.includes("preferredCountries")),this.hiddenAreaCodes=this.excludeCountries(this.getFilteredCountryList(i,w),s)},D=function(e){function t(e){var r;l(this,t),(r=function(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?p(e):t}(this,h(t).call(this,e))).getProbableCandidate=b()((function(e){return e&&0!==e.length?r.state.onlyCountries.filter((function(t){return P()(t.name.toLowerCase(),e.toLowerCase())}),p(p(r)))[0]:null})),r.guessSelectedCountry=b()((function(e,t,n,i){var a;if(!1===r.props.enableAreaCodes&&(i.some((function(t){if(P()(e,t.dialCode))return n.some((function(e){if(t.iso2===e.iso2&&e.mainCode)return a=e,!0})),!0})),a))return a;var o=n.find((function(e){return e.iso2==t}));if(""===e.trim())return o;var s=n.reduce((function(t,r){if(P()(e,r.dialCode)){if(r.dialCode.length>t.dialCode.length)return r;if(r.dialCode.length===t.dialCode.length&&r.priority<t.priority)return r}return t}),{dialCode:"",priority:10001},p(p(r)));return s.name?s:o})),r.updateCountry=function(e){var t,n=r.state.onlyCountries;(t=e.indexOf(0)>="0"&&e.indexOf(0)<="9"?n.find((function(t){return t.dialCode==+e})):n.find((function(t){return t.iso2==e})))&&t.dialCode&&r.setState({selectedCountry:t,formattedNumber:r.props.disableCountryCode?"":r.formatNumber(t.dialCode,t)})},r.scrollTo=function(e,t){if(e){var n=r.dropdownRef;if(n&&document.body){var i=n.offsetHeight,a=n.getBoundingClientRect().top+document.body.scrollTop,o=a+i,s=e,l=s.getBoundingClientRect(),u=s.offsetHeight,c=l.top+document.body.scrollTop,f=c+u,p=c-a+n.scrollTop,h=i/2-u/2;if(r.props.enableSearch?c<a+32:c<a)t&&(p-=h),n.scrollTop=p;else if(f>o){t&&(p+=h);var d=i-u;n.scrollTop=p-d}}}},r.scrollToTop=function(){var e=r.dropdownRef;e&&document.body&&(e.scrollTop=0)},r.formatNumber=function(e,t){if(!t)return e;var n,a=t.format,l=r.props,u=l.disableCountryCode,c=l.enableAreaCodeStretch,f=l.enableLongNumbers,p=l.autoFormat;if(u?((n=a.split(" ")).shift(),n=n.join(" ")):c&&t.isAreaCode?((n=a.split(" "))[1]=n[1].replace(/\.+/,"".padEnd(t.areaCodeLength,".")),n=n.join(" ")):n=a,!e||0===e.length)return u?"":r.props.prefix;if(e&&e.length<2||!n||!p)return u?e:r.props.prefix+e;var h,d=w()(n,(function(e,t){if(0===e.remainingText.length)return e;if("."!==t)return{formattedText:e.formattedText+t,remainingText:e.remainingText};var r,n=o(r=e.remainingText)||i(r)||s(),a=n[0],l=n.slice(1);return{formattedText:e.formattedText+a,remainingText:l}}),{formattedText:"",remainingText:e.split("")});return(h=f?d.formattedText+d.remainingText.join(""):d.formattedText).includes("(")&&!h.includes(")")&&(h+=")"),h},r.cursorToEnd=function(){var e=r.numberInputRef;if(document.activeElement===e){e.focus();var t=e.value.length;")"===e.value.charAt(t-1)&&(t-=1),e.setSelectionRange(t,t)}},r.getElement=function(e){return r["flag_no_".concat(e)]},r.getCountryData=function(){return r.state.selectedCountry?{name:r.state.selectedCountry.name||"",dialCode:r.state.selectedCountry.dialCode||"",countryCode:r.state.selectedCountry.iso2||"",format:r.state.selectedCountry.format||""}:{}},r.handleFlagDropdownClick=function(e){if(e.preventDefault(),r.state.showDropdown||!r.props.disabled){var t=r.state,n=t.preferredCountries,i=t.onlyCountries,a=t.selectedCountry,o=r.concatPreferredCountries(n,i).findIndex((function(e){return e.dialCode===a.dialCode&&e.iso2===a.iso2}));r.setState({showDropdown:!r.state.showDropdown,highlightCountryIndex:o},(function(){r.state.showDropdown&&r.scrollTo(r.getElement(r.state.highlightCountryIndex))}))}},r.handleInput=function(e){var t=e.target.value,n=r.props,i=n.prefix,a=n.onChange,o=r.props.disableCountryCode?"":i,s=r.state.selectedCountry,l=r.state.freezeSelection;if(!r.props.countryCodeEditable){var u=i+(s.hasAreaCodes?r.state.onlyCountries.find((function(e){return e.iso2===s.iso2&&e.mainCode})).dialCode:s.dialCode);if(t.slice(0,u.length)!==u)return}if(t===i)return a&&a("",r.getCountryData(),e,""),r.setState({formattedNumber:""});if(t.replace(/\D/g,"").length>15){if(!1===r.props.enableLongNumbers)return;if("number"==typeof r.props.enableLongNumbers&&t.replace(/\D/g,"").length>r.props.enableLongNumbers)return}if(t!==r.state.formattedNumber){e.preventDefault?e.preventDefault():e.returnValue=!1;var c=r.props.country,f=r.state,p=f.onlyCountries,h=f.selectedCountry,d=f.hiddenAreaCodes;if(a&&e.persist(),t.length>0){var v=t.replace(/\D/g,"");(!r.state.freezeSelection||h&&h.dialCode.length>v.length)&&(s=r.props.disableCountryGuess?h:r.guessSelectedCountry(v.substring(0,6),c,p,d)||h,l=!1),o=r.formatNumber(v,s),s=s.dialCode?s:h}var m=e.target.selectionStart,y=e.target.selectionStart,g=r.state.formattedNumber,_=o.length-g.length;r.setState({formattedNumber:o,freezeSelection:l,selectedCountry:s},(function(){_>0&&(y-=_),")"==o.charAt(o.length-1)?r.numberInputRef.setSelectionRange(o.length-1,o.length-1):y>0&&g.length>=o.length?r.numberInputRef.setSelectionRange(y,y):m<g.length&&r.numberInputRef.setSelectionRange(m,m),a&&a(o.replace(/[^0-9]+/g,""),r.getCountryData(),e,o)}))}},r.handleInputClick=function(e){r.setState({showDropdown:!1}),r.props.onClick&&r.props.onClick(e,r.getCountryData())},r.handleDoubleClick=function(e){var t=e.target.value.length;e.target.setSelectionRange(0,t)},r.handleFlagItemClick=function(e,t){var n=r.state.selectedCountry,i=r.state.onlyCountries.find((function(t){return t==e}));if(i){var a=r.state.formattedNumber.replace(" ","").replace("(","").replace(")","").replace("-",""),o=a.length>1?a.replace(n.dialCode,i.dialCode):i.dialCode,s=r.formatNumber(o.replace(/\D/g,""),i);r.setState({showDropdown:!1,selectedCountry:i,freezeSelection:!0,formattedNumber:s,searchValue:""},(function(){r.cursorToEnd(),r.props.onChange&&r.props.onChange(s.replace(/[^0-9]+/g,""),r.getCountryData(),t,s)}))}},r.handleInputFocus=function(e){r.numberInputRef&&r.numberInputRef.value===r.props.prefix&&r.state.selectedCountry&&!r.props.disableCountryCode&&r.setState({formattedNumber:r.props.prefix+r.state.selectedCountry.dialCode},(function(){r.props.jumpCursorToEnd&&setTimeout(r.cursorToEnd,0)})),r.setState({placeholder:""}),r.props.onFocus&&r.props.onFocus(e,r.getCountryData()),r.props.jumpCursorToEnd&&setTimeout(r.cursorToEnd,0)},r.handleInputBlur=function(e){e.target.value||r.setState({placeholder:r.props.placeholder}),r.props.onBlur&&r.props.onBlur(e,r.getCountryData())},r.handleInputCopy=function(e){if(r.props.copyNumbersOnly){var t=window.getSelection().toString().replace(/[^0-9]+/g,"");e.clipboardData.setData("text/plain",t),e.preventDefault()}},r.getHighlightCountryIndex=function(e){var t=r.state.highlightCountryIndex+e;return t<0||t>=r.state.onlyCountries.length+r.state.preferredCountries.length?t-e:r.props.enableSearch&&t>r.getSearchFilteredCountries().length?0:t},r.searchCountry=function(){var e=r.getProbableCandidate(r.state.queryString)||r.state.onlyCountries[0],t=r.state.onlyCountries.findIndex((function(t){return t==e}))+r.state.preferredCountries.length;r.scrollTo(r.getElement(t),!0),r.setState({queryString:"",highlightCountryIndex:t})},r.handleKeydown=function(e){var t=r.props.keys,n=e.target.className;if(n.includes("selected-flag")&&e.which===t.ENTER&&!r.state.showDropdown)return r.handleFlagDropdownClick(e);if(n.includes("form-control")&&(e.which===t.ENTER||e.which===t.ESC))return e.target.blur();if(r.state.showDropdown&&!r.props.disabled&&(!n.includes("search-box")||e.which===t.UP||e.which===t.DOWN||e.which===t.ENTER||e.which===t.ESC&&""===e.target.value)){e.preventDefault?e.preventDefault():e.returnValue=!1;var i=function(e){r.setState({highlightCountryIndex:r.getHighlightCountryIndex(e)},(function(){r.scrollTo(r.getElement(r.state.highlightCountryIndex),!0)}))};switch(e.which){case t.DOWN:i(1);break;case t.UP:i(-1);break;case t.ENTER:r.props.enableSearch?r.handleFlagItemClick(r.getSearchFilteredCountries()[r.state.highlightCountryIndex]||r.getSearchFilteredCountries()[0],e):r.handleFlagItemClick([].concat(a(r.state.preferredCountries),a(r.state.onlyCountries))[r.state.highlightCountryIndex],e);break;case t.ESC:case t.TAB:r.setState({showDropdown:!1},r.cursorToEnd);break;default:(e.which>=t.A&&e.which<=t.Z||e.which===t.SPACE)&&r.setState({queryString:r.state.queryString+String.fromCharCode(e.which)},r.state.debouncedQueryStingSearcher)}}},r.handleInputKeyDown=function(e){var t=r.props,n=t.keys,i=t.onEnterKeyPress,a=t.onKeyDown;e.which===n.ENTER&&i&&i(e),a&&a(e)},r.handleClickOutside=function(e){r.dropdownRef&&!r.dropdownContainerRef.contains(e.target)&&r.state.showDropdown&&r.setState({showDropdown:!1})},r.handleSearchChange=function(e){var t=e.currentTarget.value,n=r.state,i=n.preferredCountries,a=n.selectedCountry,o=0;if(""===t&&a){var s=r.state.onlyCountries;o=r.concatPreferredCountries(i,s).findIndex((function(e){return e==a})),setTimeout((function(){return r.scrollTo(r.getElement(o))}),100)}r.setState({searchValue:t,highlightCountryIndex:o})},r.concatPreferredCountries=function(e,t){return e.length>0?a(new Set(e.concat(t))):t},r.getDropdownCountryName=function(e){return e.localName||e.name},r.getSearchFilteredCountries=function(){var e=r.state,t=e.preferredCountries,n=e.onlyCountries,i=e.searchValue,o=r.props.enableSearch,s=r.concatPreferredCountries(t,n),l=i.trim().toLowerCase().replace("+","");if(o&&l){if(/^\d+$/.test(l))return s.filter((function(e){var t=e.dialCode;return["".concat(t)].some((function(e){return e.toLowerCase().includes(l)}))}));var u=s.filter((function(e){var t=e.iso2;return["".concat(t)].some((function(e){return e.toLowerCase().includes(l)}))})),c=s.filter((function(e){var t=e.name,r=e.localName;return e.iso2,["".concat(t),"".concat(r||"")].some((function(e){return e.toLowerCase().includes(l)}))}));return r.scrollToTop(),a(new Set([].concat(u,c)))}return s},r.getCountryDropdownList=function(){var e=r.state,t=e.preferredCountries,i=e.highlightCountryIndex,a=e.showDropdown,o=e.searchValue,s=r.props,l=s.disableDropdown,u=s.prefix,c=r.props,f=c.enableSearch,p=c.searchNotFound,h=c.disableSearchIcon,d=c.searchClass,v=c.searchStyle,y=c.searchPlaceholder,g=c.autocompleteSearch,_=r.getSearchFilteredCountries().map((function(e,t){var n=i===t,a=E()({country:!0,preferred:"us"===e.iso2||"gb"===e.iso2,active:"us"===e.iso2,highlight:n}),o="flag ".concat(e.iso2);return m.a.createElement("li",Object.assign({ref:function(e){return r["flag_no_".concat(t)]=e},key:"flag_no_".concat(t),"data-flag-key":"flag_no_".concat(t),className:a,"data-dial-code":"1",tabIndex:l?"-1":"0","data-country-code":e.iso2,onClick:function(t){return r.handleFlagItemClick(e,t)},role:"option"},n?{"aria-selected":!0}:{}),m.a.createElement("div",{className:o}),m.a.createElement("span",{className:"country-name"},r.getDropdownCountryName(e)),m.a.createElement("span",{className:"dial-code"},e.format?r.formatNumber(e.dialCode,e):u+e.dialCode))})),b=m.a.createElement("li",{key:"dashes",className:"divider"});t.length>0&&(!f||f&&!o.trim())&&_.splice(t.length,0,b);var x=E()(n({"country-list":!0,hide:!a},r.props.dropdownClass,!0));return m.a.createElement("ul",{ref:function(e){return!f&&e&&e.focus(),r.dropdownRef=e},className:x,style:r.props.dropdownStyle,role:"listbox",tabIndex:"0"},f&&m.a.createElement("li",{className:E()(n({search:!0},d,d))},!h&&m.a.createElement("span",{className:E()(n({"search-emoji":!0},"".concat(d,"-emoji"),d)),role:"img","aria-label":"Magnifying glass"},"\ud83d\udd0e"),m.a.createElement("input",{className:E()(n({"search-box":!0},"".concat(d,"-box"),d)),style:v,type:"search",placeholder:y,autoFocus:!0,autoComplete:g?"on":"off",value:o,onChange:r.handleSearchChange})),_.length>0?_:m.a.createElement("li",{className:"no-entries-message"},m.a.createElement("span",null,p)))};var u,c=new R(e.enableAreaCodes,e.enableTerritories,e.regions,e.onlyCountries,e.preferredCountries,e.excludeCountries,e.preserveOrder,e.masks,e.priority,e.areaCodes,e.localization,e.prefix,e.defaultMask,e.alwaysDefaultMask),d=c.onlyCountries,v=c.preferredCountries,y=c.hiddenAreaCodes,_=e.value?e.value.replace(/\D/g,""):"";u=e.disableInitialCountryGuess?0:_.length>1?r.guessSelectedCountry(_.substring(0,6),e.country,d,y)||0:e.country&&d.find((function(t){return t.iso2==e.country}))||0;var x,S=_.length<2&&u&&!P()(_,u.dialCode)?u.dialCode:"";x=""===_&&0===u?"":r.formatNumber((e.disableCountryCode?"":S)+_,u.name?u:void 0);var k=d.findIndex((function(e){return e==u}));return r.state={showDropdown:e.showDropdown,formattedNumber:x,onlyCountries:d,preferredCountries:v,hiddenAreaCodes:y,selectedCountry:u,highlightCountryIndex:k,queryString:"",freezeSelection:!1,debouncedQueryStingSearcher:g()(r.searchCountry,250),searchValue:""},r}var r,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),r=t,(c=[{key:"componentDidMount",value:function(){document.addEventListener&&this.props.enableClickOutside&&document.addEventListener("mousedown",this.handleClickOutside),this.props.onMount&&this.props.onMount(this.state.formattedNumber.replace(/[^0-9]+/g,""),this.getCountryData(),this.state.formattedNumber)}},{key:"componentWillUnmount",value:function(){document.removeEventListener&&this.props.enableClickOutside&&document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"componentDidUpdate",value:function(e,t,r){e.country!==this.props.country?this.updateCountry(this.props.country):e.value!==this.props.value&&this.updateFormattedNumber(this.props.value)}},{key:"updateFormattedNumber",value:function(e){if(null===e)return this.setState({selectedCountry:0,formattedNumber:""});var t=this.state,r=t.onlyCountries,n=t.selectedCountry,i=t.hiddenAreaCodes,a=this.props,o=a.country,s=a.prefix;if(""===e)return this.setState({selectedCountry:n,formattedNumber:""});var l,u,c=e.replace(/\D/g,"");if(n&&P()(e,s+n.dialCode))u=this.formatNumber(c,n),this.setState({formattedNumber:u});else{var f=(l=this.props.disableCountryGuess?n:this.guessSelectedCountry(c.substring(0,6),o,r,i)||n)&&P()(c,s+l.dialCode)?l.dialCode:"";u=this.formatNumber((this.props.disableCountryCode?"":f)+c,l||void 0),this.setState({selectedCountry:l,formattedNumber:u})}}},{key:"render",value:function(){var e,t,r,i=this,a=this.state,o=a.onlyCountries,s=a.selectedCountry,l=a.showDropdown,u=a.formattedNumber,c=a.hiddenAreaCodes,f=this.props,p=f.disableDropdown,h=f.renderStringAsFlag,d=f.isValid,v=f.defaultErrorMessage,y=f.specialLabel;if("boolean"==typeof d)t=d;else{var g=d(u.replace(/\D/g,""),s,o,c);"boolean"==typeof g?!1===(t=g)&&(r=v):(t=!1,r=g)}var _=E()((n(e={},this.props.containerClass,!0),n(e,"react-tel-input",!0),e)),b=E()({arrow:!0,up:l}),x=E()(n({"form-control":!0,"invalid-number":!t,open:l},this.props.inputClass,!0)),w=E()({"selected-flag":!0,open:l}),S=E()(n({"flag-dropdown":!0,"invalid-number":!t,open:l},this.props.buttonClass,!0)),P="flag ".concat(s&&s.iso2);return m.a.createElement("div",{className:"".concat(_," ").concat(this.props.className),style:this.props.style||this.props.containerStyle,onKeyDown:this.handleKeydown},y&&m.a.createElement("div",{className:"special-label"},y),r&&m.a.createElement("div",{className:"invalid-number-message"},r),m.a.createElement("input",Object.assign({className:x,style:this.props.inputStyle,onChange:this.handleInput,onClick:this.handleInputClick,onDoubleClick:this.handleDoubleClick,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onCopy:this.handleInputCopy,value:u,onKeyDown:this.handleInputKeyDown,placeholder:this.props.placeholder,disabled:this.props.disabled,type:"tel"},this.props.inputProps,{ref:function(e){i.numberInputRef=e,"function"==typeof i.props.inputProps.ref?i.props.inputProps.ref(e):"object"==typeof i.props.inputProps.ref&&(i.props.inputProps.ref.current=e)}})),m.a.createElement("div",{className:S,style:this.props.buttonStyle,ref:function(e){return i.dropdownContainerRef=e}},h?m.a.createElement("div",{className:w},h):m.a.createElement("div",{onClick:p?void 0:this.handleFlagDropdownClick,className:w,title:s?"".concat(s.localName||s.name,": + ").concat(s.dialCode):"",tabIndex:p?"-1":"0",role:"button","aria-haspopup":"listbox","aria-expanded":!!l||void 0},m.a.createElement("div",{className:P},!p&&m.a.createElement("div",{className:b}))),l&&this.getCountryDropdownList()))}}])&&u(r.prototype,c),t}(m.a.Component);D.defaultProps={country:"",value:"",onlyCountries:[],preferredCountries:[],excludeCountries:[],placeholder:"1 (702) 123-4567",searchPlaceholder:"search",searchNotFound:"No entries to show",flagsImagePath:"./flags.png",disabled:!1,containerStyle:{},inputStyle:{},buttonStyle:{},dropdownStyle:{},searchStyle:{},containerClass:"",inputClass:"",buttonClass:"",dropdownClass:"",searchClass:"",className:"",autoFormat:!0,enableAreaCodes:!1,enableTerritories:!1,disableCountryCode:!1,disableDropdown:!1,enableLongNumbers:!1,countryCodeEditable:!0,enableSearch:!1,disableSearchIcon:!1,disableInitialCountryGuess:!1,disableCountryGuess:!1,regions:"",inputProps:{},localization:{},masks:null,priority:null,areaCodes:null,preserveOrder:[],defaultMask:"... ... ... ... ..",alwaysDefaultMask:!1,prefix:"+",copyNumbersOnly:!0,renderStringAsFlag:"",autocompleteSearch:!1,jumpCursorToEnd:!0,enableAreaCodeStretch:!1,enableClickOutside:!0,showDropdown:!1,isValid:!0,defaultErrorMessage:"",specialLabel:"Phone",onEnterKeyPress:null,keys:{UP:38,DOWN:40,RIGHT:39,LEFT:37,ENTER:13,ESC:27,PLUS:43,A:65,Z:90,SPACE:32,TAB:9}},t.default=D}])},9434:function(e,t,r){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(r(72791)),o=(i=r(50077))&&i.__esModule?i:{default:i},s=r(89174),l=r(135);function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y(e);if(t){var i=y(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return v(this,r)}}function v(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(s,e);var t,r,n,i=d(s);function s(){var e;f(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return g(m(e=i.call.apply(i,[this].concat(r))),"mounted",!1),g(m(e),"isReady",!1),g(m(e),"isPlaying",!1),g(m(e),"isLoading",!0),g(m(e),"loadOnReady",null),g(m(e),"startOnPlay",!0),g(m(e),"seekOnPlay",null),g(m(e),"onDurationCalled",!1),g(m(e),"handlePlayerMount",(function(t){e.player||(e.player=t,e.player.load(e.props.url)),e.progress()})),g(m(e),"getInternalPlayer",(function(t){return e.player?e.player[t]:null})),g(m(e),"progress",(function(){if(e.props.url&&e.player&&e.isReady){var t=e.getCurrentTime()||0,r=e.getSecondsLoaded(),n=e.getDuration();if(n){var i={playedSeconds:t,played:t/n};null!==r&&(i.loadedSeconds=r,i.loaded=r/n),i.playedSeconds===e.prevPlayed&&i.loadedSeconds===e.prevLoaded||e.props.onProgress(i),e.prevPlayed=i.playedSeconds,e.prevLoaded=i.loadedSeconds}}e.progressTimeout=setTimeout(e.progress,e.props.progressFrequency||e.props.progressInterval)})),g(m(e),"handleReady",(function(){if(e.mounted){e.isReady=!0,e.isLoading=!1;var t=e.props,r=t.onReady,n=t.playing,i=t.volume,a=t.muted;r(),a||null===i||e.player.setVolume(i),e.loadOnReady?(e.player.load(e.loadOnReady,!0),e.loadOnReady=null):n&&e.player.play(),e.handleDurationCheck()}})),g(m(e),"handlePlay",(function(){e.isPlaying=!0,e.isLoading=!1;var t=e.props,r=t.onStart,n=t.onPlay,i=t.playbackRate;e.startOnPlay&&(e.player.setPlaybackRate&&1!==i&&e.player.setPlaybackRate(i),r(),e.startOnPlay=!1),n(),e.seekOnPlay&&(e.seekTo(e.seekOnPlay),e.seekOnPlay=null),e.handleDurationCheck()})),g(m(e),"handlePause",(function(t){e.isPlaying=!1,e.isLoading||e.props.onPause(t)})),g(m(e),"handleEnded",(function(){var t=e.props,r=t.activePlayer,n=t.loop,i=t.onEnded;r.loopOnEnded&&n&&e.seekTo(0),n||(e.isPlaying=!1,i())})),g(m(e),"handleError",(function(){var t;e.isLoading=!1,(t=e.props).onError.apply(t,arguments)})),g(m(e),"handleDurationCheck",(function(){clearTimeout(e.durationCheckTimeout);var t=e.getDuration();t?e.onDurationCalled||(e.props.onDuration(t),e.onDurationCalled=!0):e.durationCheckTimeout=setTimeout(e.handleDurationCheck,100)})),g(m(e),"handleLoaded",(function(){e.isLoading=!1})),e}return t=s,r=[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.player){var r=this.props,n=r.url,i=r.playing,a=r.volume,s=r.muted,u=r.playbackRate,c=r.pip,f=r.loop,p=r.activePlayer,h=r.disableDeferredLoading;if(!(0,o.default)(e.url,n)){if(this.isLoading&&!p.forceLoad&&!h&&!(0,l.isMediaStream)(n))return console.warn("ReactPlayer: the attempt to load ".concat(n," is being deferred until the player has loaded")),void(this.loadOnReady=n);this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(n,this.isReady)}e.playing||!i||this.isPlaying||this.player.play(),e.playing&&!i&&this.isPlaying&&this.player.pause(),!e.pip&&c&&this.player.enablePIP&&this.player.enablePIP(),e.pip&&!c&&this.player.disablePIP&&this.player.disablePIP(),e.volume!==a&&null!==a&&this.player.setVolume(a),e.muted!==s&&(s?this.player.mute():(this.player.unmute(),null!==a&&setTimeout((function(){return t.player.setVolume(a)})))),e.playbackRate!==u&&this.player.setPlaybackRate&&this.player.setPlaybackRate(u),e.loop!==f&&this.player.setLoop&&this.player.setLoop(f)}}},{key:"getDuration",value:function(){return this.isReady?this.player.getDuration():null}},{key:"getCurrentTime",value:function(){return this.isReady?this.player.getCurrentTime():null}},{key:"getSecondsLoaded",value:function(){return this.isReady?this.player.getSecondsLoaded():null}},{key:"seekTo",value:function(e,t){var r=this;if(this.isReady){if(t?"fraction"===t:e>0&&e<1){var n=this.player.getDuration();return n?void this.player.seekTo(n*e):void console.warn("ReactPlayer: could not seek using fraction \u2013\xa0duration not yet available")}this.player.seekTo(e)}else 0!==e&&(this.seekOnPlay=e,setTimeout((function(){r.seekOnPlay=null}),5e3))}},{key:"render",value:function(){var e=this.props.activePlayer;return e?a.default.createElement(e,c({},this.props,{onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError})):null}}],r&&p(t.prototype,r),n&&p(t,n),s}(a.Component);t.default=_,g(_,"displayName","Player"),g(_,"propTypes",s.propTypes),g(_,"defaultProps",s.defaultProps)},98275:function(e,t,r){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(72791));function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m="64px",y={},g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(o,e);var t,r,n,a=f(o);function o(){var e;l(this,o);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return v(h(e=a.call.apply(a,[this].concat(r))),"mounted",!1),v(h(e),"state",{image:null}),v(h(e),"handleKeyPress",(function(t){"Enter"!==t.key&&" "!==t.key||e.props.onClick()})),e}return t=o,(r=[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchImage(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.url,n=t.light;e.url===r&&e.light===n||this.fetchImage(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetchImage",value:function(e){var t=this,r=e.url,n=e.light,a=e.oEmbedUrl;if(!i.default.isValidElement(n))if("string"!==typeof n){if(!y[r])return this.setState({image:null}),window.fetch(a.replace("{url}",r)).then((function(e){return e.json()})).then((function(e){if(e.thumbnail_url&&t.mounted){var n=e.thumbnail_url.replace("height=100","height=480");t.setState({image:n}),y[r]=n}}));this.setState({image:y[r]})}else this.setState({image:n})}},{key:"render",value:function(){var e=this.props,t=e.light,r=e.onClick,n=e.playIcon,a=e.previewTabIndex,o=this.state.image,l=i.default.isValidElement(t),u={display:"flex",alignItems:"center",justifyContent:"center"},c={preview:s({width:"100%",height:"100%",backgroundImage:o&&!l?"url(".concat(o,")"):void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},u),shadow:s({background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:m,width:m,height:m,position:l?"absolute":void 0},u),playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},f=i.default.createElement("div",{style:c.shadow,className:"react-player__shadow"},i.default.createElement("div",{style:c.playIcon,className:"react-player__play-icon"}));return i.default.createElement("div",{style:c.preview,className:"react-player__preview",onClick:r,tabIndex:a,onKeyPress:this.handleKeyPress},l?t:null,n||f)}}])&&u(t.prototype,r),n&&u(t,n),o}(i.Component);t.default=g},52646:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createReactPlayer=void 0;var n=E(r(72791)),i=c(r(49948)),a=c(r(85781)),o=c(r(50077)),s=r(89174),l=r(135),u=c(r(9434));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){return f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d.apply(this,arguments)}function v(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=S(e);if(t){var i=S(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return x(this,r)}}function x(e,t){return!t||"object"!==f(t)&&"function"!==typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return k=function(){return e},e}function E(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!==typeof e)return{default:e};var t=k();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}var C=(0,n.lazy)((function(){return Promise.resolve().then((function(){return E(r(98275))}))})),A="undefined"!==typeof window&&window.document,T="undefined"!==typeof r.g&&r.g.window&&r.g.window.document,O=Object.keys(s.propTypes),M=A||T?n.Suspense:function(){return null},I=[];t.createReactPlayer=function(e,t){var r,c;return c=r=function(r){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(x,r);var c,f,p,m=b(x);function x(){var r;y(this,x);for(var o=arguments.length,c=new Array(o),f=0;f<o;f++)c[f]=arguments[f];return P(w(r=m.call.apply(m,[this].concat(c))),"state",{showPreview:!!r.props.light}),P(w(r),"references",{wrapper:function(e){r.wrapper=e},player:function(e){r.player=e}}),P(w(r),"handleClickPreview",(function(e){r.setState({showPreview:!1}),r.props.onClickPreview(e)})),P(w(r),"showPreview",(function(){r.setState({showPreview:!0})})),P(w(r),"getDuration",(function(){return r.player?r.player.getDuration():null})),P(w(r),"getCurrentTime",(function(){return r.player?r.player.getCurrentTime():null})),P(w(r),"getSecondsLoaded",(function(){return r.player?r.player.getSecondsLoaded():null})),P(w(r),"getInternalPlayer",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"player";return r.player?r.player.getInternalPlayer(e):null})),P(w(r),"seekTo",(function(e,t){if(!r.player)return null;r.player.seekTo(e,t)})),P(w(r),"handleReady",(function(){r.props.onReady(w(r))})),P(w(r),"getActivePlayer",(0,a.default)((function(r){for(var n=0,i=[].concat(I,v(e));n<i.length;n++){var a=i[n];if(a.canPlay(r))return a}return t||null}))),P(w(r),"getConfig",(0,a.default)((function(e,t){var n=r.props.config;return i.default.all([s.defaultProps.config,s.defaultProps.config[t]||{},n,n[t]||{}])}))),P(w(r),"getAttributes",(0,a.default)((function(e){return(0,l.omit)(r.props,O)}))),P(w(r),"renderActivePlayer",(function(e){if(!e)return null;var t=r.getActivePlayer(e);if(!t)return null;var i=r.getConfig(e,t.key);return n.default.createElement(u.default,d({},r.props,{key:t.key,ref:r.references.player,config:i,activePlayer:t.lazyPlayer||t,onReady:r.handleReady}))})),r}return c=x,f=[{key:"shouldComponentUpdate",value:function(e,t){return!(0,o.default)(this.props,e)||!(0,o.default)(this.state,t)}},{key:"componentDidUpdate",value:function(e){var t=this.props.light;!e.light&&t&&this.setState({showPreview:!0}),e.light&&!t&&this.setState({showPreview:!1})}},{key:"renderPreview",value:function(e){if(!e)return null;var t=this.props,r=t.light,i=t.playIcon,a=t.previewTabIndex,o=t.oEmbedUrl;return n.default.createElement(C,{url:e,light:r,playIcon:i,previewTabIndex:a,oEmbedUrl:o,onClick:this.handleClickPreview})}},{key:"render",value:function(){var e=this.props,t=e.url,r=e.style,i=e.width,a=e.height,o=e.fallback,s=e.wrapper,l=this.state.showPreview,u=this.getAttributes(t),c="string"===typeof s?this.references.wrapper:void 0;return n.default.createElement(s,d({ref:c,style:h(h({},r),{},{width:i,height:a})},u),n.default.createElement(M,{fallback:o},l?this.renderPreview(t):this.renderActivePlayer(t)))}}],f&&g(c.prototype,f),p&&g(c,p),x}(n.Component),P(r,"displayName","ReactPlayer"),P(r,"propTypes",s.propTypes),P(r,"defaultProps",s.defaultProps),P(r,"addCustomPlayer",(function(e){I.push(e)})),P(r,"removeCustomPlayers",(function(){I.length=0})),P(r,"canPlay",(function(t){for(var r=0,n=[].concat(I,v(e));r<n.length;r++){if(n[r].canPlay(t))return!0}return!1})),P(r,"canEnablePIP",(function(t){for(var r=0,n=[].concat(I,v(e));r<n.length;r++){var i=n[r];if(i.canEnablePIP&&i.canEnablePIP(t))return!0}return!1})),c}},96710:function(e,t,r){"use strict";t.Z=void 0;var n,i=(n=r(14687))&&n.__esModule?n:{default:n},a=r(52646);var o=i.default[i.default.length-1],s=(0,a.createReactPlayer)(i.default,o);t.Z=s},60365:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canPlay=t.FLV_EXTENSIONS=t.DASH_EXTENSIONS=t.HLS_EXTENSIONS=t.VIDEO_EXTENSIONS=t.AUDIO_EXTENSIONS=t.MATCH_URL_KALTURA=t.MATCH_URL_VIDYARD=t.MATCH_URL_MIXCLOUD=t.MATCH_URL_DAILYMOTION=t.MATCH_URL_TWITCH_CHANNEL=t.MATCH_URL_TWITCH_VIDEO=t.MATCH_URL_WISTIA=t.MATCH_URL_STREAMABLE=t.MATCH_URL_FACEBOOK_WATCH=t.MATCH_URL_FACEBOOK=t.MATCH_URL_VIMEO=t.MATCH_URL_SOUNDCLOUD=t.MATCH_URL_YOUTUBE=void 0;var n=r(135);function i(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(l)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var o=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//;t.MATCH_URL_YOUTUBE=o;var s=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/;t.MATCH_URL_SOUNDCLOUD=s;var l=/vimeo\.com\/(?!progressive_redirect).+/;t.MATCH_URL_VIMEO=l;var u=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/;t.MATCH_URL_FACEBOOK=u;var c=/^https?:\/\/fb\.watch\/.+$/;t.MATCH_URL_FACEBOOK_WATCH=c;var f=/streamable\.com\/([a-z0-9]+)$/;t.MATCH_URL_STREAMABLE=f;var p=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?(.*)$/;t.MATCH_URL_WISTIA=p;var h=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/;t.MATCH_URL_TWITCH_VIDEO=h;var d=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/;t.MATCH_URL_TWITCH_CHANNEL=d;var v=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?$/;t.MATCH_URL_DAILYMOTION=v;var m=/mixcloud\.com\/([^/]+\/[^/]+)/;t.MATCH_URL_MIXCLOUD=m;var y=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/;t.MATCH_URL_VIDYARD=y;var g=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/;t.MATCH_URL_KALTURA=g;var _=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i;t.AUDIO_EXTENSIONS=_;var b=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i;t.VIDEO_EXTENSIONS=b;var x=/\.(m3u8)($|\?)/i;t.HLS_EXTENSIONS=x;var w=/\.(mpd)($|\?)/i;t.DASH_EXTENSIONS=w;var S=/\.(flv)($|\?)/i;t.FLV_EXTENSIONS=S;var P={youtube:function(e){return e instanceof Array?e.every((function(e){return o.test(e)})):o.test(e)},soundcloud:function(e){return s.test(e)&&!_.test(e)},vimeo:function(e){return l.test(e)&&!b.test(e)&&!x.test(e)},facebook:function(e){return u.test(e)||c.test(e)},streamable:function(e){return f.test(e)},wistia:function(e){return p.test(e)},twitch:function(e){return h.test(e)||d.test(e)},dailymotion:function(e){return v.test(e)},mixcloud:function(e){return m.test(e)},vidyard:function(e){return y.test(e)},kaltura:function(e){return g.test(e)},file:function e(t){if(t instanceof Array){var r,a=i(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;if("string"===typeof o&&e(o))return!0;if(e(o.src))return!0}}catch(s){a.e(s)}finally{a.f()}return!1}return!(!(0,n.isMediaStream)(t)&&!(0,n.isBlobUrl)(t))||(_.test(t)||b.test(t)||x.test(t)||w.test(t)||S.test(t))}};t.canPlay=P},94303:function(e,t,r){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(r(72791)),a=r(135),o=r(60365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(l){i=!0,a=l}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g(e);if(t){var i=g(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m(this,r)}}function m(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(l,e);var t,r,n,s=v(l);function l(){var e;p(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return _(y(e=s.call.apply(s,[this].concat(r))),"callPlayer",a.callPlayer),_(y(e),"onDurationChange",(function(){var t=e.getDuration();e.props.onDuration(t)})),_(y(e),"mute",(function(){e.callPlayer("setMuted",!0)})),_(y(e),"unmute",(function(){e.callPlayer("setMuted",!1)})),_(y(e),"ref",(function(t){e.container=t})),e}return t=l,(r=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this,r=this.props,n=r.controls,i=r.config,s=r.onError,l=r.playing,f=c(e.match(o.MATCH_URL_DAILYMOTION),2)[1];this.player?this.player.load(f,{start:(0,a.parseStartTime)(e),autoplay:l}):(0,a.getSDK)("https://api.dmcdn.net/all.js","DM","dmAsyncInit",(function(e){return e.player})).then((function(r){if(t.container){var o=r.player;t.player=new o(t.container,{width:"100%",height:"100%",video:f,params:u({controls:n,autoplay:t.props.playing,mute:t.props.muted,start:(0,a.parseStartTime)(e),origin:window.location.origin},i.params),events:{apiready:t.props.onReady,seeked:function(){return t.props.onSeek(t.player.currentTime)},video_end:t.props.onEnded,durationchange:t.onDurationChange,pause:t.props.onPause,playing:t.props.onPlay,waiting:t.props.onBuffer,error:function(e){return s(e)}}})}}),s)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"getDuration",value:function(){return this.player.duration||null}},{key:"getCurrentTime",value:function(){return this.player.currentTime}},{key:"getSecondsLoaded",value:function(){return this.player.bufferedTime}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("div",{style:e},i.default.createElement("div",{ref:this.ref}))}}])&&h(t.prototype,r),n&&h(t,n),l}(i.Component);t.default=b,_(b,"displayName","DailyMotion"),_(b,"canPlay",o.canPlay.dailymotion),_(b,"loopOnEnded",!0)},74793:function(e,t,r){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(r(72791)),a=r(135),o=r(60365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v(e);if(t){var i=v(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y="https://connect.facebook.net/en_US/sdk.js",g="fbAsyncInit",_="facebook-player-",b=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(s,e);var t,r,n,o=p(s);function s(){var e;u(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return m(d(e=o.call.apply(o,[this].concat(r))),"callPlayer",a.callPlayer),m(d(e),"playerID",e.props.config.playerId||"".concat(_).concat((0,a.randomString)())),m(d(e),"mute",(function(){e.callPlayer("mute")})),m(d(e),"unmute",(function(){e.callPlayer("unmute")})),e}return t=s,(r=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e,t){var r=this;t?(0,a.getSDK)(y,"FB",g).then((function(e){return e.XFBML.parse()})):(0,a.getSDK)(y,"FB",g).then((function(e){e.init({appId:r.props.config.appId,xfbml:!0,version:r.props.config.version}),e.Event.subscribe("xfbml.render",(function(e){r.props.onLoaded()})),e.Event.subscribe("xfbml.ready",(function(e){"video"===e.type&&e.id===r.playerID&&(r.player=e.instance,r.player.subscribe("startedPlaying",r.props.onPlay),r.player.subscribe("paused",r.props.onPause),r.player.subscribe("finishedPlaying",r.props.onEnded),r.player.subscribe("startedBuffering",r.props.onBuffer),r.player.subscribe("finishedBuffering",r.props.onBufferEnd),r.player.subscribe("error",r.props.onError),r.props.muted?r.callPlayer("mute"):r.callPlayer("unmute"),r.props.onReady(),document.getElementById(r.playerID).querySelector("iframe").style.visibility="visible")}))}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentPosition")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e=this.props.config.attributes;return i.default.createElement("div",l({style:{width:"100%",height:"100%"},id:this.playerID,className:"fb-video","data-href":this.props.url,"data-autoplay":this.props.playing?"true":"false","data-allowfullscreen":"true","data-controls":this.props.controls?"true":"false"},e))}}])&&c(t.prototype,r),n&&c(t,n),s}(i.Component);t.default=b,m(b,"displayName","Facebook"),m(b,"canPlay",o.canPlay.facebook),m(b,"loopOnEnded",!0)},88997:function(e,t,r){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(r(72791)),a=r(135),o=r(60365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v(e);if(t){var i=v(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y="undefined"!==typeof navigator,g=y&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,_=y&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||g)&&!window.MSStream,b=/www\.dropbox\.com\/.+/,x=/https:\/\/watch\.cloudflarestream\.com\/([a-z0-9]+)/,w=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(h,e);var t,r,n,s=p(h);function h(){var e;u(this,h);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return m(d(e=s.call.apply(s,[this].concat(r))),"onReady",(function(){var t;return(t=e.props).onReady.apply(t,arguments)})),m(d(e),"onPlay",(function(){var t;return(t=e.props).onPlay.apply(t,arguments)})),m(d(e),"onBuffer",(function(){var t;return(t=e.props).onBuffer.apply(t,arguments)})),m(d(e),"onBufferEnd",(function(){var t;return(t=e.props).onBufferEnd.apply(t,arguments)})),m(d(e),"onPause",(function(){var t;return(t=e.props).onPause.apply(t,arguments)})),m(d(e),"onEnded",(function(){var t;return(t=e.props).onEnded.apply(t,arguments)})),m(d(e),"onError",(function(){var t;return(t=e.props).onError.apply(t,arguments)})),m(d(e),"onPlayBackRateChange",(function(t){return e.props.onPlaybackRateChange(t.target.playbackRate)})),m(d(e),"onEnablePIP",(function(){var t;return(t=e.props).onEnablePIP.apply(t,arguments)})),m(d(e),"onDisablePIP",(function(t){var r=e.props,n=r.onDisablePIP,i=r.playing;n(t),i&&e.play()})),m(d(e),"onPresentationModeChange",(function(t){if(e.player&&(0,a.supportsWebKitPresentationMode)(e.player)){var r=e.player.webkitPresentationMode;"picture-in-picture"===r?e.onEnablePIP(t):"inline"===r&&e.onDisablePIP(t)}})),m(d(e),"onSeek",(function(t){e.props.onSeek(t.target.currentTime)})),m(d(e),"mute",(function(){e.player.muted=!0})),m(d(e),"unmute",(function(){e.player.muted=!1})),m(d(e),"renderSourceElement",(function(e,t){return"string"===typeof e?i.default.createElement("source",{key:t,src:e}):i.default.createElement("source",l({key:t},e))})),m(d(e),"renderTrack",(function(e,t){return i.default.createElement("track",l({key:t},e))})),m(d(e),"ref",(function(t){e.player&&(e.prevPlayer=e.player),e.player=t})),e}return t=h,(r=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this),this.addListeners(this.player),_&&this.player.load()}},{key:"componentDidUpdate",value:function(e){this.shouldUseAudio(this.props)!==this.shouldUseAudio(e)&&(this.removeListeners(this.prevPlayer,e.url),this.addListeners(this.player)),this.props.url===e.url||(0,a.isMediaStream)(this.props.url)||(this.player.srcObject=null)}},{key:"componentWillUnmount",value:function(){this.player.src="",this.removeListeners(this.player),this.hls&&this.hls.destroy()}},{key:"addListeners",value:function(e){var t=this.props,r=t.url,n=t.playsinline;e.addEventListener("play",this.onPlay),e.addEventListener("waiting",this.onBuffer),e.addEventListener("playing",this.onBufferEnd),e.addEventListener("pause",this.onPause),e.addEventListener("seeked",this.onSeek),e.addEventListener("ended",this.onEnded),e.addEventListener("error",this.onError),e.addEventListener("ratechange",this.onPlayBackRateChange),e.addEventListener("enterpictureinpicture",this.onEnablePIP),e.addEventListener("leavepictureinpicture",this.onDisablePIP),e.addEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(r)||e.addEventListener("canplay",this.onReady),n&&(e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline",""),e.setAttribute("x5-playsinline",""))}},{key:"removeListeners",value:function(e,t){e.removeEventListener("canplay",this.onReady),e.removeEventListener("play",this.onPlay),e.removeEventListener("waiting",this.onBuffer),e.removeEventListener("playing",this.onBufferEnd),e.removeEventListener("pause",this.onPause),e.removeEventListener("seeked",this.onSeek),e.removeEventListener("ended",this.onEnded),e.removeEventListener("error",this.onError),e.removeEventListener("ratechange",this.onPlayBackRateChange),e.removeEventListener("enterpictureinpicture",this.onEnablePIP),e.removeEventListener("leavepictureinpicture",this.onDisablePIP),e.removeEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(t)||e.removeEventListener("canplay",this.onReady)}},{key:"shouldUseAudio",value:function(e){return!e.config.forceVideo&&!e.config.attributes.poster&&(o.AUDIO_EXTENSIONS.test(e.url)||e.config.forceAudio)}},{key:"shouldUseHLS",value:function(e){return!!this.props.config.forceHLS||!_&&(o.HLS_EXTENSIONS.test(e)||x.test(e))}},{key:"shouldUseDASH",value:function(e){return o.DASH_EXTENSIONS.test(e)||this.props.config.forceDASH}},{key:"shouldUseFLV",value:function(e){return o.FLV_EXTENSIONS.test(e)||this.props.config.forceFLV}},{key:"load",value:function(e){var t=this,r=this.props.config,n=r.hlsVersion,i=r.hlsOptions,o=r.dashVersion,s=r.flvVersion;if(this.hls&&this.hls.destroy(),this.dash&&this.dash.reset(),this.shouldUseHLS(e)&&(0,a.getSDK)("https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js".replace("VERSION",n),"Hls").then((function(r){if(t.hls=new r(i),t.hls.on(r.Events.MANIFEST_PARSED,(function(){t.props.onReady()})),t.hls.on(r.Events.ERROR,(function(e,n){t.props.onError(e,n,t.hls,r)})),x.test(e)){var n=e.match(x)[1];t.hls.loadSource("https://videodelivery.net/{id}/manifest/video.m3u8".replace("{id}",n))}else t.hls.loadSource(e);t.hls.attachMedia(t.player),t.props.onLoaded()})),this.shouldUseDASH(e)&&(0,a.getSDK)("https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js".replace("VERSION",o),"dashjs").then((function(r){t.dash=r.MediaPlayer().create(),t.dash.initialize(t.player,e,t.props.playing),t.dash.on("error",t.props.onError),parseInt(o)<3?t.dash.getDebug().setLogToBrowserConsole(!1):t.dash.updateSettings({debug:{logLevel:r.Debug.LOG_LEVEL_NONE}}),t.props.onLoaded()})),this.shouldUseFLV(e)&&(0,a.getSDK)("https://cdn.jsdelivr.net/npm/flv.js@VERSION/dist/flv.min.js".replace("VERSION",s),"flvjs").then((function(r){t.flv=r.createPlayer({type:"flv",url:e}),t.flv.attachMediaElement(t.player),t.flv.on(r.Events.ERROR,(function(e,n){t.props.onError(e,n,t.flv,r)})),t.flv.load(),t.props.onLoaded()})),e instanceof Array)this.player.load();else if((0,a.isMediaStream)(e))try{this.player.srcObject=e}catch(l){this.player.src=window.URL.createObjectURL(e)}}},{key:"play",value:function(){var e=this.player.play();e&&e.catch(this.props.onError)}},{key:"pause",value:function(){this.player.pause()}},{key:"stop",value:function(){this.player.removeAttribute("src"),this.dash&&this.dash.reset()}},{key:"seekTo",value:function(e){this.player.currentTime=e}},{key:"setVolume",value:function(e){this.player.volume=e}},{key:"enablePIP",value:function(){this.player.requestPictureInPicture&&document.pictureInPictureElement!==this.player?this.player.requestPictureInPicture():(0,a.supportsWebKitPresentationMode)(this.player)&&"picture-in-picture"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("picture-in-picture")}},{key:"disablePIP",value:function(){document.exitPictureInPicture&&document.pictureInPictureElement===this.player?document.exitPictureInPicture():(0,a.supportsWebKitPresentationMode)(this.player)&&"inline"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("inline")}},{key:"setPlaybackRate",value:function(e){try{this.player.playbackRate=e}catch(t){this.props.onError(t)}}},{key:"getDuration",value:function(){if(!this.player)return null;var e=this.player,t=e.duration,r=e.seekable;return t===1/0&&r.length>0?r.end(r.length-1):t}},{key:"getCurrentTime",value:function(){return this.player?this.player.currentTime:null}},{key:"getSecondsLoaded",value:function(){if(!this.player)return null;var e=this.player.buffered;if(0===e.length)return 0;var t=e.end(e.length-1),r=this.getDuration();return t>r?r:t}},{key:"getSource",value:function(e){var t=this.shouldUseHLS(e),r=this.shouldUseDASH(e),n=this.shouldUseFLV(e);if(!(e instanceof Array||(0,a.isMediaStream)(e)||t||r||n))return b.test(e)?e.replace("www.dropbox.com","dl.dropboxusercontent.com"):e}},{key:"render",value:function(){var e=this.props,t=e.url,r=e.playing,n=e.loop,a=e.controls,o=e.muted,s=e.config,u=e.width,c=e.height,f=this.shouldUseAudio(this.props)?"audio":"video",p={width:"auto"===u?u:"100%",height:"auto"===c?c:"100%"};return i.default.createElement(f,l({ref:this.ref,src:this.getSource(t),style:p,preload:"auto",autoPlay:r||void 0,controls:a,muted:o,loop:n},s.attributes),t instanceof Array&&t.map(this.renderSourceElement),s.tracks.map(this.renderTrack))}}])&&c(t.prototype,r),n&&c(t,n),h}(i.Component);t.default=w,m(w,"displayName","FilePlayer"),m(w,"canPlay",o.canPlay.file)},89332:function(e,t,r){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(r(72791)),a=r(135),o=r(60365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(s,e);var t,r,n,o=f(s);function s(){var e;l(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return v(h(e=o.call.apply(o,[this].concat(r))),"callPlayer",a.callPlayer),v(h(e),"duration",null),v(h(e),"currentTime",null),v(h(e),"secondsLoaded",null),v(h(e),"mute",(function(){e.callPlayer("mute")})),v(h(e),"unmute",(function(){e.callPlayer("unmute")})),v(h(e),"ref",(function(t){e.iframe=t})),e}return t=s,(r=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;(0,a.getSDK)("https://cdn.embed.ly/player-0.1.0.min.js","playerjs").then((function(e){t.iframe&&(t.player=new e.Player(t.iframe),t.player.on("ready",(function(){setTimeout((function(){t.player.isReady=!0,t.player.setLoop(t.props.loop),t.props.muted&&t.player.mute(),t.addListeners(t.player,t.props),t.props.onReady()}),500)})))}),this.props.onError)}},{key:"addListeners",value:function(e,t){var r=this;e.on("play",t.onPlay),e.on("pause",t.onPause),e.on("ended",t.onEnded),e.on("error",t.onError),e.on("timeupdate",(function(e){var t=e.duration,n=e.seconds;r.duration=t,r.currentTime=n}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("setCurrentTime",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){return i.default.createElement("iframe",{ref:this.ref,src:this.props.url,frameBorder:"0",scrolling:"no",style:{width:"100%",height:"100%"},allow:"encrypted-media; autoplay; fullscreen;",referrerPolicy:"no-referrer-when-downgrade"})}}])&&u(t.prototype,r),n&&u(t,n),s}(i.Component);t.default=m,v(m,"displayName","Kaltura"),v(m,"canPlay",o.canPlay.kaltura)},82732:function(e,t,r){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(r(72791)),a=r(135),o=r(60365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var i=m(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(l,e);var t,r,n,s=h(l);function l(){var e;c(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return y(v(e=s.call.apply(s,[this].concat(r))),"callPlayer",a.callPlayer),y(v(e),"duration",null),y(v(e),"currentTime",null),y(v(e),"secondsLoaded",null),y(v(e),"mute",(function(){})),y(v(e),"unmute",(function(){})),y(v(e),"ref",(function(t){e.iframe=t})),e}return t=l,r=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;(0,a.getSDK)("https://widget.mixcloud.com/media/js/widgetApi.js","Mixcloud").then((function(e){t.player=e.PlayerWidget(t.iframe),t.player.ready.then((function(){t.player.events.play.on(t.props.onPlay),t.player.events.pause.on(t.props.onPause),t.player.events.ended.on(t.props.onEnded),t.player.events.error.on(t.props.error),t.player.events.progress.on((function(e,r){t.currentTime=e,t.duration=r})),t.props.onReady()}))}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e=this.props,t=e.url,r=e.config,n=t.match(o.MATCH_URL_MIXCLOUD)[1],s=(0,a.queryString)(u(u({},r.options),{},{feed:"/".concat(n,"/")}));return i.default.createElement("iframe",{key:n,ref:this.ref,style:{width:"100%",height:"100%"},src:"https://www.mixcloud.com/widget/iframe/?".concat(s),frameBorder:"0",allow:"autoplay"})}}],r&&f(t.prototype,r),n&&f(t,n),l}(i.Component);t.default=g,y(g,"displayName","Mixcloud"),y(g,"canPlay",o.canPlay.mixcloud),y(g,"loopOnEnded",!0)},41801:function(e,t,r){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(r(72791)),a=r(135),o=r(60365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var i=m(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(s,e);var t,r,n,o=h(s);function s(){var e;c(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return y(v(e=o.call.apply(o,[this].concat(r))),"callPlayer",a.callPlayer),y(v(e),"duration",null),y(v(e),"currentTime",null),y(v(e),"fractionLoaded",null),y(v(e),"mute",(function(){e.setVolume(0)})),y(v(e),"unmute",(function(){null!==e.props.volume&&e.setVolume(e.props.volume)})),y(v(e),"ref",(function(t){e.iframe=t})),e}return t=s,(r=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e,t){var r=this;(0,a.getSDK)("https://w.soundcloud.com/player/api.js","SC").then((function(n){if(r.iframe){var i=n.Widget.Events,a=i.PLAY,o=i.PLAY_PROGRESS,s=i.PAUSE,l=i.FINISH,c=i.ERROR;t||(r.player=n.Widget(r.iframe),r.player.bind(a,r.props.onPlay),r.player.bind(s,(function(){r.duration-r.currentTime<.05||r.props.onPause()})),r.player.bind(o,(function(e){r.currentTime=e.currentPosition/1e3,r.fractionLoaded=e.loadedProgress})),r.player.bind(l,(function(){return r.props.onEnded()})),r.player.bind(c,(function(e){return r.props.onError(e)}))),r.player.load(e,u(u({},r.props.config.options),{},{callback:function(){r.player.getDuration((function(e){r.duration=e/1e3,r.props.onReady()}))}}))}}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seekTo",1e3*e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.fractionLoaded*this.duration}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("iframe",{ref:this.ref,src:"https://w.soundcloud.com/player/?url=".concat(encodeURIComponent(this.props.url)),style:e,frameBorder:0,allow:"autoplay"})}}])&&f(t.prototype,r),n&&f(t,n),s}(i.Component);t.default=g,y(g,"displayName","SoundCloud"),y(g,"canPlay",o.canPlay.soundcloud),y(g,"loopOnEnded",!0)},81286:function(e,t,r){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(r(72791)),a=r(135),o=r(60365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(p,e);var t,r,n,s=f(p);function p(){var e;l(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return v(h(e=s.call.apply(s,[this].concat(r))),"callPlayer",a.callPlayer),v(h(e),"duration",null),v(h(e),"currentTime",null),v(h(e),"secondsLoaded",null),v(h(e),"mute",(function(){e.callPlayer("mute")})),v(h(e),"unmute",(function(){e.callPlayer("unmute")})),v(h(e),"ref",(function(t){e.iframe=t})),e}return t=p,(r=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;(0,a.getSDK)("https://cdn.embed.ly/player-0.1.0.min.js","playerjs").then((function(e){t.iframe&&(t.player=new e.Player(t.iframe),t.player.setLoop(t.props.loop),t.player.on("ready",t.props.onReady),t.player.on("play",t.props.onPlay),t.player.on("pause",t.props.onPause),t.player.on("seeked",t.props.onSeek),t.player.on("ended",t.props.onEnded),t.player.on("error",t.props.onError),t.player.on("timeupdate",(function(e){var r=e.duration,n=e.seconds;t.duration=r,t.currentTime=n})),t.player.on("buffered",(function(e){var r=e.percent;t.duration&&(t.secondsLoaded=t.duration*r)})),t.props.muted&&t.player.mute())}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("setCurrentTime",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var e=this.props.url.match(o.MATCH_URL_STREAMABLE)[1];return i.default.createElement("iframe",{ref:this.ref,src:"https://streamable.com/o/".concat(e),frameBorder:"0",scrolling:"no",style:{width:"100%",height:"100%"},allow:"encrypted-media; autoplay; fullscreen;"})}}])&&u(t.prototype,r),n&&u(t,n),p}(i.Component);t.default=m,v(m,"displayName","Streamable"),v(m,"canPlay",o.canPlay.streamable)},6741:function(e,t,r){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(r(72791)),a=r(135),o=r(60365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v(e);if(t){var i=v(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y="twitch-player-",g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(h,e);var t,r,n,s=p(h);function h(){var e;u(this,h);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return m(d(e=s.call.apply(s,[this].concat(r))),"callPlayer",a.callPlayer),m(d(e),"playerID",e.props.config.playerId||"".concat(y).concat((0,a.randomString)())),m(d(e),"mute",(function(){e.callPlayer("setMuted",!0)})),m(d(e),"unmute",(function(){e.callPlayer("setMuted",!1)})),e}return t=h,r=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e,t){var r=this,n=this.props,i=n.playsinline,s=n.onError,u=n.config,c=n.controls,f=o.MATCH_URL_TWITCH_CHANNEL.test(e),p=f?e.match(o.MATCH_URL_TWITCH_CHANNEL)[1]:e.match(o.MATCH_URL_TWITCH_VIDEO)[1];t?f?this.player.setChannel(p):this.player.setVideo("v"+p):(0,a.getSDK)("https://player.twitch.tv/js/embed/v1.js","Twitch").then((function(t){r.player=new t.Player(r.playerID,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({video:f?"":p,channel:f?p:"",height:"100%",width:"100%",playsinline:i,autoplay:r.props.playing,muted:r.props.muted,controls:!!f||c,time:(0,a.parseStartTime)(e)},u.options));var n=t.Player,o=n.READY,s=n.PLAYING,h=n.PAUSE,d=n.ENDED,v=n.ONLINE,y=n.OFFLINE,g=n.SEEK;r.player.addEventListener(o,r.props.onReady),r.player.addEventListener(s,r.props.onPlay),r.player.addEventListener(h,r.props.onPause),r.player.addEventListener(d,r.props.onEnded),r.player.addEventListener(g,r.props.onSeek),r.player.addEventListener(v,r.props.onLoaded),r.player.addEventListener(y,r.props.onLoaded)}),s)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("pause")}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){return i.default.createElement("div",{style:{width:"100%",height:"100%"},id:this.playerID})}}],r&&c(t.prototype,r),n&&c(t,n),h}(i.Component);t.default=g,m(g,"displayName","Twitch"),m(g,"canPlay",o.canPlay.twitch),m(g,"loopOnEnded",!0)},95561:function(e,t,r){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(r(72791)),a=r(135),o=r(60365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v(e);if(t){var i=v(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(h,e);var t,r,n,s=p(h);function h(){var e;u(this,h);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return m(d(e=s.call.apply(s,[this].concat(r))),"callPlayer",a.callPlayer),m(d(e),"mute",(function(){e.setVolume(0)})),m(d(e),"unmute",(function(){null!==e.props.volume&&e.setVolume(e.props.volume)})),m(d(e),"ref",(function(t){e.container=t})),e}return t=h,r=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this,r=this.props,n=r.playing,i=r.config,s=r.onError,u=r.onDuration,c=e&&e.match(o.MATCH_URL_VIDYARD)[1];this.player&&this.stop(),(0,a.getSDK)("https://play.vidyard.com/embed/v4.js","VidyardV4","onVidyardAPI").then((function(e){t.container&&(e.api.addReadyListener((function(e,r){t.player||(t.player=r,t.player.on("ready",t.props.onReady),t.player.on("play",t.props.onPlay),t.player.on("pause",t.props.onPause),t.player.on("seek",t.props.onSeek),t.player.on("playerComplete",t.props.onEnded))}),c),e.api.renderPlayer(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({uuid:c,container:t.container,autoplay:n?1:0},i.options)),e.api.getPlayerMetadata(c).then((function(e){t.duration=e.length_in_seconds,u(e.length_in_seconds)})))}),s)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){window.VidyardV4.api.destroyPlayer(this.player)}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackSpeed",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.callPlayer("currentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("div",{style:e},i.default.createElement("div",{ref:this.ref}))}}],r&&c(t.prototype,r),n&&c(t,n),h}(i.Component);t.default=y,m(y,"displayName","Vidyard"),m(y,"canPlay",o.canPlay.vidyard)},97600:function(e,t,r){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(r(72791)),a=r(135),o=r(60365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v(e);if(t){var i=v(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(s,e);var t,r,n,o=p(s);function s(){var e;u(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return m(d(e=o.call.apply(o,[this].concat(r))),"callPlayer",a.callPlayer),m(d(e),"duration",null),m(d(e),"currentTime",null),m(d(e),"secondsLoaded",null),m(d(e),"mute",(function(){e.setVolume(0)})),m(d(e),"unmute",(function(){null!==e.props.volume&&e.setVolume(e.props.volume)})),m(d(e),"ref",(function(t){e.container=t})),e}return t=s,r=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;this.duration=null,(0,a.getSDK)("https://player.vimeo.com/api/player.js","Vimeo").then((function(r){if(t.container){var n=t.props.config,i=n.playerOptions,a=n.title;t.player=new r.Player(t.container,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({url:e,autoplay:t.props.playing,muted:t.props.muted,loop:t.props.loop,playsinline:t.props.playsinline,controls:t.props.controls},i)),t.player.ready().then((function(){var e=t.container.querySelector("iframe");e.style.width="100%",e.style.height="100%",a&&(e.title=a)})).catch(t.props.onError),t.player.on("loaded",(function(){t.props.onReady(),t.refreshDuration()})),t.player.on("play",(function(){t.props.onPlay(),t.refreshDuration()})),t.player.on("pause",t.props.onPause),t.player.on("seeked",(function(e){return t.props.onSeek(e.seconds)})),t.player.on("ended",t.props.onEnded),t.player.on("error",t.props.onError),t.player.on("timeupdate",(function(e){var r=e.seconds;t.currentTime=r})),t.player.on("progress",(function(e){var r=e.seconds;t.secondsLoaded=r})),t.player.on("bufferstart",t.props.onBuffer),t.player.on("bufferend",t.props.onBufferEnd),t.player.on("playbackratechange",(function(e){return t.props.onPlaybackRateChange(e.playbackRate)}))}}),this.props.onError)}},{key:"refreshDuration",value:function(){var e=this;this.player.getDuration().then((function(t){e.duration=t}))}},{key:"play",value:function(){var e=this.callPlayer("play");e&&e.catch(this.props.onError)}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("unload")}},{key:"seekTo",value:function(e){this.callPlayer("setCurrentTime",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackRate",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var e={width:"100%",height:"100%",overflow:"hidden",display:this.props.display};return i.default.createElement("div",{key:this.props.url,ref:this.ref,style:e})}}],r&&c(t.prototype,r),n&&c(t,n),s}(i.Component);t.default=y,m(y,"displayName","Vimeo"),m(y,"canPlay",o.canPlay.vimeo),m(y,"forceLoad",!0)},95793:function(e,t,r){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(r(72791)),a=r(135),o=r(60365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var i=m(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g="wistia-player-",_=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(l,e);var t,r,n,s=h(l);function l(){var e;c(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return y(v(e=s.call.apply(s,[this].concat(r))),"callPlayer",a.callPlayer),y(v(e),"playerID",e.props.config.playerId||"".concat(g).concat((0,a.randomString)())),y(v(e),"onPlay",(function(){var t;return(t=e.props).onPlay.apply(t,arguments)})),y(v(e),"onPause",(function(){var t;return(t=e.props).onPause.apply(t,arguments)})),y(v(e),"onSeek",(function(){var t;return(t=e.props).onSeek.apply(t,arguments)})),y(v(e),"onEnded",(function(){var t;return(t=e.props).onEnded.apply(t,arguments)})),y(v(e),"onPlaybackRateChange",(function(){var t;return(t=e.props).onPlaybackRateChange.apply(t,arguments)})),y(v(e),"mute",(function(){e.callPlayer("mute")})),y(v(e),"unmute",(function(){e.callPlayer("unmute")})),e}return t=l,r=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this,r=this.props,n=r.playing,i=r.muted,o=r.controls,s=r.onReady,l=r.config,c=r.onError;(0,a.getSDK)("https://fast.wistia.com/assets/external/E-v1.js","Wistia").then((function(e){l.customControls&&l.customControls.forEach((function(t){return e.defineControl(t)})),window._wq=window._wq||[],window._wq.push({id:t.playerID,options:u({autoPlay:n,silentAutoPlay:"allow",muted:i,controlsVisibleOnLoad:o,fullscreenButton:o,playbar:o,playbackRateControl:o,qualityControl:o,volumeControl:o,settingsControl:o,smallPlayButton:o},l.options),onReady:function(e){t.player=e,t.unbind(),t.player.bind("play",t.onPlay),t.player.bind("pause",t.onPause),t.player.bind("seek",t.onSeek),t.player.bind("end",t.onEnded),t.player.bind("playbackratechange",t.onPlaybackRateChange),s()}})}),c)}},{key:"unbind",value:function(){this.player.unbind("play",this.onPlay),this.player.unbind("pause",this.onPause),this.player.unbind("seek",this.onSeek),this.player.unbind("end",this.onEnded),this.player.unbind("playbackratechange",this.onPlaybackRateChange)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.unbind(),this.callPlayer("remove")}},{key:"seekTo",value:function(e){this.callPlayer("time",e)}},{key:"setVolume",value:function(e){this.callPlayer("volume",e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("playbackRate",e)}},{key:"getDuration",value:function(){return this.callPlayer("duration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("time")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e=this.props.url,t=e&&e.match(o.MATCH_URL_WISTIA)[1],r="wistia_embed wistia_async_".concat(t);return i.default.createElement("div",{id:this.playerID,key:t,className:r,style:{width:"100%",height:"100%"}})}}],r&&f(t.prototype,r),n&&f(t,n),l}(i.Component);t.default=_,y(_,"displayName","Wistia"),y(_,"canPlay",o.canPlay.wistia),y(_,"loopOnEnded",!0)},28322:function(e,t,r){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(r(72791)),a=r(135),o=r(60365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(l){i=!0,a=l}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g(e);if(t){var i=g(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m(this,r)}}function m(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b="YT",x=/[?&](?:list|channel)=([a-zA-Z0-9_-]+)/,w=/user\/([a-zA-Z0-9_-]+)\/?/,S=/youtube-nocookie\.com/,P=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(l,e);var t,r,n,s=v(l);function l(){var e;p(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return _(y(e=s.call.apply(s,[this].concat(r))),"callPlayer",a.callPlayer),_(y(e),"parsePlaylist",(function(t){return t instanceof Array?{listType:"playlist",playlist:t.map(e.getID).join(",")}:x.test(t)?{listType:"playlist",list:c(t.match(x),2)[1].replace(/^UC/,"UU")}:w.test(t)?{listType:"user_uploads",list:c(t.match(w),2)[1]}:{}})),_(y(e),"onStateChange",(function(t){var r=t.data,n=e.props,i=n.onPlay,a=n.onPause,o=n.onBuffer,s=n.onBufferEnd,l=n.onEnded,u=n.onReady,c=n.loop,f=n.config,p=f.playerVars,h=f.onUnstarted,d=window.YT.PlayerState,v=d.UNSTARTED,m=d.PLAYING,y=d.PAUSED,g=d.BUFFERING,_=d.ENDED,b=d.CUED;if(r===v&&h(),r===m&&(i(),s()),r===y&&a(),r===g&&o(),r===_){var x=!!e.callPlayer("getPlaylist");c&&!x&&(p.start?e.seekTo(p.start):e.play()),l()}r===b&&u()})),_(y(e),"mute",(function(){e.callPlayer("mute")})),_(y(e),"unmute",(function(){e.callPlayer("unMute")})),_(y(e),"ref",(function(t){e.container=t})),e}return t=l,(r=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"getID",value:function(e){return!e||e instanceof Array||x.test(e)?null:e.match(o.MATCH_URL_YOUTUBE)[1]}},{key:"load",value:function(e,t){var r=this,n=this.props,i=n.playing,o=n.muted,s=n.playsinline,l=n.controls,c=n.loop,f=n.config,p=n.onError,h=f.playerVars,d=f.embedOptions,v=this.getID(e);if(t)return x.test(e)||w.test(e)||e instanceof Array?void this.player.loadPlaylist(this.parsePlaylist(e)):void this.player.cueVideoById({videoId:v,startSeconds:(0,a.parseStartTime)(e)||h.start,endSeconds:(0,a.parseEndTime)(e)||h.end});(0,a.getSDK)("https://www.youtube.com/iframe_api",b,"onYouTubeIframeAPIReady",(function(e){return e.loaded})).then((function(t){r.container&&(r.player=new t.Player(r.container,u({width:"100%",height:"100%",videoId:v,playerVars:u(u({autoplay:i?1:0,mute:o?1:0,controls:l?1:0,start:(0,a.parseStartTime)(e),end:(0,a.parseEndTime)(e),origin:window.location.origin,playsinline:s?1:0},r.parsePlaylist(e)),h),events:{onReady:function(){c&&r.player.setLoop(!0),r.props.onReady()},onPlaybackRateChange:function(e){return r.props.onPlaybackRateChange(e.data)},onStateChange:r.onStateChange,onError:function(e){return p(e.data)}},host:S.test(e)?"https://www.youtube-nocookie.com":void 0},d)))}),p),d.events&&console.warn("Using `embedOptions.events` will likely break things. Use ReactPlayer\u2019s callback props instead, eg onReady, onPlay, onPause")}},{key:"play",value:function(){this.callPlayer("playVideo")}},{key:"pause",value:function(){this.callPlayer("pauseVideo")}},{key:"stop",value:function(){document.body.contains(this.callPlayer("getIframe"))&&this.callPlayer("stopVideo")}},{key:"seekTo",value:function(e){this.callPlayer("seekTo",e),this.props.playing||this.pause()}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackRate",e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return this.callPlayer("getVideoLoadedFraction")*this.getDuration()}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("div",{style:e},i.default.createElement("div",{ref:this.ref}))}}])&&h(t.prototype,r),n&&h(t,n),l}(i.Component);t.default=P,_(P,"displayName","YouTube"),_(P,"canPlay",o.canPlay.youtube)},14687:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(72791),i=r(135),a=r(60365);function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}var u=[{key:"youtube",name:"YouTube",canPlay:a.canPlay.youtube,lazyPlayer:(0,n.lazy)((function(){return Promise.resolve().then((function(){return l(r(28322))}))}))},{key:"soundcloud",name:"SoundCloud",canPlay:a.canPlay.soundcloud,lazyPlayer:(0,n.lazy)((function(){return Promise.resolve().then((function(){return l(r(41801))}))}))},{key:"vimeo",name:"Vimeo",canPlay:a.canPlay.vimeo,lazyPlayer:(0,n.lazy)((function(){return Promise.resolve().then((function(){return l(r(97600))}))}))},{key:"facebook",name:"Facebook",canPlay:a.canPlay.facebook,lazyPlayer:(0,n.lazy)((function(){return Promise.resolve().then((function(){return l(r(74793))}))}))},{key:"streamable",name:"Streamable",canPlay:a.canPlay.streamable,lazyPlayer:(0,n.lazy)((function(){return Promise.resolve().then((function(){return l(r(81286))}))}))},{key:"wistia",name:"Wistia",canPlay:a.canPlay.wistia,lazyPlayer:(0,n.lazy)((function(){return Promise.resolve().then((function(){return l(r(95793))}))}))},{key:"twitch",name:"Twitch",canPlay:a.canPlay.twitch,lazyPlayer:(0,n.lazy)((function(){return Promise.resolve().then((function(){return l(r(6741))}))}))},{key:"dailymotion",name:"DailyMotion",canPlay:a.canPlay.dailymotion,lazyPlayer:(0,n.lazy)((function(){return Promise.resolve().then((function(){return l(r(94303))}))}))},{key:"mixcloud",name:"Mixcloud",canPlay:a.canPlay.mixcloud,lazyPlayer:(0,n.lazy)((function(){return Promise.resolve().then((function(){return l(r(82732))}))}))},{key:"vidyard",name:"Vidyard",canPlay:a.canPlay.vidyard,lazyPlayer:(0,n.lazy)((function(){return Promise.resolve().then((function(){return l(r(95561))}))}))},{key:"kaltura",name:"Kaltura",canPlay:a.canPlay.kaltura,lazyPlayer:(0,n.lazy)((function(){return Promise.resolve().then((function(){return l(r(89332))}))}))},{key:"file",name:"FilePlayer",canPlay:a.canPlay.file,canEnablePIP:function(e){return a.canPlay.file(e)&&(document.pictureInPictureEnabled||(0,i.supportsWebKitPresentationMode)())&&!a.AUDIO_EXTENSIONS.test(e)},lazyPlayer:(0,n.lazy)((function(){return Promise.resolve().then((function(){return l(r(88997))}))}))}];t.default=u},89174:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultProps=t.propTypes=void 0;var n,i=(n=r(52007))&&n.__esModule?n:{default:n};var a=i.default.string,o=i.default.bool,s=i.default.number,l=i.default.array,u=i.default.oneOfType,c=i.default.shape,f=i.default.object,p=i.default.func,h=i.default.node,d={url:u([a,l,f]),playing:o,loop:o,controls:o,volume:s,muted:o,playbackRate:s,width:u([a,s]),height:u([a,s]),style:f,progressInterval:s,playsinline:o,pip:o,stopOnUnmount:o,light:u([o,a,f]),playIcon:h,previewTabIndex:s,fallback:h,oEmbedUrl:a,wrapper:u([a,p,c({render:p.isRequired})]),config:c({soundcloud:c({options:f}),youtube:c({playerVars:f,embedOptions:f,onUnstarted:p}),facebook:c({appId:a,version:a,playerId:a,attributes:f}),dailymotion:c({params:f}),vimeo:c({playerOptions:f,title:a}),file:c({attributes:f,tracks:l,forceVideo:o,forceAudio:o,forceHLS:o,forceDASH:o,forceFLV:o,hlsOptions:f,hlsVersion:a,dashVersion:a,flvVersion:a}),wistia:c({options:f,playerId:a,customControls:l}),mixcloud:c({options:f}),twitch:c({options:f,playerId:a}),vidyard:c({options:f})}),onReady:p,onStart:p,onPlay:p,onPause:p,onBuffer:p,onBufferEnd:p,onEnded:p,onError:p,onDuration:p,onSeek:p,onPlaybackRateChange:p,onProgress:p,onClickPreview:p,onEnablePIP:p,onDisablePIP:p};t.propTypes=d;var v=function(){},m={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:v},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0"},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:v,onStart:v,onPlay:v,onPause:v,onBuffer:v,onBufferEnd:v,onEnded:v,onError:v,onDuration:v,onSeek:v,onPlaybackRateChange:v,onProgress:v,onClickPreview:v,onEnablePIP:v,onDisablePIP:v};t.defaultProps=m},135:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseStartTime=function(e){return p(e,l)},t.parseEndTime=function(e){return p(e,u)},t.randomString=function(){return Math.random().toString(36).substr(2,5)},t.queryString=function(e){return Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&")},t.getSDK=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n.default,o=h(t);if(o&&i(o))return Promise.resolve(o);return new Promise((function(n,i){if(d[e])d[e].push({resolve:n,reject:i});else{d[e]=[{resolve:n,reject:i}];var o=function(t){d[e].forEach((function(e){return e.resolve(t)}))};if(r){var s=window[r];window[r]=function(){s&&s(),o(h(t))}}a(e,(function(n){n?(d[e].forEach((function(e){return e.reject(n)})),d[e]=null):r||o(h(t))}))}}))},t.getConfig=function(e,t){return(0,i.default)(t.config,e.config)},t.omit=function(e){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];for(var a=(t=[]).concat.apply(t,n),o={},s=Object.keys(e),l=0,u=s;l<u.length;l++){var c=u[l];-1===a.indexOf(c)&&(o[c]=e[c])}return o},t.callPlayer=function(e){var t;if(!this.player||!this.player[e]){var r="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(e,"%c \u2013 ");return this.player?this.player[e]||(r+="The method was not available"):r+="The player was not available",console.warn(r,"font-weight: bold",""),null}for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return(t=this.player)[e].apply(t,i)},t.isMediaStream=function(e){return"undefined"!==typeof window&&"undefined"!==typeof window.MediaStream&&e instanceof window.MediaStream},t.isBlobUrl=function(e){return/^blob:/.test(e)},t.supportsWebKitPresentationMode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("video"),t=!1===/iPhone|iPod/.test(navigator.userAgent);return e.webkitSupportsPresentationMode&&"function"===typeof e.webkitSetPresentationMode&&t};var n=a(r(15102)),i=a(r(49948));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(l){i=!0,a=l}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l=/[?&#](?:start|t)=([0-9hms]+)/,u=/[?&#]end=([0-9hms]+)/,c=/(\d+)(h|m|s)/g,f=/^\d+$/;function p(e,t){if(!(e instanceof Array)){var r=e.match(t);if(r){var n=r[1];if(n.match(c))return function(e){var t=0,r=c.exec(e);for(;null!==r;){var n=o(r,3),i=n[1],a=n[2];"h"===a&&(t+=60*parseInt(i,10)*60),"m"===a&&(t+=60*parseInt(i,10)),"s"===a&&(t+=parseInt(i,10)),r=c.exec(e)}return t}(n);if(f.test(n))return parseInt(n)}}}function h(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}var d={}},71828:function(e,t,r){"use strict";r.d(t,{C8:function(){return u},ZP:function(){return f},mq:function(){return c}});var n=r(94578),i=r(97326),a=r(4942),o=r(72791),s=r(54535),l=r.n(s),u=l()(),c=l()(),f=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,(0,a.Z)((0,i.Z)((0,i.Z)(t)),"referenceNode",void 0),(0,a.Z)((0,i.Z)((0,i.Z)(t)),"setReferenceNode",(function(e){e&&t.referenceNode!==e&&(t.referenceNode=e,t.forceUpdate())})),t}(0,n.Z)(t,e);var r=t.prototype;return r.componentWillUnmount=function(){this.referenceNode=null},r.render=function(){return o.createElement(u.Provider,{value:this.referenceNode},o.createElement(c.Provider,{value:this.setReferenceNode},this.props.children))},t}(o.Component)},81162:function(e,t,r){"use strict";r.d(t,{$p:function(){return n},DL:function(){return i},k$:function(){return a}});var n=function(e){return Array.isArray(e)?e[0]:e},i=function(e){if("function"===typeof e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.apply(void 0,r)}},a=function(e,t){if("function"===typeof e)return i(e,t);null!=e&&(e.current=t)}},76794:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=s(r(52007)),a=r(72791),o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}var l={bgColor:i.default.oneOfType([i.default.object,i.default.string]).isRequired,bgD:i.default.string.isRequired,fgColor:i.default.oneOfType([i.default.object,i.default.string]).isRequired,fgD:i.default.string.isRequired,size:i.default.number.isRequired,title:i.default.string,viewBoxSize:i.default.number.isRequired,xmlns:i.default.string},u={title:void 0,xmlns:"http://www.w3.org/2000/svg"},c=(0,a.forwardRef)((function(e,t){var r=e.bgColor,i=e.bgD,a=e.fgD,s=e.fgColor,l=e.size,u=e.title,c=e.viewBoxSize,f=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize"]);return o.default.createElement("svg",n({},f,{height:l,ref:t,viewBox:"0 0 "+c+" "+c,width:l}),u?o.default.createElement("title",null,u):null,o.default.createElement("path",{d:i,fill:r}),o.default.createElement("path",{d:a,fill:s}))}));c.displayName="QRCodeSvg",c.propTypes=l,c.defaultProps=u,t.default=c},80925:function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=c(r(35809)),a=c(r(32959)),o=c(r(52007)),s=r(72791),l=c(s),u=c(r(76794));function c(e){return e&&e.__esModule?e:{default:e}}var f={bgColor:o.default.oneOfType([o.default.object,o.default.string]),fgColor:o.default.oneOfType([o.default.object,o.default.string]),level:o.default.string,size:o.default.number,value:o.default.string.isRequired},p=(0,s.forwardRef)((function(e,t){var r=e.bgColor,o=e.fgColor,s=e.level,c=e.size,f=e.value,p=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["bgColor","fgColor","level","size","value"]),h=new i.default(-1,a.default[s]);h.addData(f),h.make();var d=h.modules;return l.default.createElement(u.default,n({},p,{bgColor:r,bgD:d.map((function(e,t){return e.map((function(e,r){return e?"":"M "+r+" "+t+" l 1 0 0 1 -1 0 Z"})).join(" ")})).join(" "),fgColor:o,fgD:d.map((function(e,t){return e.map((function(e,r){return e?"M "+r+" "+t+" l 1 0 0 1 -1 0 Z":""})).join(" ")})).join(" "),ref:t,size:c,viewBoxSize:d.length}))}));p.displayName="QRCode",p.propTypes=f,p.defaultProps={bgColor:"#FFFFFF",fgColor:"#000000",level:"L",size:256},t.Z=p},6664:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(52007));var n=s(r(88354)),i=s(r(2910)),a=s(r(72791)),o=s(r(70119));r(55127);function s(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}var u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,n.default)(e,t)}))},c=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,i.default)(e,t)}))},f=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).onEnter=function(e,r){var n=t.getClassNames(r?"appear":"enter").className;t.removeClasses(e,"exit"),u(e,n),t.props.onEnter&&t.props.onEnter(e,r)},t.onEntering=function(e,r){var n=t.getClassNames(r?"appear":"enter").activeClassName;t.reflowAndAddClass(e,n),t.props.onEntering&&t.props.onEntering(e,r)},t.onEntered=function(e,r){var n=t.getClassNames("appear").doneClassName,i=t.getClassNames("enter").doneClassName,a=r?n+" "+i:i;t.removeClasses(e,r?"appear":"enter"),u(e,a),t.props.onEntered&&t.props.onEntered(e,r)},t.onExit=function(e){var r=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),u(e,r),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var r=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,r),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var r=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),u(e,r),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var r=t.props.classNames,n="string"===typeof r,i=n?(n&&r?r+"-":"")+e:r[e];return{className:i,activeClassName:n?i+"-active":r[e+"Active"],doneClassName:n?i+"-done":r[e+"Done"]}},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.removeClasses=function(e,t){var r=this.getClassNames(t),n=r.className,i=r.activeClassName,a=r.doneClassName;n&&c(e,n),i&&c(e,i),a&&c(e,a)},i.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,u(e,t))},i.render=function(){var e=l({},this.props);return delete e.classNames,a.default.createElement(o.default,l({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},n}(a.default.Component);f.defaultProps={classNames:""},f.propTypes={};var p=f;t.default=p,e.exports=t.default},58162:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;o(r(52007));var n=o(r(72791)),i=r(54164),a=o(r(22326));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,r;function o(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).handleEnter=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onEnter",0,r)},t.handleEntering=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onEntering",0,r)},t.handleEntered=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onEntered",0,r)},t.handleExit=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onExit",1,r)},t.handleExiting=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onExiting",1,r)},t.handleExited=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onExited",1,r)},t}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=o.prototype;return s.handleLifecycle=function(e,t,r){var a,o=this.props.children,s=n.default.Children.toArray(o)[t];s.props[e]&&(a=s.props)[e].apply(a,r),this.props[e]&&this.props[e]((0,i.findDOMNode)(this))},s.render=function(){var e=this.props,t=e.children,r=e.in,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["children","in"]),o=n.default.Children.toArray(t),s=o[0],l=o[1];return delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,n.default.createElement(a.default,i,r?n.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):n.default.cloneElement(l,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},o}(n.default.Component);s.propTypes={};var l=s;t.default=l,e.exports=t.default},70119:function(e,t,r){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(52007));var n=s(r(72791)),i=s(r(54164)),a=r(23688),o=(r(55127),s(r(89914)));function s(e){return e&&e.__esModule?e:{default:e}}var l="unmounted";t.UNMOUNTED=l;var u="exited";t.EXITED=u;var c="entering";t.ENTERING=c;var f="entered";t.ENTERED=f;var p="exiting";t.EXITING=p;var h=function(e){var t,r;function a(t,r){var n;n=e.call(this,t,r)||this;var i,a=r&&!r.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?a?(i=u,n.appearStatus=c):i=f:i=t.unmountOnExit||t.mountOnEnter?l:u,n.state={status:i},n.nextCallback=null,n}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.getDerivedStateFromProps=function(e,t){return e.in&&t.status===l?{status:u}:null};var s=a.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==c&&r!==f&&(t=c):r!==c&&r!==f||(t=p)}this.updateStatus(!1,t)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!==typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},s.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var r=i.default.findDOMNode(this);t===c?this.performEnter(r,e):this.performExit(r)}else this.props.unmountOnExit&&this.state.status===u&&this.setState({status:l})},s.performEnter=function(e,t){var r=this,n=this.props.enter,i=this.context?this.context.isMounting:t,a=this.getTimeouts(),o=i?a.appear:a.enter;t||n?(this.props.onEnter(e,i),this.safeSetState({status:c},(function(){r.props.onEntering(e,i),r.onTransitionEnd(e,o,(function(){r.safeSetState({status:f},(function(){r.props.onEntered(e,i)}))}))}))):this.safeSetState({status:f},(function(){r.props.onEntered(e)}))},s.performExit=function(e){var t=this,r=this.props.exit,n=this.getTimeouts();r?(this.props.onExit(e),this.safeSetState({status:p},(function(){t.props.onExiting(e),t.onTransitionEnd(e,n.exit,(function(){t.safeSetState({status:u},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:u},(function(){t.props.onExited(e)}))},s.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},s.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},s.onTransitionEnd=function(e,t,r){this.setNextCallback(r);var n=null==t&&!this.props.addEndListener;e&&!n?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},s.render=function(){var e=this.state.status;if(e===l)return null;var t=this.props,r=t.children,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(t,["children"]);if(delete i.in,delete i.mountOnEnter,delete i.unmountOnExit,delete i.appear,delete i.enter,delete i.exit,delete i.timeout,delete i.addEndListener,delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,"function"===typeof r)return n.default.createElement(o.default.Provider,{value:null},r(e,i));var a=n.default.Children.only(r);return n.default.createElement(o.default.Provider,{value:null},n.default.cloneElement(a,i))},a}(n.default.Component);function d(){}h.contextType=o.default,h.propTypes={},h.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:d,onEntering:d,onEntered:d,onExit:d,onExiting:d,onExited:d},h.UNMOUNTED=0,h.EXITED=1,h.ENTERING=2,h.ENTERED=3,h.EXITING=4;var v=(0,a.polyfill)(h);t.default=v},22326:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;s(r(52007));var n=s(r(72791)),i=r(23688),a=s(r(89914)),o=r(78546);function s(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},f=function(e){var t,r;function i(t,r){var n,i=(n=e.call(this,t,r)||this).handleExited.bind(u(u(n)));return n.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},n}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=i.prototype;return s.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},s.componentWillUnmount=function(){this.mounted=!1},i.getDerivedStateFromProps=function(e,t){var r=t.children,n=t.handleExited;return{children:t.firstRender?(0,o.getInitialChildMapping)(e,n):(0,o.getNextChildMapping)(e,r,n),firstRender:!1}},s.handleExited=function(e,t){var r=(0,o.getChildMapping)(this.props.children);e.key in r||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var r=l({},t.children);return delete r[e.key],{children:r}})))},s.render=function(){var e=this.props,t=e.component,r=e.childFactory,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["component","childFactory"]),o=this.state.contextValue,s=c(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===t?n.default.createElement(a.default.Provider,{value:o},s):n.default.createElement(a.default.Provider,{value:o},n.default.createElement(t,i,s))},i}(n.default.Component);f.propTypes={},f.defaultProps={component:"div",childFactory:function(e){return e}};var p=(0,i.polyfill)(f);t.default=p,e.exports=t.default},89914:function(e,t,r){"use strict";var n;t.__esModule=!0,t.default=void 0;var i=((n=r(72791))&&n.__esModule?n:{default:n}).default.createContext(null);t.default=i,e.exports=t.default},78267:function(e,t,r){"use strict";var n=s(r(6664)),i=s(r(58162)),a=s(r(22326)),o=s(r(70119));function s(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:o.default,TransitionGroup:a.default,ReplaceTransition:i.default,CSSTransition:n.default}},78546:function(e,t,r){"use strict";t.__esModule=!0,t.getChildMapping=i,t.mergeChildMappings=a,t.getInitialChildMapping=function(e,t){return i(e.children,(function(r){return(0,n.cloneElement)(r,{onExited:t.bind(null,r),in:!0,appear:o(r,"appear",e),enter:o(r,"enter",e),exit:o(r,"exit",e)})}))},t.getNextChildMapping=function(e,t,r){var s=i(e.children),l=a(t,s);return Object.keys(l).forEach((function(i){var a=l[i];if((0,n.isValidElement)(a)){var u=i in t,c=i in s,f=t[i],p=(0,n.isValidElement)(f)&&!f.props.in;!c||u&&!p?c||!u||p?c&&u&&(0,n.isValidElement)(f)&&(l[i]=(0,n.cloneElement)(a,{onExited:r.bind(null,a),in:f.props.in,exit:o(a,"exit",e),enter:o(a,"enter",e)})):l[i]=(0,n.cloneElement)(a,{in:!1}):l[i]=(0,n.cloneElement)(a,{onExited:r.bind(null,a),in:!0,exit:o(a,"exit",e),enter:o(a,"enter",e)})}})),l};var n=r(72791);function i(e,t){var r=Object.create(null);return e&&n.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return t&&(0,n.isValidElement)(e)?t(e):e}(e)})),r}function a(e,t){function r(r){return r in t?t[r]:e[r]}e=e||{},t=t||{};var n,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var s={};for(var l in t){if(i[l])for(n=0;n<i[l].length;n++){var u=i[l][n];s[i[l][n]]=r(u)}s[l]=r(l)}for(n=0;n<a.length;n++)s[a[n]]=r(a[n]);return s}function o(e,t,r){return null!=r[t]?r[t]:e.props[t]}},55127:function(e,t,r){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var n;(n=r(52007))&&n.__esModule;t.timeoutsShape=null;t.classNamesShape=null},38122:function(e,t,r){"use strict";var n=r(87462),i=r(63366),a=r(4942),o=r(72791),s=r(52007),l=r.n(s),u=r(81694),c=r.n(u),f=r(15489),p=r(3600),h=["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"];function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m={children:l().node,className:l().string,closeClassName:l().string,closeAriaLabel:l().string,cssModule:l().object,color:l().string,fade:l().bool,isOpen:l().bool,toggle:l().func,tag:f.iC,transition:l().shape(p.Z.propTypes),innerRef:l().oneOfType([l().object,l().string,l().func])},y={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",fade:!0,transition:v(v({},p.Z.defaultProps),{},{unmountOnExit:!0})};function g(e){var t=e.className,r=e.closeClassName,a=e.closeAriaLabel,s=e.cssModule,l=e.tag,u=e.color,d=e.isOpen,m=e.toggle,y=e.children,g=e.transition,_=e.fade,b=e.innerRef,x=(0,i.Z)(e,h),w=(0,f.mx)(c()(t,"alert","alert-"+u,{"alert-dismissible":m}),s),S=(0,f.mx)(c()("close",r),s),P=v(v(v({},p.Z.defaultProps),g),{},{baseClass:_?g.baseClass:"",timeout:_?g.timeout:0});return o.createElement(p.Z,(0,n.Z)({},x,P,{tag:l,className:w,in:d,role:"alert",innerRef:b}),m?o.createElement("button",{type:"button",className:S,"aria-label":a,onClick:m},o.createElement("span",{"aria-hidden":"true"},"\xd7")):null,y)}g.propTypes=m,g.defaultProps=y,t.Z=g},81815:function(e,t,r){"use strict";var n=r(87462),i=r(63366),a=r(97326),o=r(94578),s=r(72791),l=r(52007),u=r.n(l),c=r(81694),f=r.n(c),p=r(15489),h=["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"],d={active:u().bool,"aria-label":u().string,block:u().bool,color:u().string,disabled:u().bool,outline:u().bool,tag:p.iC,innerRef:u().oneOfType([u().object,u().func,u().string]),onClick:u().func,size:u().string,children:u().node,className:u().string,cssModule:u().object,close:u().bool},v=function(e){function t(t){var r;return(r=e.call(this,t)||this).onClick=r.onClick.bind((0,a.Z)(r)),r}(0,o.Z)(t,e);var r=t.prototype;return r.onClick=function(e){if(!this.props.disabled)return this.props.onClick?this.props.onClick(e):void 0;e.preventDefault()},r.render=function(){var e=this.props,t=e.active,r=e["aria-label"],a=e.block,o=e.className,l=e.close,u=e.cssModule,c=e.color,d=e.outline,v=e.size,m=e.tag,y=e.innerRef,g=(0,i.Z)(e,h);l&&"undefined"===typeof g.children&&(g.children=s.createElement("span",{"aria-hidden":!0},"\xd7"));var _="btn"+(d?"-outline":"")+"-"+c,b=(0,p.mx)(f()(o,{close:l},l||"btn",l||_,!!v&&"btn-"+v,!!a&&"btn-block",{active:t,disabled:this.props.disabled}),u);g.href&&"button"===m&&(m="a");var x=l?"Close":null;return s.createElement(m,(0,n.Z)({type:"button"===m&&g.onClick?"button":void 0},g,{className:b,ref:y,onClick:this.onClick,"aria-label":r||x}))},t}(s.Component);v.propTypes=d,v.defaultProps={color:"secondary",tag:"button"},t.Z=v},38358:function(e,t,r){"use strict";var n=r(87462),i=r(72791),a=r(52007),o=r.n(a),s=r(61599),l={children:o().node},u=function(e){return i.createElement(s.Z,(0,n.Z)({group:!0},e))};u.propTypes=l,t.Z=u},82357:function(e,t,r){"use strict";var n=r(87462),i=r(63366),a=r(72791),o=r(52007),s=r.n(o),l=r(81694),u=r.n(l),c=r(15489),f=["className","cssModule","color","body","inverse","outline","tag","innerRef"],p={tag:c.iC,inverse:s().bool,color:s().string,body:s().bool,outline:s().bool,className:s().string,cssModule:s().object,innerRef:s().oneOfType([s().object,s().string,s().func])},h=function(e){var t=e.className,r=e.cssModule,o=e.color,s=e.body,l=e.inverse,p=e.outline,h=e.tag,d=e.innerRef,v=(0,i.Z)(e,f),m=(0,c.mx)(u()(t,"card",!!l&&"text-white",!!s&&"card-body",!!o&&(p?"border":"bg")+"-"+o),r);return a.createElement(h,(0,n.Z)({},v,{className:m,ref:d}))};h.propTypes=p,h.defaultProps={tag:"div"},t.Z=h},48284:function(e,t,r){"use strict";var n=r(87462),i=r(63366),a=r(72791),o=r(52007),s=r.n(o),l=r(81694),u=r.n(l),c=r(15489),f=["className","cssModule","innerRef","tag"],p={tag:c.iC,className:s().string,cssModule:s().object,innerRef:s().oneOfType([s().object,s().string,s().func])},h=function(e){var t=e.className,r=e.cssModule,o=e.innerRef,s=e.tag,l=(0,i.Z)(e,f),p=(0,c.mx)(u()(t,"card-body"),r);return a.createElement(s,(0,n.Z)({},l,{className:p,ref:o}))};h.propTypes=p,h.defaultProps={tag:"div"},t.Z=h},29902:function(e,t,r){"use strict";var n=r(87462),i=r(63366),a=r(72791),o=r(52007),s=r.n(o),l=r(81694),u=r.n(l),c=r(15489),f=["className","cssModule","tag"],p={tag:c.iC,className:s().string,cssModule:s().object},h=function(e){var t=e.className,r=e.cssModule,o=e.tag,s=(0,i.Z)(e,f),l=(0,c.mx)(u()(t,"card-footer"),r);return a.createElement(o,(0,n.Z)({},s,{className:l}))};h.propTypes=p,h.defaultProps={tag:"div"},t.Z=h},53638:function(e,t,r){"use strict";var n=r(87462),i=r(63366),a=r(72791),o=r(52007),s=r.n(o),l=r(81694),u=r.n(l),c=r(15489),f=["className","cssModule","tag"],p={tag:c.iC,className:s().string,cssModule:s().object},h=function(e){var t=e.className,r=e.cssModule,o=e.tag,s=(0,i.Z)(e,f),l=(0,c.mx)(u()(t,"card-header"),r);return a.createElement(o,(0,n.Z)({},s,{className:l}))};h.propTypes=p,h.defaultProps={tag:"div"},t.Z=h},27988:function(e,t,r){"use strict";var n=r(87462),i=r(63366),a=r(72791),o=r(52007),s=r.n(o),l=r(81694),u=r.n(l),c=r(15489),f=["className","cssModule","widths","tag"],p=s().oneOfType([s().number,s().string]),h=s().oneOfType([s().bool,s().number,s().string,s().shape({size:s().oneOfType([s().bool,s().number,s().string]),order:p,offset:p})]),d={tag:c.iC,xs:h,sm:h,md:h,lg:h,xl:h,className:s().string,cssModule:s().object,widths:s().array},v={tag:"div",widths:["xs","sm","md","lg","xl"]},m=function(e,t,r){return!0===r||""===r?e?"col":"col-"+t:"auto"===r?e?"col-auto":"col-"+t+"-auto":e?"col-"+r:"col-"+t+"-"+r},y=function(e){var t=e.className,r=e.cssModule,o=e.widths,s=e.tag,l=(0,i.Z)(e,f),p=[];o.forEach((function(t,n){var i=e[t];if(delete l[t],i||""===i){var a=!n;if((0,c.Kn)(i)){var o,s=a?"-":"-"+t+"-",f=m(a,t,i.size);p.push((0,c.mx)(u()(((o={})[f]=i.size||""===i.size,o["order"+s+i.order]=i.order||0===i.order,o["offset"+s+i.offset]=i.offset||0===i.offset,o)),r))}else{var h=m(a,t,i);p.push(h)}}})),p.length||p.push("col");var h=(0,c.mx)(u()(t,p),r);return a.createElement(s,(0,n.Z)({},l,{className:h}))};y.propTypes=d,y.defaultProps=v,t.Z=y},37496:function(e,t,r){"use strict";var n,i=r(87462),a=r(63366),o=r(97326),s=r(94578),l=r(4942),u=r(72791),c=r(52007),f=r.n(c),p=r(81694),h=r.n(p),d=r(78267),v=r(15489),m=["tag","isOpen","className","navbar","cssModule","children","innerRef"];function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _=g(g({},d.Transition.propTypes),{},{isOpen:f().bool,children:f().oneOfType([f().arrayOf(f().node),f().node]),tag:v.iC,className:f().node,navbar:f().bool,cssModule:f().object,innerRef:f().oneOfType([f().func,f().string,f().object])}),b=g(g({},d.Transition.defaultProps),{},{isOpen:!1,appear:!1,enter:!0,exit:!0,tag:"div",timeout:v.wF.Collapse}),x=((n={})[v.E5.ENTERING]="collapsing",n[v.E5.ENTERED]="collapse show",n[v.E5.EXITING]="collapsing",n[v.E5.EXITED]="collapse",n);function w(e){return e.scrollHeight}var S=function(e){function t(t){var r;return(r=e.call(this,t)||this).state={height:null},["onEntering","onEntered","onExit","onExiting","onExited"].forEach((function(e){r[e]=r[e].bind((0,o.Z)(r))})),r}(0,s.Z)(t,e);var r=t.prototype;return r.onEntering=function(e,t){this.setState({height:w(e)}),this.props.onEntering(e,t)},r.onEntered=function(e,t){this.setState({height:null}),this.props.onEntered(e,t)},r.onExit=function(e){this.setState({height:w(e)}),this.props.onExit(e)},r.onExiting=function(e){e.offsetHeight;this.setState({height:0}),this.props.onExiting(e)},r.onExited=function(e){this.setState({height:null}),this.props.onExited(e)},r.render=function(){var e=this,t=this.props,r=t.tag,n=t.isOpen,o=t.className,s=t.navbar,l=t.cssModule,c=t.children,f=(t.innerRef,(0,a.Z)(t,m)),p=this.state.height,y=(0,v.ei)(f,v.rb),_=(0,v.CE)(f,v.rb);return u.createElement(d.Transition,(0,i.Z)({},y,{in:n,onEntering:this.onEntering,onEntered:this.onEntered,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}),(function(t){var n=function(e){return x[e]||"collapse"}(t),a=(0,v.mx)(h()(o,n,s&&"navbar-collapse"),l),f=null===p?null:{height:p};return u.createElement(r,(0,i.Z)({},_,{style:g(g({},_.style),f),className:a,ref:e.props.innerRef}),c)}))},t}(u.Component);S.propTypes=_,S.defaultProps=b,t.Z=S},20743:function(e,t,r){"use strict";var n=r(87462),i=r(63366),a=r(72791),o=r(52007),s=r.n(o),l=r(81694),u=r.n(l),c=r(15489),f=["className","cssModule","fluid","tag"],p={tag:c.iC,fluid:s().oneOfType([s().bool,s().string]),className:s().string,cssModule:s().object},h=function(e){var t=e.className,r=e.cssModule,o=e.fluid,s=e.tag,l=(0,i.Z)(e,f),p="container";!0===o?p="container-fluid":o&&(p="container-"+o);var h=(0,c.mx)(u()(t,p),r);return a.createElement(s,(0,n.Z)({},l,{className:h}))};h.propTypes=p,h.defaultProps={tag:"div"},t.Z=h},61599:function(e,t,r){"use strict";var n=r(87462),i=r(63366),a=r(97326),o=r(94578),s=r(72791),l=r(52007),u=r.n(l),c=r(71828),f=r(81694),p=r.n(f),h=r(43340),d=r(15489),v=["className","cssModule","direction","isOpen","group","size","nav","setActiveFromChild","active","addonType","tag","menuRole"],m={a11y:u().bool,disabled:u().bool,direction:u().oneOf(["up","down","left","right"]),group:u().bool,isOpen:u().bool,nav:u().bool,active:u().bool,addonType:u().oneOfType([u().bool,u().oneOf(["prepend","append"])]),size:u().string,tag:d.iC,toggle:u().func,children:u().node,className:u().string,cssModule:u().object,inNavbar:u().bool,setActiveFromChild:u().bool,menuRole:u().oneOf(["listbox","menu"])},y=[d.Do.space,d.Do.enter,d.Do.up,d.Do.down,d.Do.end,d.Do.home],g=function(e){function t(t){var r;return(r=e.call(this,t)||this).addEvents=r.addEvents.bind((0,a.Z)(r)),r.handleDocumentClick=r.handleDocumentClick.bind((0,a.Z)(r)),r.handleKeyDown=r.handleKeyDown.bind((0,a.Z)(r)),r.removeEvents=r.removeEvents.bind((0,a.Z)(r)),r.toggle=r.toggle.bind((0,a.Z)(r)),r.handleMenuRef=r.handleMenuRef.bind((0,a.Z)(r)),r.containerRef=s.createRef(),r.menuRef=s.createRef(),r}(0,o.Z)(t,e);var r=t.prototype;return r.handleMenuRef=function(e){this.menuRef.current=e},r.getContextValue=function(){return{toggle:this.toggle,isOpen:this.props.isOpen,direction:"down"===this.props.direction&&this.props.dropup?"up":this.props.direction,inNavbar:this.props.inNavbar,disabled:this.props.disabled,onMenuRef:this.handleMenuRef,menuRole:this.props.menuRole}},r.componentDidMount=function(){this.handleProps()},r.componentDidUpdate=function(e){this.props.isOpen!==e.isOpen&&this.handleProps()},r.componentWillUnmount=function(){this.removeEvents()},r.getContainer=function(){return this.containerRef.current},r.getMenu=function(){return this.menuRef.current},r.getMenuCtrl=function(){return this._$menuCtrl||(this._$menuCtrl=this.getContainer().querySelector("[aria-expanded]")),this._$menuCtrl},r.getItemType=function(){return"listbox"===this.context.menuRole?"option":"menuitem"},r.getMenuItems=function(){var e=this.getMenu()||this.getContainer();return[].slice.call(e.querySelectorAll('[role="'+this.getItemType()+'"]'))},r.addEvents=function(){var e=this;["click","touchstart","keyup"].forEach((function(t){return document.addEventListener(t,e.handleDocumentClick,!0)}))},r.removeEvents=function(){var e=this;["click","touchstart","keyup"].forEach((function(t){return document.removeEventListener(t,e.handleDocumentClick,!0)}))},r.handleDocumentClick=function(e){if(!e||3!==e.which&&("keyup"!==e.type||e.which===d.Do.tab)){var t=this.getContainer(),r=this.getMenu(),n=t.contains(e.target)&&t!==e.target,i=r&&r.contains(e.target)&&r!==e.target;(!n&&!i||"keyup"===e.type&&e.which!==d.Do.tab)&&this.toggle(e)}},r.handleKeyDown=function(e){var t=this,r="menuitem"===e.target.getAttribute("role")||"option"===e.target.getAttribute("role"),n=this.getMenuCtrl()===e.target,i=d.Do.tab===e.which;if(!(/input|textarea/i.test(e.target.tagName)||i&&!this.props.a11y||i&&!r&&!n)&&((-1!==y.indexOf(e.which)||e.which>=48&&e.which<=90)&&e.preventDefault(),!this.props.disabled&&(n&&([d.Do.space,d.Do.enter,d.Do.up,d.Do.down].indexOf(e.which)>-1?(this.props.isOpen||this.toggle(e),setTimeout((function(){return t.getMenuItems()[0].focus()}))):this.props.isOpen&&i?(e.preventDefault(),this.getMenuItems()[0].focus()):this.props.isOpen&&e.which===d.Do.esc&&this.toggle(e)),this.props.isOpen&&r)))if([d.Do.tab,d.Do.esc].indexOf(e.which)>-1)this.toggle(e),this.getMenuCtrl().focus();else if([d.Do.space,d.Do.enter].indexOf(e.which)>-1)e.target.click(),this.getMenuCtrl().focus();else if([d.Do.down,d.Do.up].indexOf(e.which)>-1||[d.Do.n,d.Do.p].indexOf(e.which)>-1&&e.ctrlKey){var a=this.getMenuItems(),o=a.indexOf(e.target);d.Do.up===e.which||d.Do.p===e.which&&e.ctrlKey?o=0!==o?o-1:a.length-1:(d.Do.down===e.which||d.Do.n===e.which&&e.ctrlKey)&&(o=o===a.length-1?0:o+1),a[o].focus()}else if(d.Do.end===e.which){var s=this.getMenuItems();s[s.length-1].focus()}else if(d.Do.home===e.which){this.getMenuItems()[0].focus()}else if(e.which>=48&&e.which<=90)for(var l=this.getMenuItems(),u=String.fromCharCode(e.which).toLowerCase(),c=0;c<l.length;c+=1){if((l[c].textContent&&l[c].textContent[0].toLowerCase())===u){l[c].focus();break}}},r.handleProps=function(){this.props.isOpen?this.addEvents():this.removeEvents()},r.toggle=function(e){return this.props.disabled?e&&e.preventDefault():this.props.toggle(e)},r.render=function(){var e,t,r=(0,d.CE)(this.props,["toggle","disabled","inNavbar","a11y"]),a=r.className,o=r.cssModule,l=r.direction,u=r.isOpen,f=r.group,m=r.size,y=r.nav,g=r.setActiveFromChild,_=r.active,b=r.addonType,x=r.tag,w=(r.menuRole,(0,i.Z)(r,v)),S=x||(y?"li":"div"),P=!1;g&&s.Children.map(this.props.children[1].props.children,(function(e){e&&e.props.active&&(P=!0)}));var k=(0,d.mx)(p()(a,"down"!==l&&"drop"+l,!(!y||!_)&&"active",!(!g||!P)&&"active",((e={})["input-group-"+b]=b,e["btn-group"]=f,e["btn-group-"+m]=!!m,e.dropdown=!f&&!b,e.show=u,e["nav-item"]=y,e)),o);return s.createElement(h.D.Provider,{value:this.getContextValue()},s.createElement(c.ZP,null,s.createElement(S,(0,n.Z)({},w,((t={})["string"===typeof S?"ref":"innerRef"]=this.containerRef,t),{onKeyDown:this.handleKeyDown,className:k}))))},t}(s.Component);g.propTypes=m,g.defaultProps={a11y:!0,isOpen:!1,direction:"down",nav:!1,active:!1,addonType:!1,inNavbar:!1,setActiveFromChild:!1},t.Z=g},43340:function(e,t,r){"use strict";r.d(t,{D:function(){return n}});var n=r(72791).createContext({})},52919:function(e,t,r){"use strict";var n=r(87462),i=r(63366),a=r(97326),o=r(94578),s=r(72791),l=r(52007),u=r.n(l),c=r(81694),f=r.n(c),p=r(43340),h=r(15489),d=["className","cssModule","divider","tag","header","active","text"],v={children:u().node,active:u().bool,disabled:u().bool,divider:u().bool,tag:h.iC,header:u().bool,onClick:u().func,className:u().string,cssModule:u().object,toggle:u().bool,text:u().bool},m=function(e){function t(t){var r;return(r=e.call(this,t)||this).onClick=r.onClick.bind((0,a.Z)(r)),r.getTabIndex=r.getTabIndex.bind((0,a.Z)(r)),r}(0,o.Z)(t,e);var r=t.prototype;return r.getRole=function(){return"listbox"===this.context.menuRole?"option":"menuitem"},r.onClick=function(e){var t=this.props,r=t.disabled,n=t.header,i=t.divider,a=t.text;r||n||i||a?e.preventDefault():(this.props.onClick&&this.props.onClick(e),this.props.toggle&&this.context.toggle(e))},r.getTabIndex=function(){var e=this.props,t=e.disabled,r=e.header,n=e.divider,i=e.text;return t||r||n||i?"-1":"0"},r.render=function(){var e=this.getTabIndex(),t=e>-1?this.getRole():void 0,r=(0,h.CE)(this.props,["toggle"]),a=r.className,o=r.cssModule,l=r.divider,u=r.tag,c=r.header,p=r.active,v=r.text,m=(0,i.Z)(r,d),y=(0,h.mx)(f()(a,{disabled:m.disabled,"dropdown-item":!l&&!c&&!v,active:p,"dropdown-header":c,"dropdown-divider":l,"dropdown-item-text":v}),o);return"button"===u&&(c?u="h6":l?u="div":m.href?u="a":v&&(u="span")),s.createElement(u,(0,n.Z)({type:"button"===u&&(m.onClick||this.props.toggle)?"button":void 0},m,{tabIndex:e,role:t,className:y,onClick:this.onClick}))},t}(s.Component);m.propTypes=v,m.defaultProps={tag:"button",toggle:!0},m.contextType=p.D,t.Z=m},57493:function(e,t,r){"use strict";r.d(t,{Z:function(){return ze}});var n=r(87462),i=r(4942),a=r(63366),o=r(94578),s=r(72791),l=r(52007),u=r.n(l),c=r(54164),f=r(81694),p=r.n(f),h=r(97326),d=r(24058),v=r.n(d),m="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,y=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(m&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var g=m&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),y))}};function _(e){return e&&"[object Function]"==={}.toString.call(e)}function b(e,t){if(1!==e.nodeType)return[];var r=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?r[t]:r}function x(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function w(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=b(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(r+i+n)?e:w(x(e))}function S(e){return e&&e.referenceNode?e.referenceNode:e}var P=m&&!(!window.MSInputMethodContext||!document.documentMode),k=m&&/MSIE 10/.test(navigator.userAgent);function E(e){return 11===e?P:10===e?k:P||k}function C(e){if(!e)return document.documentElement;for(var t=E(10)?document.body:null,r=e.offsetParent||null;r===t&&e.nextElementSibling;)r=(e=e.nextElementSibling).offsetParent;var n=r&&r.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TH","TD","TABLE"].indexOf(r.nodeName)&&"static"===b(r,"position")?C(r):r:e?e.ownerDocument.documentElement:document.documentElement}function A(e){return null!==e.parentNode?A(e.parentNode):e}function T(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var r=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,n=r?e:t,i=r?t:e,a=document.createRange();a.setStart(n,0),a.setEnd(i,0);var o=a.commonAncestorContainer;if(e!==o&&t!==o||n.contains(i))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||C(e.firstElementChild)===e)}(o)?o:C(o);var s=A(e);return s.host?T(s.host,t):T(e,A(t).host)}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",r="top"===t?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var i=e.ownerDocument.documentElement,a=e.ownerDocument.scrollingElement||i;return a[r]}return e[r]}function M(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=O(t,"top"),i=O(t,"left"),a=r?-1:1;return e.top+=n*a,e.bottom+=n*a,e.left+=i*a,e.right+=i*a,e}function I(e,t){var r="x"===t?"Left":"Top",n="Left"===r?"Right":"Bottom";return parseFloat(e["border"+r+"Width"])+parseFloat(e["border"+n+"Width"])}function F(e,t,r,n){return Math.max(t["offset"+e],t["scroll"+e],r["client"+e],r["offset"+e],r["scroll"+e],E(10)?parseInt(r["offset"+e])+parseInt(n["margin"+("Height"===e?"Top":"Left")])+parseInt(n["margin"+("Height"===e?"Bottom":"Right")]):0)}function R(e){var t=e.body,r=e.documentElement,n=E(10)&&getComputedStyle(r);return{height:F("Height",t,r,n),width:F("Width",t,r,n)}}var D=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},j=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),L=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function z(e){return N({},e,{right:e.left+e.width,bottom:e.top+e.height})}function B(e){var t={};try{if(E(10)){t=e.getBoundingClientRect();var r=O(e,"top"),n=O(e,"left");t.top+=r,t.left+=n,t.bottom+=r,t.right+=n}else t=e.getBoundingClientRect()}catch(f){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},a="HTML"===e.nodeName?R(e.ownerDocument):{},o=a.width||e.clientWidth||i.width,s=a.height||e.clientHeight||i.height,l=e.offsetWidth-o,u=e.offsetHeight-s;if(l||u){var c=b(e);l-=I(c,"x"),u-=I(c,"y"),i.width-=l,i.height-=u}return z(i)}function Z(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=E(10),i="HTML"===t.nodeName,a=B(e),o=B(t),s=w(e),l=b(t),u=parseFloat(l.borderTopWidth),c=parseFloat(l.borderLeftWidth);r&&i&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var f=z({top:a.top-o.top-u,left:a.left-o.left-c,width:a.width,height:a.height});if(f.marginTop=0,f.marginLeft=0,!n&&i){var p=parseFloat(l.marginTop),h=parseFloat(l.marginLeft);f.top-=u-p,f.bottom-=u-p,f.left-=c-h,f.right-=c-h,f.marginTop=p,f.marginLeft=h}return(n&&!r?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(f=M(f,t)),f}function U(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.ownerDocument.documentElement,n=Z(e,r),i=Math.max(r.clientWidth,window.innerWidth||0),a=Math.max(r.clientHeight,window.innerHeight||0),o=t?0:O(r),s=t?0:O(r,"left"),l={top:o-n.top+n.marginTop,left:s-n.left+n.marginLeft,width:i,height:a};return z(l)}function V(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===b(e,"position"))return!0;var r=x(e);return!!r&&V(r)}function G(e){if(!e||!e.parentElement||E())return document.documentElement;for(var t=e.parentElement;t&&"none"===b(t,"transform");)t=t.parentElement;return t||document.documentElement}function W(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a={top:0,left:0},o=i?G(e):T(e,S(t));if("viewport"===n)a=U(o,i);else{var s=void 0;"scrollParent"===n?"BODY"===(s=w(x(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===n?e.ownerDocument.documentElement:n;var l=Z(s,o,i);if("HTML"!==s.nodeName||V(o))a=l;else{var u=R(e.ownerDocument),c=u.height,f=u.width;a.top+=l.top-l.marginTop,a.bottom=c+l.top,a.left+=l.left-l.marginLeft,a.right=f+l.left}}var p="number"===typeof(r=r||0);return a.left+=p?r:r.left||0,a.top+=p?r:r.top||0,a.right-=p?r:r.right||0,a.bottom-=p?r:r.bottom||0,a}function q(e){return e.width*e.height}function H(e,t,r,n,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=W(r,n,a,i),s={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},l=Object.keys(s).map((function(e){return N({key:e},s[e],{area:q(s[e])})})).sort((function(e,t){return t.area-e.area})),u=l.filter((function(e){var t=e.width,n=e.height;return t>=r.clientWidth&&n>=r.clientHeight})),c=u.length>0?u[0].key:l[0].key,f=e.split("-")[1];return c+(f?"-"+f:"")}function Y(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=n?G(t):T(t,S(r));return Z(r,i,n)}function X(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),r=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),n=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+n,height:e.offsetHeight+r}}function K(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function $(e,t,r){r=r.split("-")[0];var n=X(e),i={width:n.width,height:n.height},a=-1!==["right","left"].indexOf(r),o=a?"top":"left",s=a?"left":"top",l=a?"height":"width",u=a?"width":"height";return i[o]=t[o]+t[l]/2-n[l]/2,i[s]=r===s?t[s]-n[u]:t[K(s)],i}function J(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function Q(e,t,r){return(void 0===r?e:e.slice(0,function(e,t,r){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===r}));var n=J(e,(function(e){return e[t]===r}));return e.indexOf(n)}(e,"name",r))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var r=e.function||e.fn;e.enabled&&_(r)&&(t.offsets.popper=z(t.offsets.popper),t.offsets.reference=z(t.offsets.reference),t=r(t,e))})),t}function ee(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=Y(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=H(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=$(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=Q(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function te(e,t){return e.some((function(e){var r=e.name;return e.enabled&&r===t}))}function re(e){for(var t=[!1,"ms","Webkit","Moz","O"],r=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length;n++){var i=t[n],a=i?""+i+r:e;if("undefined"!==typeof document.body.style[a])return a}return null}function ne(){return this.state.isDestroyed=!0,te(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[re("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function ie(e){var t=e.ownerDocument;return t?t.defaultView:window}function ae(e,t,r,n){var i="BODY"===e.nodeName,a=i?e.ownerDocument.defaultView:e;a.addEventListener(t,r,{passive:!0}),i||ae(w(a.parentNode),t,r,n),n.push(a)}function oe(e,t,r,n){r.updateBound=n,ie(e).addEventListener("resize",r.updateBound,{passive:!0});var i=w(e);return ae(i,"scroll",r.updateBound,r.scrollParents),r.scrollElement=i,r.eventsEnabled=!0,r}function se(){this.state.eventsEnabled||(this.state=oe(this.reference,this.options,this.state,this.scheduleUpdate))}function le(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,ie(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function ue(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function ce(e,t){Object.keys(t).forEach((function(r){var n="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&ue(t[r])&&(n="px"),e.style[r]=t[r]+n}))}var fe=m&&/Firefox/i.test(navigator.userAgent);function pe(e,t,r){var n=J(e,(function(e){return e.name===t})),i=!!n&&e.some((function(e){return e.name===r&&e.enabled&&e.order<n.order}));if(!i){var a="`"+t+"`",o="`"+r+"`";console.warn(o+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return i}var he=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],de=he.slice(3);function ve(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=de.indexOf(e),n=de.slice(r+1).concat(de.slice(0,r));return t?n.reverse():n}var me="flip",ye="clockwise",ge="counterclockwise";function _e(e,t,r,n){var i=[0,0],a=-1!==["right","left"].indexOf(n),o=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=o.indexOf(J(o,(function(e){return-1!==e.search(/,|\s/)})));o[s]&&-1===o[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1!==s?[o.slice(0,s).concat([o[s].split(l)[0]]),[o[s].split(l)[1]].concat(o.slice(s+1))]:[o];return u=u.map((function(e,n){var i=(1===n?!a:a)?"height":"width",o=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,o=!0,e):o?(e[e.length-1]+=t,o=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,r,n){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+i[1],o=i[2];if(!a)return e;if(0===o.indexOf("%")){return z("%p"===o?r:n)[t]/100*a}if("vh"===o||"vw"===o)return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*a;return a}(e,i,t,r)}))})),u.forEach((function(e,t){e.forEach((function(r,n){ue(r)&&(i[t]+=r*("-"===e[n-1]?-1:1))}))})),i}var be={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,r=t.split("-")[0],n=t.split("-")[1];if(n){var i=e.offsets,a=i.reference,o=i.popper,s=-1!==["bottom","top"].indexOf(r),l=s?"left":"top",u=s?"width":"height",c={start:L({},l,a[l]),end:L({},l,a[l]+a[u]-o[u])};e.offsets.popper=N({},o,c[n])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var r=t.offset,n=e.placement,i=e.offsets,a=i.popper,o=i.reference,s=n.split("-")[0],l=void 0;return l=ue(+r)?[+r,0]:_e(r,a,o,s),"left"===s?(a.top+=l[0],a.left-=l[1]):"right"===s?(a.top+=l[0],a.left+=l[1]):"top"===s?(a.left+=l[0],a.top-=l[1]):"bottom"===s&&(a.left+=l[0],a.top+=l[1]),e.popper=a,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var r=t.boundariesElement||C(e.instance.popper);e.instance.reference===r&&(r=C(r));var n=re("transform"),i=e.instance.popper.style,a=i.top,o=i.left,s=i[n];i.top="",i.left="",i[n]="";var l=W(e.instance.popper,e.instance.reference,t.padding,r,e.positionFixed);i.top=a,i.left=o,i[n]=s,t.boundaries=l;var u=t.priority,c=e.offsets.popper,f={primary:function(e){var r=c[e];return c[e]<l[e]&&!t.escapeWithReference&&(r=Math.max(c[e],l[e])),L({},e,r)},secondary:function(e){var r="right"===e?"left":"top",n=c[r];return c[e]>l[e]&&!t.escapeWithReference&&(n=Math.min(c[r],l[e]-("right"===e?c.width:c.height))),L({},r,n)}};return u.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";c=N({},c,f[t](e))})),e.offsets.popper=c,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,r=t.popper,n=t.reference,i=e.placement.split("-")[0],a=Math.floor,o=-1!==["top","bottom"].indexOf(i),s=o?"right":"bottom",l=o?"left":"top",u=o?"width":"height";return r[s]<a(n[l])&&(e.offsets.popper[l]=a(n[l])-r[u]),r[l]>a(n[s])&&(e.offsets.popper[l]=a(n[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var r;if(!pe(e.instance.modifiers,"arrow","keepTogether"))return e;var n=t.element;if("string"===typeof n){if(!(n=e.instance.popper.querySelector(n)))return e}else if(!e.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],a=e.offsets,o=a.popper,s=a.reference,l=-1!==["left","right"].indexOf(i),u=l?"height":"width",c=l?"Top":"Left",f=c.toLowerCase(),p=l?"left":"top",h=l?"bottom":"right",d=X(n)[u];s[h]-d<o[f]&&(e.offsets.popper[f]-=o[f]-(s[h]-d)),s[f]+d>o[h]&&(e.offsets.popper[f]+=s[f]+d-o[h]),e.offsets.popper=z(e.offsets.popper);var v=s[f]+s[u]/2-d/2,m=b(e.instance.popper),y=parseFloat(m["margin"+c]),g=parseFloat(m["border"+c+"Width"]),_=v-e.offsets.popper[f]-y-g;return _=Math.max(Math.min(o[u]-d,_),0),e.arrowElement=n,e.offsets.arrow=(L(r={},f,Math.round(_)),L(r,p,""),r),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(te(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var r=W(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),n=e.placement.split("-")[0],i=K(n),a=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case me:o=[n,i];break;case ye:o=ve(n);break;case ge:o=ve(n,!0);break;default:o=t.behavior}return o.forEach((function(s,l){if(n!==s||o.length===l+1)return e;n=e.placement.split("-")[0],i=K(n);var u=e.offsets.popper,c=e.offsets.reference,f=Math.floor,p="left"===n&&f(u.right)>f(c.left)||"right"===n&&f(u.left)<f(c.right)||"top"===n&&f(u.bottom)>f(c.top)||"bottom"===n&&f(u.top)<f(c.bottom),h=f(u.left)<f(r.left),d=f(u.right)>f(r.right),v=f(u.top)<f(r.top),m=f(u.bottom)>f(r.bottom),y="left"===n&&h||"right"===n&&d||"top"===n&&v||"bottom"===n&&m,g=-1!==["top","bottom"].indexOf(n),_=!!t.flipVariations&&(g&&"start"===a&&h||g&&"end"===a&&d||!g&&"start"===a&&v||!g&&"end"===a&&m),b=!!t.flipVariationsByContent&&(g&&"start"===a&&d||g&&"end"===a&&h||!g&&"start"===a&&m||!g&&"end"===a&&v),x=_||b;(p||y||x)&&(e.flipped=!0,(p||y)&&(n=o[l+1]),x&&(a=function(e){return"end"===e?"start":"start"===e?"end":e}(a)),e.placement=n+(a?"-"+a:""),e.offsets.popper=N({},e.offsets.popper,$(e.instance.popper,e.offsets.reference,e.placement)),e=Q(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,r=t.split("-")[0],n=e.offsets,i=n.popper,a=n.reference,o=-1!==["left","right"].indexOf(r),s=-1===["top","left"].indexOf(r);return i[o?"left":"top"]=a[r]-(s?i[o?"width":"height"]:0),e.placement=K(t),e.offsets.popper=z(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!pe(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,r=J(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<r.top||t.left>r.right||t.top>r.bottom||t.right<r.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var r=t.x,n=t.y,i=e.offsets.popper,a=J(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==a&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==a?a:t.gpuAcceleration,s=C(e.instance.popper),l=B(s),u={position:i.position},c=function(e,t){var r=e.offsets,n=r.popper,i=r.reference,a=Math.round,o=Math.floor,s=function(e){return e},l=a(i.width),u=a(n.width),c=-1!==["left","right"].indexOf(e.placement),f=-1!==e.placement.indexOf("-"),p=t?c||f||l%2===u%2?a:o:s,h=t?a:s;return{left:p(l%2===1&&u%2===1&&!f&&t?n.left-1:n.left),top:h(n.top),bottom:h(n.bottom),right:p(n.right)}}(e,window.devicePixelRatio<2||!fe),f="bottom"===r?"top":"bottom",p="right"===n?"left":"right",h=re("transform"),d=void 0,v=void 0;if(v="bottom"===f?"HTML"===s.nodeName?-s.clientHeight+c.bottom:-l.height+c.bottom:c.top,d="right"===p?"HTML"===s.nodeName?-s.clientWidth+c.right:-l.width+c.right:c.left,o&&h)u[h]="translate3d("+d+"px, "+v+"px, 0)",u[f]=0,u[p]=0,u.willChange="transform";else{var m="bottom"===f?-1:1,y="right"===p?-1:1;u[f]=v*m,u[p]=d*y,u.willChange=f+", "+p}var g={"x-placement":e.placement};return e.attributes=N({},g,e.attributes),e.styles=N({},u,e.styles),e.arrowStyles=N({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,r;return ce(e.instance.popper,e.styles),t=e.instance.popper,r=e.attributes,Object.keys(r).forEach((function(e){!1!==r[e]?t.setAttribute(e,r[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&ce(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,r,n,i){var a=Y(i,t,e,r.positionFixed),o=H(r.placement,a,t,e,r.modifiers.flip.boundariesElement,r.modifiers.flip.padding);return t.setAttribute("x-placement",o),ce(t,{position:r.positionFixed?"fixed":"absolute"}),r},gpuAcceleration:void 0}},xe={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:be},we=function(){function e(t,r){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};D(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=g(this.update.bind(this)),this.options=N({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=r&&r.jquery?r[0]:r,this.options.modifiers={},Object.keys(N({},e.Defaults.modifiers,i.modifiers)).forEach((function(t){n.options.modifiers[t]=N({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return N({name:e},n.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&_(e.onLoad)&&e.onLoad(n.reference,n.popper,n.options,e,n.state)})),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return j(e,[{key:"update",value:function(){return ee.call(this)}},{key:"destroy",value:function(){return ne.call(this)}},{key:"enableEventListeners",value:function(){return se.call(this)}},{key:"disableEventListeners",value:function(){return le.call(this)}}]),e}();we.Utils=("undefined"!==typeof window?window:r.g).PopperUtils,we.placements=he,we.Defaults=xe;var Se=we,Pe=r(71828),ke=r(81162),Ee={position:"absolute",top:0,left:0,opacity:0,pointerEvents:"none"},Ce={},Ae=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,(0,i.Z)((0,h.Z)((0,h.Z)(t)),"state",{data:void 0,placement:void 0}),(0,i.Z)((0,h.Z)((0,h.Z)(t)),"popperInstance",void 0),(0,i.Z)((0,h.Z)((0,h.Z)(t)),"popperNode",null),(0,i.Z)((0,h.Z)((0,h.Z)(t)),"arrowNode",null),(0,i.Z)((0,h.Z)((0,h.Z)(t)),"setPopperNode",(function(e){e&&t.popperNode!==e&&((0,ke.k$)(t.props.innerRef,e),t.popperNode=e,t.updatePopperInstance())})),(0,i.Z)((0,h.Z)((0,h.Z)(t)),"setArrowNode",(function(e){t.arrowNode=e})),(0,i.Z)((0,h.Z)((0,h.Z)(t)),"updateStateModifier",{enabled:!0,order:900,fn:function(e){var r=e.placement;return t.setState({data:e,placement:r}),e}}),(0,i.Z)((0,h.Z)((0,h.Z)(t)),"getOptions",(function(){return{placement:t.props.placement,eventsEnabled:t.props.eventsEnabled,positionFixed:t.props.positionFixed,modifiers:(0,n.Z)({},t.props.modifiers,{arrow:(0,n.Z)({},t.props.modifiers&&t.props.modifiers.arrow,{enabled:!!t.arrowNode,element:t.arrowNode}),applyStyle:{enabled:!1},updateStateModifier:t.updateStateModifier})}})),(0,i.Z)((0,h.Z)((0,h.Z)(t)),"getPopperStyle",(function(){return t.popperNode&&t.state.data?(0,n.Z)({position:t.state.data.offsets.popper.position},t.state.data.styles):Ee})),(0,i.Z)((0,h.Z)((0,h.Z)(t)),"getPopperPlacement",(function(){return t.state.data?t.state.placement:void 0})),(0,i.Z)((0,h.Z)((0,h.Z)(t)),"getArrowStyle",(function(){return t.arrowNode&&t.state.data?t.state.data.arrowStyles:Ce})),(0,i.Z)((0,h.Z)((0,h.Z)(t)),"getOutOfBoundariesState",(function(){return t.state.data?t.state.data.hide:void 0})),(0,i.Z)((0,h.Z)((0,h.Z)(t)),"destroyPopperInstance",(function(){t.popperInstance&&(t.popperInstance.destroy(),t.popperInstance=null)})),(0,i.Z)((0,h.Z)((0,h.Z)(t)),"updatePopperInstance",(function(){t.destroyPopperInstance();var e=(0,h.Z)((0,h.Z)(t)).popperNode,r=t.props.referenceElement;r&&e&&(t.popperInstance=new Se(r,e,t.getOptions()))})),(0,i.Z)((0,h.Z)((0,h.Z)(t)),"scheduleUpdate",(function(){t.popperInstance&&t.popperInstance.scheduleUpdate()})),t}(0,o.Z)(t,e);var r=t.prototype;return r.componentDidUpdate=function(e,t){this.props.placement===e.placement&&this.props.referenceElement===e.referenceElement&&this.props.positionFixed===e.positionFixed&&v()(this.props.modifiers,e.modifiers,{strict:!0})?this.props.eventsEnabled!==e.eventsEnabled&&this.popperInstance&&(this.props.eventsEnabled?this.popperInstance.enableEventListeners():this.popperInstance.disableEventListeners()):this.updatePopperInstance(),t.placement!==this.state.placement&&this.scheduleUpdate()},r.componentWillUnmount=function(){(0,ke.k$)(this.props.innerRef,null),this.destroyPopperInstance()},r.render=function(){return(0,ke.$p)(this.props.children)({ref:this.setPopperNode,style:this.getPopperStyle(),placement:this.getPopperPlacement(),outOfBoundaries:this.getOutOfBoundariesState(),scheduleUpdate:this.scheduleUpdate,arrowProps:{ref:this.setArrowNode,style:this.getArrowStyle()}})},t}(s.Component);(0,i.Z)(Ae,"defaultProps",{placement:"bottom",eventsEnabled:!0,referenceElement:void 0,positionFixed:!1});Se.placements;function Te(e){var t=e.referenceElement,r=(0,a.Z)(e,["referenceElement"]);return s.createElement(Pe.C8.Consumer,null,(function(e){return s.createElement(Ae,(0,n.Z)({referenceElement:void 0!==t?t:e},r))}))}var Oe=r(43340),Me=r(15489),Ie=["className","cssModule","right","tag","flip","modifiers","persist","positionFixed","container"];function Fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var De={tag:Me.iC,children:u().node.isRequired,right:u().bool,flip:u().bool,modifiers:u().object,className:u().string,cssModule:u().object,persist:u().bool,positionFixed:u().bool,container:Me.qW},je={flip:{enabled:!1}},Le={up:"top",left:"left",right:"right",down:"bottom"},Ne=function(e){function t(){return e.apply(this,arguments)||this}(0,o.Z)(t,e);var r=t.prototype;return r.getRole=function(){return"listbox"===this.context.menuRole?"listbox":"menu"},r.render=function(){var e=this,t=this.props,r=t.className,i=t.cssModule,o=t.right,l=t.tag,u=t.flip,f=t.modifiers,h=t.persist,d=t.positionFixed,v=t.container,m=(0,a.Z)(t,Ie),y=(0,Me.mx)(p()(r,"dropdown-menu",{"dropdown-menu-right":o,show:this.context.isOpen}),i),g=l;if(h||this.context.isOpen&&!this.context.inNavbar){var _=(Le[this.context.direction]||"bottom")+"-"+(o?"end":"start"),b=u?f:Re(Re({},f),je),x=!!d,w=s.createElement(Te,{placement:_,modifiers:b,positionFixed:x},(function(t){var r=t.ref,i=t.style,a=t.placement,o=Re(Re({},e.props.style),i);return s.createElement(g,(0,n.Z)({tabIndex:"-1",role:e.getRole(),ref:function(t){r(t);var n=e.context.onMenuRef;n&&n(t)}},m,{style:o,"aria-hidden":!e.context.isOpen,className:y,"x-placement":a}))}));return v?c.createPortal(w,(0,Me.U9)(v)):w}return s.createElement(g,(0,n.Z)({tabIndex:"-1",role:this.getRole()},m,{"aria-hidden":!this.context.isOpen,className:y,"x-placement":m.placement}))},t}(s.Component);Ne.propTypes=De,Ne.defaultProps={tag:"div",flip:!0},Ne.contextType=Oe.D;var ze=Ne},20387:function(e,t,r){"use strict";r.d(t,{Z:function(){return k}});var n=r(87462),i=r(63366),a=r(97326),o=r(94578),s=r(72791),l=r(52007),u=r.n(l),c=r(81694),f=r.n(c),p=r(4942),h=r(42391),d=r.n(h),v=r(71828),m=r(81162),y=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t=e.call.apply(e,[this].concat(n))||this,(0,p.Z)((0,a.Z)((0,a.Z)(t)),"refHandler",(function(e){(0,m.k$)(t.props.innerRef,e),(0,m.DL)(t.props.setReferenceNode,e)})),t}(0,o.Z)(t,e);var r=t.prototype;return r.componentWillUnmount=function(){(0,m.k$)(this.props.innerRef,null)},r.render=function(){return d()(Boolean(this.props.setReferenceNode),"`Reference` should not be used outside of a `Manager` component."),(0,m.$p)(this.props.children)({ref:this.refHandler})},t}(s.Component);function g(e){return s.createElement(v.mq.Consumer,null,(function(t){return s.createElement(y,(0,n.Z)({setReferenceNode:t},e))}))}var _=r(43340),b=r(15489),x=r(81815),w=["className","color","cssModule","caret","split","nav","tag","innerRef"],S={caret:u().bool,color:u().string,children:u().node,className:u().string,cssModule:u().object,disabled:u().bool,onClick:u().func,"aria-haspopup":u().bool,split:u().bool,tag:b.iC,nav:u().bool},P=function(e){function t(t){var r;return(r=e.call(this,t)||this).onClick=r.onClick.bind((0,a.Z)(r)),r}(0,o.Z)(t,e);var r=t.prototype;return r.onClick=function(e){this.props.disabled||this.context.disabled?e.preventDefault():(this.props.nav&&!this.props.tag&&e.preventDefault(),this.props.onClick&&this.props.onClick(e),this.context.toggle(e))},r.getRole=function(){return this.context.menuRole||this.props["aria-haspopup"]},r.render=function(){var e,t=this,r=this.props,a=r.className,o=r.color,l=r.cssModule,u=r.caret,c=r.split,p=r.nav,h=r.tag,d=r.innerRef,v=(0,i.Z)(r,w),m=v["aria-label"]||"Toggle Dropdown",y=(0,b.mx)(f()(a,{"dropdown-toggle":u||c,"dropdown-toggle-split":c,"nav-link":p}),l),_="undefined"!==typeof v.children?v.children:s.createElement("span",{className:"sr-only"},m);return p&&!h?(e="a",v.href="#"):h?e=h:(e=x.Z,v.color=o,v.cssModule=l),this.context.inNavbar?s.createElement(e,(0,n.Z)({},v,{className:y,onClick:this.onClick,"aria-expanded":this.context.isOpen,"aria-haspopup":this.getRole(),children:_})):s.createElement(g,{innerRef:d},(function(r){var i,a=r.ref;return s.createElement(e,(0,n.Z)({},v,((i={})["string"===typeof e?"ref":"innerRef"]=a,i),{className:y,onClick:t.onClick,"aria-expanded":t.context.isOpen,"aria-haspopup":t.getRole(),children:_}))}))},t}(s.Component);P.propTypes=S,P.defaultProps={color:"secondary","aria-haspopup":!0},P.contextType=_.D;var k=P},3600:function(e,t,r){"use strict";var n=r(87462),i=r(63366),a=r(4942),o=r(72791),s=r(52007),l=r.n(s),u=r(81694),c=r.n(u),f=r(78267),p=r(15489),h=["tag","baseClass","baseClassActive","className","cssModule","children","innerRef"];function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=v(v({},f.Transition.propTypes),{},{children:l().oneOfType([l().arrayOf(l().node),l().node]),tag:p.iC,baseClass:l().string,baseClassActive:l().string,className:l().string,cssModule:l().object,innerRef:l().oneOfType([l().object,l().string,l().func])}),y=v(v({},f.Transition.defaultProps),{},{tag:"div",baseClass:"fade",baseClassActive:"show",timeout:p.wF.Fade,appear:!0,enter:!0,exit:!0,in:!0});function g(e){var t=e.tag,r=e.baseClass,a=e.baseClassActive,s=e.className,l=e.cssModule,u=e.children,d=e.innerRef,v=(0,i.Z)(e,h),m=(0,p.ei)(v,p.rb),y=(0,p.CE)(v,p.rb);return o.createElement(f.Transition,m,(function(e){var i="entered"===e,f=(0,p.mx)(c()(s,r,i&&a),l);return o.createElement(t,(0,n.Z)({className:f},y,{ref:d}),u)}))}g.propTypes=m,g.defaultProps=y,t.Z=g},44517:function(e,t,r){"use strict";var n=r(87462),i=r(63366),a=r(97326),o=r(94578),s=r(72791),l=r(52007),u=r.n(l),c=r(81694),f=r.n(c),p=r(15489),h=["className","cssModule","inline","tag","innerRef"],d={children:u().node,inline:u().bool,tag:p.iC,innerRef:u().oneOfType([u().object,u().func,u().string]),className:u().string,cssModule:u().object},v=function(e){function t(t){var r;return(r=e.call(this,t)||this).getRef=r.getRef.bind((0,a.Z)(r)),r.submit=r.submit.bind((0,a.Z)(r)),r}(0,o.Z)(t,e);var r=t.prototype;return r.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},r.submit=function(){this.ref&&this.ref.submit()},r.render=function(){var e=this.props,t=e.className,r=e.cssModule,a=e.inline,o=e.tag,l=e.innerRef,u=(0,i.Z)(e,h),c=(0,p.mx)(f()(t,!!a&&"form-inline"),r);return s.createElement(o,(0,n.Z)({},u,{ref:l,className:c}))},t}(s.Component);v.propTypes=d,v.defaultProps={tag:"form"},t.Z=v},81778:function(e,t,r){"use strict";var n=r(87462),i=r(63366),a=r(72791),o=r(52007),s=r.n(o),l=r(81694),u=r.n(l),c=r(15489),f=["className","cssModule","valid","tooltip","tag"],p={children:s().node,tag:c.iC,className:s().string,cssModule:s().object,valid:s().bool,tooltip:s().bool},h={tag:"div",valid:void 0},d=function(e){var t=e.className,r=e.cssModule,o=e.valid,s=e.tooltip,l=e.tag,p=(0,i.Z)(e,f),h=s?"tooltip":"feedback",d=(0,c.mx)(u()(t,o?"valid-"+h:"invalid-"+h),r);return a.createElement(l,(0,n.Z)({},p,{className:d}))};d.propTypes=p,d.defaultProps=h,t.Z=d},39132:function(e,t,r){"use strict";var n=r(87462),i=r(63366),a=r(72791),o=r(52007),s=r.n(o),l=r(81694),u=r.n(l),c=r(15489),f=["className","cssModule","row","disabled","check","inline","tag"],p={children:s().node,row:s().bool,check:s().bool,inline:s().bool,disabled:s().bool,tag:c.iC,className:s().string,cssModule:s().object},h=function(e){var t=e.className,r=e.cssModule,o=e.row,s=e.disabled,l=e.check,p=e.inline,h=e.tag,d=(0,i.Z)(e,f),v=(0,c.mx)(u()(t,!!o&&"row",l?"form-check":"form-group",!(!l||!p)&&"form-check-inline",!(!l||!s)&&"disabled"),r);return"fieldset"===h&&(d.disabled=s),a.createElement(h,(0,n.Z)({},d,{className:v}))};h.propTypes=p,h.defaultProps={tag:"div"},t.Z=h},54555:function(e,t,r){"use strict";var n=r(87462),i=r(63366),a=r(97326),o=r(94578),s=r(72791),l=r(52007),u=r.n(l),c=r(81694),f=r.n(c),p=r(15489),h=["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"],d={children:u().node,type:u().string,size:u().oneOfType([u().number,u().string]),bsSize:u().string,valid:u().bool,invalid:u().bool,tag:p.iC,innerRef:u().oneOfType([u().object,u().func,u().string]),plaintext:u().bool,addon:u().bool,className:u().string,cssModule:u().object},v=function(e){function t(t){var r;return(r=e.call(this,t)||this).getRef=r.getRef.bind((0,a.Z)(r)),r.focus=r.focus.bind((0,a.Z)(r)),r}(0,o.Z)(t,e);var r=t.prototype;return r.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},r.focus=function(){this.ref&&this.ref.focus()},r.render=function(){var e=this.props,t=e.className,r=e.cssModule,a=e.type,o=e.bsSize,l=e.valid,u=e.invalid,c=e.tag,d=e.addon,v=e.plaintext,m=e.innerRef,y=(0,i.Z)(e,h),g=["radio","checkbox"].indexOf(a)>-1,_=new RegExp("\\D","g"),b=c||("select"===a||"textarea"===a?a:"input"),x="form-control";v?(x+="-plaintext",b=c||"input"):"file"===a?x+="-file":"range"===a?x+="-range":g&&(x=d?null:"form-check-input"),y.size&&_.test(y.size)&&((0,p.O4)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),o=y.size,delete y.size);var w=(0,p.mx)(f()(t,u&&"is-invalid",l&&"is-valid",!!o&&"form-control-"+o,x),r);return("input"===b||c&&"function"===typeof c)&&(y.type=a),y.children&&!v&&"select"!==a&&"string"===typeof b&&"select"!==b&&((0,p.O4)('Input with a type of "'+a+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete y.children),s.createElement(b,(0,n.Z)({},y,{ref:m,className:w,"aria-invalid":u}))},t}(s.Component);v.propTypes=d,v.defaultProps={type:"text"},t.Z=v},82377:function(e,t,r){"use strict";var n=r(87462),i=r(63366),a=r(72791),o=r(52007),s=r.n(o),l=r(81694),u=r.n(l),c=r(15489),f=["className","cssModule","tag","size"],p={tag:c.iC,size:s().string,className:s().string,cssModule:s().object},h=function(e){var t=e.className,r=e.cssModule,o=e.tag,s=e.size,l=(0,i.Z)(e,f),p=(0,c.mx)(u()(t,"input-group",s?"input-group-"+s:null),r);return a.createElement(o,(0,n.Z)({},l,{className:p}))};h.propTypes=p,h.defaultProps={tag:"div"},t.Z=h},73002:function(e,t,r){"use strict";var n=r(87462),i=r(63366),a=r(72791),o=r(52007),s=r.n(o),l=r(81694),u=r.n(l),c=r(15489),f=["className","cssModule","hidden","widths","tag","check","size","for"],p=s().oneOfType([s().number,s().string]),h=s().oneOfType([s().bool,s().string,s().number,s().shape({size:p,order:p,offset:p})]),d={children:s().node,hidden:s().bool,check:s().bool,size:s().string,for:s().string,tag:c.iC,className:s().string,cssModule:s().object,xs:h,sm:h,md:h,lg:h,xl:h,widths:s().array},v={tag:"label",widths:["xs","sm","md","lg","xl"]},m=function(e,t,r){return!0===r||""===r?e?"col":"col-"+t:"auto"===r?e?"col-auto":"col-"+t+"-auto":e?"col-"+r:"col-"+t+"-"+r},y=function(e){var t=e.className,r=e.cssModule,o=e.hidden,s=e.widths,l=e.tag,p=e.check,h=e.size,d=e.for,v=(0,i.Z)(e,f),y=[];s.forEach((function(t,n){var i=e[t];if(delete v[t],i||""===i){var a,o=!n;if((0,c.Kn)(i)){var s,l=o?"-":"-"+t+"-";a=m(o,t,i.size),y.push((0,c.mx)(u()(((s={})[a]=i.size||""===i.size,s["order"+l+i.order]=i.order||0===i.order,s["offset"+l+i.offset]=i.offset||0===i.offset,s))),r)}else a=m(o,t,i),y.push(a)}}));var g=(0,c.mx)(u()(t,!!o&&"sr-only",!!p&&"form-check-label",!!h&&"col-form-label-"+h,y,!!y.length&&"col-form-label"),r);return a.createElement(l,(0,n.Z)({htmlFor:d},v,{className:g}))};y.propTypes=d,y.defaultProps=v,t.Z=y},62298:function(e,t,r){"use strict";r.d(t,{Z:function(){return E}});var n=r(4942),i=r(87462),a=r(97326),o=r(94578),s=r(72791),l=r(52007),u=r.n(l),c=r(81694),f=r.n(c),p=r(54164),h=r(15489),d={children:u().node.isRequired,node:u().any},v=function(e){function t(){return e.apply(this,arguments)||this}(0,o.Z)(t,e);var r=t.prototype;return r.componentWillUnmount=function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null},r.render=function(){return h.Nq?(this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),p.createPortal(this.props.children,this.props.node||this.defaultNode)):null},t}(s.Component);v.propTypes=d;var m=v,y=r(3600);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(){}var x=u().shape(y.Z.propTypes),w={isOpen:u().bool,autoFocus:u().bool,centered:u().bool,scrollable:u().bool,size:u().string,toggle:u().func,keyboard:u().bool,role:u().string,labelledBy:u().string,backdrop:u().oneOfType([u().bool,u().oneOf(["static"])]),onEnter:u().func,onExit:u().func,onOpened:u().func,onClosed:u().func,children:u().node,className:u().string,wrapClassName:u().string,modalClassName:u().string,backdropClassName:u().string,contentClassName:u().string,external:u().node,fade:u().bool,cssModule:u().object,zIndex:u().oneOfType([u().number,u().string]),backdropTransition:x,modalTransition:x,innerRef:u().oneOfType([u().object,u().string,u().func]),unmountOnClose:u().bool,returnFocusAfterClose:u().bool,container:h.qW,trapFocus:u().bool},S=Object.keys(w),P={isOpen:!1,autoFocus:!0,centered:!1,scrollable:!1,role:"dialog",backdrop:!0,keyboard:!0,zIndex:1050,fade:!0,onOpened:b,onClosed:b,modalTransition:{timeout:h.wF.Modal},backdropTransition:{mountOnEnter:!0,timeout:h.wF.Fade},unmountOnClose:!0,returnFocusAfterClose:!0,container:"body",trapFocus:!1},k=function(e){function t(t){var r;return(r=e.call(this,t)||this)._element=null,r._originalBodyPadding=null,r.getFocusableChildren=r.getFocusableChildren.bind((0,a.Z)(r)),r.handleBackdropClick=r.handleBackdropClick.bind((0,a.Z)(r)),r.handleBackdropMouseDown=r.handleBackdropMouseDown.bind((0,a.Z)(r)),r.handleEscape=r.handleEscape.bind((0,a.Z)(r)),r.handleStaticBackdropAnimation=r.handleStaticBackdropAnimation.bind((0,a.Z)(r)),r.handleTab=r.handleTab.bind((0,a.Z)(r)),r.onOpened=r.onOpened.bind((0,a.Z)(r)),r.onClosed=r.onClosed.bind((0,a.Z)(r)),r.manageFocusAfterClose=r.manageFocusAfterClose.bind((0,a.Z)(r)),r.clearBackdropAnimationTimeout=r.clearBackdropAnimationTimeout.bind((0,a.Z)(r)),r.trapFocus=r.trapFocus.bind((0,a.Z)(r)),r.state={isOpen:!1,showStaticBackdropAnimation:!1},r}(0,o.Z)(t,e);var r=t.prototype;return r.componentDidMount=function(){var e=this.props,t=e.isOpen,r=e.autoFocus,n=e.onEnter;t&&(this.init(),this.setState({isOpen:!0}),r&&this.setFocus()),n&&n(),document.addEventListener("focus",this.trapFocus,!0),this._isMounted=!0},r.componentDidUpdate=function(e,t){if(this.props.isOpen&&!e.isOpen)return this.init(),void this.setState({isOpen:!0});this.props.autoFocus&&this.state.isOpen&&!t.isOpen&&this.setFocus(),this._element&&e.zIndex!==this.props.zIndex&&(this._element.style.zIndex=this.props.zIndex)},r.componentWillUnmount=function(){this.clearBackdropAnimationTimeout(),this.props.onExit&&this.props.onExit(),this._element&&(this.destroy(),(this.props.isOpen||this.state.isOpen)&&this.close()),document.removeEventListener("focus",this.trapFocus,!0),this._isMounted=!1},r.trapFocus=function(e){if(this.props.trapFocus&&this._element&&(!this._dialog||this._dialog.parentNode!==e.target)&&!(this.modalIndex<t.openCount-1)){for(var r=this.getFocusableChildren(),n=0;n<r.length;n++)if(r[n]===e.target)return;r.length>0&&(e.preventDefault(),e.stopPropagation(),r[0].focus())}},r.onOpened=function(e,t){this.props.onOpened(),(this.props.modalTransition.onEntered||b)(e,t)},r.onClosed=function(e){var t=this.props.unmountOnClose;this.props.onClosed(),(this.props.modalTransition.onExited||b)(e),t&&this.destroy(),this.close(),this._isMounted&&this.setState({isOpen:!1})},r.setFocus=function(){this._dialog&&this._dialog.parentNode&&"function"===typeof this._dialog.parentNode.focus&&this._dialog.parentNode.focus()},r.getFocusableChildren=function(){return this._element.querySelectorAll(h.ku.join(", "))},r.getFocusedChild=function(){var e,t=this.getFocusableChildren();try{e=document.activeElement}catch(r){e=t[0]}return e},r.handleBackdropClick=function(e){if(e.target===this._mouseDownElement){e.stopPropagation();var t=this._dialog?this._dialog.parentNode:null;if(t&&e.target===t&&"static"===this.props.backdrop&&this.handleStaticBackdropAnimation(),!this.props.isOpen||!0!==this.props.backdrop)return;t&&e.target===t&&this.props.toggle&&this.props.toggle(e)}},r.handleTab=function(e){if(9===e.which&&!(this.modalIndex<t.openCount-1)){var r=this.getFocusableChildren(),n=r.length;if(0!==n){for(var i=this.getFocusedChild(),a=0,o=0;o<n;o+=1)if(r[o]===i){a=o;break}e.shiftKey&&0===a?(e.preventDefault(),r[n-1].focus()):e.shiftKey||a!==n-1||(e.preventDefault(),r[0].focus())}}},r.handleBackdropMouseDown=function(e){this._mouseDownElement=e.target},r.handleEscape=function(e){this.props.isOpen&&e.keyCode===h.Do.esc&&this.props.toggle&&(this.props.keyboard?(e.preventDefault(),e.stopPropagation(),this.props.toggle(e)):"static"===this.props.backdrop&&(e.preventDefault(),e.stopPropagation(),this.handleStaticBackdropAnimation()))},r.handleStaticBackdropAnimation=function(){var e=this;this.clearBackdropAnimationTimeout(),this.setState({showStaticBackdropAnimation:!0}),this._backdropAnimationTimeout=setTimeout((function(){e.setState({showStaticBackdropAnimation:!1})}),100)},r.init=function(){try{this._triggeringElement=document.activeElement}catch(e){this._triggeringElement=null}this._element||(this._element=document.createElement("div"),this._element.setAttribute("tabindex","-1"),this._element.style.position="relative",this._element.style.zIndex=this.props.zIndex,this._mountContainer=(0,h.U9)(this.props.container),this._mountContainer.appendChild(this._element)),this._originalBodyPadding=(0,h.X9)(),(0,h.Rf)(),0===t.openCount&&(document.body.className=f()(document.body.className,(0,h.mx)("modal-open",this.props.cssModule))),this.modalIndex=t.openCount,t.openCount+=1},r.destroy=function(){this._element&&(this._mountContainer.removeChild(this._element),this._element=null),this.manageFocusAfterClose()},r.manageFocusAfterClose=function(){if(this._triggeringElement){var e=this.props.returnFocusAfterClose;this._triggeringElement.focus&&e&&this._triggeringElement.focus(),this._triggeringElement=null}},r.close=function(){if(t.openCount<=1){var e=(0,h.mx)("modal-open",this.props.cssModule),r=new RegExp("(^| )"+e+"( |$)");document.body.className=document.body.className.replace(r," ").trim()}this.manageFocusAfterClose(),t.openCount=Math.max(0,t.openCount-1),(0,h.pp)(this._originalBodyPadding)},r.renderModalDialog=function(){var e,t=this,r=(0,h.CE)(this.props,S),n="modal-dialog";return s.createElement("div",(0,i.Z)({},r,{className:(0,h.mx)(f()(n,this.props.className,(e={},e["modal-"+this.props.size]=this.props.size,e["modal-dialog-centered"]=this.props.centered,e["modal-dialog-scrollable"]=this.props.scrollable,e)),this.props.cssModule),role:"document",ref:function(e){t._dialog=e}}),s.createElement("div",{className:(0,h.mx)(f()("modal-content",this.props.contentClassName),this.props.cssModule)},this.props.children))},r.render=function(){var e=this.props.unmountOnClose;if(this._element&&(this.state.isOpen||!e)){var t=!!this._element&&!this.state.isOpen&&!e;this._element.style.display=t?"none":"block";var r=this.props,n=r.wrapClassName,a=r.modalClassName,o=r.backdropClassName,l=r.cssModule,u=r.isOpen,c=r.backdrop,p=r.role,d=r.labelledBy,v=r.external,g=r.innerRef,b={onClick:this.handleBackdropClick,onMouseDown:this.handleBackdropMouseDown,onKeyUp:this.handleEscape,onKeyDown:this.handleTab,style:{display:"block"},"aria-labelledby":d,role:p,tabIndex:"-1"},x=this.props.fade,w=_(_(_({},y.Z.defaultProps),this.props.modalTransition),{},{baseClass:x?this.props.modalTransition.baseClass:"",timeout:x?this.props.modalTransition.timeout:0}),S=_(_(_({},y.Z.defaultProps),this.props.backdropTransition),{},{baseClass:x?this.props.backdropTransition.baseClass:"",timeout:x?this.props.backdropTransition.timeout:0}),P=c&&(x?s.createElement(y.Z,(0,i.Z)({},S,{in:u&&!!c,cssModule:l,className:(0,h.mx)(f()("modal-backdrop",o),l)})):s.createElement("div",{className:(0,h.mx)(f()("modal-backdrop","show",o),l)}));return s.createElement(m,{node:this._element},s.createElement("div",{className:(0,h.mx)(n)},s.createElement(y.Z,(0,i.Z)({},b,w,{in:u,onEntered:this.onOpened,onExited:this.onClosed,cssModule:l,className:(0,h.mx)(f()("modal",a,this.state.showStaticBackdropAnimation&&"modal-static"),l),innerRef:g}),v,this.renderModalDialog()),P))}return null},r.clearBackdropAnimationTimeout=function(){this._backdropAnimationTimeout&&(clearTimeout(this._backdropAnimationTimeout),this._backdropAnimationTimeout=void 0)},t}(s.Component);k.propTypes=w,k.defaultProps=P,k.openCount=0;var E=k},95234:function(e,t,r){"use strict";var n=r(87462),i=r(63366),a=r(72791),o=r(52007),s=r.n(o),l=r(81694),u=r.n(l),c=r(15489),f=["className","cssModule","tag"],p={tag:c.iC,className:s().string,cssModule:s().object},h=function(e){var t=e.className,r=e.cssModule,o=e.tag,s=(0,i.Z)(e,f),l=(0,c.mx)(u()(t,"modal-body"),r);return a.createElement(o,(0,n.Z)({},s,{className:l}))};h.propTypes=p,h.defaultProps={tag:"div"},t.Z=h},4292:function(e,t,r){"use strict";var n=r(87462),i=r(63366),a=r(72791),o=r(52007),s=r.n(o),l=r(81694),u=r.n(l),c=r(15489),f=["className","cssModule","children","toggle","tag","wrapTag","closeAriaLabel","charCode","close"],p={tag:c.iC,wrapTag:c.iC,toggle:s().func,className:s().string,cssModule:s().object,children:s().node,closeAriaLabel:s().string,charCode:s().oneOfType([s().string,s().number]),close:s().object},h=function(e){var t,r=e.className,o=e.cssModule,s=e.children,l=e.toggle,p=e.tag,h=e.wrapTag,d=e.closeAriaLabel,v=e.charCode,m=e.close,y=(0,i.Z)(e,f),g=(0,c.mx)(u()(r,"modal-header"),o);if(!m&&l){var _="number"===typeof v?String.fromCharCode(v):v;t=a.createElement("button",{type:"button",onClick:l,className:(0,c.mx)("close",o),"aria-label":d},a.createElement("span",{"aria-hidden":"true"},_))}return a.createElement(h,(0,n.Z)({},y,{className:g}),a.createElement(p,{className:(0,c.mx)("modal-title",o)},s),m||t)};h.propTypes=p,h.defaultProps={tag:"h5",wrapTag:"div",closeAriaLabel:"Close",charCode:215},t.Z=h},47976:function(e,t,r){"use strict";var n=r(87462),i=r(63366),a=r(72791),o=r(52007),s=r.n(o),l=r(81694),u=r.n(l),c=r(15489),f=["className","cssModule","tabs","pills","vertical","horizontal","justified","fill","navbar","card","tag"],p={tabs:s().bool,pills:s().bool,vertical:s().oneOfType([s().bool,s().string]),horizontal:s().string,justified:s().bool,fill:s().bool,navbar:s().bool,card:s().bool,tag:c.iC,className:s().string,cssModule:s().object},h=function(e){var t=e.className,r=e.cssModule,o=e.tabs,s=e.pills,l=e.vertical,p=e.horizontal,h=e.justified,d=e.fill,v=e.navbar,m=e.card,y=e.tag,g=(0,i.Z)(e,f),_=(0,c.mx)(u()(t,v?"navbar-nav":"nav",!!p&&"justify-content-"+p,function(e){return!1!==e&&(!0===e||"xs"===e?"flex-column":"flex-"+e+"-column")}(l),{"nav-tabs":o,"card-header-tabs":m&&o,"nav-pills":s,"card-header-pills":m&&s,"nav-justified":h,"nav-fill":d}),r);return a.createElement(y,(0,n.Z)({},g,{className:_}))};h.propTypes=p,h.defaultProps={tag:"ul",vertical:!1},t.Z=h},55146:function(e,t,r){"use strict";var n=r(87462),i=r(63366),a=r(72791),o=r(52007),s=r.n(o),l=r(81694),u=r.n(l),c=r(15489),f=["className","cssModule","active","tag"],p={tag:c.iC,active:s().bool,className:s().string,cssModule:s().object},h=function(e){var t=e.className,r=e.cssModule,o=e.active,s=e.tag,l=(0,i.Z)(e,f),p=(0,c.mx)(u()(t,"nav-item",!!o&&"active"),r);return a.createElement(s,(0,n.Z)({},l,{className:p}))};h.propTypes=p,h.defaultProps={tag:"li"},t.Z=h},13327:function(e,t,r){"use strict";var n=r(87462),i=r(63366),a=r(97326),o=r(94578),s=r(72791),l=r(52007),u=r.n(l),c=r(81694),f=r.n(c),p=r(15489),h=["className","cssModule","active","tag","innerRef"],d={tag:p.iC,innerRef:u().oneOfType([u().object,u().func,u().string]),disabled:u().bool,active:u().bool,className:u().string,cssModule:u().object,onClick:u().func,href:u().any},v=function(e){function t(t){var r;return(r=e.call(this,t)||this).onClick=r.onClick.bind((0,a.Z)(r)),r}(0,o.Z)(t,e);var r=t.prototype;return r.onClick=function(e){this.props.disabled?e.preventDefault():("#"===this.props.href&&e.preventDefault(),this.props.onClick&&this.props.onClick(e))},r.render=function(){var e=this.props,t=e.className,r=e.cssModule,a=e.active,o=e.tag,l=e.innerRef,u=(0,i.Z)(e,h),c=(0,p.mx)(f()(t,"nav-link",{disabled:u.disabled,active:a}),r);return s.createElement(o,(0,n.Z)({},u,{ref:l,onClick:this.onClick,className:c}))},t}(s.Component);v.propTypes=d,v.defaultProps={tag:"a"},t.Z=v},9327:function(e,t,r){"use strict";var n=r(87462),i=r(63366),a=r(72791),o=r(52007),s=r.n(o),l=r(81694),u=r.n(l),c=r(15489),f=["expand","className","cssModule","light","dark","fixed","sticky","color","tag"],p={light:s().bool,dark:s().bool,full:s().bool,fixed:s().string,sticky:s().string,color:s().string,role:s().string,tag:c.iC,className:s().string,cssModule:s().object,expand:s().oneOfType([s().bool,s().string])},h=function(e){var t,r=e.expand,o=e.className,s=e.cssModule,l=e.light,p=e.dark,h=e.fixed,d=e.sticky,v=e.color,m=e.tag,y=(0,i.Z)(e,f),g=(0,c.mx)(u()(o,"navbar",function(e){return!1!==e&&(!0===e||"xs"===e?"navbar-expand":"navbar-expand-"+e)}(r),((t={"navbar-light":l,"navbar-dark":p})["bg-"+v]=v,t["fixed-"+h]=h,t["sticky-"+d]=d,t)),s);return a.createElement(m,(0,n.Z)({},y,{className:g}))};h.propTypes=p,h.defaultProps={tag:"nav",expand:!1},t.Z=h},49967:function(e,t,r){"use strict";var n=r(87462),i=r(63366),a=r(72791),o=r(52007),s=r.n(o),l=r(81694),u=r.n(l),c=r(15489),f=["className","cssModule","tag"],p={tag:c.iC,className:s().string,cssModule:s().object},h=function(e){var t=e.className,r=e.cssModule,o=e.tag,s=(0,i.Z)(e,f),l=(0,c.mx)(u()(t,"navbar-brand"),r);return a.createElement(o,(0,n.Z)({},s,{className:l}))};h.propTypes=p,h.defaultProps={tag:"a"},t.Z=h},60554:function(e,t,r){"use strict";var n=r(87462),i=r(63366),a=r(72791),o=r(52007),s=r.n(o),l=r(81694),u=r.n(l),c=r(15489),f=["className","cssModule","children","tag"],p={tag:c.iC,type:s().string,className:s().string,cssModule:s().object,children:s().node},h=function(e){var t=e.className,r=e.cssModule,o=e.children,s=e.tag,l=(0,i.Z)(e,f),p=(0,c.mx)(u()(t,"navbar-toggler"),r);return a.createElement(s,(0,n.Z)({"aria-label":"Toggle navigation"},l,{className:p}),o||a.createElement("span",{className:(0,c.mx)("navbar-toggler-icon",r)}))};h.propTypes=p,h.defaultProps={tag:"button",type:"button"},t.Z=h},56153:function(e,t,r){"use strict";var n=r(87462),i=r(63366),a=r(72791),o=r(52007),s=r.n(o),l=r(81694),u=r.n(l),c=r(15489),f=["className","cssModule","noGutters","tag","form","widths"],p=s().oneOfType([s().number,s().string]),h={tag:c.iC,noGutters:s().bool,className:s().string,cssModule:s().object,form:s().bool,xs:p,sm:p,md:p,lg:p,xl:p},d={tag:"div",widths:["xs","sm","md","lg","xl"]},v=function(e){var t=e.className,r=e.cssModule,o=e.noGutters,s=e.tag,l=e.form,p=e.widths,h=(0,i.Z)(e,f),d=[];p.forEach((function(t,r){var n=e[t];if(delete h[t],n){var i=!r;d.push(i?"row-cols-"+n:"row-cols-"+t+"-"+n)}}));var v=(0,c.mx)(u()(t,o?"no-gutters":null,l?"form-row":"row",d),r);return a.createElement(s,(0,n.Z)({},h,{className:v}))};v.propTypes=h,v.defaultProps=d,t.Z=v},65844:function(e,t,r){"use strict";var n=r(64583).functionsHaveConfigurableNames(),i=Object,a=TypeError;e.exports=function(){if(null!=this&&this!==i(this))throw new a("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e},n&&Object.defineProperty&&Object.defineProperty(e.exports,"name",{value:"get flags"})},83535:function(e,t,r){"use strict";var n=r(9396),i=r(19722),a=r(65844),o=r(91334),s=r(87888),l=i(o());n(l,{getPolyfill:o,implementation:a,shim:s}),e.exports=l},91334:function(e,t,r){"use strict";var n=r(65844),i=r(9396).supportsDescriptors,a=Object.getOwnPropertyDescriptor;e.exports=function(){if(i&&"gim"===/a/gim.flags){var e=a(RegExp.prototype,"flags");if(e&&"function"===typeof e.get&&"boolean"===typeof RegExp.prototype.dotAll&&"boolean"===typeof RegExp.prototype.hasIndices){var t="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(r,"sticky",{get:function(){t+="y"}}),"dy"===t)return e.get}}return n}},87888:function(e,t,r){"use strict";var n=r(9396).supportsDescriptors,i=r(91334),a=Object.getOwnPropertyDescriptor,o=Object.defineProperty,s=TypeError,l=Object.getPrototypeOf,u=/a/;e.exports=function(){if(!n||!l)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=i(),t=l(u),r=a(t,"flags");return r&&r.get===e||o(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},68319:function(e){"use strict";function t(e){return Array.prototype.slice.apply(e)}var r="pending",n="resolved",i="rejected";function a(e){this.status=r,this._continuations=[],this._parent=null,this._paused=!1,e&&e.call(this,this._continueWith.bind(this),this._failWith.bind(this))}function o(e){return e&&"function"===typeof e.then}function s(e){return e}function l(e){return"undefined"!==typeof window&&"AggregateError"in window?new window.AggregateError(e):{errors:e}}if(a.prototype={then:function(e,t){var r=a.unresolved()._setParent(this);if(this._isRejected()){if(this._paused)return this._continuations.push({promise:r,nextFn:e,catchFn:t}),r;if(t)try{var n=t(this._error);return o(n)?(this._chainPromiseData(n,r),r):a.resolve(n)._setParent(this)}catch(i){return a.reject(i)._setParent(this)}return a.reject(this._error)._setParent(this)}return this._continuations.push({promise:r,nextFn:e,catchFn:t}),this._runResolutions(),r},catch:function(e){if(this._isResolved())return a.resolve(this._data)._setParent(this);var t=a.unresolved()._setParent(this);return this._continuations.push({promise:t,catchFn:e}),this._runRejections(),t},finally:function(e){var t=!1;function r(r,n){if(!t){t=!0,e||(e=s);var i=e(r);return o(i)?i.then((function(){if(n)throw n;return r})):r}}return this.then((function(e){return r(e)})).catch((function(e){return r(null,e)}))},pause:function(){return this._paused=!0,this},resume:function(){var e=this._findFirstPaused();return e&&(e._paused=!1,e._runResolutions(),e._runRejections()),this},_findAncestry:function(){return this._continuations.reduce((function(e,t){if(t.promise){var r={promise:t.promise,children:t.promise._findAncestry()};e.push(r)}return e}),[])},_setParent:function(e){if(this._parent)throw new Error("parent already set");return this._parent=e,this},_continueWith:function(e){var t=this._findFirstPending();t&&(t._data=e,t._setResolved())},_findFirstPending:function(){return this._findFirstAncestor((function(e){return e._isPending&&e._isPending()}))},_findFirstPaused:function(){return this._findFirstAncestor((function(e){return e._paused}))},_findFirstAncestor:function(e){for(var t,r=this;r;)e(r)&&(t=r),r=r._parent;return t},_failWith:function(e){var t=this._findFirstPending();t&&(t._error=e,t._setRejected())},_takeContinuations:function(){return this._continuations.splice(0,this._continuations.length)},_runRejections:function(){if(!this._paused&&this._isRejected()){var e=this._error,t=this._takeContinuations(),r=this;t.forEach((function(t){if(t.catchFn)try{var n=t.catchFn(e);r._handleUserFunctionResult(n,t.promise)}catch(i){t.promise.reject(i)}else t.promise.reject(e)}))}},_runResolutions:function(){if(!this._paused&&this._isResolved()&&!this._isPending()){var e=this._takeContinuations();if(o(this._data))return this._handleWhenResolvedDataIsPromise(this._data);var t=this._data,r=this;e.forEach((function(e){if(e.nextFn)try{var n=e.nextFn(t);r._handleUserFunctionResult(n,e.promise)}catch(i){r._handleResolutionError(i,e)}else e.promise&&e.promise.resolve(t)}))}},_handleResolutionError:function(e,t){if(this._setRejected(),t.catchFn)try{return void t.catchFn(e)}catch(r){e=r}t.promise&&t.promise.reject(e)},_handleWhenResolvedDataIsPromise:function(e){var t=this;return e.then((function(e){t._data=e,t._runResolutions()})).catch((function(e){t._error=e,t._setRejected(),t._runRejections()}))},_handleUserFunctionResult:function(e,t){o(e)?this._chainPromiseData(e,t):t.resolve(e)},_chainPromiseData:function(e,t){e.then((function(e){t.resolve(e)})).catch((function(e){t.reject(e)}))},_setResolved:function(){this.status=n,this._paused||this._runResolutions()},_setRejected:function(){this.status=i,this._paused||this._runRejections()},_isPending:function(){return this.status===r},_isResolved:function(){return this.status===n},_isRejected:function(){return this.status===i}},a.resolve=function(e){return new a((function(t,r){o(e)?e.then((function(e){t(e)})).catch((function(e){r(e)})):t(e)}))},a.reject=function(e){return new a((function(t,r){r(e)}))},a.unresolved=function(){return new a((function(e,t){this.resolve=e,this.reject=t}))},a.all=function(){var e=t(arguments);return Array.isArray(e[0])&&(e=e[0]),e.length?new a((function(t,r){var n=[],i=0,o=!1;e.forEach((function(s,l){a.resolve(s).then((function(r){n[l]=r,(i+=1)===e.length&&t(n)})).catch((function(e){!function(e){o||(o=!0,r(e))}(e)}))}))})):a.resolve([])},a.any=function(){var e=t(arguments);return Array.isArray(e[0])&&(e=e[0]),e.length?new a((function(t,r){var n=[],i=0,o=!1;e.forEach((function(s,u){a.resolve(s).then((function(e){var r;r=e,o||(o=!0,t(r))})).catch((function(t){n[u]=t,(i+=1)===e.length&&r(l(n))}))}))})):a.reject(l([]))},a.allSettled=function(){var e=t(arguments);return Array.isArray(e[0])&&(e=e[0]),e.length?new a((function(t){var r=[],n=0,i=function(){(n+=1)===e.length&&t(r)};e.forEach((function(e,t){a.resolve(e).then((function(e){r[t]={status:"fulfilled",value:e},i()})).catch((function(e){r[t]={status:"rejected",reason:e},i()}))}))})):a.resolve([])},Promise===a)throw new Error("Please use SynchronousPromise.installGlobally() to install globally");var u=Promise;a.installGlobally=function(e){if(Promise===a)return e;var r=function(e){if("undefined"===typeof e||e.__patched)return e;var r=e;return e=function(){r.apply(this,t(arguments))},e.__patched=!0,e}(e);return Promise=a,r},a.uninstallGlobally=function(){Promise===a&&(Promise=u)},e.exports={SynchronousPromise:a}},15501:function(e,t){"use strict";t.Z=function(e,t){}},86514:function(e){function t(e,t){var r=e.length,n=new Array(r),i={},a=r,o=function(e){for(var t=new Map,r=0,n=e.length;r<n;r++){var i=e[r];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}(t),s=function(e){for(var t=new Map,r=0,n=e.length;r<n;r++)t.set(e[r],r);return t}(e);for(t.forEach((function(e){if(!s.has(e[0])||!s.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));a--;)i[a]||l(e[a],a,new Set);return n;function l(e,t,a){if(a.has(e)){var u;try{u=", node was:"+JSON.stringify(e)}catch(p){u=""}throw new Error("Cyclic dependency"+u)}if(!s.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!i[t]){i[t]=!0;var c=o.get(e)||new Set;if(t=(c=Array.from(c)).length){a.add(e);do{var f=c[--t];l(f,s.get(f),a)}while(t);a.delete(e)}n[--r]=e}}}e.exports=function(e){return t(function(e){for(var t=new Set,r=0,n=e.length;r<n;r++){var i=e[r];t.add(i[0]),t.add(i[1])}return Array.from(t)}(e),e)},e.exports.array=t},42391:function(e){"use strict";var t=function(){};e.exports=t},64064:function(e,t,r){"use strict";r.d(t,{O7:function(){return an},Rx:function(){return Xt},Ry:function(){return Qr},iH:function(){return on},Z_:function(){return Yt}});var n=r(87462),i=r(43144),a=Object.prototype.hasOwnProperty;var o=function(e,t){return null!=e&&a.call(e,t)},s=r(18567),l=r(72305),u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/;var f=function(e,t){if((0,s.Z)(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!(0,l.Z)(e))||(c.test(e)||!u.test(e)||null!=t&&e in Object(t))},p=r(11998),h=r(38686);var d=function(e,t){return(0,s.Z)(e)?e:f(e,t)?[e]:(0,p.Z)((0,h.Z)(e))},v=r(44609),m=r(66825),y=r(8226),g=r(55884);var _=function(e,t,r){for(var n=-1,i=(t=d(t,e)).length,a=!1;++n<i;){var o=(0,g.Z)(t[n]);if(!(a=null!=e&&r(e,o)))break;e=e[o]}return a||++n!=i?a:!!(i=null==e?0:e.length)&&(0,y.Z)(i)&&(0,m.Z)(o,i)&&((0,s.Z)(e)||(0,v.Z)(e))};var b=function(e,t){return null!=e&&_(e,t,o)},x=r(36402);var w=function(e,t){return t="function"==typeof t?t:void 0,(0,x.Z)(e,5,t)},S=r(36804),P=r(14278),k=r(56268),E=r(72104),C=r(85275),A=r(98809);var T=function(e){return"string"==typeof e||!(0,s.Z)(e)&&(0,A.Z)(e)&&"[object String]"==(0,C.Z)(e)};var O=function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r};var M=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r};var I=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r};var F=function(e){return e.split("")},R=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var D=function(e){return R.test(e)},j="[\\ud800-\\udfff]",L="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",N="\\ud83c[\\udffb-\\udfff]",z="[^\\ud800-\\udfff]",B="(?:\\ud83c[\\udde6-\\uddff]){2}",Z="[\\ud800-\\udbff][\\udc00-\\udfff]",U="(?:"+L+"|"+N+")"+"?",V="[\\ufe0e\\ufe0f]?",G=V+U+("(?:\\u200d(?:"+[z,B,Z].join("|")+")"+V+U+")*"),W="(?:"+[z+L+"?",L,B,Z,j].join("|")+")",q=RegExp(N+"(?="+N+")|"+W+G,"g");var H=function(e){return e.match(q)||[]};var Y=function(e){return D(e)?H(e):F(e)},X=r(26754);var K=function(e,t){return(0,X.Z)(t,(function(t){return e[t]}))},$=r(56484);var J=function(e){return null==e?[]:K(e,(0,$.Z)(e))},Q=S.Z?S.Z.iterator:void 0;var ee=function(e){if(!e)return[];if((0,E.Z)(e))return T(e)?Y(e):(0,P.Z)(e);if(Q&&e[Q])return O(e[Q]());var t=(0,k.Z)(e);return("[object Map]"==t?M:"[object Set]"==t?I:J)(e)},te=Object.prototype.toString,re=Error.prototype.toString,ne=RegExp.prototype.toString,ie="undefined"!==typeof Symbol?Symbol.prototype.toString:function(){return""},ae=/^Symbol\((.*)\)(.*)$/;function oe(e,t){if(void 0===t&&(t=!1),null==e||!0===e||!1===e)return""+e;var r=typeof e;if("number"===r)return function(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}(e);if("string"===r)return t?'"'+e+'"':e;if("function"===r)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===r)return ie.call(e).replace(ae,"Symbol($1)");var n=te.call(e).slice(8,-1);return"Date"===n?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===n||e instanceof Error?"["+re.call(e)+"]":"RegExp"===n?ne.call(e):null}function se(e,t){var r=oe(e,t);return null!==r?r:JSON.stringify(e,(function(e,r){var n=oe(this[e],t);return null!==n?n:r}),2)}var le={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:function(e){var t=e.path,r=e.type,n=e.value,i=e.originalValue,a=null!=i&&i!==n,o=t+" must be a `"+r+"` type, but the final value was: `"+se(n,!0)+"`"+(a?" (cast from the value `"+se(i,!0)+"`).":".");return null===n&&(o+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),o},defined:"${path} must be defined"},ue={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},ce={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",notEqual:"${path} must be not equal to ${notEqual}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},fe={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},pe={noUnknown:"${path} field has unspecified keys: ${unknown}"},he={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items"},de=function(e){return e&&e.__isYupSchema__},ve=function(){function e(e,t){if(this.refs=e,"function"!==typeof t){if(!b(t,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");var r=t.is,n=t.then,i=t.otherwise,a="function"===typeof r?r:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((function(e){return e===r}))};this.fn=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=t.pop(),s=t.pop(),l=a.apply(void 0,t)?n:i;if(l)return"function"===typeof l?l(s):s.concat(l.resolve(o))}}else this.fn=t}return e.prototype.resolve=function(e,t){var r=this.refs.map((function(e){return e.getValue(t)})),n=this.fn.apply(e,r.concat(e,t));if(void 0===n||n===e)return e;if(!de(n))throw new TypeError("conditions must return a schema object");return n.resolve(t)},e}(),me=ve,ye=r(63366),ge=r(68319),_e=/\$\{\s*(\w+)\s*\}/g,be=function(e){return function(t){return e.replace(_e,(function(e,r){return se(t[r])}))}};function xe(e,t,r,n){var i=this;this.name="ValidationError",this.value=t,this.path=r,this.type=n,this.errors=[],this.inner=[],e&&[].concat(e).forEach((function(e){i.errors=i.errors.concat(e.errors||e),e.inner&&(i.inner=i.inner.concat(e.inner.length?e.inner:e))})),this.message=this.errors.length>1?this.errors.length+" errors occurred":this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,xe)}xe.prototype=Object.create(Error.prototype),xe.prototype.constructor=xe,xe.isError=function(e){return e&&"ValidationError"===e.name},xe.formatError=function(e,t){"string"===typeof e&&(e=be(e));var r=function(t){return t.path=t.label||t.path||"this","function"===typeof e?e(t):e};return 1===arguments.length?r:r(t)};var we=function(e){return e?ge.SynchronousPromise:Promise};function Se(e,t){return e?null:function(e){return t.push(e),e.value}}function Pe(e){var t=e.validations,r=e.value,n=e.path,i=e.sync,a=e.errors,o=e.sort;return a=function(e){return void 0===e&&(e=[]),e.inner&&e.inner.length?e.inner:[].concat(e)}(a),function(e,t){var r=we(t);return r.all(e.map((function(e){return r.resolve(e).then((function(e){return{fulfilled:!0,value:e}}),(function(e){return{fulfilled:!1,value:e}}))})))}(t,i).then((function(e){var t=e.filter((function(e){return!e.fulfilled})).reduce((function(e,t){var r=t.value;if(!xe.isError(r))throw r;return e.concat(r)}),[]);if(o&&t.sort(o),(a=t.concat(a)).length)throw new xe(a,r,n);return r}))}function ke(e){var t,r,n,i=e.endEarly,a=(0,ye.Z)(e,["endEarly"]);return i?(t=a.validations,r=a.value,n=a.sync,we(n).all(t).catch((function(e){throw"ValidationError"===e.name&&(e.value=r),e})).then((function(){return r}))):Pe(a)}var Ee=function(e){return"[object Object]"===Object.prototype.toString.call(e)};function Ce(e,t){for(var r in t)if(b(t,r)){var n=t[r],i=e[r];if(void 0===i)e[r]=n;else{if(i===n)continue;de(i)?de(n)&&(e[r]=n.concat(i)):Ee(i)?Ee(n)&&(e[r]=Ce(i,n)):Array.isArray(i)&&Array.isArray(n)&&(e[r]=n.concat(i))}}return e}var Ae=r(25693);var Te=function(e){return function(t,r,n){for(var i=-1,a=Object(t),o=n(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===r(a[l],l,a))break}return t}},Oe=Te();var Me=function(e,t){return e&&Oe(e,t,$.Z)},Ie=r(1331),Fe=r(49249);var Re=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var De=function(e){return this.__data__.has(e)};function je(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Fe.Z;++t<r;)this.add(e[t])}je.prototype.add=je.prototype.push=Re,je.prototype.has=De;var Le=je;var Ne=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1};var ze=function(e,t){return e.has(t)};var Be=function(e,t,r,n,i,a){var o=1&r,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(e),c=a.get(t);if(u&&c)return u==t&&c==e;var f=-1,p=!0,h=2&r?new Le:void 0;for(a.set(e,t),a.set(t,e);++f<s;){var d=e[f],v=t[f];if(n)var m=o?n(v,d,f,t,e,a):n(d,v,f,e,t,a);if(void 0!==m){if(m)continue;p=!1;break}if(h){if(!Ne(t,(function(e,t){if(!ze(h,t)&&(d===e||i(d,e,r,n,a)))return h.push(t)}))){p=!1;break}}else if(d!==v&&!i(d,v,r,n,a)){p=!1;break}}return a.delete(e),a.delete(t),p},Ze=r(27962),Ue=r(31304),Ve=S.Z?S.Z.prototype:void 0,Ge=Ve?Ve.valueOf:void 0;var We=function(e,t,r,n,i,a,o){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new Ze.Z(e),new Ze.Z(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,Ue.Z)(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=M;case"[object Set]":var l=1&n;if(s||(s=I),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;n|=2,o.set(e,t);var c=Be(s(e),s(t),n,i,a,o);return o.delete(e),c;case"[object Symbol]":if(Ge)return Ge.call(e)==Ge.call(t)}return!1},qe=r(62338),He=Object.prototype.hasOwnProperty;var Ye=function(e,t,r,n,i,a){var o=1&r,s=(0,qe.Z)(e),l=s.length;if(l!=(0,qe.Z)(t).length&&!o)return!1;for(var u=l;u--;){var c=s[u];if(!(o?c in t:He.call(t,c)))return!1}var f=a.get(e),p=a.get(t);if(f&&p)return f==t&&p==e;var h=!0;a.set(e,t),a.set(t,e);for(var d=o;++u<l;){var v=e[c=s[u]],m=t[c];if(n)var y=o?n(m,v,c,t,e,a):n(v,m,c,e,t,a);if(!(void 0===y?v===m||i(v,m,r,n,a):y)){h=!1;break}d||(d="constructor"==c)}if(h&&!d){var g=e.constructor,_=t.constructor;g==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _||(h=!1)}return a.delete(e),a.delete(t),h},Xe=r(14932),Ke=r(28939),$e="[object Arguments]",Je="[object Array]",Qe="[object Object]",et=Object.prototype.hasOwnProperty;var tt=function(e,t,r,n,i,a){var o=(0,s.Z)(e),l=(0,s.Z)(t),u=o?Je:(0,k.Z)(e),c=l?Je:(0,k.Z)(t),f=(u=u==$e?Qe:u)==Qe,p=(c=c==$e?Qe:c)==Qe,h=u==c;if(h&&(0,Xe.Z)(e)){if(!(0,Xe.Z)(t))return!1;o=!0,f=!1}if(h&&!f)return a||(a=new Ie.Z),o||(0,Ke.Z)(e)?Be(e,t,r,n,i,a):We(e,t,u,r,n,i,a);if(!(1&r)){var d=f&&et.call(e,"__wrapped__"),v=p&&et.call(t,"__wrapped__");if(d||v){var m=d?e.value():e,y=v?t.value():t;return a||(a=new Ie.Z),i(m,y,r,n,a)}}return!!h&&(a||(a=new Ie.Z),Ye(e,t,r,n,i,a))};var rt=function e(t,r,n,i,a){return t===r||(null==t||null==r||!(0,A.Z)(t)&&!(0,A.Z)(r)?t!==t&&r!==r:tt(t,r,n,i,e,a))};var nt=function(e,t,r,n){var i=r.length,a=i,o=!n;if(null==e)return!a;for(e=Object(e);i--;){var s=r[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var l=(s=r[i])[0],u=e[l],c=s[1];if(o&&s[2]){if(void 0===u&&!(l in e))return!1}else{var f=new Ie.Z;if(n)var p=n(u,c,l,e,t,f);if(!(void 0===p?rt(c,u,3,n,f):p))return!1}}return!0},it=r(58465);var at=function(e){return e===e&&!(0,it.Z)(e)};var ot=function(e){for(var t=(0,$.Z)(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,at(i)]}return t};var st=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}};var lt=function(e){var t=ot(e);return 1==t.length&&t[0][2]?st(t[0][0],t[0][1]):function(r){return r===e||nt(r,e,t)}};var ut=function(e,t){for(var r=0,n=(t=d(t,e)).length;null!=e&&r<n;)e=e[(0,g.Z)(t[r++])];return r&&r==n?e:void 0};var ct=function(e,t,r){var n=null==e?void 0:ut(e,t);return void 0===n?r:n};var ft=function(e,t){return null!=e&&t in Object(e)};var pt=function(e,t){return null!=e&&_(e,t,ft)};var ht=function(e,t){return f(e)&&at(t)?st((0,g.Z)(e),t):function(r){var n=ct(r,e);return void 0===n&&n===t?pt(r,e):rt(t,n,3)}};var dt=function(e){return e};var vt=function(e){return function(t){return null==t?void 0:t[e]}};var mt=function(e){return function(t){return ut(t,e)}};var yt=function(e){return f(e)?vt((0,g.Z)(e)):mt(e)};var gt=function(e){return"function"==typeof e?e:null==e?dt:"object"==typeof e?(0,s.Z)(e)?ht(e[0],e[1]):lt(e):yt(e)};var _t=function(e,t){var r={};return t=gt(t,3),Me(e,(function(e,n,i){(0,Ae.Z)(r,n,t(e,n,i))})),r},bt=r(52758),xt="$",wt=".",St=function(){function e(e,t){if(void 0===t&&(t={}),"string"!==typeof e)throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),""===e)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===xt,this.isValue=this.key[0]===wt,this.isSibling=!this.isContext&&!this.isValue;var r=this.isContext?xt:this.isValue?wt:"";this.path=this.key.slice(r.length),this.getter=this.path&&(0,bt.getter)(this.path,!0),this.map=t.map}var t=e.prototype;return t.getValue=function(e){var t=this.isContext?e.context:this.isValue?e.value:e.parent;return this.getter&&(t=this.getter(t||{})),this.map&&(t=this.map(t)),t},t.cast=function(e,t){return this.getValue((0,n.Z)({},t,{value:e}))},t.resolve=function(){return this},t.describe=function(){return{type:"ref",key:this.key}},t.toString=function(){return"Ref("+this.key+")"},e.isRef=function(e){return e&&e.__isYupRef},e}();St.prototype.__isYupRef=!0;var Pt=xe.formatError;function kt(e){var t=e.value,r=e.label,i=e.resolve,a=e.originalValue,o=(0,ye.Z)(e,["value","label","resolve","originalValue"]);return function(e){var s=void 0===e?{}:e,l=s.path,u=void 0===l?o.path:l,c=s.message,f=void 0===c?o.message:c,p=s.type,h=void 0===p?o.name:p,d=s.params;return d=(0,n.Z)({path:u,value:t,originalValue:a,label:r},function(e,t,r){return _t((0,n.Z)({},e,t),r)}(o.params,d,i)),(0,n.Z)(new xe(Pt(f,d),t,u,h),{params:d})}}function Et(e){var t=e.name,r=e.message,i=e.test,a=e.params;function o(e){var o=e.value,s=e.path,l=e.label,u=e.options,c=e.originalValue,f=e.sync,p=(0,ye.Z)(e,["value","path","label","options","originalValue","sync"]),h=u.parent,d=function(e){return St.isRef(e)?e.getValue({value:o,parent:h,context:u.context}):e},v=kt({message:r,path:s,value:o,originalValue:c,params:a,label:l,resolve:d,name:t}),m=(0,n.Z)({path:s,parent:h,type:t,createError:v,resolve:d,options:u},p);return function(e,t,r,n){var i,a=e.call(t,r);if(!n)return Promise.resolve(a);if((i=a)&&"function"===typeof i.then&&"function"===typeof i.catch)throw new Error('Validation test of type: "'+t.type+'" returned a Promise during a synchronous validate. This test will finish after the validate call has returned');return ge.SynchronousPromise.resolve(a)}(i,m,o,f).then((function(e){if(xe.isError(e))throw e;if(!e)throw v()}))}return o.OPTIONS=e,o}function Ct(e,t,r,n){var i,a,o;return void 0===n&&(n=r),t?((0,bt.forEach)(t,(function(s,l,u){var c=l?function(e){return e.substr(0,e.length-1).substr(1)}(s):s;if((e=e.resolve({context:n,parent:i,value:r})).innerType){var f=u?parseInt(c,10):0;if(r&&f>=r.length)throw new Error("Yup.reach cannot resolve an array item at index: "+s+", in the path: "+t+". because there is no value at that index. ");i=r,r=r&&r[f],e=e.innerType}if(!u){if(!e.fields||!e.fields[c])throw new Error("The schema does not contain the path: "+t+". (failed at: "+o+' which is a type: "'+e._type+'")');i=r,r=r&&r[c],e=e.fields[c]}a=c,o=l?"["+s+"]":"."+s})),{schema:e,parent:i,parentPath:a}):{parent:i,parentPath:t,schema:e}}function At(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return Tt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tt(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ot=function(){function e(){this.list=new Set,this.refs=new Map}var t=e.prototype;return t.describe=function(){for(var e,t=[],r=At(this.list);!(e=r()).done;){var n=e.value;t.push(n)}for(var i,a=At(this.refs);!(i=a()).done;){var o=i.value[1];t.push(o.describe())}return t},t.toArray=function(){return ee(this.list).concat(ee(this.refs.values()))},t.add=function(e){St.isRef(e)?this.refs.set(e.key,e):this.list.add(e)},t.delete=function(e){St.isRef(e)?this.refs.delete(e.key):this.list.delete(e)},t.has=function(e,t){if(this.list.has(e))return!0;for(var r,n=this.refs.values();!(r=n.next()).done;)if(t(r.value)===e)return!0;return!1},t.clone=function(){var t=new e;return t.list=new Set(this.list),t.refs=new Map(this.refs),t},t.merge=function(e,t){var r=this.clone();return e.list.forEach((function(e){return r.add(e)})),e.refs.forEach((function(e){return r.add(e)})),t.list.forEach((function(e){return r.delete(e)})),t.refs.forEach((function(e){return r.delete(e)})),r},(0,i.Z)(e,[{key:"size",get:function(){return this.list.size+this.refs.size}}]),e}();function Mt(e){var t=this;if(void 0===e&&(e={}),!(this instanceof Mt))return new Mt;this._deps=[],this._conditions=[],this._options={abortEarly:!0,recursive:!0},this._exclusive=Object.create(null),this._whitelist=new Ot,this._blacklist=new Ot,this.tests=[],this.transforms=[],this.withMutation((function(){t.typeError(le.notType)})),b(e,"default")&&(this._defaultDefault=e.default),this.type=e.type||"mixed",this._type=e.type||"mixed"}for(var It=Mt.prototype={__isYupSchema__:!0,constructor:Mt,clone:function(){var e=this;return this._mutate?this:w(this,(function(t){if(de(t)&&t!==e)return t}))},label:function(e){var t=this.clone();return t._label=e,t},meta:function(e){if(0===arguments.length)return this._meta;var t=this.clone();return t._meta=(0,n.Z)(t._meta||{},e),t},withMutation:function(e){var t=this._mutate;this._mutate=!0;var r=e(this);return this._mutate=t,r},concat:function(e){if(!e||e===this)return this;if(e._type!==this._type&&"mixed"!==this._type)throw new TypeError("You cannot `concat()` schema's of different types: "+this._type+" and "+e._type);var t=Ce(e.clone(),this);return b(e,"_default")&&(t._default=e._default),t.tests=this.tests,t._exclusive=this._exclusive,t._whitelist=this._whitelist.merge(e._whitelist,e._blacklist),t._blacklist=this._blacklist.merge(e._blacklist,e._whitelist),t.withMutation((function(t){e.tests.forEach((function(e){t.test(e.OPTIONS)}))})),t},isType:function(e){return!(!this._nullable||null!==e)||(!this._typeCheck||this._typeCheck(e))},resolve:function(e){var t=this;if(t._conditions.length){var r=t._conditions;(t=t.clone())._conditions=[],t=(t=r.reduce((function(t,r){return r.resolve(t,e)}),t)).resolve(e)}return t},cast:function(e,t){void 0===t&&(t={});var r=this.resolve((0,n.Z)({},t,{value:e})),i=r._cast(e,t);if(void 0!==e&&!1!==t.assert&&!0!==r.isType(i)){var a=se(e),o=se(i);throw new TypeError("The value of "+(t.path||"field")+' could not be cast to a value that satisfies the schema type: "'+r._type+'". \n\nattempted value: '+a+" \n"+(o!==a?"result of cast: "+o:""))}return i},_cast:function(e){var t=this,r=void 0===e?e:this.transforms.reduce((function(r,n){return n.call(t,r,e)}),e);return void 0===r&&b(this,"_default")&&(r=this.default()),r},_validate:function(e,t){var r=this;void 0===t&&(t={});var i=e,a=null!=t.originalValue?t.originalValue:e,o=this._option("strict",t),s=this._option("abortEarly",t),l=t.sync,u=t.path,c=this._label;o||(i=this._cast(i,(0,n.Z)({assert:!1},t)));var f={value:i,path:u,schema:this,options:t,label:c,originalValue:a,sync:l};t.from&&(f.from=t.from);var p=[];return this._typeError&&p.push(this._typeError(f)),this._whitelistError&&p.push(this._whitelistError(f)),this._blacklistError&&p.push(this._blacklistError(f)),ke({validations:p,endEarly:s,value:i,path:u,sync:l}).then((function(e){return ke({path:u,sync:l,value:e,endEarly:s,validations:r.tests.map((function(e){return e(f)}))})}))},validate:function(e,t){return void 0===t&&(t={}),this.resolve((0,n.Z)({},t,{value:e}))._validate(e,t)},validateSync:function(e,t){var r,i;if(void 0===t&&(t={}),this.resolve((0,n.Z)({},t,{value:e}))._validate(e,(0,n.Z)({},t,{sync:!0})).then((function(e){return r=e})).catch((function(e){return i=e})),i)throw i;return r},isValid:function(e,t){return this.validate(e,t).then((function(){return!0})).catch((function(e){if("ValidationError"===e.name)return!1;throw e}))},isValidSync:function(e,t){try{return this.validateSync(e,t),!0}catch(r){if("ValidationError"===r.name)return!1;throw r}},getDefault:function(e){return void 0===e&&(e={}),this.resolve(e).default()},default:function(e){if(0===arguments.length){var t=b(this,"_default")?this._default:this._defaultDefault;return"function"===typeof t?t.call(this):w(t)}var r=this.clone();return r._default=e,r},strict:function(e){void 0===e&&(e=!0);var t=this.clone();return t._options.strict=e,t},_isPresent:function(e){return null!=e},required:function(e){return void 0===e&&(e=le.required),this.test({message:e,name:"required",exclusive:!0,test:function(e){return this.schema._isPresent(e)}})},notRequired:function(){var e=this.clone();return e.tests=e.tests.filter((function(e){return"required"!==e.OPTIONS.name})),e},nullable:function(e){void 0===e&&(e=!0);var t=this.clone();return t._nullable=e,t},transform:function(e){var t=this.clone();return t.transforms.push(e),t},test:function(){var e;if(void 0===(e=1===arguments.length?"function"===typeof(arguments.length<=0?void 0:arguments[0])?{test:arguments.length<=0?void 0:arguments[0]}:arguments.length<=0?void 0:arguments[0]:2===arguments.length?{name:arguments.length<=0?void 0:arguments[0],test:arguments.length<=1?void 0:arguments[1]}:{name:arguments.length<=0?void 0:arguments[0],message:arguments.length<=1?void 0:arguments[1],test:arguments.length<=2?void 0:arguments[2]}).message&&(e.message=le.default),"function"!==typeof e.test)throw new TypeError("`test` is a required parameters");var t=this.clone(),r=Et(e),n=e.exclusive||e.name&&!0===t._exclusive[e.name];if(e.exclusive&&!e.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t._exclusive[e.name]=!!e.exclusive,t.tests=t.tests.filter((function(t){if(t.OPTIONS.name===e.name){if(n)return!1;if(t.OPTIONS.test===r.OPTIONS.test)return!1}return!0})),t.tests.push(r),t},when:function(e,t){1===arguments.length&&(t=e,e=".");var r=this.clone(),n=[].concat(e).map((function(e){return new St(e)}));return n.forEach((function(e){e.isSibling&&r._deps.push(e.key)})),r._conditions.push(new me(n,t)),r},typeError:function(e){var t=this.clone();return t._typeError=Et({message:e,name:"typeError",test:function(e){return!(void 0!==e&&!this.schema.isType(e))||this.createError({params:{type:this.schema._type}})}}),t},oneOf:function(e,t){void 0===t&&(t=le.oneOf);var r=this.clone();return e.forEach((function(e){r._whitelist.add(e),r._blacklist.delete(e)})),r._whitelistError=Et({message:t,name:"oneOf",test:function(e){if(void 0===e)return!0;var t=this.schema._whitelist;return!!t.has(e,this.resolve)||this.createError({params:{values:t.toArray().join(", ")}})}}),r},notOneOf:function(e,t){void 0===t&&(t=le.notOneOf);var r=this.clone();return e.forEach((function(e){r._blacklist.add(e),r._whitelist.delete(e)})),r._blacklistError=Et({message:t,name:"notOneOf",test:function(e){var t=this.schema._blacklist;return!t.has(e,this.resolve)||this.createError({params:{values:t.toArray().join(", ")}})}}),r},strip:function(e){void 0===e&&(e=!0);var t=this.clone();return t._strip=e,t},_option:function(e,t){return b(t,e)?t[e]:this._options[e]},describe:function(){var e=this.clone(),t={type:e._type,meta:e._meta,label:e._label,tests:e.tests.map((function(e){return{name:e.OPTIONS.name,params:e.OPTIONS.params}})).filter((function(e,t,r){return r.findIndex((function(t){return t.name===e.name}))===t}))};return e._whitelist.size&&(t.oneOf=e._whitelist.describe()),e._blacklist.size&&(t.notOneOf=e._blacklist.describe()),t},defined:function(e){return void 0===e&&(e=le.defined),this.nullable().test({message:e,name:"defined",exclusive:!0,test:function(e){return void 0!==e}})}},Ft=function(){var e=Dt[Rt];It[e+"At"]=function(t,r,i){void 0===i&&(i={});var a=Ct(this,t,r,i.context),o=a.parent,s=a.parentPath;return a.schema[e](o&&o[s],(0,n.Z)({},i,{parent:o,path:t}))}},Rt=0,Dt=["validate","validateSync"];Rt<Dt.length;Rt++)Ft();for(var jt=0,Lt=["equals","is"];jt<Lt.length;jt++){It[Lt[jt]]=It.oneOf}for(var Nt=0,zt=["not","nope"];Nt<zt.length;Nt++){It[zt[Nt]]=It.notOneOf}function Bt(e,t,r){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),(0,n.Z)(e.prototype,r)}It.optional=It.notRequired;var Zt=Ut;function Ut(){var e=this;if(!(this instanceof Ut))return new Ut;Mt.call(this,{type:"boolean"}),this.withMutation((function(){e.transform((function(e){if(!this.isType(e)){if(/^(true|1)$/i.test(e))return!0;if(/^(false|0)$/i.test(e))return!1}return e}))}))}Bt(Ut,Mt,{_typeCheck:function(e){return e instanceof Boolean&&(e=e.valueOf()),"boolean"===typeof e}});var Vt=function(e){return null==e},Gt=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,Wt=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,qt=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i,Ht=function(e){return Vt(e)||e===e.trim()};function Yt(){var e=this;if(!(this instanceof Yt))return new Yt;Mt.call(this,{type:"string"}),this.withMutation((function(){e.transform((function(e){return this.isType(e)?e:null!=e&&e.toString?e.toString():e}))}))}Bt(Yt,Mt,{_typeCheck:function(e){return e instanceof String&&(e=e.valueOf()),"string"===typeof e},_isPresent:function(e){return Mt.prototype._isPresent.call(this,e)&&e.length>0},length:function(e,t){return void 0===t&&(t=ue.length),this.test({message:t,name:"length",exclusive:!0,params:{length:e},test:function(t){return Vt(t)||t.length===this.resolve(e)}})},min:function(e,t){return void 0===t&&(t=ue.min),this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return Vt(t)||t.length>=this.resolve(e)}})},max:function(e,t){return void 0===t&&(t=ue.max),this.test({name:"max",exclusive:!0,message:t,params:{max:e},test:function(t){return Vt(t)||t.length<=this.resolve(e)}})},matches:function(e,t){var r,n,i=!1;return t&&("object"===typeof t?(i=t.excludeEmptyString,r=t.message,n=t.name):r=t),this.test({name:n||"matches",message:r||ue.matches,params:{regex:e},test:function(t){return Vt(t)||""===t&&i||-1!==t.search(e)}})},email:function(e){return void 0===e&&(e=ue.email),this.matches(Gt,{name:"email",message:e,excludeEmptyString:!0})},url:function(e){return void 0===e&&(e=ue.url),this.matches(Wt,{name:"url",message:e,excludeEmptyString:!0})},uuid:function(e){return void 0===e&&(e=ue.uuid),this.matches(qt,{name:"uuid",message:e,excludeEmptyString:!1})},ensure:function(){return this.default("").transform((function(e){return null===e?"":e}))},trim:function(e){return void 0===e&&(e=ue.trim),this.transform((function(e){return null!=e?e.trim():e})).test({message:e,name:"trim",test:Ht})},lowercase:function(e){return void 0===e&&(e=ue.lowercase),this.transform((function(e){return Vt(e)?e:e.toLowerCase()})).test({message:e,name:"string_case",exclusive:!0,test:function(e){return Vt(e)||e===e.toLowerCase()}})},uppercase:function(e){return void 0===e&&(e=ue.uppercase),this.transform((function(e){return Vt(e)?e:e.toUpperCase()})).test({message:e,name:"string_case",exclusive:!0,test:function(e){return Vt(e)||e===e.toUpperCase()}})}});function Xt(){var e=this;if(!(this instanceof Xt))return new Xt;Mt.call(this,{type:"number"}),this.withMutation((function(){e.transform((function(e){var t=e;if("string"===typeof t){if(""===(t=t.replace(/\s/g,"")))return NaN;t=+t}return this.isType(t)?t:parseFloat(t)}))}))}Bt(Xt,Mt,{_typeCheck:function(e){return e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&!function(e){return e!=+e}(e)},min:function(e,t){return void 0===t&&(t=ce.min),this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return Vt(t)||t>=this.resolve(e)}})},max:function(e,t){return void 0===t&&(t=ce.max),this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(t){return Vt(t)||t<=this.resolve(e)}})},lessThan:function(e,t){return void 0===t&&(t=ce.lessThan),this.test({message:t,name:"max",exclusive:!0,params:{less:e},test:function(t){return Vt(t)||t<this.resolve(e)}})},moreThan:function(e,t){return void 0===t&&(t=ce.moreThan),this.test({message:t,name:"min",exclusive:!0,params:{more:e},test:function(t){return Vt(t)||t>this.resolve(e)}})},positive:function(e){return void 0===e&&(e=ce.positive),this.moreThan(0,e)},negative:function(e){return void 0===e&&(e=ce.negative),this.lessThan(0,e)},integer:function(e){return void 0===e&&(e=ce.integer),this.test({name:"integer",message:e,test:function(e){return Vt(e)||Number.isInteger(e)}})},truncate:function(){return this.transform((function(e){return Vt(e)?e:0|e}))},round:function(e){var t=["ceil","floor","round","trunc"];if("trunc"===(e=e&&e.toLowerCase()||"round"))return this.truncate();if(-1===t.indexOf(e.toLowerCase()))throw new TypeError("Only valid options for round() are: "+t.join(", "));return this.transform((function(t){return Vt(t)?t:Math[e](t)}))}});var Kt=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;var $t=new Date("");function Jt(){var e=this;if(!(this instanceof Jt))return new Jt;Mt.call(this,{type:"date"}),this.withMutation((function(){e.transform((function(e){return this.isType(e)?e:(e=function(e){var t,r,n=[1,4,5,6,7,10,11],i=0;if(r=Kt.exec(e)){for(var a,o=0;a=n[o];++o)r[a]=+r[a]||0;r[2]=(+r[2]||1)-1,r[3]=+r[3]||1,r[7]=r[7]?String(r[7]).substr(0,3):0,void 0!==r[8]&&""!==r[8]||void 0!==r[9]&&""!==r[9]?("Z"!==r[8]&&void 0!==r[9]&&(i=60*r[10]+r[11],"+"===r[9]&&(i=0-i)),t=Date.UTC(r[1],r[2],r[3],r[4],r[5]+i,r[6],r[7])):t=+new Date(r[1],r[2],r[3],r[4],r[5],r[6],r[7])}else t=Date.parse?Date.parse(e):NaN;return t}(e),isNaN(e)?$t:new Date(e))}))}))}function Qt(e,t){return t||(t=e.slice(0)),e.raw=t,e}Bt(Jt,Mt,{_typeCheck:function(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t},min:function(e,t){void 0===t&&(t=fe.min);var r=e;if(!St.isRef(r)&&(r=this.cast(e),!this._typeCheck(r)))throw new TypeError("`min` must be a Date or a value that can be `cast()` to a Date");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(e){return Vt(e)||e>=this.resolve(r)}})},max:function(e,t){void 0===t&&(t=fe.max);var r=e;if(!St.isRef(r)&&(r=this.cast(e),!this._typeCheck(r)))throw new TypeError("`max` must be a Date or a value that can be `cast()` to a Date");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(e){return Vt(e)||e<=this.resolve(r)}})}});var er=function(e,t,r,n){var i=-1,a=null==e?0:e.length;for(n&&a&&(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return r};var tr=function(e){return function(t){return null==e?void 0:e[t]}},rr=tr({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),nr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ir=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var ar=function(e){return(e=(0,h.Z)(e))&&e.replace(nr,rr).replace(ir,"")},or=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var sr=function(e){return e.match(or)||[]},lr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var ur=function(e){return lr.test(e)},cr="\\u2700-\\u27bf",fr="a-z\\xdf-\\xf6\\xf8-\\xff",pr="A-Z\\xc0-\\xd6\\xd8-\\xde",hr="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dr="["+hr+"]",vr="\\d+",mr="[\\u2700-\\u27bf]",yr="["+fr+"]",gr="[^\\ud800-\\udfff"+hr+vr+cr+fr+pr+"]",_r="(?:\\ud83c[\\udde6-\\uddff]){2}",br="[\\ud800-\\udbff][\\udc00-\\udfff]",xr="["+pr+"]",wr="(?:"+yr+"|"+gr+")",Sr="(?:"+xr+"|"+gr+")",Pr="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",kr="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Er="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",Cr="[\\ufe0e\\ufe0f]?",Ar=Cr+Er+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",_r,br].join("|")+")"+Cr+Er+")*"),Tr="(?:"+[mr,_r,br].join("|")+")"+Ar,Or=RegExp([xr+"?"+yr+"+"+Pr+"(?="+[dr,xr,"$"].join("|")+")",Sr+"+"+kr+"(?="+[dr,xr+wr,"$"].join("|")+")",xr+"?"+wr+"+"+Pr,xr+"+"+kr,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",vr,Tr].join("|"),"g");var Mr=function(e){return e.match(Or)||[]};var Ir=function(e,t,r){return e=(0,h.Z)(e),void 0===(t=r?void 0:t)?ur(e)?Mr(e):sr(e):e.match(t)||[]},Fr=RegExp("['\u2019]","g");var Rr=function(e){return function(t){return er(Ir(ar(t).replace(Fr,"")),e,"")}},Dr=Rr((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));var jr=function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a};var Lr=function(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:jr(e,t,r)};var Nr=function(e){return function(t){t=(0,h.Z)(t);var r=D(t)?Y(t):void 0,n=r?r[0]:t.charAt(0),i=r?Lr(r,1).join(""):t.slice(1);return n[e]()+i}},zr=Nr("toUpperCase");var Br=function(e){return zr((0,h.Z)(e).toLowerCase())},Zr=Rr((function(e,t,r){return t=t.toLowerCase(),e+(r?Br(t):t)}));var Ur=function(e,t){var r={};return t=gt(t,3),Me(e,(function(e,n,i){(0,Ae.Z)(r,t(e,n,i),e)})),r},Vr=r(86514),Gr=r.n(Vr);function Wr(e,t){void 0===t&&(t=[]);var r=[],n=[];function i(e,i){var a=(0,bt.split)(e)[0];~n.indexOf(a)||n.push(a),~t.indexOf(i+"-"+a)||r.push([i,a])}for(var a in e)if(b(e,a)){var o=e[a];~n.indexOf(a)||n.push(a),St.isRef(o)&&o.isSibling?i(o.path,a):de(o)&&o._deps&&o._deps.forEach((function(e){return i(e,a)}))}return Gr().array(n,r).reverse()}function qr(e,t){var r=1/0;return e.some((function(e,n){if(-1!==t.path.indexOf(e))return r=n,!0})),r}function Hr(e){var t=Object.keys(e);return function(e,r){return qr(t,e)-qr(t,r)}}function Yr(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=e.reduce((function(e,t){var n=r.shift();return e+(null==n?"":n)+t}));return i.replace(/^\./,"")}function Xr(){var e=Qt(["",'["','"]']);return Xr=function(){return e},e}function Kr(){var e=Qt(["",".",""]);return Kr=function(){return e},e}function $r(){var e=Qt(["",".",""]);return $r=function(){return e},e}var Jr=function(e){return"[object Object]"===Object.prototype.toString.call(e)};function Qr(e){var t=this;if(!(this instanceof Qr))return new Qr(e);Mt.call(this,{type:"object",default:function(){var e=this;if(this._nodes.length){var t={};return this._nodes.forEach((function(r){t[r]=e.fields[r].default?e.fields[r].default():void 0})),t}}}),this.fields=Object.create(null),this._nodes=[],this._excludedEdges=[],this.withMutation((function(){t.transform((function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null})),e&&t.shape(e)}))}function en(){var e=Qt(["","[","]"]);return en=function(){return e},e}function tn(){var e=Qt(["","[","]"]);return tn=function(){return e},e}Bt(Qr,Mt,{_typeCheck:function(e){return Jr(e)||"function"===typeof e},_cast:function(e,t){var r=this;void 0===t&&(t={});var i=Mt.prototype._cast.call(this,e,t);if(void 0===i)return this.default();if(!this._typeCheck(i))return i;var a=this.fields,o=!0===this._option("stripUnknown",t),s=this._nodes.concat(Object.keys(i).filter((function(e){return-1===r._nodes.indexOf(e)}))),l={},u=(0,n.Z)({},t,{parent:l,__validating:t.__validating||!1}),c=!1;return s.forEach((function(e){var r=a[e],n=b(i,e);if(r){var s,f=r._options&&r._options.strict;if(u.path=Yr($r(),t.path,e),u.value=i[e],!0===(r=r.resolve(u))._strip)return void(c=c||e in i);void 0!==(s=t.__validating&&f?i[e]:r.cast(i[e],u))&&(l[e]=s)}else n&&!o&&(l[e]=i[e]);l[e]!==i[e]&&(c=!0)})),c?l:i},_validate:function(e,t){var r,i,a=this;void 0===t&&(t={});var o=t.sync,s=[],l=null!=t.originalValue?t.originalValue:e,u=[{schema:this,value:l}].concat(t.from||[]);return r=this._option("abortEarly",t),i=this._option("recursive",t),t=(0,n.Z)({},t,{__validating:!0,originalValue:l,from:u}),Mt.prototype._validate.call(this,e,t).catch(Se(r,s)).then((function(e){if(!i||!Jr(e)){if(s.length)throw s[0];return e}u=l?[].concat(u):[{schema:a,value:l||e}].concat(t.from||[]),l=l||e;var c=a._nodes.map((function(r){var i=-1===r.indexOf(".")?Yr(Kr(),t.path,r):Yr(Xr(),t.path,r),s=a.fields[r],c=(0,n.Z)({},t,{path:i,from:u,parent:e,originalValue:l[r]});return s&&s.validate?(c.strict=!0,s.validate(e[r],c)):function(e){return e?ge.SynchronousPromise:Promise}(o).resolve(!0)}));return ke({sync:o,validations:c,value:e,errors:s,endEarly:r,path:t.path,sort:Hr(a.fields)})}))},concat:function(e){var t=Mt.prototype.concat.call(this,e);return t._nodes=Wr(t.fields,t._excludedEdges),t},shape:function(e,t){void 0===t&&(t=[]);var r=this.clone(),i=(0,n.Z)(r.fields,e);if(r.fields=i,t.length){Array.isArray(t[0])||(t=[t]);var a=t.map((function(e){return e[0]+"-"+e[1]}));r._excludedEdges=r._excludedEdges.concat(a)}return r._nodes=Wr(i,r._excludedEdges),r},from:function(e,t,r){var i=(0,bt.getter)(e,!0);return this.transform((function(a){if(null==a)return a;var o=a;return b(a,e)&&(o=(0,n.Z)({},a),r||delete o[e],o[t]=i(a)),o}))},noUnknown:function(e,t){void 0===e&&(e=!0),void 0===t&&(t=pe.noUnknown),"string"===typeof e&&(t=e,e=!0);var r=this.test({name:"noUnknown",exclusive:!0,message:t,test:function(t){if(null==t)return!0;var r=function(e,t){var r=Object.keys(e.fields);return Object.keys(t).filter((function(e){return-1===r.indexOf(e)}))}(this.schema,t);return!e||0===r.length||this.createError({params:{unknown:r.join(", ")}})}});return r._options.stripUnknown=e,r},unknown:function(e,t){return void 0===e&&(e=!0),void 0===t&&(t=pe.noUnknown),this.noUnknown(!e,t)},transformKeys:function(e){return this.transform((function(t){return t&&Ur(t,(function(t,r){return e(r)}))}))},camelCase:function(){return this.transformKeys(Zr)},snakeCase:function(){return this.transformKeys(Dr)},constantCase:function(){return this.transformKeys((function(e){return Dr(e).toUpperCase()}))},describe:function(){var e=Mt.prototype.describe.call(this);return e.fields=_t(this.fields,(function(e){return e.describe()})),e}});function rn(e){var t=this;if(!(this instanceof rn))return new rn(e);Mt.call(this,{type:"array"}),this._subType=void 0,this.innerType=void 0,this.withMutation((function(){t.transform((function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null})),e&&t.of(e)}))}Bt(rn,Mt,{_typeCheck:function(e){return Array.isArray(e)},_cast:function(e,t){var r=this,i=Mt.prototype._cast.call(this,e,t);if(!this._typeCheck(i)||!this.innerType)return i;var a=!1,o=i.map((function(e,i){var o=r.innerType.cast(e,(0,n.Z)({},t,{path:Yr(tn(),t.path,i)}));return o!==e&&(a=!0),o}));return a?o:i},_validate:function(e,t){var r=this;void 0===t&&(t={});var i=[],a=t.sync,o=t.path,s=this.innerType,l=this._option("abortEarly",t),u=this._option("recursive",t),c=null!=t.originalValue?t.originalValue:e;return Mt.prototype._validate.call(this,e,t).catch(Se(l,i)).then((function(e){if(!u||!s||!r._typeCheck(e)){if(i.length)throw i[0];return e}c=c||e;for(var f=new Array(e.length),p=0;p<e.length;p++){var h=e[p],d=Yr(en(),t.path,p),v=(0,n.Z)({},t,{path:d,strict:!0,parent:e,index:p,originalValue:c[p]});f[p]=!s.validate||s.validate(h,v)}return ke({sync:a,path:o,value:e,errors:i,endEarly:l,validations:f})}))},_isPresent:function(e){return Mt.prototype._isPresent.call(this,e)&&e.length>0},of:function(e){var t=this.clone();if(!1!==e&&!de(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema, or `false` to negate a current sub-schema. not: "+se(e));return t._subType=e,t.innerType=e,t},min:function(e,t){return t=t||he.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return Vt(t)||t.length>=this.resolve(e)}})},max:function(e,t){return t=t||he.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(t){return Vt(t)||t.length<=this.resolve(e)}})},ensure:function(){var e=this;return this.default((function(){return[]})).transform((function(t,r){return e._typeCheck(t)?t:null==r?[]:[].concat(r)}))},compact:function(e){var t=e?function(t,r,n){return!e(t,r,n)}:function(e){return!!e};return this.transform((function(e){return null!=e?e.filter(t):e}))},describe:function(){var e=Mt.prototype.describe.call(this);return this.innerType&&(e.innerType=this.innerType.describe()),e}});var nn=function(){function e(e){this._resolve=function(t,r){var n=e(t,r);if(!de(n))throw new TypeError("lazy() functions must return a valid schema");return n.resolve(r)}}var t=e.prototype;return t.resolve=function(e){return this._resolve(e.value,e)},t.cast=function(e,t){return this._resolve(e,t).cast(e,t)},t.validate=function(e,t){return this._resolve(e,t).validate(e,t)},t.validateSync=function(e,t){return this._resolve(e,t).validateSync(e,t)},t.validateAt=function(e,t,r){return this._resolve(t,r).validateAt(e,t,r)},t.validateSyncAt=function(e,t,r){return this._resolve(t,r).validateSyncAt(e,t,r)},e}();nn.prototype.__isYupSchema__=!0;var an=Zt,on=function(e,t){return new St(e,t)}},27549:function(){},20717:function(){},73897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},85372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},63405:function(e,t,r){var n=r(73897);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},66115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},17156:function(e){function t(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(u){return void r(u)}s.done?t(l):Promise.resolve(l).then(n,i)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(i,a){var o=e.apply(r,n);function s(e){t(o,i,a,s,l,"next",e)}function l(e){t(o,i,a,s,l,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},56521:function(e){e.exports=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")},e.exports.__esModule=!0,e.exports.default=e.exports},48912:function(e){e.exports=function(e,t){return t.get?t.get.call(e):t.value},e.exports.__esModule=!0,e.exports.default=e.exports},43448:function(e){e.exports=function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}},e.exports.__esModule=!0,e.exports.default=e.exports},56690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},72625:function(e){e.exports=function(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")},e.exports.__esModule=!0,e.exports.default=e.exports},22506:function(e){e.exports=function(e,t){if(void 0===e)throw new TypeError("attempted to "+t+" private static field before its declaration")},e.exports.__esModule=!0,e.exports.default=e.exports},54069:function(e){e.exports=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)},e.exports.__esModule=!0,e.exports.default=e.exports},50468:function(e,t,r){var n=r(48912),i=r(54069);e.exports=function(e,t){var r=i(e,t,"get");return n(e,r)},e.exports.__esModule=!0,e.exports.default=e.exports},19159:function(e,t,r){var n=r(56521);e.exports=function(e,t,r){n(e,t),t.set(e,r)},e.exports.__esModule=!0,e.exports.default=e.exports},65661:function(e,t,r){var n=r(43448),i=r(54069);e.exports=function(e,t,r){var a=i(e,t,"set");return n(e,a,r),r},e.exports.__esModule=!0,e.exports.default=e.exports},54467:function(e){e.exports=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r},e.exports.__esModule=!0,e.exports.default=e.exports},71860:function(e,t,r){var n=r(56521);e.exports=function(e,t){n(e,t),t.add(e)},e.exports.__esModule=!0,e.exports.default=e.exports},61280:function(e,t,r){var n=r(48912),i=r(72625),a=r(22506);e.exports=function(e,t,r){return i(e,t),a(r,"get"),n(e,r)},e.exports.__esModule=!0,e.exports.default=e.exports},62306:function(e,t,r){var n=r(43448),i=r(72625),a=r(22506);e.exports=function(e,t,r,o){return i(e,t),a(r,"set"),n(e,r,o),o},e.exports.__esModule=!0,e.exports.default=e.exports},55764:function(e,t,r){var n=r(72625);e.exports=function(e,t,r){return n(e,t),r},e.exports.__esModule=!0,e.exports.default=e.exports},89728:function(e){function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},74704:function(e,t,r){var n=r(86116);e.exports=function(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=n(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(l)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},26389:function(e,t,r){var n=r(73808),i=r(69617),a=r(94993);e.exports=function(e){var t=i();return function(){var r,i=n(e);if(t){var o=n(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return a(this,r)}},e.exports.__esModule=!0,e.exports.default=e.exports},38416:function(e){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},10434:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},41588:function(e,t,r){var n=r(1753);function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,r){var i=n(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:r):a.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},73808:function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},61655:function(e,t,r){var n=r(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},64836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},75263:function(e,t,r){var n=r(18698).default;function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(a,s,l):a[s]=e[s]}return a.default=e,r&&r.set(e,a),a},e.exports.__esModule=!0,e.exports.default=e.exports},69617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},79498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},68872:function(e){e.exports=function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==r.return||r.return()}finally{if(s)throw i}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports},12218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},42281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},42122:function(e,t,r){var n=r(38416);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},70215:function(e,t,r){var n=r(7071);e.exports=function(e,t){if(null==e)return{};var r,i,a=n(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a},e.exports.__esModule=!0,e.exports.default=e.exports},7071:function(e){e.exports=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},94993:function(e,t,r){var n=r(18698).default,i=r(66115);e.exports=function(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},17061:function(e,t,r){var n=r(18698).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},r=Object.prototype,a=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(M){f=function(e,t,r){return e[t]=r}}function p(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new A(n||[]);return o(a,"_invoke",{value:P(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(M){return{type:"throw",arg:M}}}t.wrap=p;var d={};function v(){}function m(){}function y(){}var g={};f(g,l,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(T([])));b&&b!==r&&a.call(b,l)&&(g=b);var x=y.prototype=v.prototype=Object.create(g);function w(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(i,o,s,l){var u=h(e[i],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==n(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,l)}),(function(e){r("throw",e,s,l)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return r("throw",e,s,l)}))}l(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}})}function P(e,t,r){var n="suspendedStart";return function(i,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw a;return O()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=k(o,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=h(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function k(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=h(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var t=e[l];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:O}}function O(){return{value:void 0,done:!0}}return m.prototype=y,o(x,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:m,configurable:!0}),m.displayName=f(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,f(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},w(S.prototype),f(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,i,a){void 0===a&&(a=Promise);var o=new S(p(e,r,n,i),a);return t.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(x),f(x,c,"Generator"),f(x,l,(function(){return this})),f(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=a.call(i,"catchLoc"),l=a.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;C(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},27424:function(e,t,r){var n=r(85372),i=r(68872),a=r(86116),o=r(12218);e.exports=function(e,t){return n(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},1753:function(e,t,r){var n=r(73808);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,r){var n=r(63405),i=r(79498),a=r(86116),o=r(42281);e.exports=function(e){return n(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},18698:function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},86116:function(e,t,r){var n=r(73897);e.exports=function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},83878:function(e,t,r){"use strict";function n(e){if(Array.isArray(e))return e}r.d(t,{Z:function(){return n}})},97326:function(e,t,r){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{Z:function(){return n}})},15861:function(e,t,r){"use strict";function n(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(u){return void r(u)}s.done?t(l):Promise.resolve(l).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,l,"next",e)}function l(e){n(o,i,a,s,l,"throw",e)}s(void 0)}))}}r.d(t,{Z:function(){return i}})},15671:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,{Z:function(){return n}})},43144:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}r.d(t,{Z:function(){return i}})},98557:function(e,t,r){"use strict";function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}r.d(t,{Z:function(){return s}});var i=r(71002),a=r(97326);function o(e,t){if(t&&("object"===(0,i.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,a.Z)(e)}function s(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=n(e);if(t){var a=n(this).constructor;r=Reflect.construct(i,arguments,a)}else r=i.apply(this,arguments);return o(this,r)}}},60136:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(89611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,n.Z)(e,t)}},25267:function(e,t,r){"use strict";function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}r.d(t,{Z:function(){return n}})},45987:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(63366);function i(e,t){if(null==e)return{};var r,i,a=(0,n.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}},74165:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(71002);function i(){i=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(O){c=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof d?t:d,o=Object.create(i.prototype),s=new C(n||[]);return a(o,"_invoke",{value:S(e,r,s)}),o}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=f;var h={};function d(){}function v(){}function m(){}var y={};c(y,s,(function(){return this}));var g=Object.getPrototypeOf,_=g&&g(g(A([])));_&&_!==t&&r.call(_,s)&&(y=_);var b=m.prototype=d.prototype=Object.create(y);function x(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(a,o,s,l){var u=p(e[a],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==(0,n.Z)(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,s,l)}),(function(e){i("throw",e,s,l)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return i("throw",e,s,l)}))}l(u.arg)}var o;a(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return o=o?o.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(i,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw a;return T()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=P(o,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=p(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function P(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,P(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=p(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,h;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return v.prototype=m,a(b,"constructor",{value:m,configurable:!0}),a(m,"constructor",{value:v,configurable:!0}),v.displayName=c(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},x(w.prototype),c(w.prototype,l,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new w(f(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(b),c(b,u,"Generator"),c(b,s,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:A(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}},29439:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(83878);var i=r(40181),a=r(25267);function o(e,t){return(0,n.Z)(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==r.return||r.return()}finally{if(s)throw i}}return a}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},71002:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,{Z:function(){return n}})},63733:function(e,t,r){"use strict";function n(e){var t,r,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=n(e[t]))&&(i&&(i+=" "),i+=r);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.Z=function(){for(var e,t,r=0,i="";r<arguments.length;)(e=arguments[r++])&&(t=n(e))&&(i&&(i+=" "),i+=t);return i}},72694:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=function(){this.__data__=[],this.size=0},i=r(31304);var a=function(e,t){for(var r=e.length;r--;)if((0,i.Z)(e[r][0],t))return r;return-1},o=Array.prototype.splice;var s=function(e){var t=this.__data__,r=a(t,e);return!(r<0)&&(r==t.length-1?t.pop():o.call(t,r,1),--this.size,!0)};var l=function(e){var t=this.__data__,r=a(t,e);return r<0?void 0:t[r][1]};var u=function(e){return a(this.__data__,e)>-1};var c=function(e,t){var r=this.__data__,n=a(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function f(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}f.prototype.clear=n,f.prototype.delete=s,f.prototype.get=l,f.prototype.has=u,f.prototype.set=c;var p=f},84838:function(e,t,r){"use strict";var n=r(19504),i=r(85183),a=(0,n.Z)(i.Z,"Map");t.Z=a},49249:function(e,t,r){"use strict";r.d(t,{Z:function(){return S}});var n=(0,r(19504).Z)(Object,"create");var i=function(){this.__data__=n?n(null):{},this.size=0};var a=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},o=Object.prototype.hasOwnProperty;var s=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(t,e)?t[e]:void 0},l=Object.prototype.hasOwnProperty;var u=function(e){var t=this.__data__;return n?void 0!==t[e]:l.call(t,e)};var c=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this};function f(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}f.prototype.clear=i,f.prototype.delete=a,f.prototype.get=s,f.prototype.has=u,f.prototype.set=c;var p=f,h=r(72694),d=r(84838);var v=function(){this.size=0,this.__data__={hash:new p,map:new(d.Z||h.Z),string:new p}};var m=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var y=function(e,t){var r=e.__data__;return m(t)?r["string"==typeof t?"string":"hash"]:r.map};var g=function(e){var t=y(this,e).delete(e);return this.size-=t?1:0,t};var _=function(e){return y(this,e).get(e)};var b=function(e){return y(this,e).has(e)};var x=function(e,t){var r=y(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function w(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}w.prototype.clear=v,w.prototype.delete=g,w.prototype.get=_,w.prototype.has=b,w.prototype.set=x;var S=w},1331:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(72694);var i=function(){this.__data__=new n.Z,this.size=0};var a=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r};var o=function(e){return this.__data__.get(e)};var s=function(e){return this.__data__.has(e)},l=r(84838),u=r(49249);var c=function(e,t){var r=this.__data__;if(r instanceof n.Z){var i=r.__data__;if(!l.Z||i.length<199)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new u.Z(i)}return r.set(e,t),this.size=r.size,this};function f(e){var t=this.__data__=new n.Z(e);this.size=t.size}f.prototype.clear=i,f.prototype.delete=a,f.prototype.get=o,f.prototype.has=s,f.prototype.set=c;var p=f},36804:function(e,t,r){"use strict";var n=r(85183).Z.Symbol;t.Z=n},27962:function(e,t,r){"use strict";var n=r(85183).Z.Uint8Array;t.Z=n},64318:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n},i=r(44609),a=r(18567),o=r(14932),s=r(66825),l=r(28939),u=Object.prototype.hasOwnProperty;var c=function(e,t){var r=(0,a.Z)(e),c=!r&&(0,i.Z)(e),f=!r&&!c&&(0,o.Z)(e),p=!r&&!c&&!f&&(0,l.Z)(e),h=r||c||f||p,d=h?n(e.length,String):[],v=d.length;for(var m in e)!t&&!u.call(e,m)||h&&("length"==m||f&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||(0,s.Z)(m,v))||d.push(m);return d}},26754:function(e,t){"use strict";t.Z=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},53604:function(e,t){"use strict";t.Z=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}},25693:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(19504),i=function(){try{var e=(0,n.Z)(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();var a=function(e,t,r){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},36402:function(e,t,r){"use strict";r.d(t,{Z:function(){return me}});var n=r(1331);var i=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e},a=r(25693),o=r(31304),s=Object.prototype.hasOwnProperty;var l=function(e,t,r){var n=e[t];s.call(e,t)&&(0,o.Z)(n,r)&&(void 0!==r||t in e)||(0,a.Z)(e,t,r)};var u=function(e,t,r,n){var i=!r;r||(r={});for(var o=-1,s=t.length;++o<s;){var u=t[o],c=n?n(r[u],e[u],u,r,e):void 0;void 0===c&&(c=e[u]),i?(0,a.Z)(r,u,c):l(r,u,c)}return r},c=r(56484);var f=function(e,t){return e&&u(t,(0,c.Z)(t),e)},p=r(64318),h=r(58465),d=r(42498);var v=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t},m=Object.prototype.hasOwnProperty;var y=function(e){if(!(0,h.Z)(e))return v(e);var t=(0,d.Z)(e),r=[];for(var n in e)("constructor"!=n||!t&&m.call(e,n))&&r.push(n);return r},g=r(72104);var _=function(e){return(0,g.Z)(e)?(0,p.Z)(e,!0):y(e)};var b=function(e,t){return e&&u(t,_(t),e)},x=r(85183),w="object"==typeof exports&&exports&&!exports.nodeType&&exports,S=w&&"object"==typeof module&&module&&!module.nodeType&&module,P=S&&S.exports===w?x.Z.Buffer:void 0,k=P?P.allocUnsafe:void 0;var E=function(e,t){if(t)return e.slice();var r=e.length,n=k?k(r):new e.constructor(r);return e.copy(n),n},C=r(14278),A=r(34587);var T=function(e,t){return u(e,(0,A.Z)(e),t)},O=r(53604),M=r(68846),I=r(56667),F=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)(0,O.Z)(t,(0,A.Z)(e)),e=(0,M.Z)(e);return t}:I.Z;var R=function(e,t){return u(e,F(e),t)},D=r(62338),j=r(23786);var L=function(e){return(0,j.Z)(e,_,F)},N=r(56268),z=Object.prototype.hasOwnProperty;var B=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&z.call(e,"index")&&(r.index=e.index,r.input=e.input),r},Z=r(27962);var U=function(e){var t=new e.constructor(e.byteLength);return new Z.Z(t).set(new Z.Z(e)),t};var V=function(e,t){var r=t?U(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)},G=/\w*$/;var W=function(e){var t=new e.constructor(e.source,G.exec(e));return t.lastIndex=e.lastIndex,t},q=r(36804),H=q.Z?q.Z.prototype:void 0,Y=H?H.valueOf:void 0;var X=function(e){return Y?Object(Y.call(e)):{}};var K=function(e,t){var r=t?U(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)};var $=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return U(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return V(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return K(e,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return W(e);case"[object Symbol]":return X(e)}},J=Object.create,Q=function(){function e(){}return function(t){if(!(0,h.Z)(t))return{};if(J)return J(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();var ee=function(e){return"function"!=typeof e.constructor||(0,d.Z)(e)?{}:Q((0,M.Z)(e))},te=r(18567),re=r(14932),ne=r(98809);var ie=function(e){return(0,ne.Z)(e)&&"[object Map]"==(0,N.Z)(e)},ae=r(60422),oe=r(71310),se=oe.Z&&oe.Z.isMap,le=se?(0,ae.Z)(se):ie;var ue=function(e){return(0,ne.Z)(e)&&"[object Set]"==(0,N.Z)(e)},ce=oe.Z&&oe.Z.isSet,fe=ce?(0,ae.Z)(ce):ue,pe="[object Arguments]",he="[object Function]",de="[object Object]",ve={};ve[pe]=ve["[object Array]"]=ve["[object ArrayBuffer]"]=ve["[object DataView]"]=ve["[object Boolean]"]=ve["[object Date]"]=ve["[object Float32Array]"]=ve["[object Float64Array]"]=ve["[object Int8Array]"]=ve["[object Int16Array]"]=ve["[object Int32Array]"]=ve["[object Map]"]=ve["[object Number]"]=ve[de]=ve["[object RegExp]"]=ve["[object Set]"]=ve["[object String]"]=ve["[object Symbol]"]=ve["[object Uint8Array]"]=ve["[object Uint8ClampedArray]"]=ve["[object Uint16Array]"]=ve["[object Uint32Array]"]=!0,ve["[object Error]"]=ve[he]=ve["[object WeakMap]"]=!1;var me=function e(t,r,a,o,s,u){var p,d=1&r,v=2&r,m=4&r;if(a&&(p=s?a(t,o,s,u):a(t)),void 0!==p)return p;if(!(0,h.Z)(t))return t;var y=(0,te.Z)(t);if(y){if(p=B(t),!d)return(0,C.Z)(t,p)}else{var g=(0,N.Z)(t),x=g==he||"[object GeneratorFunction]"==g;if((0,re.Z)(t))return E(t,d);if(g==de||g==pe||x&&!s){if(p=v||x?{}:ee(t),!d)return v?R(t,b(p,t)):T(t,f(p,t))}else{if(!ve[g])return s?t:{};p=$(t,g,d)}}u||(u=new n.Z);var w=u.get(t);if(w)return w;u.set(t,p),fe(t)?t.forEach((function(n){p.add(e(n,r,a,n,t,u))})):le(t)&&t.forEach((function(n,i){p.set(i,e(n,r,a,i,t,u))}));var S=m?v?L:D.Z:v?_:c.Z,P=y?void 0:S(t);return i(P||t,(function(n,i){P&&(n=t[i=n]),l(p,i,e(n,r,a,i,t,u))})),p}},23786:function(e,t,r){"use strict";var n=r(53604),i=r(18567);t.Z=function(e,t,r){var a=t(e);return(0,i.Z)(e)?a:(0,n.Z)(a,r(e))}},85275:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(36804),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=n.Z?n.Z.toStringTag:void 0;var l=function(e){var t=a.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(l){}var i=o.call(e);return n&&(t?e[s]=r:delete e[s]),i},u=Object.prototype.toString;var c=function(e){return u.call(e)},f=n.Z?n.Z.toStringTag:void 0;var p=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":f&&f in Object(e)?l(e):c(e)}},60422:function(e,t){"use strict";t.Z=function(e){return function(t){return e(t)}}},14278:function(e,t){"use strict";t.Z=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},98831:function(e,t){"use strict";var r="object"==typeof global&&global&&global.Object===Object&&global;t.Z=r},62338:function(e,t,r){"use strict";var n=r(23786),i=r(34587),a=r(56484);t.Z=function(e){return(0,n.Z)(e,a.Z,i.Z)}},19504:function(e,t,r){"use strict";r.d(t,{Z:function(){return y}});var n=r(9884),i=r(85183).Z["__core-js_shared__"],a=function(){var e=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var o=function(e){return!!a&&a in e},s=r(58465),l=r(79284),u=/^\[object .+?Constructor\]$/,c=Function.prototype,f=Object.prototype,p=c.toString,h=f.hasOwnProperty,d=RegExp("^"+p.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var v=function(e){return!(!(0,s.Z)(e)||o(e))&&((0,n.Z)(e)?d:u).test((0,l.Z)(e))};var m=function(e,t){return null==e?void 0:e[t]};var y=function(e,t){var r=m(e,t);return v(r)?r:void 0}},68846:function(e,t,r){"use strict";var n=(0,r(18919).Z)(Object.getPrototypeOf,Object);t.Z=n},34587:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a},i=r(56667),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),n(o(e),(function(t){return a.call(e,t)})))}:i.Z},56268:function(e,t,r){"use strict";r.d(t,{Z:function(){return S}});var n=r(19504),i=r(85183),a=(0,n.Z)(i.Z,"DataView"),o=r(84838),s=(0,n.Z)(i.Z,"Promise"),l=(0,n.Z)(i.Z,"Set"),u=(0,n.Z)(i.Z,"WeakMap"),c=r(85275),f=r(79284),p="[object Map]",h="[object Promise]",d="[object Set]",v="[object WeakMap]",m="[object DataView]",y=(0,f.Z)(a),g=(0,f.Z)(o.Z),_=(0,f.Z)(s),b=(0,f.Z)(l),x=(0,f.Z)(u),w=c.Z;(a&&w(new a(new ArrayBuffer(1)))!=m||o.Z&&w(new o.Z)!=p||s&&w(s.resolve())!=h||l&&w(new l)!=d||u&&w(new u)!=v)&&(w=function(e){var t=(0,c.Z)(e),r="[object Object]"==t?e.constructor:void 0,n=r?(0,f.Z)(r):"";if(n)switch(n){case y:return m;case g:return p;case _:return h;case b:return d;case x:return v}return t});var S=w},66825:function(e,t){"use strict";var r=/^(?:0|[1-9]\d*)$/;t.Z=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&r.test(e))&&e>-1&&e%1==0&&e<t}},42498:function(e,t){"use strict";var r=Object.prototype;t.Z=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},71310:function(e,t,r){"use strict";var n=r(98831),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&"object"==typeof module&&module&&!module.nodeType&&module,o=a&&a.exports===i&&n.Z.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();t.Z=s},18919:function(e,t){"use strict";t.Z=function(e,t){return function(r){return e(t(r))}}},85183:function(e,t,r){"use strict";var n=r(98831),i="object"==typeof self&&self&&self.Object===Object&&self,a=n.Z||i||Function("return this")();t.Z=a},11998:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(49249);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function r(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(i.Cache||n.Z),r}i.Cache=n.Z;var a=i;var o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,l=function(e){var t=a(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,r,n,i){t.push(n?i.replace(s,"$1"):r||e)})),t}))},55884:function(e,t,r){"use strict";var n=r(72305);t.Z=function(e){if("string"==typeof e||(0,n.Z)(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},79284:function(e,t){"use strict";var r=Function.prototype.toString;t.Z=function(e){if(null!=e){try{return r.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},31304:function(e,t){"use strict";t.Z=function(e,t){return e===t||e!==e&&t!==t}},44609:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(85275),i=r(98809);var a=function(e){return(0,i.Z)(e)&&"[object Arguments]"==(0,n.Z)(e)},o=Object.prototype,s=o.hasOwnProperty,l=o.propertyIsEnumerable,u=a(function(){return arguments}())?a:function(e){return(0,i.Z)(e)&&s.call(e,"callee")&&!l.call(e,"callee")},c=u},18567:function(e,t){"use strict";var r=Array.isArray;t.Z=r},72104:function(e,t,r){"use strict";var n=r(9884),i=r(8226);t.Z=function(e){return null!=e&&(0,i.Z)(e.length)&&!(0,n.Z)(e)}},14932:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(85183);var i=function(){return!1},a="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=a&&"object"==typeof module&&module&&!module.nodeType&&module,s=o&&o.exports===a?n.Z.Buffer:void 0,l=(s?s.isBuffer:void 0)||i},9884:function(e,t,r){"use strict";var n=r(85275),i=r(58465);t.Z=function(e){if(!(0,i.Z)(e))return!1;var t=(0,n.Z)(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},8226:function(e,t){"use strict";t.Z=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},58465:function(e,t){"use strict";t.Z=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},98809:function(e,t){"use strict";t.Z=function(e){return null!=e&&"object"==typeof e}},72305:function(e,t,r){"use strict";var n=r(85275),i=r(98809);t.Z=function(e){return"symbol"==typeof e||(0,i.Z)(e)&&"[object Symbol]"==(0,n.Z)(e)}},28939:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(85275),i=r(8226),a=r(98809),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1;var s=function(e){return(0,a.Z)(e)&&(0,i.Z)(e.length)&&!!o[(0,n.Z)(e)]},l=r(60422),u=r(71310),c=u.Z&&u.Z.isTypedArray,f=c?(0,l.Z)(c):s},56484:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(64318),i=r(42498),a=(0,r(18919).Z)(Object.keys,Object),o=Object.prototype.hasOwnProperty;var s=function(e){if(!(0,i.Z)(e))return a(e);var t=[];for(var r in Object(e))o.call(e,r)&&"constructor"!=r&&t.push(r);return t},l=r(72104);var u=function(e){return(0,l.Z)(e)?(0,n.Z)(e):s(e)}},56667:function(e,t){"use strict";t.Z=function(){return[]}},38686:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(36804),i=r(26754),a=r(18567),o=r(72305),s=n.Z?n.Z.prototype:void 0,l=s?s.toString:void 0;var u=function e(t){if("string"==typeof t)return t;if((0,a.Z)(t))return(0,i.Z)(t,e)+"";if((0,o.Z)(t))return l?l.call(t):"";var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r};var c=function(e){return null==e?"":u(e)}},19330:function(e,t,r){"use strict";function n(e){var t=!1;return{promise:new Promise((function(r,n){e.then((function(e){return!t&&r(e)})).catch((function(e){return!t&&n(e)}))})),cancel:function(){t=!0}}}r.d(t,{Z:function(){return n}})},24246:function(e,t,r){"use strict";r.d(t,{Tu:function(){return i},ZP:function(){return a}});var n=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},i=n(n(n(n(n(n(n(n(n(n(n(n(n(n(n(n(n(n([],["onCopy","onCut","onPaste"],!0),["onCompositionEnd","onCompositionStart","onCompositionUpdate"],!0),["onFocus","onBlur"],!0),["onInput","onInvalid","onReset","onSubmit"],!0),["onLoad","onError"],!0),["onKeyDown","onKeyPress","onKeyUp"],!0),["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],!0),["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],!0),["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],!0),["onSelect"],!0),["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],!0),["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],!0),["onScroll"],!0),["onWheel"],!0),["onAnimationStart","onAnimationEnd","onAnimationIteration"],!0),["onTransitionEnd"],!0),["onChange"],!0),["onToggle"],!0);function a(e,t){var r={};return i.forEach((function(n){var i=e[n];i&&(r[n]=t?function(e){return i(e,t(n))}:i)})),r}},69898:function(e,t,r){"use strict";r.d(t,{Z:function(){return C}});var n=r(4942),i=r(74165),a=r(29439),o=r(72791),s=r(52007),l=r(24246),u=r(19330),c=r(63733),f=r(44554),p=r(15501),h=r(51789),d=r(16358),v=r(48739),m=r(35768),y={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},g=r(78884),_=r(6711),b=r(34122),x=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{l(n.next(e))}catch(t){a(t)}}function s(e){try{l(n.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))},w=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},S=h.Z.PDFDataRangeTransport,P=function(e,t){switch(t){case y.NEED_PASSWORD:e(prompt("Enter the password to open this PDF file."));break;case y.INCORRECT_PASSWORD:e(prompt("Invalid password. Please try again."))}},k=(0,o.forwardRef)((function(e,t){var r=this,s=e.children,y=e.className,b=e.error,k=void 0===b?"Failed to load PDF file.":b,E=e.externalLinkRel,C=e.externalLinkTarget,A=e.file,T=e.inputRef,O=e.imageResourcesPath,M=e.loading,I=void 0===M?"Loading PDF\u2026":M,F=e.noData,R=void 0===F?"No PDF file specified.":F,D=e.onItemClick,j=e.onLoadError,L=e.onLoadProgress,N=e.onLoadSuccess,z=e.onPassword,B=void 0===z?P:z,Z=e.onSourceError,U=e.onSourceSuccess,V=e.options,G=e.renderMode,W=e.rotate,q=w(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]),H=(0,_.Z)(),Y=(0,a.Z)(H,2),X=Y[0],K=Y[1],$=X.value,J=X.error,Q=(0,_.Z)(),ee=(0,a.Z)(Q,2),te=ee[0],re=ee[1],ne=te.value,ie=te.error,ae=(0,o.useRef)(new m.Z),oe=(0,o.useRef)([]),se=(0,o.useRef)({scrollPageIntoView:function(e){var t=e.dest,r=e.pageNumber,n=e.pageIndex,i=void 0===n?r-1:n;if(D)D({dest:t,pageIndex:i,pageNumber:r});else{var a=oe.current[i];a?a.scrollIntoView():(0,p.Z)(!1,"An internal link leading to page ".concat(r," was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>."))}}});(0,o.useImperativeHandle)(t,(function(){return{linkService:ae,pages:oe,viewer:se}}),[]),(0,o.useEffect)((function(){K({type:"RESET"})}),[A,K]);var le=(0,o.useCallback)((function(){return x(r,void 0,void 0,(0,i.Z)().mark((function e(){var t,r,n,a,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A){e.next=2;break}return e.abrupt("return",null);case 2:if("string"!==typeof A){e.next=8;break}if(!(0,g.gJ)(A)){e.next=6;break}return t=(0,g.us)(A),e.abrupt("return",{data:t});case 6:return(0,g.tN)(),e.abrupt("return",{url:A});case 8:if(!(A instanceof S)){e.next=10;break}return e.abrupt("return",{range:A});case 10:if(!(0,g.eP)(A)){e.next=12;break}return e.abrupt("return",{data:A});case 12:if(!g.jU){e.next=18;break}if(!(0,g.Lj)(A)){e.next=18;break}return e.next=16,(0,g.eR)(A);case 16:return r=e.sent,e.abrupt("return",{data:r});case 18:if((0,f.Z)("object"===typeof A,"Invalid parameter in file, need either Uint8Array, string or a parameter object"),(0,f.Z)("data"in A||"range"in A||"url"in A,"Invalid parameter object: need either .data, .range or .url"),!("url"in A)||"string"!==typeof A.url){e.next=26;break}if(!(0,g.gJ)(A.url)){e.next=25;break}return n=A.url,a=w(A,["url"]),o=(0,g.us)(n),e.abrupt("return",Object.assign({data:o},a));case 25:(0,g.tN)();case 26:return e.abrupt("return",A);case 27:case"end":return e.stop()}}),e)})))}),[A]);function ue(e,t){oe.current[e]=t}function ce(e){delete oe.current[e]}(0,o.useEffect)((function(){var e=(0,u.Z)(le());return e.promise.then((function(e){K({type:"RESOLVE",value:e})})).catch((function(e){K({type:"REJECT",error:e})})),function(){(0,g.LJ)(e)}}),[le,K]),(0,o.useEffect)((function(){"undefined"!==typeof $&&(!1!==$?U&&U():J&&((0,p.Z)(!1,J.toString()),Z&&Z(J)))}),[$]),(0,o.useEffect)((function(){re({type:"RESET"})}),[re,$]),(0,o.useEffect)((function(){if($){var e=V?Object.assign(Object.assign({},$),V):$,t=h.Z.getDocument(e);L&&(t.onProgress=L),B&&(t.onPassword=B);var r=t;return r.promise.then((function(e){re({type:"RESOLVE",value:e})})).catch((function(e){r.destroyed||re({type:"REJECT",error:e})})),function(){r.destroy()}}}),[V,re,$]),(0,o.useEffect)((function(){"undefined"!==typeof ne&&(!1!==ne?ne&&(N&&N(ne),oe.current=new Array(ne.numPages),ae.current.setDocument(ne)):ie&&((0,p.Z)(!1,ie.toString()),j&&j(ie)))}),[ne]),(0,o.useEffect)((function(){ae.current.setViewer(se.current),ae.current.setExternalLinkRel(E),ae.current.setExternalLinkTarget(C)}),[E,C]);var fe=(0,o.useMemo)((function(){return{imageResourcesPath:O,linkService:ae.current,onItemClick:D,pdf:ne,registerPage:ue,renderMode:G,rotate:W,unregisterPage:ce}}),[O,D,ne,G,W]),pe=(0,o.useMemo)((function(){return(0,l.ZP)(q,(function(){return ne}))}),[q,ne]);return o.createElement("div",Object.assign({className:(0,c.Z)("react-pdf__Document",y),ref:T,style:(0,n.Z)({},"--scale-factor","1")},pe),A?void 0===ne||null===ne?o.createElement(v.Z,{type:"loading"},"function"===typeof I?I():I):!1===ne?o.createElement(v.Z,{type:"error"},"function"===typeof k?k():k):o.createElement(d.Z.Provider,{value:fe},s):o.createElement(v.Z,{type:"no-data"},"function"===typeof R?R():R))})),E=s.oneOfType([s.func,s.node]);k.propTypes=Object.assign(Object.assign({},b.Gg),{children:s.node,className:b.$n,error:E,externalLinkRel:s.string,externalLinkTarget:s.oneOf(["_self","_blank","_parent","_top"]),file:b.zE,imageResourcesPath:s.string,inputRef:b.dq,loading:E,noData:E,onItemClick:s.func,onLoadError:s.func,onLoadProgress:s.func,onLoadSuccess:s.func,onPassword:s.func,onSourceError:s.func,onSourceSuccess:s.func,options:s.shape({canvasFactory:s.any,canvasMaxAreaInBytes:s.number,cMapPacked:s.bool,CMapReaderFactory:s.any,cMapUrl:s.string,disableAutoFetch:s.bool,disableFontFace:s.bool,disableRange:s.bool,disableStream:s.bool,docBaseUrl:s.string,enableXfa:s.bool,filterFactory:s.any,fontExtraProperties:s.bool,httpHeaders:s.object,isEvalSupported:s.bool,isOffscreenCanvasSupported:s.bool,length:s.number,maxImageSize:s.number,ownerDocument:s.any,password:s.string,pdfBug:s.bool,rangeChunkSize:s.number,StandardFontDataFactory:s.any,standardFontDataUrl:s.string,stopAtErrors:s.bool,useSystemFonts:s.bool,useWorkerFetch:s.bool,verbosity:s.number,withCredentials:s.bool,worker:s.any}),rotate:s.number});var C=k},16358:function(e,t,r){"use strict";var n=r(72791);t.Z=(0,n.createContext)(null)},35768:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(15671),i=r(43144),a=r(44554),o=function(){function e(){(0,n.Z)(this,e),this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}return(0,i.Z)(e,[{key:"setDocument",value:function(e){this.pdfDocument=e}},{key:"setViewer",value:function(e){this.pdfViewer=e}},{key:"setExternalLinkRel",value:function(e){this.externalLinkRel=e}},{key:"setExternalLinkTarget",value:function(e){this.externalLinkTarget=e}},{key:"setHistory",value:function(){}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return(0,a.Z)(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0},set:function(e){(0,a.Z)(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=e}},{key:"rotation",get:function(){return 0},set:function(e){}},{key:"goToDestination",value:function(e){var t=this;return new Promise((function(r){(0,a.Z)(t.pdfDocument,"PDF document not loaded."),(0,a.Z)(e,"Destination is not specified."),"string"===typeof e?t.pdfDocument.getDestination(e).then(r):Array.isArray(e)?r(e):e.then(r)})).then((function(e){(0,a.Z)(Array.isArray(e),'"'.concat(e,'" is not a valid destination array.'));var r=e[0];new Promise((function(e){(0,a.Z)(t.pdfDocument,"PDF document not loaded."),r instanceof Object?t.pdfDocument.getPageIndex(r).then((function(t){e(t)})).catch((function(){(0,a.Z)(!1,'"'.concat(r,'" is not a valid page reference.'))})):"number"===typeof r?e(r):(0,a.Z)(!1,'"'.concat(r,'" is not a valid destination reference.'))})).then((function(r){var n=r+1;(0,a.Z)(t.pdfViewer,"PDF viewer is not initialized."),(0,a.Z)(n>=1&&n<=t.pagesCount,'"'.concat(n,'" is not a valid page number.')),t.pdfViewer.scrollPageIntoView({dest:e,pageIndex:r,pageNumber:n})}))}))}},{key:"navigateTo",value:function(e){this.goToDestination(e)}},{key:"goToPage",value:function(e){var t=e-1;(0,a.Z)(this.pdfViewer,"PDF viewer is not initialized."),(0,a.Z)(e>=1&&e<=this.pagesCount,'"'.concat(e,'" is not a valid page number.')),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}},{key:"addLinkAttributes",value:function(e,t,r){e.href=t,e.rel=this.externalLinkRel||"noopener noreferrer nofollow",e.target=r?"_blank":this.externalLinkTarget||""}},{key:"getDestinationHash",value:function(){return"#"}},{key:"getAnchorUrl",value:function(){return"#"}},{key:"setHash",value:function(){}},{key:"executeNamedAction",value:function(){}},{key:"cachePageRef",value:function(){}},{key:"isPageVisible",value:function(){return!0}},{key:"isPageCached",value:function(){return!0}},{key:"executeSetOCGState",value:function(){}}]),e}()},48739:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(72791);function i(e){var t=e.children,r=e.type;return n.createElement("div",{className:"react-pdf__message react-pdf__message--".concat(r)},t)}},96695:function(e,t,r){"use strict";r.d(t,{Z:function(){return z}});var n=r(4942),i=r(29439),a=r(72791),o=r(52007),s=r(19330),l=r(24246),u=r(63733);function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.filter(Boolean);if(r.length<=1){var n=r[0];return n||null}return function(e){r.forEach((function(t){"function"===typeof t?t(e):t&&(t.current=e)}))}}var f=r(44554),p=r(15501),h=(0,a.createContext)(null),d=r(48739),v=r(51789),m={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},y=/^H(\d+)$/;function g(e){return"children"in e}function _(e){return!!g(e)&&(1===e.children.length&&0 in e.children&&"id"in e.children[0])}function b(e){var t={};if(g(e)){var r=e.role,n=r.match(y);if(n)t.role="heading",t["aria-level"]=Number(n[1]);else if(function(e){return e in m}(r)){var i=m[r];i&&(t.role=i)}}return t}function x(e){var t={};if(g(e)){if(void 0!==e.alt&&(t["aria-label"]=e.alt),void 0!==e.lang&&(t.lang=e.lang),_(e)){var r=(0,i.Z)(e.children,1)[0];if(r){var n=x(r);return Object.assign(Object.assign({},t),n)}}}else"id"in e&&(t["aria-owns"]=e.id);return t}function w(e){return e?Object.assign(Object.assign({},b(e)),x(e)):null}function S(e){var t=e.className,r=e.node,n=(0,a.useMemo)((function(){return w(r)}),[r]),i=(0,a.useMemo)((function(){return g(r)?_(r)?null:r.children.map((function(e,t){return a.createElement(S,{key:t,node:e})})):null}),[r]);return a.createElement("span",Object.assign({className:t},n),i)}function P(){return(0,a.useContext)(h)}var k=r(6711),E=r(78884);function C(){var e=P();(0,f.Z)(e,"Unable to find Page context.");var t=e.onGetStructTreeError,r=e.onGetStructTreeSuccess,n=(0,k.Z)(),o=(0,i.Z)(n,2),l=o[0],u=o[1],c=l.value,h=l.error,d=e.customTextRenderer,v=e.page;return(0,a.useEffect)((function(){u({type:"RESET"})}),[u,v]),(0,a.useEffect)((function(){if(!d&&v){var e=(0,s.Z)(v.getStructTree()),t=e;return e.promise.then((function(e){u({type:"RESOLVE",value:e})})).catch((function(e){u({type:"REJECT",error:e})})),function(){return(0,E.LJ)(t)}}}),[d,v,u]),(0,a.useEffect)((function(){void 0!==c&&(!1!==c?c&&r&&r(c):h&&((0,p.Z)(!1,h.toString()),t&&t(h)))}),[c]),c?a.createElement(S,{className:"react-pdf__Page__structTree structTree",node:c}):null}var A=v.Z.AnnotationMode;function T(e){var t=P();(0,f.Z)(t,"Unable to find Page context.");var r=Object.assign(Object.assign({},t),e),n=r._className,i=r.canvasBackground,o=r.devicePixelRatio,s=void 0===o?(0,E.x_)():o,l=r.onRenderError,u=r.onRenderSuccess,h=r.page,d=r.renderForms,v=r.renderTextLayer,m=r.rotate,y=r.scale,g=e.canvasRef;(0,f.Z)(h,"Attempted to render page canvas, but no page was specified.");var _=(0,a.useRef)(null);function b(e){(0,E.DE)(e)||((0,p.Z)(!1,e.toString()),l&&l(e))}var x=(0,a.useMemo)((function(){return h.getViewport({scale:y*s,rotation:m})}),[s,h,m,y]),w=(0,a.useMemo)((function(){return h.getViewport({scale:y,rotation:m})}),[h,m,y]);(0,a.useEffect)((function(){if(h){h.cleanup();var e=_.current;if(e){e.width=x.width,e.height=x.height,e.style.width="".concat(Math.floor(w.width),"px"),e.style.height="".concat(Math.floor(w.height),"px"),e.style.visibility="hidden";var t={annotationMode:d?A.ENABLE_FORMS:A.ENABLE,canvasContext:e.getContext("2d",{alpha:!1}),viewport:x};i&&(t.background=i);var r=h.render(t),n=r;return r.promise.then((function(){e.style.visibility="",h&&u&&u((0,E.XZ)(h,y))})).catch(b),function(){return(0,E.LJ)(n)}}}}),[i,_,s,h,d,x,w]);var S=(0,a.useCallback)((function(){var e=_.current;e&&(e.width=0,e.height=0)}),[_]);return(0,a.useEffect)((function(){return S}),[S]),a.createElement("canvas",{className:"".concat(n,"__canvas"),dir:"ltr",ref:c(g,_),style:{display:"block",userSelect:"none"}},v?a.createElement(C,null):null)}function O(){var e=P();(0,f.Z)(e,"Unable to find Page context.");var t=e._className,r=e.onRenderSuccess,n=e.onRenderError,o=e.page,l=e.rotate,u=e.scale;(0,f.Z)(o,"Attempted to render page SVG, but no page was specified.");var c=(0,k.Z)(),h=(0,i.Z)(c,2),d=h[0],m=h[1],y=d.value,g=d.error;var _=(0,a.useMemo)((function(){return o.getViewport({scale:u,rotation:l})}),[o,l,u]);(0,a.useEffect)((function(){m({type:"RESET"})}),[o,m,_]),(0,a.useEffect)((function(){if(o){var e=(0,s.Z)(o.getOperatorList());return e.promise.then((function(e){new v.Z.SVGGraphics(o.commonObjs,o.objs).getSVG(e,_).then((function(e){m({type:"RESOLVE",value:e})})).catch((function(e){m({type:"REJECT",error:e})}))})).catch((function(e){m({type:"REJECT",error:e})})),function(){return(0,E.LJ)(e)}}}),[o,m,_]),(0,a.useEffect)((function(){void 0!==y&&(!1!==y?o&&r&&r((0,E.XZ)(o,u)):g&&((0,E.DE)(g)||((0,p.Z)(!1,g.toString()),n&&n(g))))}),[y]);var b=_.width,x=_.height;return a.createElement("div",{className:"".concat(t,"__svg"),ref:function(e){return function(e){if(e&&y){e.firstElementChild||e.appendChild(y);var t=_.width,r=_.height;y.setAttribute("width","".concat(t)),y.setAttribute("height","".concat(r))}}(e)},style:{display:"block",backgroundColor:"white",overflow:"hidden",width:b,height:x,userSelect:"none"}})}function M(){var e=P();(0,f.Z)(e,"Unable to find Page context.");var t=e.customTextRenderer,r=e.onGetTextError,n=e.onGetTextSuccess,o=e.onRenderTextLayerError,l=e.onRenderTextLayerSuccess,c=e.page,h=e.pageIndex,d=e.pageNumber,m=e.rotate,y=e.scale;(0,f.Z)(c,"Attempted to load page text content, but no page was specified.");var g=(0,k.Z)(),_=(0,i.Z)(g,2),b=_[0],x=_[1],w=b.value,S=b.error,C=(0,a.useRef)(null),A=(0,a.useRef)();(0,p.Z)(1===parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10),"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer"),(0,a.useEffect)((function(){x({type:"RESET"})}),[c,x]),(0,a.useEffect)((function(){if(c){var e=(0,s.Z)(c.getTextContent()),t=e;return e.promise.then((function(e){x({type:"RESOLVE",value:e})})).catch((function(e){x({type:"REJECT",error:e})})),function(){return(0,E.LJ)(t)}}}),[c,x]),(0,a.useEffect)((function(){void 0!==w&&(!1!==w?w&&n&&n(w):S&&((0,p.Z)(!1,S.toString()),r&&r(S)))}),[w]);var T=(0,a.useCallback)((function(){l&&l()}),[l]),O=(0,a.useCallback)((function(e){(0,p.Z)(!1,e.toString()),o&&o(e)}),[o]);var M=(0,a.useMemo)((function(){return c.getViewport({scale:y,rotation:m})}),[c,m,y]);return(0,a.useLayoutEffect)((function(){if(c&&w){var e=C.current;if(e){e.innerHTML="";var r=c.streamTextContent({includeMarkedContent:!0}),n={container:e,textContentSource:r,viewport:M},i=v.Z.renderTextLayer(n),a=i;return i.promise.then((function(){var r=document.createElement("div");r.className="endOfContent",e.append(r),A.current=r;var n=Boolean(e.querySelector(".markedContent"))?e.querySelectorAll(".markedContent > *:not(.markedContent"):e.children;if(t){var i=0;w.items.forEach((function(e,r){if(function(e){return"str"in e}(e)){var a=n[i];if(a){var o=t(Object.assign({pageIndex:h,pageNumber:d,itemIndex:r},e));a.innerHTML=o,i+=e.str&&e.hasEOL?2:1}}}))}T()})).catch(O),function(){return(0,E.LJ)(a)}}}}),[t,O,T,c,h,d,w,M]),a.createElement("div",{className:(0,u.Z)("react-pdf__Page__textContent","textLayer"),onMouseUp:function(){var e=A.current;e&&e.classList.remove("active")},onMouseDown:function(){var e=A.current;e&&e.classList.add("active")},ref:C})}var I=r(16358);function F(){return(0,a.useContext)(I.Z)}function R(){var e=F();(0,f.Z)(e,"Unable to find Document context. Did you wrap <Page /> in <Document />?");var t=P();(0,f.Z)(t,"Unable to find Page context.");var r=Object.assign(Object.assign({},e),t),n=r.imageResourcesPath,o=r.linkService,l=r.onGetAnnotationsError,c=r.onGetAnnotationsSuccess,h=r.onRenderAnnotationLayerError,d=r.onRenderAnnotationLayerSuccess,m=r.page,y=r.pdf,g=r.renderForms,_=r.rotate,b=r.scale,x=void 0===b?1:b;(0,f.Z)(m,"Attempted to load page annotations, but no page was specified.");var w=(0,k.Z)(),S=(0,i.Z)(w,2),C=S[0],A=S[1],T=C.value,O=C.error,M=(0,a.useRef)(null);(0,p.Z)(1===parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10),"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations"),(0,a.useEffect)((function(){A({type:"RESET"})}),[A,m]),(0,a.useEffect)((function(){if(m){var e=(0,s.Z)(m.getAnnotations()),t=e;return e.promise.then((function(e){A({type:"RESOLVE",value:e})})).catch((function(e){A({type:"REJECT",error:e})})),function(){(0,E.LJ)(t)}}}),[A,m,g]),(0,a.useEffect)((function(){void 0!==T&&(!1!==T?T&&c&&c(T):O&&((0,p.Z)(!1,O.toString()),l&&l(O)))}),[T]);var I=(0,a.useMemo)((function(){return m.getViewport({scale:x,rotation:_})}),[m,_,x]);return(0,a.useEffect)((function(){if(y&&m&&T){var e=M.current;if(e){var t=I.clone({dontFlip:!0}),r={annotations:T,annotationStorage:y.annotationStorage,div:e,downloadManager:null,imageResourcesPath:n,linkService:o,page:m,renderForms:g,viewport:t};e.innerHTML="";try{v.Z.AnnotationLayer.render(r),d&&d()}catch(i){!function(e){(0,p.Z)(!1,"".concat(e)),h&&h(e)}(i)}return function(){}}}}),[T,n,o,m,g,I]),a.createElement("div",{className:(0,u.Z)("react-pdf__Page__annotations","annotationLayer"),ref:M})}var D=r(34122),j=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},L=function(e){var t,r=F();(0,f.Z)(r,"Unable to find Document context. Did you wrap <Page /> in <Document />?");var o=Object.assign(Object.assign({},r),e),v=o._className,m=void 0===v?"react-pdf__Page":v,y=o._enableRegisterUnregisterPage,g=void 0===y||y,_=o.canvasBackground,b=o.canvasRef,x=o.children,w=o.className,S=o.customRenderer,P=o.customTextRenderer,C=o.devicePixelRatio,A=o.error,I=void 0===A?"Failed to load the page.":A,D=o.height,L=o.inputRef,N=o.loading,z=void 0===N?"Loading page\u2026":N,B=o.noData,Z=void 0===B?"No page specified.":B,U=o.onGetAnnotationsError,V=o.onGetAnnotationsSuccess,G=o.onGetStructTreeError,W=o.onGetStructTreeSuccess,q=o.onGetTextError,H=o.onGetTextSuccess,Y=o.onLoadError,X=o.onLoadSuccess,K=o.onRenderAnnotationLayerError,$=o.onRenderAnnotationLayerSuccess,J=o.onRenderError,Q=o.onRenderSuccess,ee=o.onRenderTextLayerError,te=o.onRenderTextLayerSuccess,re=o.pageIndex,ne=o.pageNumber,ie=o.pdf,ae=o.registerPage,oe=o.renderAnnotationLayer,se=void 0===oe||oe,le=o.renderForms,ue=void 0!==le&&le,ce=o.renderMode,fe=void 0===ce?"canvas":ce,pe=o.renderTextLayer,he=void 0===pe||pe,de=o.rotate,ve=o.scale,me=void 0===ve?1:ve,ye=o.unregisterPage,ge=o.width,_e=j(o,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),be=(0,k.Z)(),xe=(0,i.Z)(be,2),we=xe[0],Se=xe[1],Pe=we.value,ke=we.error,Ee=(0,a.useRef)(null);(0,f.Z)(ie,"Attempted to load a page, but no document was specified.");var Ce=(0,E.T8)(ne)?ne-1:null!==re&&void 0!==re?re:null,Ae=null!==ne&&void 0!==ne?ne:(0,E.T8)(re)?re+1:null,Te=null!==de&&void 0!==de?de:Pe?Pe.rotate:null,Oe=(0,a.useMemo)((function(){if(!Pe)return null;var e=1,t=null!==me&&void 0!==me?me:1;if(ge||D){var r=Pe.getViewport({scale:1,rotation:Te});ge?e=ge/r.width:D&&(e=D/r.height)}return t*e}),[D,Pe,Te,me,ge]);(0,a.useEffect)((function(){return function(){(0,E.T8)(Ce)&&g&&ye&&ye(Ce)}}),[g,ie,Ce,ye]),(0,a.useEffect)((function(){Se({type:"RESET"})}),[Se,ie,Ce]),(0,a.useEffect)((function(){if(ie&&Ae){var e=(0,s.Z)(ie.getPage(Ae)),t=e;return e.promise.then((function(e){Se({type:"RESOLVE",value:e})})).catch((function(e){Se({type:"REJECT",error:e})})),function(){return(0,E.LJ)(t)}}}),[Se,ie,Ce,Ae,ae]),(0,a.useEffect)((function(){void 0!==Pe&&(!1!==Pe?function(){if(X){if(!Pe||!Oe)return;X((0,E.XZ)(Pe,Oe))}if(g&&ae){if(!(0,E.T8)(Ce)||!Ee.current)return;ae(Ce,Ee.current)}}():ke&&((0,p.Z)(!1,ke.toString()),Y&&Y(ke)))}),[Pe,Oe]);var Me=(0,a.useMemo)((function(){return Pe&&(0,E.T8)(Ce)&&Ae&&(0,E.T8)(Te)&&(0,E.T8)(Oe)?{_className:m,canvasBackground:_,customTextRenderer:P,devicePixelRatio:C,onGetAnnotationsError:U,onGetAnnotationsSuccess:V,onGetStructTreeError:G,onGetStructTreeSuccess:W,onGetTextError:q,onGetTextSuccess:H,onRenderAnnotationLayerError:K,onRenderAnnotationLayerSuccess:$,onRenderError:J,onRenderSuccess:Q,onRenderTextLayerError:ee,onRenderTextLayerSuccess:te,page:Pe,pageIndex:Ce,pageNumber:Ae,renderForms:ue,renderTextLayer:he,rotate:Te,scale:Oe}:null}),[m,_,P,C,U,V,G,W,q,H,K,$,J,Q,ee,te,Pe,Ce,Ae,ue,he,Te,Oe]),Ie=(0,a.useMemo)((function(){return(0,l.ZP)(_e,(function(){return Pe?Oe?(0,E.XZ)(Pe,Oe):void 0:Pe}))}),[_e,Pe,Oe]),Fe="".concat(Ce,"@").concat(Oe,"/").concat(Te),Re="".concat(Ce,"/").concat(Te);function De(){return a.createElement(h.Provider,{value:Me},function(){switch(fe){case"custom":return(0,f.Z)(S,'renderMode was set to "custom", but no customRenderer was passed.'),a.createElement(S,{key:"".concat(Fe,"_custom")});case"none":return null;case"svg":return a.createElement(O,{key:"".concat(Re,"_svg")});default:return a.createElement(T,{key:"".concat(Fe,"_canvas"),canvasRef:b})}}(),he?a.createElement(M,{key:"".concat(Fe,"_text")}):null,se?a.createElement(R,{key:"".concat(Fe,"_annotations")}):null,x)}return a.createElement("div",Object.assign({className:(0,u.Z)(m,w),"data-page-number":Ae,ref:c(L,Ee),style:(t={},(0,n.Z)(t,"--scale-factor","".concat(Oe)),(0,n.Z)(t,"backgroundColor",_||"white"),(0,n.Z)(t,"position","relative"),(0,n.Z)(t,"minWidth","min-content"),(0,n.Z)(t,"minHeight","min-content"),t)},Ie),Ae?null===ie||void 0===Pe||null===Pe?a.createElement(d.Z,{type:"loading"},"function"===typeof z?z():z):!1===ie||!1===Pe?a.createElement(d.Z,{type:"error"},"function"===typeof I?I():I):De():a.createElement(d.Z,{type:"no-data"},"function"===typeof Z?Z():Z))},N=o.oneOfType([o.func,o.node]);L.propTypes=Object.assign(Object.assign({},D.Gg),{canvasBackground:o.string,canvasRef:D.dq,children:o.node,className:D.$n,customRenderer:o.func,customTextRenderer:o.func,devicePixelRatio:o.number,error:N,height:o.number,imageResourcesPath:o.string,inputRef:D.dq,loading:N,noData:N,onGetTextError:o.func,onGetTextSuccess:o.func,onLoadError:o.func,onLoadSuccess:o.func,onRenderError:o.func,onRenderSuccess:o.func,onRenderTextLayerError:o.func,onRenderTextLayerSuccess:o.func,pageIndex:D.qd,pageNumber:D.F$,pdf:D.Ze,renderAnnotationLayer:o.bool,renderForms:o.bool,renderMode:D.DV,renderTextLayer:o.bool,rotate:D.lA,scale:o.number,width:o.number});var z=L},51789:function(e,t,r){"use strict";var n=r(43661),i=n;t.Z=i},6711:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(72791);function i(e,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function a(){return(0,n.useReducer)(i,{value:void 0,error:void 0})}},34122:function(e,t,r){"use strict";r.d(t,{$n:function(){return p},DV:function(){return g},F$:function(){return v},Gg:function(){return u},Ze:function(){return m},dq:function(){return y},lA:function(){return _},qd:function(){return d},zE:function(){return h}});var n=r(52007),i=r(24246),a=r(51789),o=r(78884),s=r(35768),l=a.Z.PDFDataRangeTransport,u=function(){var e={};return i.Tu.forEach((function(t){e[t]=n.func})),e}(),c=n.oneOfType([n.instanceOf(Int8Array),n.instanceOf(Uint8Array),n.instanceOf(Uint8ClampedArray),n.instanceOf(Int16Array),n.instanceOf(Uint16Array),n.instanceOf(Int32Array),n.instanceOf(Uint32Array),n.instanceOf(Float32Array),n.instanceOf(Float64Array)]),f=[n.string,n.instanceOf(ArrayBuffer),n.shape({data:n.oneOfType([n.string,n.instanceOf(ArrayBuffer),n.arrayOf(n.number.isRequired),c]).isRequired}),n.shape({range:n.instanceOf(l).isRequired}),n.shape({url:n.string.isRequired})];"undefined"!==typeof Blob&&f.push(n.instanceOf(Blob));var p=n.oneOfType([n.string,n.arrayOf(n.string)]),h=n.oneOfType(f),d=(n.instanceOf(s.Z),n.oneOf(["_self","_blank","_parent","_top"]),n.shape({commonObjs:n.shape({}).isRequired,getAnnotations:n.func.isRequired,getTextContent:n.func.isRequired,getViewport:n.func.isRequired,render:n.func.isRequired}),function(e,t,r){var n=e[t],i=e.pageNumber,a=e.pdf;if(!(0,o.$K)(a))return null;if((0,o.$K)(n)){if("number"!==typeof n)return new Error("`".concat(t,"` of type `").concat(typeof n,"` supplied to `").concat(r,"`, expected `number`."));if(n<0)return new Error("Expected `".concat(t,"` to be greater or equal to 0."));var s=a.numPages;if(n+1>s)return new Error("Expected `".concat(t,"` to be less or equal to ").concat(s-1,"."))}else if(!(0,o.$K)(i))return new Error("`".concat(t,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(r,"`."));return null}),v=function(e,t,r){var n=e[t],i=e.pageIndex,a=e.pdf;if(!(0,o.$K)(a))return null;if((0,o.$K)(n)){if("number"!==typeof n)return new Error("`".concat(t,"` of type `").concat(typeof n,"` supplied to `").concat(r,"`, expected `number`."));if(n<1)return new Error("Expected `".concat(t,"` to be greater or equal to 1."));var s=a.numPages;if(n>s)return new Error("Expected `".concat(t,"` to be less or equal to ").concat(s,"."))}else if(!(0,o.$K)(i))return new Error("`".concat(t,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(r,"`."));return null},m=n.oneOfType([n.any,n.oneOf([!1])]),y=n.oneOfType([n.func,n.exact({current:n.any})]),g=n.oneOf(["canvas","custom","none","svg"]),_=n.oneOf([0,90,180,270])},78884:function(e,t,r){"use strict";r.d(t,{$K:function(){return l},DE:function(){return _},LJ:function(){return y},Lj:function(){return f},T8:function(){return u},XZ:function(){return g},eP:function(){return c},eR:function(){return b},gJ:function(){return p},jU:function(){return o},tN:function(){return m},us:function(){return h},x_:function(){return d}});var n=r(29439),i=r(44554),a=r(15501),o="undefined"!==typeof document,s=o&&"file:"===window.location.protocol;function l(e){return"undefined"!==typeof e}function u(e){return l(e)&&null!==e}function c(e){return e instanceof ArrayBuffer}function f(e){return(0,i.Z)(o,"isBlob can only be used in a browser environment"),e instanceof Blob}function p(e){return function(e){return"string"===typeof e}(e)&&/^data:/.test(e)}function h(e){(0,i.Z)(p(e),"Invalid data URI.");var t=e.split(","),r=(0,n.Z)(t,2),a=r[0],o=void 0===a?"":a,s=r[1],l=void 0===s?"":s;return-1!==o.split(";").indexOf("base64")?atob(l):unescape(l)}function d(){return o&&window.devicePixelRatio||1}var v="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function m(){(0,a.Z)(!s,"Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ".concat(v))}function y(e){e&&e.cancel&&e.cancel()}function g(e,t){return Object.defineProperty(e,"width",{get:function(){return this.view[2]*t},configurable:!0}),Object.defineProperty(e,"height",{get:function(){return this.view[3]*t},configurable:!0}),Object.defineProperty(e,"originalWidth",{get:function(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get:function(){return this.view[3]},configurable:!0}),e}function _(e){return"RenderingCancelledException"===e.name}function b(e){return new Promise((function(t,r){var n=new FileReader;n.onload=function(){if(!n.result)return r(new Error("Error while reading a file."));t(n.result)},n.onerror=function(e){if(!e.target)return r(new Error("Error while reading a file."));var t=e.target.error;if(!t)return r(new Error("Error while reading a file."));switch(t.code){case t.NOT_FOUND_ERR:return r(new Error("Error while reading a file: File not found."));case t.SECURITY_ERR:return r(new Error("Error while reading a file: Security error."));case t.ABORT_ERR:return r(new Error("Error while reading a file: Aborted."));default:return r(new Error("Error while reading a file."))}},n.readAsArrayBuffer(e)}))}}}]);
//# sourceMappingURL=386.a34a6db4.chunk.js.map