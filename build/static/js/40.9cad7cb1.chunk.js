"use strict";(self.webpackChunkproperty_manage_system_web=self.webpackChunkproperty_manage_system_web||[]).push([[40],{68327:function(e,i,n){n.d(i,{c:function(){return bi}});var t=n(52642),a=n(80830),c=n(54333),o=n(39101),s=n(10098),r=n(22987),l=n(48096),d=n(57413),u=n(37128),m=n(38621),p=n(12025),h=n(52383),x=n(21226),b=n(88222),C=n(47555),g=n(38782),j=n(97038),D=n(563),v=n(41479),f=n(34948),S=n(32820),N=n(26652),y=n(69578),w=n(64539),P=n(61462),k=n(76986),F=n(10687),I=n(17412),_=n(81521),B=n(82546),E=n(57156),U=n(17055),z=n(31143),L=n(14467),T=n(24190),A=n(22655),M=n(99540),W=n(58819),G=n(90014),Z=n(1883),$=n(44631),q=n(19415),H=n(58675),J=n(3513),O=n(84620),R=n(69486),V=n(8301),X=n(95676),Y=n(17410),Q=n(20001),K=n(38533),ee=n(42562),ie=n(79041),ne=n(87857),te=n(7476),ae=n(41048),ce=n(67577),oe=n(18030),se=n(31017),re=n(35425),le=n(7600),de=n(82759),ue=n(31493),me=n(5885),pe=n(4031),he=n(38544),xe=n(3078),be=n(7022),Ce=n(23359),ge=n(9594),je=n(48425),De=n(43594),ve=n(77437),fe=n(49096),Se=n(73907),Ne=n(53666),ye=n(79794),we=n(77418),Pe=n(56931),ke=n(14799),Fe=n(22414),Ie=n(66619),_e=n(19467),Be=n(39228),Ee=n(17954),Ue=n(63232),ze=n(48293),Le=n(71976),Te=n(39277),Ae=n(28865),Me=n(73130),We=n(63578),Ge=n(17769),Ze=n(511),$e=n(85602),qe=n(79663),He=n(79143),Je=n(91250),Oe=n(72282),Re=n(99974),Ve=n(65487),Xe=n(39214),Ye=n(52312),Qe=n(74419),Ke=n(66460),ei=n(72337),ii=n(34708),ni=n(19261),ti=n(44430),ai=n(12419),ci=n(75640),oi=n(19033),si=n(22800),ri=n(99946),li=n(62412),di=n(13721),ui=n(71863),mi=n(43525),pi=n(15463),hi=n(66707),xi=n(87898),bi=Object.assign({},{cilAlignCenter:E.i,cilAlignLeft:U.n,cilAlignRight:z.e,cilApplicationsSettings:L.D,cilArrowRight:T.n,cilArrowTop:A.T,cilAsterisk:M.B,cilBan:W.E,cilBasket:G.o,cilBell:Z.$,cilBold:$.t,cilBookmark:q.$,cilCalculator:H.o,cilCalendar:J.J,cilCloudDownload:O.j,cilChartPie:R.M,cilCheck:V.J,cilChevronBottom:X.b,cilChevronLeft:Y.S,cilChevronRight:Q.z,cilChevronTop:K.V,cilCircle:ee.l,cilCheckCircle:ie._,cilCode:ne.I,cilCommentSquare:te.S,cilCreditCard:ae.W,cilCursor:ce.t,cilCursorMove:oe.q,cilDrop:se.M,cilDollar:re.T,cilEnvelopeClosed:le.W,cilEnvelopeLetter:de.v,cilEnvelopeOpen:ue.m,cilEuro:me.z,cilGlobeAlt:pe.e,cilGrid:he.x,cilFile:xe.D,cilFullscreen:be.L,cilFullscreenExit:Ce.i,cilGraph:ge.o,cilHome:je.I,cilInbox:De.s,cilIndentDecrease:ve.t,cilIndentIncrease:fe.q,cilInputPower:Se.g,cilItalic:Ne.U,cilJustifyCenter:ye.h,cilJustifyLeft:we.m,cilLaptop:Pe.U,cilLayers:ke.H,cilLightbulb:Fe.O,cilList:Ie.A,cilListNumbered:_e.N,cilListRich:Be.f,cilLocationPin:Ee.i,cilLockLocked:Ue.U,cilMagnifyingGlass:ze.M,cilMap:Le.T,cilMoon:Te.S,cilNotes:Ae.E,cilOptions:Me.t,cilPaperclip:We.y,cilPaperPlane:Ge.p,cilPencil:Ze.l,cilPeople:$e.g,cilPhone:qe.d,cilPrint:He.P,cilPuzzle:Je.Q,cilSave:Oe.F,cilScrubber:Re.Z,cilSettings:Ve.M,cilShare:Xe.a,cilShareAll:Ye.t,cilShareBoxed:Qe.n,cilShieldAlt:Ke.t,cilSpeech:ei.B,cilSpeedometer:ii.h,cilSpreadsheet:ni.o,cilStar:ti.m,cilSun:ai.O,cilTags:ci.f,cilTask:oi.W,cilTrash:si.N,cilUnderline:ri.L,cilUser:li.E,cilUserFemale:di.Q,cilUserFollow:ui.H,cilUserUnfollow:mi.z,cilX:pi.x,cilXCircle:hi.J,cilWarning:xi.D},{cifUs:P.E,cifBr:k.N,cifIn:F.J,cifFr:I.A,cifEs:_.z,cifPl:B.I},{cibSkype:t.F,cibFacebook:a.t,cibTwitter:c._,cibLinkedin:o.n,cibFlickr:s.r,cibTumblr:r.i,cibXing:l.n,cibGithub:d.G,cibStackoverflow:u.F,cibYoutube:m.N,cibDribbble:p.x,cibInstagram:h.d,cibPinterest:x.p,cibVk:b.o,cibYahoo:C.s,cibBehance:g.n,cibReddit:j.m,cibVimeo:D.R,cibCcMastercard:v.y,cibCcVisa:f.W,cibStripe:S.$,cibPaypal:N.G,cibGooglePay:y.S,cibCcAmex:w.I})},19246:function(e,i,n){n.d(i,{Wm:function(){return x},Jb:function(){return g},Ao:function(){return v},BX:function(){return S}});var t=n(72791),a=n(56994),c=n(42937),o=t.lazy((function(){return Promise.all([n.e(387),n.e(189)]).then(n.bind(n,28189))})),s=t.lazy((function(){return Promise.all([n.e(387),n.e(824)]).then(n.bind(n,21824))})),r=t.lazy((function(){return Promise.all([n.e(387),n.e(88)]).then(n.bind(n,99088))})),l=t.lazy((function(){return Promise.all([n.e(387),n.e(818)]).then(n.bind(n,45818))})),d=t.lazy((function(){return Promise.all([n.e(387),n.e(264)]).then(n.bind(n,12264))})),u=t.lazy((function(){return Promise.all([n.e(387),n.e(569),n.e(452)]).then(n.bind(n,9452))})),m=[{path:"/admin/",exact:!0,name:"Home"},{path:"/admin/users",exact:!0,name:"Users",component:o},{path:"/admin/users/new",exact:!0,name:"New User",component:r},{path:"/admin/users/:id",exact:!0,name:"User Details",component:s},{path:"/admin/edit/user/:id",exact:!0,name:"Edit User",component:r},{path:"/admin/file-upload",exact:!0,name:"FileUpload",component:t.lazy((function(){return Promise.all([n.e(569),n.e(342),n.e(243)]).then(n.bind(n,86243))}))},{path:"/admin/properties",exact:!0,name:"Properties",component:l},{path:"/admin/properties/new",exact:!0,name:"New Property",component:u},{path:"/admin/properties/:id",exact:!0,name:"Property Details",component:d},{path:"/admin/edit/property/:id",exact:!0,name:"Edit Property",component:u},{path:"/admin/properties/:id",exact:!0,name:"User Details",component:s}],p=n(80184),h=(c.Z,function(){return(0,p.jsx)(a.pG,{fixed:!1})}),x=t.memo(h),b=n(60364),C=n(15301),g=function(){var e=(0,b.useDispatch)(),i=(0,b.useSelector)((function(e){return e.admin.sidebarShow}));return(0,p.jsxs)(a.PO,{withSubheader:!0,children:[(0,p.jsx)(a.FP,{inHeader:!0,className:"ml-md-3 d-lg-none",onClick:function(){var n=!![!1,"responsive"].includes(i)||"responsive";e((0,C.YB)(n))}}),(0,p.jsx)(a.FP,{inHeader:!0,className:"ml-3 d-md-down-none",onClick:function(){var n=![!0,"responsive"].includes(i)&&"responsive";e((0,C.YB)(n))}}),(0,p.jsx)(a.qy,{className:"mx-auto d-lg-none",to:"/"}),(0,p.jsx)(a.g3,{className:"d-md-down-none mr-auto"}),(0,p.jsx)(a.g3,{className:"px-3",children:(0,p.jsx)(v,{})}),(0,p.jsx)(a.Mj,{className:"px-3 justify-content-between",children:(0,p.jsx)(a.s_,{className:"border-0 c-subheader-nav m-0 px-0 px-md-3",routes:m})})]})},j=n(16516),D=n(91523),v=function(){return(0,p.jsxs)(a.w5,{inNav:!0,className:"c-header-nav-items mx-2",direction:"down",children:[(0,p.jsx)(a.SQ,{className:"c-header-nav-link",caret:!1,children:(0,p.jsx)("div",{className:"c-avatar",children:(0,p.jsx)(a.sE,{src:"/assets/img/default-user.png",className:"c-avatar-img",style:{backgroundColor:"black"}})})}),(0,p.jsx)(a.$H,{className:"pt-0",placement:"bottom-end",children:(0,p.jsxs)(a.$f,{tag:D.rU,to:"/logout",children:[(0,p.jsx)(j.ZP,{name:"cil-lock-locked",className:"mfe-2"}),"Logout"]})})]})},f=function(){var e=(0,b.useDispatch)(),i=(0,b.useSelector)((function(e){return e.admin.sidebarShow}));return(0,p.jsxs)(a.z3,{show:i,onShowChange:function(i){return e((0,C.YB)(i))},children:[(0,p.jsxs)(a.Dl,{className:"d-md-down-none",to:"/",children:[(0,p.jsx)(a.sE,{className:"c-sidebar-brand-full",src:"/assets/img/logo-sm.png",height:35}),(0,p.jsx)(a.sE,{className:"c-sidebar-brand-minimized",src:"/assets/img/icon-white-small.png",height:35})]}),(0,p.jsx)(a.Xk,{children:(0,p.jsx)(a.gP,{items:[{_tag:"CSidebarNavTitle",_children:["Data"]},{_tag:"CSidebarNavItem",name:"Users",to:"/admin/users",icon:"cil-user"},{_tag:"CSidebarNavItem",name:"Properties",to:"/admin/properties",icon:"cil-home"},{_tag:"CSidebarNavTitle",_children:["Campaigns"]},{_tag:"CSidebarNavItem",name:"Email Campaigns",to:"/admin/email-campaigns",icon:"cil-home"},{_tag:"CSidebarNavItem",name:"Templates",to:"/admin/templates",icon:"cil-home"},{_tag:"CSidebarNavTitle",_children:["Marketing"]},{_tag:"CSidebarNavItem",name:"Coupons",to:"/admin/coupons",icon:"cil-user"},{_tag:"CSidebarNavItem",name:"Flyer",to:"/admin/flyers",icon:"cil-user"},{_tag:"CSidebarNavItem",name:"Promting Events",to:"/admin/events",icon:"cil-user"}],components:{CSidebarNavDivider:a.IE,CSidebarNavDropdown:a.Uu,CSidebarNavItem:a.g$,CSidebarNavTitle:a.Ig}})}),(0,p.jsx)(a.p_,{className:"c-d-md-down-none"})]})},S=t.memo(f)},45040:function(e,i,n){n.r(i);var t=n(1413),a=n(29439),c=n(56994),o=n(70456),s=n(72791),r=n(60364),l=n(64880),d=n(64064),u=n(15301),m=n(19246),p=(n(83309),n(68327),n(72426)),h=n.n(p),x=n(59513),b=n.n(x),C=(n(68639),n(80184)),g=d.Ry().shape({couponCode:d.Z_().required("Coupon Code is required"),couponDescription:d.Z_().required("full name is required")});i.default=function(e){var i=e.match,n=(0,r.useDispatch)(),d=(0,l.k6)(),p=(0,r.useSelector)((function(e){return e.auth.me})),x=new Date,j=(0,o.TA)({initialValues:{id:i.params.id,couponCode:"",couponDescription:"",amountDiscount:"",percentageDiscount:"",startDate:x,expireDate:x,ownerId:p.id},validationSchema:g,onSubmit:function(e,t){var a=t.setSubmitting;a(!0);var c={id:i.params.id,data:{couponCode:e.couponCode,couponDescription:e.couponDescription,amountDiscount:e.amountDiscount.includes("%")?0:parseFloat(e.amountDiscount),percentageDiscount:e.amountDiscount.includes("%")?parseFloat(e.amountDiscount.replace("%","")/100):0,startDate:U,expireDate:A,ownerId:p.id}};n((0,u.Tj)(c)).then((function(){i.params.id?d.push("/admin/coupons/".concat(i.params.id)):d.push("/admin/coupons")})).catch((function(){return a(!1)}))}}),D=j.handleChange,v=j.handleBlur,f=j.handleSubmit,S=j.errors,N=j.touched,y=j.values,w=j.isValid,P=j.isSubmitting,k=j.resetForm,F=j.setValues,I=(j.setFieldValue,j.setFieldTouched,(0,s.useState)(!0)),_=(0,a.Z)(I,2);_[0],_[1];(0,s.useEffect)((function(){i.params.id&&n((0,u.v3)(i.params.id)).then((function(e){var i=e.value,n={id:i.data.id,couponCode:i.data.attributes.couponCode,couponDescription:i.data.attributes.couponDescription,amountDiscount:parseInt(100*i.data.attributes.percentageDiscount)>0?parseInt(100*i.data.attributes.percentageDiscount)+"%":i.data.attributes.amountDiscount,startDate:i.data.attributes.startDate,expireDate:i.data.attributes.expireDate};F((0,t.Z)({},n))}))}),[n,p,i.params.id,F]);var B=(0,s.useState)(new Date(h()().add(1,"days").toISOString())),E=(0,a.Z)(B,2),U=E[0],z=E[1],L=(0,s.useState)(new Date(h()().add(30,"days").toISOString())),T=(0,a.Z)(L,2),A=T[0],M=T[1];return(0,C.jsxs)("div",{className:"c-app c-default-layout",children:[(0,C.jsx)(m.BX,{}),(0,C.jsxs)("div",{className:"c-wrapper",children:[(0,C.jsx)(m.Jb,{}),(0,C.jsx)("div",{className:"c-body",children:(0,C.jsx)("main",{className:"c-main",children:(0,C.jsx)(c.KB,{fluid:!0,className:"h-100",children:(0,C.jsx)("div",{className:"content",children:(0,C.jsx)(c.rb,{children:(0,C.jsx)(c.b7,{md:12,children:(0,C.jsx)(c.lx,{onSubmit:f,children:(0,C.jsxs)(c.xH,{children:[(0,C.jsxs)(c.bn,{children:["Coupon id: ",i.params.id]}),(0,C.jsxs)(c.sl,{children:[(0,C.jsx)(c.b7,{xs:"12",children:(0,C.jsxs)(c.We,{children:[(0,C.jsx)(c.cc,{htmlFor:"couponCode",children:"Coupon Code"}),(0,C.jsx)(c.C$,{id:"couponCode",name:"couponCode",onChange:D,onBlur:v,value:y.couponCode,invalid:N.couponCode&&S.couponCode}),(0,C.jsx)(c.ev,{children:S.couponCode})]})}),(0,C.jsx)(c.b7,{xs:"12",children:(0,C.jsxs)(c.We,{children:[(0,C.jsx)(c.cc,{htmlFor:"couponDescription",children:"Coupon Description"}),(0,C.jsx)(c.C$,{id:"couponDescription",name:"couponDescription",onChange:D,onBlur:v,value:y.couponDescription,invalid:N.couponDescription&&S.couponDescription}),(0,C.jsx)(c.ev,{children:S.couponDescription})]})}),(0,C.jsx)(c.b7,{xs:"12",children:(0,C.jsxs)(c.We,{children:[(0,C.jsx)(c.cc,{htmlFor:"amountDiscount",children:"Discount: (For percentage: add %). Ex. 50 or 20% "}),(0,C.jsx)(c.C$,{id:"amountDiscount",name:"amountDiscount",onChange:D,onBlur:v,value:y.amountDiscount,invalid:N.amountDiscount&&S.amountDiscount}),(0,C.jsx)(c.ev,{children:S.amountDiscount})]})}),(0,C.jsx)(c.b7,{xs:"12",children:(0,C.jsxs)(c.We,{children:[(0,C.jsx)(c.cc,{htmlFor:"amountDiscount",children:"Start Date"}),(0,C.jsx)("br",{}),(0,C.jsx)(b(),{selected:U,onChange:function(e){return z(e)},selectsStart:!0,startDate:U,endDate:A,dateFormat:"dd/MM/yyyy"})]})}),(0,C.jsx)(c.b7,{xs:"12",children:(0,C.jsxs)(c.We,{children:[(0,C.jsx)(c.cc,{htmlFor:"amountDiscount",children:"Expire Date"}),(0,C.jsx)("br",{}),(0,C.jsx)(b(),{selected:A,onChange:function(e){return M(e)},selectsEnd:!0,startDate:U,endDate:A,dateFormat:"dd/MM/yyyy"})]})})]}),(0,C.jsxs)(c.Bt,{className:"text-right",children:[(0,C.jsx)(c.u5,{disabled:!w||P,type:"submit",size:"sm",color:"primary",children:P?(0,C.jsx)(c.LQ,{size:"sm"}):"Submit"})," ",(0,C.jsx)(c.u5,{type:"reset",size:"sm",color:"danger",onClick:function(){return k()},children:"Reset"})]})]})})})})})})})}),(0,C.jsx)(m.Wm,{})]})]})}},83309:function(){}}]);
//# sourceMappingURL=40.9cad7cb1.chunk.js.map