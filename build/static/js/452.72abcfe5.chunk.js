"use strict";(self.webpackChunkproperty_manage_system_web=self.webpackChunkproperty_manage_system_web||[]).push([[452],{68327:function(e,i,l){l.d(i,{c:function(){return bi}});var c=l(52642),r=l(80830),a=l(54333),n=l(39101),s=l(10098),t=l(22987),o=l(48096),d=l(57413),u=l(37128),h=l(38621),p=l(12025),m=l(52383),x=l(21226),b=l(88222),f=l(47555),j=l(38782),g=l(97038),v=l(563),C=l(41479),S=l(34948),y=l(32820),_=l(26652),k=l(69578),F=l(64539),B=l(61462),N=l(76986),w=l(10687),A=l(17412),P=l(81521),L=l(82546),T=l(57156),Z=l(17055),I=l(31143),E=l(14467),U=l(24190),W=l(22655),D=l(99540),z=l(58819),J=l(90014),M=l(1883),R=l(44631),G=l(19415),O=l(58675),V=l(3513),$=l(84620),q=l(69486),H=l(8301),Q=l(95676),X=l(17410),Y=l(20001),K=l(38533),ee=l(42562),ie=l(79041),le=l(87857),ce=l(7476),re=l(41048),ae=l(67577),ne=l(18030),se=l(31017),te=l(35425),oe=l(7600),de=l(82759),ue=l(31493),he=l(5885),pe=l(4031),me=l(38544),xe=l(3078),be=l(7022),fe=l(23359),je=l(9594),ge=l(48425),ve=l(43594),Ce=l(77437),Se=l(49096),ye=l(73907),_e=l(53666),ke=l(79794),Fe=l(77418),Be=l(56931),Ne=l(14799),we=l(22414),Ae=l(66619),Pe=l(19467),Le=l(39228),Te=l(17954),Ze=l(63232),Ie=l(48293),Ee=l(71976),Ue=l(39277),We=l(28865),De=l(73130),ze=l(63578),Je=l(17769),Me=l(511),Re=l(85602),Ge=l(79663),Oe=l(79143),Ve=l(91250),$e=l(72282),qe=l(99974),He=l(65487),Qe=l(39214),Xe=l(52312),Ye=l(74419),Ke=l(66460),ei=l(72337),ii=l(34708),li=l(19261),ci=l(44430),ri=l(12419),ai=l(75640),ni=l(19033),si=l(22800),ti=l(99946),oi=l(62412),di=l(13721),ui=l(71863),hi=l(43525),pi=l(15463),mi=l(66707),xi=l(87898),bi=Object.assign({},{cilAlignCenter:T.i,cilAlignLeft:Z.n,cilAlignRight:I.e,cilApplicationsSettings:E.D,cilArrowRight:U.n,cilArrowTop:W.T,cilAsterisk:D.B,cilBan:z.E,cilBasket:J.o,cilBell:M.$,cilBold:R.t,cilBookmark:G.$,cilCalculator:O.o,cilCalendar:V.J,cilCloudDownload:$.j,cilChartPie:q.M,cilCheck:H.J,cilChevronBottom:Q.b,cilChevronLeft:X.S,cilChevronRight:Y.z,cilChevronTop:K.V,cilCircle:ee.l,cilCheckCircle:ie._,cilCode:le.I,cilCommentSquare:ce.S,cilCreditCard:re.W,cilCursor:ae.t,cilCursorMove:ne.q,cilDrop:se.M,cilDollar:te.T,cilEnvelopeClosed:oe.W,cilEnvelopeLetter:de.v,cilEnvelopeOpen:ue.m,cilEuro:he.z,cilGlobeAlt:pe.e,cilGrid:me.x,cilFile:xe.D,cilFullscreen:be.L,cilFullscreenExit:fe.i,cilGraph:je.o,cilHome:ge.I,cilInbox:ve.s,cilIndentDecrease:Ce.t,cilIndentIncrease:Se.q,cilInputPower:ye.g,cilItalic:_e.U,cilJustifyCenter:ke.h,cilJustifyLeft:Fe.m,cilLaptop:Be.U,cilLayers:Ne.H,cilLightbulb:we.O,cilList:Ae.A,cilListNumbered:Pe.N,cilListRich:Le.f,cilLocationPin:Te.i,cilLockLocked:Ze.U,cilMagnifyingGlass:Ie.M,cilMap:Ee.T,cilMoon:Ue.S,cilNotes:We.E,cilOptions:De.t,cilPaperclip:ze.y,cilPaperPlane:Je.p,cilPencil:Me.l,cilPeople:Re.g,cilPhone:Ge.d,cilPrint:Oe.P,cilPuzzle:Ve.Q,cilSave:$e.F,cilScrubber:qe.Z,cilSettings:He.M,cilShare:Qe.a,cilShareAll:Xe.t,cilShareBoxed:Ye.n,cilShieldAlt:Ke.t,cilSpeech:ei.B,cilSpeedometer:ii.h,cilSpreadsheet:li.o,cilStar:ci.m,cilSun:ri.O,cilTags:ai.f,cilTask:ni.W,cilTrash:si.N,cilUnderline:ti.L,cilUser:oi.E,cilUserFemale:di.Q,cilUserFollow:ui.H,cilUserUnfollow:hi.z,cilX:pi.x,cilXCircle:mi.J,cilWarning:xi.D},{cifUs:B.E,cifBr:N.N,cifIn:w.J,cifFr:A.A,cifEs:P.z,cifPl:L.I},{cibSkype:c.F,cibFacebook:r.t,cibTwitter:a._,cibLinkedin:n.n,cibFlickr:s.r,cibTumblr:t.i,cibXing:o.n,cibGithub:d.G,cibStackoverflow:u.F,cibYoutube:h.N,cibDribbble:p.x,cibInstagram:m.d,cibPinterest:x.p,cibVk:b.o,cibYahoo:f.s,cibBehance:j.n,cibReddit:g.m,cibVimeo:v.R,cibCcMastercard:C.y,cibCcVisa:S.W,cibStripe:y.$,cibPaypal:_.G,cibGooglePay:k.S,cibCcAmex:F.I})},28958:function(e,i,l){l.d(i,{Z:function(){return n}});var c=l(74569),r=l.n(c)().create({headers:{"Content-type":"application/json"}}),a=l(83708),n={upload:function(e,i,l){var c=new FormData;return c.append("files",e),r.post(a.rq+"/upload",c,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(i)},onUploadProgress:l})},getFiles:function(e){return r.get(a.rq+"/upload/files?_limit=10&_start=0&_sort=updatedAt:DESC")}}},9452:function(e,i,l){l.r(i);var c=l(74165),r=l(1413),a=l(15861),n=l(29439),s=l(56994),t=l(70456),o=l(72791),d=l(60364),u=l(64880),h=l(15301),p=l(28958),m=(l(14934),l(19246)),x=(l(83309),l(68327),l(80184));i.default=function(e){var i=e.match,l=(0,o.useState)(void 0),b=(0,n.Z)(l,2),f=b[0],j=b[1],g=(0,o.useState)(void 0),v=(0,n.Z)(g,2),C=v[0],S=v[1],y=(0,o.useState)(void 0),_=(0,n.Z)(y,2),k=_[0],F=_[1],B=(0,o.useState)(0),N=(0,n.Z)(B,2),w=N[0],A=N[1],P=(0,d.useDispatch)(),L=(0,u.k6)(),T=((0,d.useSelector)((function(e){return e.auth.me})),(0,d.useSelector)((function(e){return e.auth.jwt}))),Z=(0,t.TA)({initialValues:{id:i.params.id,address:"",area:"",serial_no:"",application_form_url:"",plans_url:"",acreage:""},onSubmit:function(){var e=(0,a.Z)((0,c.Z)().mark((function e(l,a){var n,s,t,o,d;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,a.setSubmitting)(!0),n="",s="",i.params.id&&(n=k.application_form_url,s=k.plans_url),void 0!==f){e.next=8;break}e.next=12;break;case 8:return e.next=10,p.Z.upload(f[0],T,null);case 10:t=e.sent,n=t.data[0].url;case 12:if(void 0!==C){e.next=15;break}e.next=19;break;case 15:return e.next=17,p.Z.upload(C[0],T,null);case 17:o=e.sent,s=o.data[0].url;case 19:"lowRise"===l.settlementType&&(l.unitNo=""),d=(0,r.Z)((0,r.Z)({},l),{},{application_form_url:n,plans_url:s}),console.log("save property="+JSON.stringify(d)),P((0,h.Yf)(d)).then((function(){i.params.id?L.push("/admin/properties/".concat(i.params.id)):L.push("/admin/properties")}));case 23:case"end":return e.stop()}}),e)})));return function(i,l){return e.apply(this,arguments)}}()}),I=Z.handleChange,E=Z.handleSubmit,U=Z.handleBlur,W=Z.errors,D=Z.touched,z=Z.values,J=(Z.isValid,Z.isSubmitting),M=Z.resetForm,R=Z.setValues;Z.setFieldValue,Z.setFieldTouched;(0,o.useEffect)((function(){i.params.id&&P((0,h.fF)(i.params.id)).then((function(e){var i=e.value;F(i),R((0,r.Z)((0,r.Z)({},i),i.location))}))}),[P,i.params.id,R]);return(0,x.jsxs)("div",{className:"c-app c-default-layout",children:[(0,x.jsx)(m.BX,{}),(0,x.jsxs)("div",{className:"c-wrapper",children:[(0,x.jsx)(m.Jb,{}),(0,x.jsx)("div",{className:"c-body",children:(0,x.jsx)("main",{className:"c-main",children:(0,x.jsx)(s.KB,{fluid:!0,className:"h-100",children:(0,x.jsx)("div",{className:"content",children:(0,x.jsxs)(s.im,{activeTab:"home",onActiveTabChange:function(e){return A(e)},children:[(0,x.jsx)(s.n2,{variant:"tabs",children:(0,x.jsx)(s.U6,{children:(0,x.jsx)(s.AQ,{"data-tab":"home",children:i.params.id?"Record id: ".concat(i.params.id):"New Property"})})}),(0,x.jsx)(s.gr,{children:(0,x.jsx)(s.IA,{"data-tab":"home",children:(0,x.jsx)(s.rb,{active:0===w,children:(0,x.jsx)(s.b7,{md:10,children:(0,x.jsx)(s.lx,{onSubmit:E,children:(0,x.jsxs)(s.xH,{children:[(0,x.jsxs)(s.sl,{children:[(0,x.jsx)(s.b7,{xs:"12",children:(0,x.jsxs)(s.We,{children:[(0,x.jsx)(s.cc,{htmlFor:"area",children:"\u5730\u533a"}),(0,x.jsx)(s.C$,{id:"area",name:"area",onChange:I,onBlur:U,value:z.area,invalid:D.area&&W.area}),(0,x.jsx)(s.ev,{children:W.area})]})}),(0,x.jsx)(s.b7,{xs:"12",children:(0,x.jsxs)(s.We,{children:[(0,x.jsx)(s.cc,{htmlFor:"serial_no",children:"\u7f16\u53f7"}),(0,x.jsx)(s.C$,{id:"serial_no",name:"serial_no",onChange:I,onBlur:U,value:z.serial_no,invalid:D.serial_no&&W.serial_no}),(0,x.jsx)(s.ev,{children:W.serial_no})]})}),(0,x.jsx)(s.b7,{xs:"12",children:(0,x.jsxs)(s.We,{children:[(0,x.jsx)(s.cc,{htmlFor:"address",children:"\u5730\u5740"}),(0,x.jsx)(s.C$,{id:"address",name:"address",onChange:I,onBlur:U,value:z.address,invalid:D.address&&W.address}),(0,x.jsx)(s.ev,{children:W.address})]})}),(0,x.jsx)(s.b7,{xs:"12",children:(0,x.jsxs)(s.We,{children:[(0,x.jsx)(s.cc,{htmlFor:"locality",children:"\u5730\u5740\u4fe1\u606f \xa0\xa0"}),(0,x.jsxs)(s.cc,{htmlFor:"fileName",children:[z.application_form_url," \xa0\xa0"]}),(0,x.jsx)("br",{}),(0,x.jsx)("input",{type:"file",onChange:function(e){j(e.target.files),console.log("file selected.."+JSON.stringify(e.target.files))}})]})}),(0,x.jsx)(s.b7,{xs:"12",children:(0,x.jsxs)(s.We,{children:[(0,x.jsx)(s.cc,{htmlFor:"locality",children:"\u5730\u5740\u56fe\u7eb8\xa0\xa0"}),(0,x.jsxs)(s.cc,{htmlFor:"fileName",children:[z.plans_url," \xa0\xa0"]}),(0,x.jsx)("br",{}),(0,x.jsx)("input",{type:"file",onChange:function(e){S(e.target.files),console.log("file selected.."+JSON.stringify(e.target.files))}})]})}),(0,x.jsx)(s.b7,{xs:"12",children:(0,x.jsxs)(s.We,{children:[(0,x.jsx)(s.cc,{htmlFor:"acreage",children:"\u9762\u79ef"}),(0,x.jsx)(s.C$,{id:"acreage",name:"acreage",onChange:I,onBlur:U,value:z.acreage,invalid:D.acreage&&W.acreage}),(0,x.jsx)(s.ev,{children:W.acreage})]})})]}),(0,x.jsxs)(s.Bt,{className:"text-right",children:[(0,x.jsx)(s.u5,{type:"submit",size:"sm",color:"primary",children:J?(0,x.jsx)(s.LQ,{size:"sm"}):"Submit"})," ",(0,x.jsx)(s.u5,{type:"reset",size:"sm",color:"danger",onClick:function(){return M()},children:"Reset"})]})]})})})})})})]})})})})}),(0,x.jsx)(m.Wm,{})]})]})}}}]);
//# sourceMappingURL=452.72abcfe5.chunk.js.map