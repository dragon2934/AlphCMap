"use strict";(self.webpackChunkproperty_manage_system_web=self.webpackChunkproperty_manage_system_web||[]).push([[818],{45818:function(e,t,r){r.r(t);var n=r(1413),a=r(29439),s=r(56994),i=r(72791),o=r(60364),c=r(64880),l=r(91523),u=r(15301),d=r(14934),p=r(80184);t.default=function(){var e=(0,c.k6)(),t=(0,c.TH)().search.match(/page=([0-9]+)/,""),r=Number(t&&t[1]?t[1]:1),m=(0,i.useState)(r),h=(0,a.Z)(m,2),f=h[0],g=h[1],x=(0,i.useState)(!0),b=(0,a.Z)(x,2),j=b[0],y=b[1],w=(0,i.useState)(0),_=(0,a.Z)(w,2),k=(_[0],_[1]),v=(0,o.useSelector)((function(e){return e.auth.me}));(0,i.useEffect)((function(){r!==f&&g(r)}),[r,f]);var N=(0,o.useDispatch)(),S=(0,o.useSelector)((function(e){return e.admin.properties}));return(0,i.useEffect)((function(){return y(!0),N((0,u.lo)({page:f,pageSize:1e6,roleName:v.role.name})).finally((function(){return y(!1)})),function(){}}),[N,f]),(0,i.useEffect)((function(){return N((0,u.c2)()).then((function(e){var t=e.value;return k(parseInt(t))})),function(){}}),[N]),console.log("properties: ",S),(0,p.jsxs)("main",{children:[(0,p.jsx)(d.Z,{}),(0,p.jsx)("div",{className:"content",children:(0,p.jsx)(s.rb,{children:(0,p.jsx)(s.b7,{children:(0,p.jsxs)(s.xH,{children:[(0,p.jsxs)(s.bn,{children:["Properties",(0,p.jsx)("small",{className:"text-muted",children:" Properties"}),(0,p.jsxs)("div",{className:"card-header-actions",children:[(0,p.jsx)(s.u5,{tag:l.rU,to:"/admin/file-upload",className:"btn-ghost-primary h-auto",size:"sm",color:"primary",children:"File Upload"})," \xa0\xa0\xa0\xa0",(0,p.jsx)(s.u5,{tag:l.rU,to:"/admin/properties/new",className:"btn-ghost-primary h-auto",size:"sm",color:"primary",children:"New Property"})]})]}),(0,p.jsx)(s.sl,{children:(0,p.jsx)(s.x,{items:S.map((function(e){return(0,n.Z)((0,n.Z)({},e),{},{createdAt:e.createdAt.toString().split("T")[0],serial_no:parseInt(e.serial_no),location:"["+e.location.latitude+","+e.location.longitude+"]"})})),loading:j,fields:[{key:"address",_classes:"font-weight-bold"},"area","serial_no","acreage","location","createdAt"],hover:!0,striped:!0,sorter:!0,tableFilter:{placeholder:"Keywords..."},itemsPerPage:20,pagination:!0,clickableRows:!0,onRowClick:function(t){return e.push("/admin/properties/".concat(t.id))}})})]})})})})]})}}}]);
//# sourceMappingURL=818.ec876890.chunk.js.map