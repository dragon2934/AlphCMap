"use strict";(self.webpackChunkproperty_manage_system_web=self.webpackChunkproperty_manage_system_web||[]).push([[88],{99088:function(e,s,r){r.r(s);var i=r(29439),n=r(1413),a=r(56994),l=r(25066),t=r(72791),o=r(60364),d=r(64880),m=r(64064),u=r(15301),c=r(79318),h=r(14934),x=r(80184),j=m.Ry().shape({mobileNumber:m.Rx().required("Mobile number is required"),firstName:m.Z_(),lastName:m.Z_(),password:m.Z_().min(6,"Password is  too Short!").max(16,"Password is too Long!"),role:m.Z_().required("Role is required")});s.default=function(e){var s=e.match,r=(0,o.useDispatch)(),m=(0,d.k6)(),p=(0,o.useSelector)((function(e){return e.admin.roles})),b=(0,o.useSelector)((function(e){return e.auth.me})),v=(0,l.TA)({initialValues:{id:s.params.id,mobileNumber:"",firstName:"",lastName:"",email:"",password:"",username:"",role:"",emailVerified:!0,mobileVerified:!0,createAt:"",blocked:!1,confirmed:!0,location:{}},validationSchema:j,onSubmit:function(e,i){var a=i.setSubmitting;if(a(!0),"PropertyManager"===b.role.name){var l=(0,n.Z)((0,n.Z)({},e),{},{tenant:b.tenant});r((0,u.h4)(l)).then((function(){s.params.id?m.push("/admin/users/".concat(s.params.id)):m.push("/admin/users")})).catch((function(){return a(!1)}))}else{var t=(0,n.Z)((0,n.Z)({},e),{},{tenant:b.tenant});r((0,u.JR)(t)).then((function(){s.params.id?m.push("/admin/users/".concat(s.params.id)):m.push("/admin/users")})).catch((function(){return a(!1)}))}}}),f=v.handleChange,N=v.handleBlur,g=v.handleSubmit,C=v.errors,F=v.touched,w=v.values,Z=v.isValid,y=v.isSubmitting,S=v.resetForm,_=v.setValues,B=v.setFieldValue,V=v.setFieldTouched,k=(0,t.useState)(!0),T=(0,i.Z)(k,2);T[0],T[1];return(0,t.useEffect)((function(){s.params.id&&r((0,u.BT)(s.params.id)).then((function(e){var s=e.value;delete s.user_alert,_((0,n.Z)((0,n.Z)({},s),{},{role:s.role.id})),console.log("property ="+JSON.stringify(s.property))}))}),[r,b,s.params.id,_]),(0,t.useEffect)((function(){r((0,u.vd)())}),[r]),(0,x.jsxs)("main",{children:[(0,x.jsx)(h.Z,{}),(0,x.jsx)("div",{className:"content",children:(0,x.jsx)(a.rb,{children:(0,x.jsx)(a.b7,{md:12,children:(0,x.jsx)(a.lx,{onSubmit:g,children:(0,x.jsxs)(a.xH,{children:[(0,x.jsxs)(a.bn,{children:["User id: ",s.params.id]}),(0,x.jsxs)(a.sl,{children:[(0,x.jsx)(a.b7,{xs:"12",children:(0,x.jsxs)(a.We,{children:[(0,x.jsx)(a.cc,{htmlFor:"firstName",children:"First Name"}),(0,x.jsx)(a.C$,{id:"firstName",name:"firstName",onChange:f,onBlur:N,value:w.firstName,invalid:F.firstName&&C.firstName}),(0,x.jsx)(a.ev,{children:C.firstName})]})}),(0,x.jsx)(a.b7,{xs:"12",children:(0,x.jsxs)(a.We,{children:[(0,x.jsx)(a.cc,{htmlFor:"lastName",children:"Last Name"}),(0,x.jsx)(a.C$,{id:"lastName",name:"lastName",onChange:f,onBlur:N,value:w.lastName,invalid:F.lastName&&C.lastName}),(0,x.jsx)(a.ev,{children:C.lastName})]})}),(0,x.jsx)(a.b7,{xs:"12",children:(0,x.jsxs)(a.We,{children:[(0,x.jsx)(a.cc,{htmlFor:"username",children:"User Name"}),(0,x.jsx)(a.C$,{id:"username",name:"username",onChange:f,onBlur:N,value:w.username,invalid:F.username&&C.username}),(0,x.jsx)(a.ev,{children:C.username})]})}),(0,x.jsx)(a.b7,{xs:"12",children:(0,x.jsxs)(a.We,{children:[(0,x.jsx)(a.cc,{htmlFor:"mobileNumber",children:"Mobile Number"}),(0,x.jsx)(c.Z,{setFieldValue:B,setFieldTouched:V,placeholder:"Mobile Number",name:"mobileNumber",value:w.mobileNumber,invalid:F.mobileNumber&&C.mobileNumber}),(0,x.jsx)(a.ev,{children:C.mobileNumber})]})}),(0,x.jsx)(a.b7,{xs:"12",children:(0,x.jsxs)(a.We,{children:[(0,x.jsx)(a.cc,{htmlFor:"email",children:"Email"}),(0,x.jsx)(a.C$,{id:"email",name:"email",onChange:f,onBlur:N,value:w.email,invalid:F.email&&C.email}),(0,x.jsx)(a.ev,{children:C.email})]})}),(0,x.jsx)(a.b7,{xs:"12",children:(0,x.jsxs)(a.We,{children:[(0,x.jsx)(a.cc,{htmlFor:"role",children:"Role"}),(0,x.jsxs)(a.TD,{custom:!0,id:"role",name:"role",onChange:f,onBlur:N,value:w.role,invalid:F.role&&C.role,children:[(0,x.jsx)("option",{value:"",children:"Please select"}),p.map((function(e){return(0,x.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),(0,x.jsx)(a.ev,{children:C.role})]})}),(0,x.jsx)(a.b7,{xs:"12",children:(0,x.jsxs)(a.We,{children:[(0,x.jsx)(a.cc,{htmlFor:"password",children:"Password"}),(0,x.jsx)(a.C$,{id:"password",name:"password",onChange:f,onBlur:N,value:w.password,invalid:F.password&&C.password}),(0,x.jsx)(a.ev,{children:C.password})]})})]}),(0,x.jsxs)(a.Bt,{className:"text-right",children:[(0,x.jsx)(a.u5,{disabled:!Z||y,type:"submit",size:"sm",color:"primary",children:y?(0,x.jsx)(a.LQ,{size:"sm"}):"Submit"})," ",(0,x.jsx)(a.u5,{type:"reset",size:"sm",color:"danger",onClick:function(){return S()},children:"Reset"})]})]})})})})})]})}},79318:function(e,s,r){var i=r(1413),n=r(45987),a=(r(72791),r(75737)),l=r.n(a),t=r(80184),o=["value","options","name","invalid","setFieldValue","setFieldTouched"];s.Z=function(e){var s=e.value,r=(e.options,e.name),a=e.invalid,d=e.setFieldValue,m=e.setFieldTouched,u=(0,n.Z)(e,o),c=["custom-react-phone-input","form-control"];return a&&c.push("is-invalid"),(0,t.jsx)(l(),(0,i.Z)({type:"number",country:"us",name:r,value:s,invalid:a,containerClass:c.join(" "),onChange:function(e){return d(r,e)},onBlur:function(){return m(r)}},u))}}}]);
//# sourceMappingURL=88.e00359d4.chunk.js.map