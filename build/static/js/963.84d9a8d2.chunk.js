"use strict";(self.webpackChunkproperty_manage_system_web=self.webpackChunkproperty_manage_system_web||[]).push([[963,452],{68327:function(e,i,n){n.d(i,{c:function(){return bi}});var a=n(52642),r=n(80830),c=n(54333),l=n(39101),t=n(10098),s=n(22987),o=n(48096),d=n(57413),m=n(37128),u=n(38621),h=n(12025),p=n(52383),x=n(21226),b=n(88222),f=n(47555),g=n(38782),j=n(97038),v=n(563),C=n(41479),S=n(34948),N=n(32820),y=n(26652),_=n(69578),w=n(64539),P=n(61462),k=n(76986),F=n(10687),B=n(17412),I=n(81521),T=n(82546),U=n(57156),A=n(17055),D=n(31143),E=n(14467),z=n(24190),L=n(22655),Z=n(99540),W=n(58819),J=n(90014),M=n(1883),$=n(44631),G=n(19415),O=n(58675),R=n(3513),H=n(84620),V=n(69486),q=n(8301),X=n(95676),Y=n(17410),Q=n(20001),K=n(38533),ee=n(42562),ie=n(79041),ne=n(87857),ae=n(7476),re=n(41048),ce=n(67577),le=n(18030),te=n(31017),se=n(35425),oe=n(7600),de=n(82759),me=n(31493),ue=n(5885),he=n(4031),pe=n(38544),xe=n(3078),be=n(7022),fe=n(23359),ge=n(9594),je=n(48425),ve=n(43594),Ce=n(77437),Se=n(49096),Ne=n(73907),ye=n(53666),_e=n(79794),we=n(77418),Pe=n(56931),ke=n(14799),Fe=n(22414),Be=n(66619),Ie=n(19467),Te=n(39228),Ue=n(17954),Ae=n(63232),De=n(48293),Ee=n(71976),ze=n(39277),Le=n(28865),Ze=n(73130),We=n(63578),Je=n(17769),Me=n(511),$e=n(85602),Ge=n(79663),Oe=n(79143),Re=n(91250),He=n(72282),Ve=n(99974),qe=n(65487),Xe=n(39214),Ye=n(52312),Qe=n(74419),Ke=n(66460),ei=n(72337),ii=n(34708),ni=n(19261),ai=n(44430),ri=n(12419),ci=n(75640),li=n(19033),ti=n(22800),si=n(99946),oi=n(62412),di=n(13721),mi=n(71863),ui=n(43525),hi=n(15463),pi=n(66707),xi=n(87898),bi=Object.assign({},{cilAlignCenter:U.i,cilAlignLeft:A.n,cilAlignRight:D.e,cilApplicationsSettings:E.D,cilArrowRight:z.n,cilArrowTop:L.T,cilAsterisk:Z.B,cilBan:W.E,cilBasket:J.o,cilBell:M.$,cilBold:$.t,cilBookmark:G.$,cilCalculator:O.o,cilCalendar:R.J,cilCloudDownload:H.j,cilChartPie:V.M,cilCheck:q.J,cilChevronBottom:X.b,cilChevronLeft:Y.S,cilChevronRight:Q.z,cilChevronTop:K.V,cilCircle:ee.l,cilCheckCircle:ie._,cilCode:ne.I,cilCommentSquare:ae.S,cilCreditCard:re.W,cilCursor:ce.t,cilCursorMove:le.q,cilDrop:te.M,cilDollar:se.T,cilEnvelopeClosed:oe.W,cilEnvelopeLetter:de.v,cilEnvelopeOpen:me.m,cilEuro:ue.z,cilGlobeAlt:he.e,cilGrid:pe.x,cilFile:xe.D,cilFullscreen:be.L,cilFullscreenExit:fe.i,cilGraph:ge.o,cilHome:je.I,cilInbox:ve.s,cilIndentDecrease:Ce.t,cilIndentIncrease:Se.q,cilInputPower:Ne.g,cilItalic:ye.U,cilJustifyCenter:_e.h,cilJustifyLeft:we.m,cilLaptop:Pe.U,cilLayers:ke.H,cilLightbulb:Fe.O,cilList:Be.A,cilListNumbered:Ie.N,cilListRich:Te.f,cilLocationPin:Ue.i,cilLockLocked:Ae.U,cilMagnifyingGlass:De.M,cilMap:Ee.T,cilMoon:ze.S,cilNotes:Le.E,cilOptions:Ze.t,cilPaperclip:We.y,cilPaperPlane:Je.p,cilPencil:Me.l,cilPeople:$e.g,cilPhone:Ge.d,cilPrint:Oe.P,cilPuzzle:Re.Q,cilSave:He.F,cilScrubber:Ve.Z,cilSettings:qe.M,cilShare:Xe.a,cilShareAll:Ye.t,cilShareBoxed:Qe.n,cilShieldAlt:Ke.t,cilSpeech:ei.B,cilSpeedometer:ii.h,cilSpreadsheet:ni.o,cilStar:ai.m,cilSun:ri.O,cilTags:ci.f,cilTask:li.W,cilTrash:ti.N,cilUnderline:si.L,cilUser:oi.E,cilUserFemale:di.Q,cilUserFollow:mi.H,cilUserUnfollow:ui.z,cilX:hi.x,cilXCircle:pi.J,cilWarning:xi.D},{cifUs:P.E,cifBr:k.N,cifIn:F.J,cifFr:B.A,cifEs:I.z,cifPl:T.I},{cibSkype:a.F,cibFacebook:r.t,cibTwitter:c._,cibLinkedin:l.n,cibFlickr:t.r,cibTumblr:s.i,cibXing:o.n,cibGithub:d.G,cibStackoverflow:m.F,cibYoutube:u.N,cibDribbble:h.x,cibInstagram:p.d,cibPinterest:x.p,cibVk:b.o,cibYahoo:f.s,cibBehance:g.n,cibReddit:j.m,cibVimeo:v.R,cibCcMastercard:C.y,cibCcVisa:S.W,cibStripe:N.$,cibPaypal:y.G,cibGooglePay:_.S,cibCcAmex:w.I})},19246:function(e,i,n){n.d(i,{Wm:function(){return x},Jb:function(){return g},Ao:function(){return C},BX:function(){return N}});var a=n(72791),r=n(56994),c=n(42937),l=a.lazy((function(){return Promise.all([n.e(387),n.e(189)]).then(n.bind(n,28189))})),t=a.lazy((function(){return Promise.all([n.e(387),n.e(824)]).then(n.bind(n,21824))})),s=a.lazy((function(){return Promise.all([n.e(387),n.e(88)]).then(n.bind(n,99088))})),o=a.lazy((function(){return Promise.all([n.e(387),n.e(818)]).then(n.bind(n,45818))})),d=a.lazy((function(){return Promise.all([n.e(387),n.e(264)]).then(n.bind(n,12264))})),m=a.lazy((function(){return Promise.all([n.e(387),n.e(569),n.e(452)]).then(n.bind(n,9452))})),u=[{path:"/admin/",exact:!0,name:"Home"},{path:"/admin/users",exact:!0,name:"Users",component:l},{path:"/admin/users/new",exact:!0,name:"New User",component:s},{path:"/admin/users/:id",exact:!0,name:"User Details",component:t},{path:"/admin/edit/user/:id",exact:!0,name:"Edit User",component:s},{path:"/admin/file-upload",exact:!0,name:"FileUpload",component:a.lazy((function(){return Promise.all([n.e(569),n.e(342),n.e(243)]).then(n.bind(n,86243))}))},{path:"/admin/properties",exact:!0,name:"Properties",component:o},{path:"/admin/properties/new",exact:!0,name:"New Property",component:m},{path:"/admin/properties/:id",exact:!0,name:"Property Details",component:d},{path:"/admin/edit/property/:id",exact:!0,name:"Edit Property",component:m},{path:"/admin/properties/:id",exact:!0,name:"User Details",component:t}],h=n(80184),p=(c.Z,function(){return(0,h.jsx)(r.pG,{fixed:!1})}),x=a.memo(p),b=n(60364),f=n(15301),g=function(){var e=(0,b.useDispatch)(),i=(0,b.useSelector)((function(e){return e.admin.sidebarShow}));return(0,h.jsxs)(r.PO,{withSubheader:!0,children:[(0,h.jsx)(r.FP,{inHeader:!0,className:"ml-md-3 d-lg-none",onClick:function(){var n=!![!1,"responsive"].includes(i)||"responsive";e((0,f.YB)(n))}}),(0,h.jsx)(r.FP,{inHeader:!0,className:"ml-3 d-md-down-none",onClick:function(){var n=![!0,"responsive"].includes(i)&&"responsive";e((0,f.YB)(n))}}),(0,h.jsx)(r.qy,{className:"mx-auto d-lg-none",to:"/"}),(0,h.jsx)(r.g3,{className:"d-md-down-none mr-auto"}),(0,h.jsx)(r.g3,{className:"px-3",children:(0,h.jsx)(C,{})}),(0,h.jsx)(r.Mj,{className:"px-3 justify-content-between",children:(0,h.jsx)(r.s_,{className:"border-0 c-subheader-nav m-0 px-0 px-md-3",routes:u})})]})},j=n(16516),v=n(91523),C=function(){return(0,h.jsxs)(r.w5,{inNav:!0,className:"c-header-nav-items mx-2",direction:"down",children:[(0,h.jsx)(r.SQ,{className:"c-header-nav-link",caret:!1,children:(0,h.jsx)("div",{className:"c-avatar",children:(0,h.jsx)(r.sE,{src:"/assets/img/default-user.png",className:"c-avatar-img",style:{backgroundColor:"black"}})})}),(0,h.jsx)(r.$H,{className:"pt-0",placement:"bottom-end",children:(0,h.jsxs)(r.$f,{tag:v.rU,to:"/logout",children:[(0,h.jsx)(j.ZP,{name:"cil-lock-locked",className:"mfe-2"}),"Logout"]})})]})},S=function(){var e=(0,b.useDispatch)(),i=(0,b.useSelector)((function(e){return e.admin.sidebarShow}));return(0,h.jsxs)(r.z3,{show:i,onShowChange:function(i){return e((0,f.YB)(i))},children:[(0,h.jsxs)(r.Dl,{className:"d-md-down-none",to:"/",children:[(0,h.jsx)(r.sE,{className:"c-sidebar-brand-full",src:"/assets/img/logo-sm.png",height:35}),(0,h.jsx)(r.sE,{className:"c-sidebar-brand-minimized",src:"/assets/img/icon-white-small.png",height:35})]}),(0,h.jsx)(r.Xk,{children:(0,h.jsx)(r.gP,{items:[{_tag:"CSidebarNavTitle",_children:["Data"]},{_tag:"CSidebarNavItem",name:"Users",to:"/admin/users",icon:"cil-user"},{_tag:"CSidebarNavItem",name:"Properties",to:"/admin/properties",icon:"cil-home"},{_tag:"CSidebarNavTitle",_children:["Campaigns"]},{_tag:"CSidebarNavItem",name:"Email Campaigns",to:"/admin/email-campaigns",icon:"cil-home"},{_tag:"CSidebarNavItem",name:"Templates",to:"/admin/templates",icon:"cil-home"},{_tag:"CSidebarNavTitle",_children:["Marketing"]},{_tag:"CSidebarNavItem",name:"Coupons",to:"/admin/coupons",icon:"cil-user"},{_tag:"CSidebarNavItem",name:"Flyer",to:"/admin/flyers",icon:"cil-user"},{_tag:"CSidebarNavItem",name:"Promting Events",to:"/admin/events",icon:"cil-user"}],components:{CSidebarNavDivider:r.IE,CSidebarNavDropdown:r.Uu,CSidebarNavItem:r.g$,CSidebarNavTitle:r.Ig}})}),(0,h.jsx)(r.p_,{className:"c-d-md-down-none"})]})},N=a.memo(S)},28958:function(e,i,n){n.d(i,{Z:function(){return l}});var a=n(74569),r=n.n(a)().create({headers:{"Content-type":"application/json"}}),c=n(83708),l={upload:function(e,i,n){var a=new FormData;return a.append("files",e),r.post(c.rq+"/upload",a,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(i)},onUploadProgress:n})},getFiles:function(e){return r.get(c.rq+"/upload/files?_limit=10&_start=0&_sort=updatedAt:DESC")}}},9452:function(e,i,n){n.r(i);var a=n(74165),r=n(1413),c=n(15861),l=n(29439),t=n(56994),s=n(70456),o=n(72791),d=n(60364),m=n(64880),u=n(15301),h=n(28958),p=(n(14934),n(19246)),x=(n(83309),n(68327),n(80184));i.default=function(e){var i=e.match,n=(0,o.useState)(void 0),b=(0,l.Z)(n,2),f=b[0],g=b[1],j=(0,o.useState)(void 0),v=(0,l.Z)(j,2),C=v[0],S=v[1],N=(0,o.useState)(void 0),y=(0,l.Z)(N,2),_=y[0],w=y[1],P=(0,o.useState)(0),k=(0,l.Z)(P,2),F=k[0],B=k[1],I=(0,d.useDispatch)(),T=(0,m.k6)(),U=((0,d.useSelector)((function(e){return e.auth.me})),(0,d.useSelector)((function(e){return e.auth.jwt}))),A=(0,s.TA)({initialValues:{id:i.params.id,address:"",area:"",serial_no:"",application_form_url:"",plans_url:"",acreage:""},onSubmit:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(n,c){var l,t,s,o,d;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,c.setSubmitting)(!0),l="",t="",i.params.id&&(l=_.application_form_url,t=_.plans_url),void 0!==f){e.next=8;break}e.next=12;break;case 8:return e.next=10,h.Z.upload(f[0],U,null);case 10:s=e.sent,l=s.data[0].url;case 12:if(void 0!==C){e.next=15;break}e.next=19;break;case 15:return e.next=17,h.Z.upload(C[0],U,null);case 17:o=e.sent,t=o.data[0].url;case 19:"lowRise"===n.settlementType&&(n.unitNo=""),d=(0,r.Z)((0,r.Z)({},n),{},{application_form_url:l,plans_url:t}),console.log("save property="+JSON.stringify(d)),I((0,u.Yf)(d)).then((function(){i.params.id?T.push("/admin/properties/".concat(i.params.id)):T.push("/admin/properties")}));case 23:case"end":return e.stop()}}),e)})));return function(i,n){return e.apply(this,arguments)}}()}),D=A.handleChange,E=A.handleSubmit,z=A.handleBlur,L=A.errors,Z=A.touched,W=A.values,J=(A.isValid,A.isSubmitting),M=A.resetForm,$=A.setValues;A.setFieldValue,A.setFieldTouched;(0,o.useEffect)((function(){i.params.id&&I((0,u.fF)(i.params.id)).then((function(e){var i=e.value;w(i),$((0,r.Z)((0,r.Z)({},i),i.location))}))}),[I,i.params.id,$]);return(0,x.jsxs)("div",{className:"c-app c-default-layout",children:[(0,x.jsx)(p.BX,{}),(0,x.jsxs)("div",{className:"c-wrapper",children:[(0,x.jsx)(p.Jb,{}),(0,x.jsx)("div",{className:"c-body",children:(0,x.jsx)("main",{className:"c-main",children:(0,x.jsx)(t.KB,{fluid:!0,className:"h-100",children:(0,x.jsx)("div",{className:"content",children:(0,x.jsxs)(t.im,{activeTab:"home",onActiveTabChange:function(e){return B(e)},children:[(0,x.jsx)(t.n2,{variant:"tabs",children:(0,x.jsx)(t.U6,{children:(0,x.jsx)(t.AQ,{"data-tab":"home",children:i.params.id?"Record id: ".concat(i.params.id):"New Property"})})}),(0,x.jsx)(t.gr,{children:(0,x.jsx)(t.IA,{"data-tab":"home",children:(0,x.jsx)(t.rb,{active:0===F,children:(0,x.jsx)(t.b7,{md:10,children:(0,x.jsx)(t.lx,{onSubmit:E,children:(0,x.jsxs)(t.xH,{children:[(0,x.jsxs)(t.sl,{children:[(0,x.jsx)(t.b7,{xs:"12",children:(0,x.jsxs)(t.We,{children:[(0,x.jsx)(t.cc,{htmlFor:"area",children:"\u5730\u533a"}),(0,x.jsx)(t.C$,{id:"area",name:"area",onChange:D,onBlur:z,value:W.area,invalid:Z.area&&L.area}),(0,x.jsx)(t.ev,{children:L.area})]})}),(0,x.jsx)(t.b7,{xs:"12",children:(0,x.jsxs)(t.We,{children:[(0,x.jsx)(t.cc,{htmlFor:"serial_no",children:"\u7f16\u53f7"}),(0,x.jsx)(t.C$,{id:"serial_no",name:"serial_no",onChange:D,onBlur:z,value:W.serial_no,invalid:Z.serial_no&&L.serial_no}),(0,x.jsx)(t.ev,{children:L.serial_no})]})}),(0,x.jsx)(t.b7,{xs:"12",children:(0,x.jsxs)(t.We,{children:[(0,x.jsx)(t.cc,{htmlFor:"address",children:"\u5730\u5740"}),(0,x.jsx)(t.C$,{id:"address",name:"address",onChange:D,onBlur:z,value:W.address,invalid:Z.address&&L.address}),(0,x.jsx)(t.ev,{children:L.address})]})}),(0,x.jsx)(t.b7,{xs:"12",children:(0,x.jsxs)(t.We,{children:[(0,x.jsx)(t.cc,{htmlFor:"locality",children:"\u5730\u5740\u4fe1\u606f \xa0\xa0"}),(0,x.jsxs)(t.cc,{htmlFor:"fileName",children:[W.application_form_url," \xa0\xa0"]}),(0,x.jsx)("br",{}),(0,x.jsx)("input",{type:"file",onChange:function(e){g(e.target.files),console.log("file selected.."+JSON.stringify(e.target.files))}})]})}),(0,x.jsx)(t.b7,{xs:"12",children:(0,x.jsxs)(t.We,{children:[(0,x.jsx)(t.cc,{htmlFor:"locality",children:"\u5730\u5740\u56fe\u7eb8\xa0\xa0"}),(0,x.jsxs)(t.cc,{htmlFor:"fileName",children:[W.plans_url," \xa0\xa0"]}),(0,x.jsx)("br",{}),(0,x.jsx)("input",{type:"file",onChange:function(e){S(e.target.files),console.log("file selected.."+JSON.stringify(e.target.files))}})]})}),(0,x.jsx)(t.b7,{xs:"12",children:(0,x.jsxs)(t.We,{children:[(0,x.jsx)(t.cc,{htmlFor:"acreage",children:"\u9762\u79ef"}),(0,x.jsx)(t.C$,{id:"acreage",name:"acreage",onChange:D,onBlur:z,value:W.acreage,invalid:Z.acreage&&L.acreage}),(0,x.jsx)(t.ev,{children:L.acreage})]})})]}),(0,x.jsxs)(t.Bt,{className:"text-right",children:[(0,x.jsx)(t.u5,{type:"submit",size:"sm",color:"primary",children:J?(0,x.jsx)(t.LQ,{size:"sm"}):"Submit"})," ",(0,x.jsx)(t.u5,{type:"reset",size:"sm",color:"danger",onClick:function(){return M()},children:"Reset"})]})]})})})})})})]})})})})}),(0,x.jsx)(p.Wm,{})]})]})}},83309:function(){}}]);
//# sourceMappingURL=963.84d9a8d2.chunk.js.map