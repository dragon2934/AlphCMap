"use strict";(self.webpackChunkproperty_manage_system_web=self.webpackChunkproperty_manage_system_web||[]).push([[964],{24219:function(e,s,i){i.d(s,{Z:function(){return f}});i(72791);var r=i(75611),n=i(14934),o=i(60364),l=i(64880),a=i(62298),t=i(95234),c=i(81815),d=i(56153),u=i(58031),h=i(92299),m=i(2138),x=i(80184),j=function(){var e=(0,l.k6)(),s=(0,o.useDispatch)(),i=(0,o.useSelector)((function(e){return e.app.showVerificationModal})),r=(0,o.useSelector)((function(e){return e.registerForm.user})),n=(0,o.useSelector)((function(e){return e.auth.user}));if(r)return null;if(!n)return null;var j=n.username!==n.email,f=j&&n.emailVerified&&n.mobileVerified||!j&&n.mobileVerified;return i?(0,x.jsx)(a.Z,{size:"lg",isOpen:!0,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:(0,x.jsxs)(t.Z,{children:[!f&&(0,x.jsx)("div",{className:"pb-3",children:"Please verify your email and mobile phone to start using website."}),(0,x.jsx)(h.Z,{}),(0,x.jsx)(m.Z,{}),f&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"success mt-5 mb-3",children:"Verification Successful!"}),(0,x.jsx)(c.Z,{block:!0,color:"success",onClick:function(){try{window.ReactNativeWebView.postMessage(JSON.stringify({action:"goBack"}))}catch(i){}s((0,u.mk)()),localStorage.setItem("show_login_tips",2),setTimeout((function(){e.push("/logout")}),500)},children:"Login and Complete Business Profile"})]}),!f&&(0,x.jsx)(d.Z,{noGutters:!0,className:"justify-content-end",children:(0,x.jsx)(c.Z,{color:"link",size:"sm",onClick:function(){e.push("/logout")},children:"Logout"})})]})}):null},f=function(e){var s=e.children;return(0,x.jsxs)("main",{children:[(0,x.jsx)(n.Z,{}),(0,x.jsx)("div",{className:"content",children:s}),(0,x.jsx)(r.Z,{}),(0,x.jsx)(j,{})]})}},83964:function(e,s,i){i.r(s);i(4942),i(1413);var r=i(29439),n=i(70456),o=i(72791),l=i(60364),a=i(91523),t=i(56153),c=i(27988),d=i(44517),u=i(39132),h=i(73002),m=i(81778),x=i(54555),j=i(81815),f=i(42937),g=i(38122),p=i(64064),Z=i(79318),b=i(11027),w=i(24219),v=i(36530),y=i(57577),S=i(80184),k=p.Ry().shape({email:p.Z_().required("Mobile number is required"),password:p.Z_().min(6,"Password is  too Short!").max(16,"Password is too Long!").required("Password is required")});s.default=function(e){var s=e.history,i=(0,l.useDispatch)(),p=(0,o.useState)(null),N=(0,r.Z)(p,2),P=N[0],C=N[1],_=(0,o.useState)(1),V=(0,r.Z)(_,2),F=V[0],L=V[1],M=o.useState({password:"",showPassword:!1}),T=(0,r.Z)(M,2),z=(T[0],T[1],(0,n.TA)({initialValues:{email:"test@nyzsoft.com",password:"123456"},validationSchema:k,onSubmit:function(e,r){var n=r.setSubmitting;C(null),n(!0),i((0,b.pH)(e.email,e.password,F)).then((function(e){e.value.error&&e.value.error.status>300?v.Rt.error("Error",e.value.error.details[0].messages[0].message):(console.log("..start get me"),i((0,b.jo)(F)).then((function(e){s.push("/")})).catch((function(e){v.Rt.error("Error","Mobile Or Password doesn't match, Please verify!")})))})).catch((function(e){console.log("..login error"+JSON.stringify(e))})).finally((function(){n(!1)}))}})),B=z.handleChange,q=z.handleBlur,A=z.handleSubmit,O=z.errors,R=z.touched,G=z.isSubmitting,D=z.values,E=z.setFieldValue,J=z.setFieldTouched,H=(0,o.useState)(!0),I=(0,r.Z)(H,2),U=I[0],W=I[1],Y=(0,o.useState)("password"),K=(0,r.Z)(Y,2),Q=K[0],X=K[1],$=(0,o.useState)(!1),ee=(0,r.Z)($,2),se=(ee[0],ee[1]);return(0,S.jsx)(w.Z,{children:(0,S.jsxs)(t.Z,{noGutters:!0,className:"login-container",children:[(0,S.jsx)(c.Z,{lg:4,md:12,className:"sidenav",children:(0,S.jsxs)("div",{className:"login-main-text",children:[(0,S.jsxs)("h2",{children:["Application",(0,S.jsx)("br",{})," Login Page"]}),(0,S.jsxs)("p",{className:"mt-5 flex-grow-0",children:["You can login with your email address or mobile number. Click"," ",(0,S.jsx)("b",{children:(0,S.jsx)(a.rU,{to:"/",children:"here"})})," ","to go back to homepage."]})]})}),(0,S.jsx)(c.Z,{lg:6,md:12,className:"main",children:(0,S.jsxs)("div",{className:"login-form",children:[(0,S.jsxs)(d.Z,{onSubmit:A,children:[P&&(0,S.jsx)(c.Z,{children:(0,S.jsx)(g.Z,{color:"danger",children:P})}),(0,S.jsx)(c.Z,{children:(0,S.jsxs)(u.Z,{children:[(0,S.jsx)(h.Z,{for:"email",children:"Mobile Number"}),(0,S.jsx)(Z.Z,{setFieldValue:E,setFieldTouched:J,placeholder:"Mobile Number",name:"email",value:D.email,invalid:R.email&&O.email}),(0,S.jsx)(m.Z,{children:O.email})]})}),(0,S.jsx)(c.Z,{children:(0,S.jsxs)(u.Z,{className:"passwordFormGroup",children:[(0,S.jsx)(h.Z,{for:"password",children:"Password"}),(0,S.jsx)(x.Z,{type:Q,name:"password",id:"password",onChange:B,onBlur:q,invalid:R.password&&O.password,placeholder:"********"}),(0,S.jsx)("i",{onClick:function(){"password"==Q?(X("text"),W(!1),se(!0)):(X("password"),W(!0),se(!1))},className:"fa ".concat(U?"fa-eye-slash":"fa-eye")}),(0,S.jsx)(m.Z,{children:O.password})]})})]}),(0,S.jsxs)(c.Z,{children:[(0,S.jsxs)(t.Z,{children:[(0,S.jsx)(c.Z,{children:(0,S.jsx)(j.Z,{onClick:function(e){return console.log("..consumer login"),(0,y.setLoginType)(1),L(1),void A()},block:!0,disabled:G,children:G&&1===F?(0,S.jsx)(f.Z,{size:"sm"}):"Login Personal Account"})}),(0,S.jsx)(c.Z,{children:(0,S.jsx)(j.Z,{onClick:function(e){return console.log("..business owner login"),(0,y.setLoginType)(2),L(2),void A()},block:!0,disabled:G,children:G&&2===F?(0,S.jsx)(f.Z,{size:"sm"}):"Login Business Account"})})]}),(0,S.jsx)(t.Z,{children:(0,S.jsx)(c.Z,{children:(0,S.jsxs)(u.Z,{children:[" ",(0,S.jsx)("br",{})," ",(0,S.jsx)("br",{}),(0,S.jsx)("a",{href:"/reset-password",children:"Forgot Password ?"})]})})})]})]})})]})})}}}]);
//# sourceMappingURL=964.bf5ad7df.chunk.js.map