"use strict";(self.webpackChunkproperty_manage_system_web=self.webpackChunkproperty_manage_system_web||[]).push([[964],{24219:function(e,s,i){i.d(s,{Z:function(){return g}});i(72791);var n=i(75611),r=i(14934),o=i(60364),l=i(64880),a=i(62298),t=i(95234),c=i(81815),d=i(56153),u=i(58031),h=i(92299),m=i(2138),x=i(80184),j=function(){var e=(0,l.k6)(),s=(0,o.useDispatch)(),i=(0,o.useSelector)((function(e){return e.app.showVerificationModal})),n=(0,o.useSelector)((function(e){return e.registerForm.user})),r=(0,o.useSelector)((function(e){return e.auth.user}));if(n)return null;if(!r)return null;var j=r.username!==r.email,g=j&&r.emailVerified&&r.mobileVerified||!j&&r.mobileVerified;return i?(0,x.jsx)(a.Z,{size:"lg",isOpen:!0,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:(0,x.jsxs)(t.Z,{children:[!g&&(0,x.jsx)("div",{className:"pb-3",children:"Please verify your email and mobile phone to start using website."}),(0,x.jsx)(h.Z,{}),(0,x.jsx)(m.Z,{}),g&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"success mt-5 mb-3",children:"Verification Successful!"}),(0,x.jsx)(c.Z,{block:!0,color:"success",onClick:function(){try{window.ReactNativeWebView.postMessage(JSON.stringify({action:"goBack"}))}catch(e){}s((0,u.mk)()),setTimeout((function(){location.reload(!0)}),500)},children:"Start Using Website"})]}),!g&&(0,x.jsx)(d.Z,{noGutters:!0,className:"justify-content-end",children:(0,x.jsx)(c.Z,{color:"link",size:"sm",onClick:function(){e.push("/logout")},children:"Logout"})})]})}):null},g=function(e){var s=e.children;return(0,x.jsxs)("main",{children:[(0,x.jsx)(r.Z,{}),(0,x.jsx)("div",{className:"content",children:s}),(0,x.jsx)(n.Z,{}),(0,x.jsx)(j,{})]})}},83964:function(e,s,i){i.r(s);var n=i(29439),r=i(25066),o=i(72791),l=i(60364),a=i(91523),t=i(56153),c=i(27988),d=i(44517),u=i(66919),h=i(73002),m=i(81778),x=i(54555),j=i(81815),g=i(42937),f=i(38122),Z=i(64064),p=i(79318),b=i(11027),w=i(24219),v=i(36530),y=i(57577),k=i(80184),S=Z.Ry().shape({email:Z.Z_().required("Mobile number is required"),password:Z.Z_().min(6,"Password is  too Short!").max(16,"Password is too Long!").required("Password is required")});s.default=function(e){var s=e.history,i=(0,l.useDispatch)(),Z=(0,o.useState)(null),N=(0,n.Z)(Z,2),C=N[0],V=N[1],P=(0,o.useState)(1),_=(0,n.Z)(P,2),L=_[0],F=_[1],M=(0,r.TA)({initialValues:{email:"test@nyzsoft.com",password:"123456"},validationSchema:S,onSubmit:function(e,n){var r=n.setSubmitting;V(null),r(!0),i((0,b.pH)(e.email,e.password)).then((function(e){e.value.error&&e.value.error.status>300?v.Rt.error("Error",e.value.error.details[0].messages[0].message):(console.log("..start get me"),i((0,b.jo)()).then((function(e){s.push("/")})).catch((function(e){v.Rt.error("Error","Mobile Or Password doesn't match, Please verify!")})))})).catch((function(e){console.log("..login error"+JSON.stringify(e))})).finally((function(){r(!1)}))}}),T=M.handleChange,z=M.handleBlur,O=M.handleSubmit,q=M.errors,B=M.touched,R=M.isSubmitting,A=M.values,D=M.setFieldValue,E=M.setFieldTouched;return(0,k.jsx)(w.Z,{children:(0,k.jsxs)(t.Z,{noGutters:!0,className:"login-container",children:[(0,k.jsx)(c.Z,{lg:4,md:12,className:"sidenav",children:(0,k.jsxs)("div",{className:"login-main-text",children:[(0,k.jsxs)("h2",{children:["Application",(0,k.jsx)("br",{})," Login Page"]}),(0,k.jsxs)("p",{className:"mt-5 flex-grow-0",children:["You can login with your email address or mobile number. Click"," ",(0,k.jsx)("b",{children:(0,k.jsx)(a.rU,{to:"/",children:"here"})})," ","to go back to homepage."]})]})}),(0,k.jsx)(c.Z,{lg:4,md:12,className:"main",children:(0,k.jsxs)("div",{className:"login-form",children:[(0,k.jsxs)(d.Z,{onSubmit:O,children:[C&&(0,k.jsx)(c.Z,{children:(0,k.jsx)(f.Z,{color:"danger",children:C})}),(0,k.jsx)(c.Z,{children:(0,k.jsxs)(u.Z,{children:[(0,k.jsx)(h.Z,{for:"email",children:"Mobile Number"}),(0,k.jsx)(p.Z,{setFieldValue:D,setFieldTouched:E,placeholder:"Mobile Number",name:"email",value:A.email,invalid:B.email&&q.email}),(0,k.jsx)(m.Z,{children:q.email})]})}),(0,k.jsx)(c.Z,{children:(0,k.jsxs)(u.Z,{children:[(0,k.jsx)(h.Z,{for:"password",children:"Password"}),(0,k.jsx)(x.Z,{type:"password",name:"password",id:"password",onChange:T,onBlur:z,invalid:B.password&&q.password,placeholder:"********"}),(0,k.jsx)(m.Z,{children:q.password})]})})]}),(0,k.jsx)(c.Z,{children:(0,k.jsxs)(t.Z,{children:[(0,k.jsx)(c.Z,{children:(0,k.jsx)(j.Z,{onClick:function(e){return console.log("..consumer login"),(0,y.setLoginType)(1),F(1),void O()},block:!0,disabled:R,children:R&&1===L?(0,k.jsx)(g.Z,{size:"sm"}):"Login as a Consumer"})}),(0,k.jsx)(c.Z,{children:(0,k.jsx)(j.Z,{onClick:function(e){return console.log("..business owner login"),(0,y.setLoginType)(2),F(2),void O()},block:!0,disabled:R,children:R&&2===L?(0,k.jsx)(g.Z,{size:"sm"}):"Login as a Business Owner"})})]})})]})})]})})}}}]);
//# sourceMappingURL=964.f4792346.chunk.js.map